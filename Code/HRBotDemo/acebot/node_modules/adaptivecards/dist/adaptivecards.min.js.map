{"version":3,"file":"adaptivecards.min.js","mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAuB,cAAID,IAE3BD,EAAoB,cAAIC,GACzB,CATD,CASGK,MAAM,WACT,wDCDYC,gpBAAAA,EAAA,EAAAA,yBAAA,EAAAA,uBAAsB,KAC9B,sBACA,kBAeS,EAAAC,qBACT,SAAqBC,EAAwBC,GAAxB,KAAAD,KAAAA,EAAwB,KAAAC,QAAAA,CAAmB,EAGpE,MACI,SAAqBC,GAAA,KAAAA,QAAAA,CAA4B,EAD/B,EAAAC,iBAAAA,EAItB,kBACI,WAAqBD,EAAoCE,GAAzD,MACI,YAAMF,IAAQ,YADG,EAAAA,QAAAA,EAAoC,EAAAE,WAAAA,GAEzD,CACJ,OAJqC,OAIrC,EAJA,CAAqCD,GAAxB,EAAAE,gBAAAA,EAMb,kBACI,WAAqBH,EAAoCI,GAAzD,MACI,YAAMJ,IAAQ,YADG,EAAAA,QAAAA,EAAoC,EAAAI,MAAAA,GAEzD,CACJ,OAJmC,OAInC,EAJA,CAAmCH,GAAtB,EAAAI,cAAAA,EAMb,kBAII,WAAqBL,EAA2BM,GAAhD,MACI,YAAMN,IAAQ,KADG,EAAAA,QAAAA,EAEjB,EAAKO,MAAQD,EAEb,IAAqB,YAAKC,MAAMC,QAAX,eAAoB,CAApC,IAAMC,EAAM,KACb,GAAoB,WAAhBA,EAAOC,WAAsCC,IAAjBF,EAAOG,MACnC,IACI,IAAIC,IAAIJ,EAAOG,OAEf,EAAKE,aAAeL,EAEpB,MACF,MAAOM,aAKrB,CAKJ,OA1B0C,OAuBtC,sBAAI,oCAAqB,KAAzB,WACI,OAAOpB,KAAKY,MAAMS,qBACtB,kCACJ,EA1BA,CAA0Cf,GAA7B,EAAAgB,qBAAAA,+9CC5Cb,YACA,SACA,SAEA,SAQA,SACA,SAUA,SAGA,SAASC,EAASC,EAAuBpB,OAAe,wDACpD,GAAI,EAAAqB,eAAeC,QAAQC,WACvB,GAAI,EAAAF,eAAeC,QAAQE,WACvB,EAAAH,eAAeC,QAAQE,WAAWJ,EAAOpB,EAASyB,QAGlD,OAAQL,GACJ,KAAKM,EAAMC,SAASC,QAChBC,QAAQC,KAAK9B,EAASyB,GACtB,MACJ,KAAKC,EAAMC,SAASI,MAChBF,QAAQxB,MAAML,EAASyB,GACvB,MACJ,QACII,QAAQG,IAAIhC,EAASyB,GAMzC,CAEA,iBACI,WACaQ,EACAC,EACAC,GAFA,KAAAF,OAAAA,EACA,KAAAC,QAAAA,EACA,KAAAC,qBAAAA,EAKb,KAAAC,cAAwB,CAJrB,CAcP,OALU,YAAAC,WAAN,qFACQzC,KAAK0C,QACL1C,KAAK0C,OAAO1C,iBAGxB,EAnBA,GAqBA,aAgrBI,aA1qBQ,KAAA2C,2BAAqC,EA2qBzC3C,KAAK4C,gBAAkBC,SAASC,cAAc,OAC9C9C,KAAK4C,gBAAgBG,UAAY,eACjC/C,KAAK4C,gBAAgBI,MAAMC,SAAW,WACtCjD,KAAK4C,gBAAgBI,MAAME,QAAU,OACrClD,KAAK4C,gBAAgBI,MAAMG,cAAgB,SAE3CnD,KAAKoD,iBAAmBP,SAASC,cAAc,OAE/C9C,KAAKqD,0BAA4BR,SAASC,cAAc,OACxD9C,KAAKqD,0BAA0BN,UAAY,wBAC3C/C,KAAKqD,0BAA0BL,MAAME,QAAU,OAE/ClD,KAAK4C,gBAAgBU,YAAYtD,KAAKoD,kBACtCpD,KAAK4C,gBAAgBU,YAAYtD,KAAKqD,0BAC1C,CAeJ,OAnsBY,YAAAE,YAAR,SAAoBC,GAChB,IAAIA,EAAKZ,gBAOL,MAAM,IAAIT,MAAM,gCANhBsB,EAAMC,qBAAqB1D,KAAKoD,kBAEhCpD,KAAKqD,0BAA0BL,MAAME,QAAU,OAE/ClD,KAAKoD,iBAAiBE,YAAYE,EAAKZ,gBAI/C,EAEQ,YAAAe,wBAAR,SAAgCC,GAAhC,WAKI,IAJ0C5D,KAAK6D,2BACzC7D,KAAK6D,0BAA0B7D,MAGE,CACnCA,KAAKqD,0BAA0BL,MAAME,QAAU,OAE/C,IAAIY,OAAiD9C,EAErD,GAAIhB,KAAK+D,4BACLD,EAAwB9D,KAAK+D,4BAA4B/D,UACtD,CACH,IAAII,EAAU,EAAA4D,QAAQC,QAAQC,kBAE9B,GAAI,EAAAzC,eAAeC,QAAQyC,QAAQC,OAAStC,EAAMuC,YAAYC,UAAW,CACrE,IAAIC,EAA2B,EAAAP,QAAQC,QAAQO,yBAEuB,MAAlED,EAAyBA,EAAyBE,OAAS,KAC3DF,GAA4B,KAGhCnE,EAAU,EAAA4D,QAAQC,QAAQS,gCAG9B,IAAMC,EAAc,CAChB5D,KAAM,eACN6D,QAAS,MACTC,KAAM,CACF,CACI9D,KAAM,gBACN+D,oBAAqB,QACrBC,QAAS,CACL,CACIhE,KAAM,UACNiE,KAAM5E,EACN6E,aAAc,CACVlE,KAAM,gBACNmE,GAAI,oBAQtB1B,EAAO,IAAI,EAAA2B,aACjB3B,EAAK4B,MAAMT,EAAa,IAAI,EAAAU,qBAAqB,EAAAC,SAASC,OAC1D/B,EAAKgC,gBAAkB,SAACnD,GACF,gBAAdA,EAAO6C,KACPzB,EAAMC,qBAAqB,EAAKL,2BAEhC,EAAKoC,sBACD7B,EACA,EAAA3D,uBAAuBqE,UACvB,GAGZ,EAEAR,EAAwBN,EAAKkC,SAG7B5B,IACAL,EAAMC,qBAAqB1D,KAAKqD,2BAEhCrD,KAAKqD,0BAA0BC,YAAYQ,GAE3C9D,KAAKqD,0BAA0BL,MAAM2C,eAAe,YAGhE,EAEQ,YAAAC,sBAAR,SACIvD,EACAC,EACAC,GAHJ,WAKI,GAAIvC,KAAKwD,KAAM,CACX,IAAM,EAAU,IAAIqC,EAAgBxD,EAAQC,EAASC,GAWrD,OAVA,EAAQG,OAAS,SAACoD,GACdA,EAAOtD,gBAEF,EAAKuD,iCAAiC,EAC/C,EAEe/F,KAAKgG,2BACbhG,KAAKgG,yBAAyBhG,KAAM,EAASqC,QAGpCrB,EAAY,EAE5B,MAAM,IAAImB,MAAM,+CAExB,EAEQ,YAAA8D,yBAAR,SAAiCzD,GAC7B,IAAM0D,EAAU,CACZnF,KAAM,eACN6D,QAAS,MACTC,KAAM,CACF,CACI9D,KAAM,YACNoF,MAAO,YACPnB,KAAwB,IAAlBxC,OAAsBxB,EAAY,uCACxCoF,MAAM,EACNtB,oBAAqB,UAEzB,CACI/D,KAAM,YACNiE,KAAM,qGACNoB,MAAM,EACNtB,oBAAqB,UAEzB,CACI/D,KAAM,aACNmE,GAAI,YACJmB,YAAa,oBAEjB,CACItF,KAAM,YACN+D,oBAAqB,SACrBwB,QAAS,CACL,CACIvF,KAAM,gBACNmE,GAAIqB,EAAeC,yBACnBC,MAAO,UAEX,CACI1F,KAAM,gBACNmE,GAAIqB,EAAeG,6BACnBD,MAAO,cAOrBjD,EAAO,IAAI,EAAA2B,aAGjB,OAFA3B,EAAK4B,MAAMc,GAEJ1C,CACX,EAEQ,YAAAmD,uBAAR,WACQ3G,KAAK2C,2BACLpB,EACIO,EAAMC,SAASC,QACf,gGAIRhC,KAAK2C,2BAA4B,CACrC,EAEQ,YAAAiE,2BAAR,WACI,OAAO5G,KAAK6G,6BACN7G,KAAK6G,6BAA6B7G,MAClC,IAAI,EAAAqF,oBACd,EAEQ,YAAAyB,gBAAR,SAAwBZ,EAAc3D,GAAtC,WAKI,GAJuB,iBAAZ2D,GAA4C,iBAApBA,EAAc,OAC7ClG,KAAK+G,aAAeb,GAGpBlG,KAAK+G,aACL,IACI,IAAMvD,EAAO,IAAI,EAAA2B,aAEbnF,KAAKgH,aACLxD,EAAKwD,WAAahH,KAAKgH,YAG3B,IAAMC,EAAuBjH,KAAK4G,6BAQlC,GANApD,EAAK4B,MAAMpF,KAAK+G,aAAcE,KAETjH,KAAKkH,gBACpBlH,KAAKkH,eAAelH,KAAMA,KAAK+G,iBAIjC/G,KAAKmH,MAAQ3D,EAGTxD,KAAKmH,MAAMC,gBACXpH,KAAKmH,MAAMC,eAAe/F,uBAC1BrB,KAAKqH,oBAELrH,KAAKqH,mBACDrH,KACAA,KAAKmH,MAAMC,eAAe/F,uBAIlCrB,KAAKmH,MAAM3B,gBAAkB,SAACnD,GAE1B,EAAKsE,yBAEL,EAAKlB,sBAAsBpD,EAAQ,EAAApC,uBAAuBqH,OAAQ,EACtE,EACAtH,KAAKmH,MAAMI,oBAAsB,SAACC,GAE9B,EAAKb,wBACT,EAEA3G,KAAKmH,MAAMzB,SAEP1F,KAAKmH,MAAMvE,kBACX5C,KAAKuD,YAAYvD,KAAKmH,OAElBnH,KAAKyH,eACLzH,KAAKyH,cAAczH,MAGnBA,KAAKmH,MAAMhD,UACX,GACI,EAAA1C,eAAeC,QAAQyC,QAAQC,OAC3BtC,EAAMuC,YAAYC,WACtB/B,EACI,EAAAd,eAAeC,QAAQyC,QAClBuD,qCAET,GACI,EAAAjG,eAAeC,QAAQyC,QAAQwD,+BAC/B,EAEApG,EACIO,EAAMC,SAAS6F,KACf,6CACKrF,EAAuB,IAGhCvC,KAAKyF,sBACDzF,KAAKmH,MAAMhD,QAAQ9B,OACnB,EAAApC,uBAAuBqE,UACvB/B,EAAuB,OAExB,CACHhB,EACIO,EAAMC,SAAS6F,KACf,6CACKrF,EAAuB,GACxB,OACA,EAAAd,eAAeC,QAAQyC,QAClBwD,8BACL,MAGR,IAAM,EAAS3H,KAAKmH,MAAMhD,QAAQ9B,OAElCrC,KAAK2C,2BAA4B,EAEjCkF,OAAOC,YAAW,WACV,EAAKnF,2BACL,EAAK8C,sBACD,EACA,EAAAxF,uBAAuBqE,UACvB/B,EAAuB,EAGnC,GAAG,EAAAd,eAAeC,QAAQyC,QAAQwD,oCAGtC,EAAAlG,eAAeC,QAAQyC,QAAQC,OAAStC,EAAMuC,YAAY0D,WAGtDxG,EACIO,EAAMC,SAASC,QAFnBO,EAAuB,EAGnB,sCACIA,EACA,0BAKJ,0EAKJ,EAAAd,eAAeC,QAAQyC,QAClB6D,6CACL,EAAAvG,eAAeC,QAAQyC,QAAQC,OAAStC,EAAMuC,YAAYiD,UAE1D/F,EAASO,EAAMC,SAAS6F,KAAM,kCAE9B5H,KAAK2D,wBAAwB3D,KAAKmH,MAAMhD,QAAQ9B,UAMtE,MAAO5B,GAELc,EAASO,EAAMC,SAASI,MAAO,YAAc1B,GAGzD,EAEQ,YAAAgF,sBAAR,SACIpD,EACAC,EACAC,GAEA,GAAIF,aAAkB,EAAA4F,cAAe,CACjC,IAAIjI,KAAKkI,eAOL,MAAM,IAAI/F,MAAM,kDANhB,IAAM9B,EAAUL,KAAK4F,sBAAsBvD,EAAQC,EAASC,GAExDlC,GACKA,EAAQoC,aAOrBzC,KAAKmI,UACLnI,KAAKmI,SAASnI,KAAMqC,EAE5B,EAEQ,YAAA+F,sBAAR,SAA8B/H,GAC1B,IAAKL,KAAKqI,iBACN,GAAIrI,KAAKsI,wBACLtI,KAAKqI,iBAAmBrI,KAAKsI,wBAAwBtI,KAAMK,OACxD,CACHL,KAAKqI,iBAAmBxF,SAASC,cAAc,OAC/C9C,KAAKqI,iBAAiBtF,UAAY,uBAElC,IAAMwF,EAAU1F,SAASC,cAAc,OACvCyF,EAAQxF,UAAY,cACpBwF,EAAQvF,MAAMwF,MAAQ,OACtBD,EAAQvF,MAAMyF,OAAS,OAEvBzI,KAAKqI,iBAAiB/E,YAAYiF,GAI1C,OAAOvI,KAAKqI,gBAChB,EAEQ,YAAAK,sBAAR,SAA8BrI,GACtBL,KAAK2I,yBACL3I,KAAK2I,wBAAwB3I,KAAMK,QAGTW,IAA1BhB,KAAKqI,mBACLrI,KAAK4C,gBAAgBgG,YAAY5I,KAAKqI,kBAEtCrI,KAAKqI,sBAAmBrH,EAEhC,EAEQ,YAAA6H,yBAAR,SACIC,EACAC,GAEI/I,KAAKgJ,4BACLhJ,KAAKgJ,2BAA2BhJ,KAAM8I,EAAUC,EAExD,EAEQ,YAAAE,sBAAR,SAA8BH,GAC1B,OAAO9I,KAAKkJ,wBACNlJ,KAAKkJ,wBAAwBlJ,KAAM8I,GACnC,EAAArH,eAAeC,QAAQyH,+BACjC,EAEQ,YAAAC,wBAAR,SAAgC/I,GAAhC,WAKI,IAJqCL,KAAKqJ,2BACpCrJ,KAAKqJ,0BAA0BrJ,KAAMK,GAGT,CAC9B,IAAMiJ,EAAoBtJ,KAAKiG,yBAAyB5F,EAAQmC,eAChE8G,EAAkB5D,SAClB4D,EAAkB9D,gBAAkB,SAAC+D,GACjC,GAAI,EAAK/F,MAAQ+F,aAAiC,EAAAC,aAC9C,OAAQD,EAAsBrE,IAC1B,KAAKqB,EAAeC,yBAChB,IAAIiD,OAA+BzI,EAG/BuI,EAAsBG,MACoC,iBAA7CH,EAAsBG,KAAiB,YAEpDD,EAAiBF,EAAsBG,KAAiB,WAGxDD,GACA,EAAKlG,YAAY,EAAKC,MAEtBnD,EAAQoJ,SAAWA,EACdpJ,EAAQoC,cAEbkH,MAAM,6CAGV,MACJ,KAAKpD,EAAeG,6BAChBnF,EAASO,EAAMC,SAASC,QAAS,qCAEjC,EAAKuB,YAAY,EAAKC,MAEtB,MACJ,QACIjC,EACIO,EAAMC,SAASI,MACf,4DACIoH,EAAsBrE,GACtB,KAGRyE,MAAM,EAAA3F,QAAQ4F,mBAAmBC,sBAKjD,EAEA7J,KAAKuD,YAAY+F,GAEzB,EAEc,YAAAvD,iCAAd,SAA+C1F,yGAC3C,IAAKL,KAAKkI,eACN,MAAM,IAAI/F,MAAM,qEAKJnB,KAFV8I,EAAU9J,KAAKoI,sBAAsB/H,KAGvCL,KAAK4C,gBAAgBU,YAAYwG,GAGjCC,GAAO,mFAGHjB,OAAyC9H,EAEf,IAA1BX,EAAQmC,cACRjB,EACIO,EAAMC,SAAS6F,KACf,gDAAkDvH,EAAQmC,cAAgB,KAG9EjB,EACIO,EAAMC,SAAS6F,KACf,mDAAqDvH,EAAQmC,cAAgB,sBAKtE,gCAAM,EAAK0F,eAAe8B,iBAAiB3J,kBAAtDyI,EAAW,wCAEXvH,EAASO,EAAMC,SAASI,MAAO,4BAA8B,GAE7D,EAAKuG,sBAAsBrI,GAE3B0J,GAAO,mBAGPjB,EAAA,kBACIA,aAAoB,EAAAtI,iBAApB,YAGA,GAFA,EAAKkI,sBAAsBrI,QAECW,IAAxB8H,EAASvI,WACT,MAAM,IAAI4B,MACN,wEAIJ4G,EAAgBD,EAASvI,WAE7B,IACIwI,EAAgBkB,KAAK7E,MAAM0D,EAASvI,YACtC,UAIF,GAA6B,iBAAlBwI,EACPxH,EACIO,EAAMC,SAAS6F,KACf,gDACIvH,EAAQmC,cACR,gBAGR,EAAKqG,yBAAyBC,EAAUC,OACrC,IACsB,iBAAlBA,GACmB,iBAA1BA,EAAoB,KAYpB,MAAM,IAAI5G,MACN,0FACW2G,EAASvI,WAChB,KAbRgB,EACIO,EAAMC,SAAS6F,KACf,wDACIvH,EAAQmC,cACR,gBAGR,EAAKsE,gBAAgBiC,EAAe1I,EAAQkC,sBAC5C,EAAKsG,yBAAyBC,EAAU,EAAKtF,aASjDuG,GAAO,uBACAjB,aAAoB,EAAApI,eACrB,EAAkB,EAAKuI,sBAAsBH,KAGpC,GACXzI,EAAQmC,cAAgB,EAAAf,eAAeC,QAAQwI,sBAE/C3I,EACIO,EAAMC,SAASC,QACf,4BAA4B8G,EAASrI,MAAML,QAAO,iBAAiB,EAAO,MAG9EC,EAAQmC,gBAER,GAAM,IAAI2H,SAAc,SAACC,EAASC,GAC9BxC,OAAOC,YAAW,WACdsC,GACJ,GAAG,EACP,MAdA,MAJG,oBAcH,sBAMA7I,EACIO,EAAMC,SAASI,MACf,4BAA4B2G,EAASrI,MAAML,QAAO,qBAAqBC,EAAQmC,cAAa,eAGhG,EAAKkG,sBAAsBrI,GAE3B0J,GAAO,uCAER,GAAIjB,aAAoB,EAAAxH,qBAAsB,CAQjD,GAPAC,EACIO,EAAMC,SAAS6F,KACf,8DACIvH,EAAQmC,cACR,gBAGJnC,EAAQmC,eAAiB,EAAAf,eAAeC,QAAQwI,sBAahD,GAZII,GAAe,EAEfxB,EAASzH,uBAAyB,EAAKkJ,mBAGvCD,GAAgB,EAAKC,iBAAiB,EAElClK,EACAyI,EAASzH,wBAIbiJ,EAAc,CAId,GAFA,EAAK5B,sBAAsBrI,QAEGW,IAA1B8H,EAAS3H,aACT,MAAM,IAAIgB,MACN,2FAIRZ,EACIO,EAAMC,SAAS6F,KACf,qBAAuBkB,EAAS3H,aAAaF,OAG7C,EAAKuJ,mBAEL,EAAKA,mBAAmB,EAAMnK,EAASyI,EAAS3H,eAEhD,EAAKiI,wBAAwB/I,GAEvBoK,EACF5C,OAAO6C,SACN7C,OAAO8C,WAAa,EAAAlJ,eAAeC,QAAQkJ,iBACxC,EACF,EACF/C,OAAOgD,SACNhD,OAAOiD,YAAc,EAAArJ,eAAeC,QAAQqJ,kBACzC,EAERlD,OAAOmD,KACHlC,EAAS3H,aAAaF,MACtB6H,EAAS3H,aAAasF,MAChBqC,EAAS3H,aAAasF,MACtB,UACN,SAAS,EAAAhF,eAAeC,QAAQkJ,gBAAe,WAAW,EAAAnJ,eAAeC,QAAQqJ,iBAAgB,SAASN,EAAI,QAAQ,UAKlIlJ,EACIO,EAAMC,SAASI,MACf,0CACI9B,EAAQmC,cACR,eAGRmH,MAAM,EAAA3F,QAAQ4F,mBAAmBqB,0CAMrC,MAAM,IAAI9I,MAAM,4BAA8B8H,KAAKiB,UAAUpC,0DAjLjEiB,EAAI,mFAmPhB,YAAAoB,YAAA,WACQnL,KAAKmH,OAASnH,KAAKmH,MAAMhD,SACzBnE,KAAKyF,sBAAsBzF,KAAKmH,MAAMhD,QAAQ9B,OAAQ,EAAApC,uBAAuBqH,OAAQ,EAE7F,EAEA,YAAA8D,QAAA,SAAQlF,GACJlG,KAAK8G,gBAAgBZ,EAAS,EAClC,EAEA,sBAAI,mBAAI,KAAR,WACI,OAAOlG,KAAKmH,KAChB,kCA5sBwB,EAAAX,yBAA2B,kBAC3B,EAAAE,6BAA+B,sBA4sB3D,EA9sBA,GAAa,EAAAH,eAAAA,iZCrEb,YACA,WACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,WACA,YACA,YACA,0pGCdA,YAEA,SAYA,SACA,SAUA,SACA,SACA,SAoBA,SACA,SACA,SAGA,SAAS8E,EAAaC,WACZC,EAAiC,oBAAX1D,OAA0B,GAAoC,QAA9B,EAAmB,QAAnB,EAAAA,OAAO2D,oBAAY,eAAEC,iBAAS,QAAI,GAC9FH,EAAQI,UAAYH,CACxB,CAEA,SAAgBI,EACZ3E,EACA4E,EACAC,GAEA,GACID,EAAqBE,QAAU,GAC9BF,EAAqBG,eAAiBH,EAAqBG,cAAgB,EAC9E,CACE,IAAMC,EAAYnJ,SAASC,cAAc,OACzCkJ,EAAUjJ,UAAYiE,EAAWiF,iBAC7B,OACKJ,IAAgB/J,EAAMoK,YAAYC,WAAa,aAAe,YAC/D,cAERH,EAAUI,aAAa,cAAe,QAEtC,IAAMjG,EAAQyF,EAAqBS,UAC7B5I,EAAM6I,iBAAiBV,EAAqBS,WAC5C,GAyBN,OAvBIR,IAAgB/J,EAAMoK,YAAYC,WAC9BP,EAAqBG,eACrBC,EAAUhJ,MAAMuJ,WAAaX,EAAqBE,QAAU,EAAI,KAChEE,EAAUhJ,MAAMwJ,aAAeZ,EAAqBE,QAAU,EAAI,KAClEE,EAAUhJ,MAAMyJ,aACZb,EAAqBG,cAAgB,YAAc5F,GAEvD6F,EAAUhJ,MAAMyF,OAASmD,EAAqBE,QAAU,KAGxDF,EAAqBG,eACrBC,EAAUhJ,MAAM0J,YAAcd,EAAqBE,QAAU,EAAI,KACjEE,EAAUhJ,MAAM2J,YAAcf,EAAqBE,QAAU,EAAI,KACjEE,EAAUhJ,MAAM4J,YACZhB,EAAqBG,cAAgB,YAAc5F,GAEvD6F,EAAUhJ,MAAMwF,MAAQoD,EAAqBE,QAAU,KAI/DE,EAAUhJ,MAAM6J,SAAW,SAC3Bb,EAAUhJ,MAAM8J,KAAO,WAEhBd,EAIf,CAhDA,qBAoDA,oFA4FY,EAAAe,yBAAmC,GAmmB/C,QA/rB0C,OA0CtC,sBAAI,mBAAI,KAAR,WAGI,OAFa/M,KAAKgN,SAASC,EAAYC,gBAK/BlN,KAAKmN,OACEnN,KAAKmN,OAAOC,UAEnB,EAGZ,MAEA,SAASnM,GACLjB,KAAKqN,SAASJ,EAAYC,aAAcjM,EAC5C,kCAGA,sBAAI,wBAAS,KAAb,WACI,OAAOjB,KAAKgN,SAASC,EAAYK,kBACrC,MAEA,SAAcrM,GAIN,EAAAQ,eAAe8L,kCAAoCtM,GACnDjB,KAAKwN,yBAGLxN,KAAKyN,YAAcxM,IACnBjB,KAAKqN,SAASJ,EAAYK,kBAAmBrM,GAE7CjB,KAAK0N,kCAED1N,KAAK2N,kBACLC,GAAmC5N,OAIvCA,KAAK2N,kBACL3N,KAAK2N,iBAAiBvB,aAAa,gBAAiBnL,EAAM4M,WAElE,kCAUQ,YAAAC,wBAAR,WACI,IAAMC,EAAoBpC,EACtB3L,KAAKgH,WACL,CACI8E,QAAS9L,KAAKgH,WAAWgH,oBAAoBhO,KAAK8L,SAClDC,cAAe/L,KAAKgM,UAAYhM,KAAKgH,WAAWgF,UAAUD,mBAAgB/K,EAC1EqL,UAAWrM,KAAKgM,UAAYhM,KAAKgH,WAAWgF,UAAUK,eAAYrL,GAEtEhB,KAAKiO,sBAGT,GACI,EAAAxM,eAAeyM,uBACfH,GACA/N,KAAKiO,uBAAyBnM,EAAMoK,YAAYC,WAClD,CAEE,IAAMgC,EAAkBnO,KAAKoO,qBAE7B,GAAID,GAAmBA,EAAgBE,sBAAuB,CAC1D,IAAMC,EAAwBtO,KAAKgH,WAAWuH,qCAC1CJ,EAAgBE,uBAGpBN,EAAkB/K,MAAMwL,WAAa,IAAMF,EAAsB7D,KAAO,KACxEsD,EAAkB/K,MAAM2J,YAAc,IAAM2B,EAAsBG,MAAQ,MAIlF,OAAOV,CACX,EAEQ,YAAAL,gCAAR,WACI,IAAMgB,EACF1O,KAAK2O,gBAAkB3O,KAAKyN,UACtBzN,KAAK4O,mCACL,OAEN5O,KAAK2N,mBACDe,EACA1O,KAAK2N,iBAAiB3K,MAAME,QAAUwL,EAEtC1O,KAAK2N,iBAAiB3K,MAAM2C,eAAe,YAI/C3F,KAAK6O,oBACD7O,KAAKmN,QAAUnN,KAAKmN,OAAO2B,eAAe9O,MAC1CA,KAAK6O,kBAAkB7L,MAAME,QAAU,OAEnCwL,EACA1O,KAAK6O,kBAAkB7L,MAAME,QAAUwL,EAEvC1O,KAAK6O,kBAAkB7L,MAAM2C,eAAe,WAI5D,EAEQ,YAAAoJ,yBAAR,WACQ/O,KAAK2N,kBAAoB3N,KAAKyN,YAC9BzN,KAAK2N,iBAAiB3K,MAAMgM,WAAa,SAEzChP,KAAKyN,WAAY,EACjBG,GAAmC5N,MAAM,GAEjD,EAEQ,YAAAiP,+BAAR,WACQjP,KAAK2N,mBAAqB3N,KAAKyN,YAC/BzN,KAAK2N,iBAAiB3K,MAAM2C,eAAe,cAE3C3F,KAAKyN,WAAY,EACjBG,GAAmC5N,MAAM,GAEjD,EAGQ,YAAAkP,eAAR,SAAuBC,GACnB,GAAInP,KAAKyN,WAAazN,KAAKoP,wBAAyB,CAChD,IAAMC,EAAUrP,KAAKsP,iBAAiBH,GAItCnP,KAAK+M,wBAA0BsC,GAAWrP,KAAK+M,wBAE1CsC,EAEMA,IAAYrP,KAAKyN,WACxBzN,KAAKiP,iCAFLjP,KAAK+O,2BAKjB,EAGQ,YAAAQ,cAAR,WACI,IAAIC,GAAc,EAYlB,OAVIxP,KAAK+M,0BACL/M,KAAKwN,yBACLxN,KAAK+M,yBAA0B,EAC/ByC,GAAc,GAGdxP,KAAKoP,yBACLpP,KAAKiP,iCAGFO,CACX,EAEU,YAAAC,+BAAV,WACI,OAAO,IAAIpK,EACf,EAEU,YAAAqK,yBAAV,WACI,IAAMC,EAAkB3P,KAAK4P,8BACvBC,EAAqBpM,EAAM6I,iBAC7BqD,EAAgBG,iBAAiBC,QAAQC,QAGvC1E,EAAUzI,SAASC,cAAc,OAYvC,OAXAwI,EAAQtI,MAAMiN,OAAS,cAAgBJ,EACvCvE,EAAQtI,MAAMkN,QAAU,MACxB5E,EAAQtI,MAAMmN,UAAY,OAC1B7E,EAAQtI,MAAMoN,SAAW,OAErBP,IACAvE,EAAQtI,MAAMmD,MAAQ0J,GAG1BvE,EAAQ+E,UAAY,SAAWrQ,KAAKsQ,kBAE7BhF,CACX,EAEU,YAAAiF,0BAAV,SAAoC3N,GACZ,SAAhB5C,KAAKyI,OACL7F,EAAgBI,MAAM8J,KAAO,WAE7BlK,EAAgBI,MAAM8J,KAAO,UAErC,EAQU,YAAA0D,wBAAV,SAAkCC,GAC9B,IAAMC,EAAqB1Q,KAAK2Q,eAC1BC,EAAmBH,EAAQI,EAAeC,iBAAmBD,EAAeE,iBAClFL,EAAUM,SAAQ,SAACC,GAAU,OAAAA,EAAMC,kBAAkBN,EAAxB,GACjC,EAEU,YAAAO,YAAV,WACI,YAC8BnQ,IAA1BhB,KAAK2N,kBACL3N,KAAKyN,WACLzN,KAAK2N,iBAAiByD,aAAe,CAE7C,EAIU,YAAAC,uBAAV,WACI,OAAOrR,KAAKsR,gBAChB,EAEU,YAAAC,aAAV,WACI,GAAIvR,KAAKwR,kBAAoBxR,KAAKiO,uBAAyBnM,EAAMoK,YAAYC,WACzE,GAAI,EAAA1K,eAAeyM,wBAA0BlO,KAAKyR,aAAc,CAC5D,IAAMvB,EAAU,IAAI,EAAAwB,kBAEpB1R,KAAK2R,+BAA+BzB,GAEpC,IAAM0B,EACF5R,KAAKgH,WAAWuH,qCAAqC2B,GAEzDlQ,KAAKwR,iBAAiBxO,MAAMwL,WAAa,IAAMoD,EAAgBnH,KAAO,KACtEzK,KAAKwR,iBAAiBxO,MAAM2J,YAAc,IAAMiF,EAAgBnD,MAAQ,UAExEzO,KAAKwR,iBAAiBxO,MAAM2J,YAAc,IAC1C3M,KAAKwR,iBAAiBxO,MAAMwL,WAAa,GAGrD,EAOU,YAAAc,iBAAV,SAA2BuC,GAIvB,OAAO,CACX,EAKU,YAAArE,uBAAV,WAEA,EAEU,YAAAsE,kBAAV,WACI,OAAO,IAAI,EAAAJ,iBACf,EAEU,YAAAK,iBAAV,SAA2BC,GACvB,YADuB,IAAAA,IAAAA,GAAA,IAChB,CACX,EAEU,YAAAC,aAAV,WACI,OAAO,CACX,EAEU,YAAAC,WAAV,WACI,OAAOlS,KAAKmS,QAChB,EAEU,YAAAC,WAAV,SAAqBnR,GACjBjB,KAAKmS,SAAWlR,CACpB,EAEU,YAAAoR,gBAAV,SAA0BC,GACtB,YAAsEtR,IAA/DsR,EAAQC,gBAAgBC,WAAWxS,KAAKsQ,kBACnD,EAEA,sBAAc,+BAAgB,KAA9B,WACI,OAAO,CACX,kCAEA,sBAAc,mCAAoB,KAAlC,WACI,OAAOxO,EAAMoK,YAAYC,UAC7B,kCAEA,sBAAc,2BAAY,KAA1B,WACI,OAAOrK,EAAM2Q,eAAeC,OAChC,kCAIA,YAAAtN,MAAA,SAAMuN,EAAaL,GACf,YAAMlN,MAAK,UAACuN,EAAQL,GAAoB,IAAIjN,GAChD,EAEA,YAAAuN,SAAA,WACI,MAAO,EACX,EAEA,YAAAnB,WAAA,WACI,OAAO,CACX,EAEA,YAAAoB,kBAAA,WACI,OAAI7S,KAAKmN,OACEnN,KAAKmN,OAAO0F,oBAGhB7S,KAAK8S,YAChB,EAEA,YAAAlD,4BAAA,WACI,OAAO5P,KAAKgH,WAAW+L,gBAAgBC,eAAehT,KAAK6S,oBAC/D,EAEA,YAAAI,gCAAA,WACI,OAAIjT,KAAKmN,OACEnN,KAAKmN,OAAO8F,kCAGhBjT,KAAKgH,WAAWkM,WAAWnD,OACtC,EAEA,YAAAoD,wBAAA,WACI,MAAO,EACX,EAEA,YAAAxB,+BAAA,SACIyB,EACAC,EACAC,EACAC,EACAC,GAEA,QALA,IAAAH,IAAAA,GAAA,QACA,IAAAC,IAAAA,GAAA,QACA,IAAAC,IAAAA,GAAA,QACA,IAAAC,IAAAA,GAAA,GAEIxT,KAAKmN,OAAQ,CACb,IAAIsG,EAAeJ,GAAcrT,KAAKmN,OAAOuG,aAAa1T,MACtD2T,EAAiBL,GAAgBtT,KAAKmN,OAAOyG,mBAAmB5T,MAChE6T,EAAkBN,GAAiBvT,KAAKmN,OAAO2G,gBAAgB9T,MAC/D+T,EAAgBP,GAAexT,KAAKmN,OAAO6G,kBAAkBhU,MAE3DiU,EAAmBjU,KAAKmN,OAAOkB,sBAEjC4F,IACIR,GAAgBQ,EAAiBC,MAAQpS,EAAMqS,QAAQC,OACvDhB,EAAOc,IAAMD,EAAiBC,IAE9BT,GAAe,GAGfE,GAAkBM,EAAiBxF,QAAU3M,EAAMqS,QAAQC,OAC3DhB,EAAO3E,MAAQwF,EAAiBxF,MAEhCkF,GAAiB,GAGjBE,GAAmBI,EAAiBI,SAAWvS,EAAMqS,QAAQC,OAC7DhB,EAAOiB,OAASJ,EAAiBI,OAEjCR,GAAkB,GAGlBE,GAAiBE,EAAiBxJ,OAAS3I,EAAMqS,QAAQC,OACzDhB,EAAO3I,KAAOwJ,EAAiBxJ,KAE/BsJ,GAAgB,KAIpBN,GAAgBE,GAAkBE,GAAmBE,IACrD/T,KAAKmN,OAAOwE,+BACRyB,EACAK,EACAE,EACAE,EACAE,GAIhB,EAEA,YAAAO,eAAA,WACI,OAAO,CACX,EAEA,YAAAC,YAAA,SAAYC,GACR,MAAM,IAAIrS,MAAM,EAAA6B,QAAQyQ,OAAOC,gBAAgBF,GACnD,EAEA,YAAAG,cAAA,SAActS,GACV,IAAK,IAAIuS,EAAI,EAAGA,EAAI5U,KAAKsU,iBAAkBM,IACvC,GAAI5U,KAAKuU,YAAYK,KAAOvS,EACxB,OAAOuS,EAIf,OAAQ,CACZ,EAEA,YAAAC,OAAA,WACI,SAAI7U,KAAKmN,QAAUnN,KAAKmN,kBAAkB2H,IAC/B9U,KAAKmN,OAAO4H,WAAW/U,KAItC,EAEA,YAAA0F,OAAA,WAwBI,OAvBA1F,KAAK2N,iBAAmB3N,KAAKqR,yBAC7BrR,KAAK6O,kBAAoB7O,KAAK8N,0BAE1B9N,KAAK2N,kBACD3N,KAAKkF,KACLlF,KAAK2N,iBAAiBzI,GAAKlF,KAAKkF,IAGhClF,KAAKgV,mBACLhV,KAAK2N,iBAAiBsH,UAAUC,IAAIlV,KAAKgV,mBAG7ChV,KAAK2N,iBAAiB3K,MAAMmS,UAAY,aACxCnV,KAAK4O,mCAAqC5O,KAAK2N,iBAAiB3K,MAAME,QAChElD,KAAK2N,iBAAiB3K,MAAME,aAC5BlC,EAENhB,KAAKuQ,0BAA0BvQ,KAAK2N,kBACpC3N,KAAKoV,cAAa,IACXpV,KAAK2O,iBACZ3O,KAAK2N,iBAAmB3N,KAAK0P,4BAG1B1P,KAAK2N,gBAChB,EAEA,YAAAyH,aAAA,SAAaC,QAAA,IAAAA,IAAAA,GAAA,GACTrV,KAAK0N,kCACL1N,KAAKuR,cACT,EAEA,YAAA+D,0BAAA,WAGI,IAFA,IAEmB,MAFAtV,KAAKuV,iBAAiBC,gBAEtB,eAAJ,KACJC,oBAEf,EAEA,YAAAC,QAAA,SAAQC,GACJ,OAAQ,CACZ,EAEA,YAAAhH,aAAA,WACI,IAAMiH,EAAc5V,KAAKuV,iBAEzB,OAAOK,aAAuBzQ,IAAgByQ,EAAYC,UAC9D,EAEA,YAAA/G,eAAA,SAAegH,GACX,OAAO,CACX,EAEA,YAAAC,cAAA,SAAcD,GACV,OAAO,CACX,EAEA,YAAAE,gBAAA,WACI,OAAOhW,KAAKmN,QACNnN,KAAKmN,OAAO6G,kBAAkBhU,OAASA,KAAKmN,OAAO6I,iBAE7D,EAEA,YAAAC,iBAAA,WACI,OAAOjW,KAAKmN,QACNnN,KAAKmN,OAAOyG,mBAAmB5T,OAASA,KAAKmN,OAAO8I,kBAE9D,EAEA,YAAAC,eAAA,WACI,OAAOlW,KAAKmN,QACNnN,KAAKmN,OAAO2B,eAAe9O,OAASA,KAAKmN,OAAO+I,gBAE1D,EAEA,YAAAC,kBAAA,WACI,OAAOnW,KAAKmN,QACNnN,KAAKmN,OAAO4I,cAAc/V,OAASA,KAAKmN,OAAOgJ,mBAEzD,EAEA,YAAAC,gBAAA,WACI,OAAO,CACX,EAEA,YAAAC,mBAAA,WACI,OAAO,CACX,EAEA,YAAArC,kBAAA,SAAkB8B,GACd,OAAO,CACX,EAEA,YAAAlC,mBAAA,SAAmBkC,GACf,OAAO,CACX,EAEA,YAAApC,aAAA,SAAapI,GACT,OAAOtL,KAAK8O,eAAexD,EAC/B,EAEA,YAAAwI,gBAAA,SAAgBxI,GACZ,OAAOtL,KAAK+V,cAAczK,EAC9B,EAEA,YAAA8D,sBAAA,WACI,YAC8BpO,IAA1BhB,KAAK2N,kBACsC,WAA3C3N,KAAK2N,iBAAiB3K,MAAMgM,UAEpC,EAEA,YAAAuG,eAAA,WACI,OAAOvV,KAAKsW,eAChB,EAEA,YAAAlI,mBAAA,WAGI,IAFA,IAAImI,EAAiBvW,KAAKmN,OAEnBoJ,GAAgB,CACnB,GAAIA,aAA0BC,GAC1B,OAAOD,EAGXA,EAAiBA,EAAepJ,OAIxC,EAEA,YAAAwD,aAAA,SAAa8F,GACT,YADS,IAAAA,IAAAA,GAAA,GACF,EACX,EAEA,YAAAjB,cAAA,WAGI,IAFA,IAAMpC,EAAmB,GAEhBwB,EAAI,EAAGA,EAAI5U,KAAKsU,iBAAkBM,IAAK,CAC5C,IAAIvS,EAASrC,KAAKuU,YAAYK,GAE1BvS,GACA+Q,EAAOsD,KAAKrU,GAIpB,OAAO+Q,CACX,EAEA,YAAAuD,uBAAA,WACI,MAAO,EACX,EAEA,YAAAC,eAAA,SAAe1R,GACX,OAAOlF,KAAKkF,KAAOA,EAAKlF,UAAOgB,CACnC,EAEA,YAAA6V,cAAA,SAAcC,GAEd,EAEA,YAAAC,yBAAA,SAAyB7R,GAErB,IADA,IAAIkO,OAASpS,EACJ4T,EAAI,EAAGA,EAAI5U,KAAKsU,iBAAkBM,IAAK,CAC5C,IAAMvS,EAASrC,KAAKuU,YAAYK,GAEhC,GAAIvS,aAAkB2U,KAClB5D,EAAS/Q,EAAOmB,KAAKoT,eAAe1R,IAGhC,MAIZ,OAAOkO,CACX,EAEA,YAAA/E,oBAAA,WAGI,OAFgBrO,KAAKkS,cAEMlS,KAAK8R,mBACpC,EAEA,YAAAmF,gCAAA,WACI,YAAiCjW,IAA7BhB,KAAK8E,oBACE9E,KAAK8E,oBAGZ9E,KAAKmN,OACEnN,KAAKmN,OAAO8J,kCAGhBnV,EAAMoV,oBAAoBC,IACrC,EAEA,sBAAI,yBAAU,KAAd,WACI,OAAInX,KAAKoX,YACEpX,KAAKoX,YAERpX,KAAKmN,OACEnN,KAAKmN,OAAOnG,WAEZ,EAAAqQ,iBAGnB,MAEA,SAAepW,GACXjB,KAAKoX,YAAcnW,CACvB,kCAEA,sBAAI,oBAAK,KAAT,WACI,OAAIjB,KAAKmN,OACEnN,KAAKmN,OAAOuI,QAAQ1V,MAEpB,CAEf,kCAEA,sBAAI,4BAAa,KAAjB,WACI,OAAO,CACX,kCAEA,sBAAI,2BAAY,KAAhB,WACI,OAAO,CACX,kCAEA,sBAAI,uBAAQ,KAAZ,WACI,OAAO,CACX,kCAEA,sBAAI,kCAAmB,KAAvB,WACI,SAAIA,KAAKmN,SAAUnN,KAAKwR,oBACZxR,KAAKmN,OAAO2B,eAAe9O,QAAUA,KAAKyN,WAAazN,KAAK2O,eAI5E,kCAEA,sBAAI,+BAAgB,KAApB,WACI,OAAO3O,KAAK6O,iBAChB,kCAEA,sBAAI,qBAAM,KAAV,WACI,OAAoB7O,KAAKsX,OAC7B,kCA3rBgB,EAAApK,aAAe,IAAI,EAAAqK,eAC/B,EAAAjS,SAASkS,KACT,QACA,EACA,kBAEY,EAAAlK,kBAAoB,IAAI,EAAAmK,aAAa,EAAAnS,SAASC,KAAM,aAAa,GACjE,EAAAmS,kBAAoB,IAAI,EAAAD,aAAa,EAAAnS,SAASqS,KAAM,aAAa,GACjE,EAAAC,eAAiB,IAAI,EAAAC,iBACjC,EAAAvS,SAASkS,KACT,SACA,CAAC,CAAEvW,MAAO,QAAU,CAAEA,MAAO,YAC7B,QAEY,EAAA6W,4BAA8B,IAAI,EAAAC,aAC9C,EAAAzS,SAASqS,KACT,sBACA7V,EAAMoV,qBAEM,EAAAc,gBAAkB,IAAI,EAAAD,aAClC,EAAAzS,SAASqS,KACT,UACA7V,EAAMqS,QACNrS,EAAMqS,QAAQzB,SAIlB,IADC,IAAAuF,UAAShL,EAAY6K,wEAItB,IADC,IAAAG,UAAShL,EAAY+K,gDAItB,IADC,IAAAC,UAAShL,EAAYyK,oDAItB,IADC,IAAAO,UAAShL,EAAY2K,8CAItB,IADC,IAAAK,UAAShL,EAAYC,wCAoBtB,IADC,IAAA+K,UAAShL,EAAYK,kDAmoB1B,EA/rBA,CAA0C,EAAA4K,YAApB,EAAAjL,YAAAA,EAisBtB,kBA+BI,WACakL,EACAC,EACAC,QAAA,IAAAA,IAAAA,EAAA,IAHb,MAKI,YAAMF,EAAeC,OAAMpX,IAAU,YAJ5B,EAAAmX,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAC,qBAAAA,GAGb,CACJ,OAtCoC,OAChC,YAAAjT,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAMnF,EAAsBrH,EAE5B,OAAOwM,EAAQgG,YACXnL,EACAwF,EAAO3S,KAAKoY,MACZpY,KAAKqY,qBACLlL,EAAOwB,eAEf,EAEA,YAAA4J,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQmG,eACJD,EACAxY,KAAKoY,KACLnX,EAAQA,EAAMsX,OAAOjG,QAAWtR,OAChCA,GACA,EAER,EASJ,EAtCA,CAAoC,EAAA0X,oBAAvB,EAAAC,eAAAA,EAwCb,kBA6FI,WAAY3T,GAAZ,MACI,cAAO,YAHX,EAAA4T,YAAsB,EAKd5T,IACA,EAAKA,KAAOA,IAEpB,CA8GJ,OAjN4C,OAa9B,YAAA6T,eAAV,SAAyBC,GACrB,YAAMD,eAAc,UAACC,GAIrBA,EAAOjE,OAAOkE,EAAcC,qBAChC,EAkBA,sBAAI,mBAAI,KAAR,WACI,OAAOhZ,KAAKgN,SAAS+L,EAAcE,aACvC,MAEA,SAAShY,GACLjB,KAAKkZ,QAAQjY,EACjB,kCAOU,YAAAkY,YAAV,SAAsBC,GAClB,OAAQpZ,KAAKqZ,eACT,KAAKvX,EAAMwX,SAASC,MAChB,OAAOH,EAASI,UAAUC,MAC9B,KAAK3X,EAAMwX,SAASI,OAChB,OAAON,EAASI,UAAUG,OAC9B,KAAK7X,EAAMwX,SAASM,MAChB,OAAOR,EAASI,UAAUK,MAC9B,KAAK/X,EAAMwX,SAASQ,WAChB,OAAOV,EAASI,UAAUO,WAC9B,QACI,OAAOX,EAASI,UAAUzJ,QAEtC,EAEU,YAAAiK,mBAAV,SACIC,EACA9T,GAEA,OAAQA,GACJ,KAAKrE,EAAMoY,UAAUC,OACjB,OAAOF,EAASG,OACpB,KAAKtY,EAAMoY,UAAUG,KACjB,OAAOJ,EAASK,KACpB,KAAKxY,EAAMoY,UAAUK,MACjB,OAAON,EAASO,MACpB,KAAK1Y,EAAMoY,UAAUO,KACjB,OAAOR,EAASS,KACpB,KAAK5Y,EAAMoY,UAAUlY,QACjB,OAAOiY,EAASU,QACpB,KAAK7Y,EAAMoY,UAAUU,UACjB,OAAOX,EAASY,UACpB,QACI,OAAOZ,EAASlK,QAE5B,EAEU,YAAAmJ,QAAV,SAAkBjY,GACdjB,KAAKqN,SAAS0L,EAAcE,aAAchY,EAC9C,EAYA,YAAA6Z,KAAA,SAAKC,GACD/a,KAAKgb,KAAOD,EAAeC,KAC3Bhb,KAAKib,OAASF,EAAeE,OAC7Bjb,KAAKmG,MAAQ4U,EAAe5U,MAC5BnG,KAAKkb,SAAWH,EAAeG,QACnC,EAEA,YAAAtI,SAAA,WACI,OAAO5S,KAAKgF,IAChB,EAEA,YAAAmW,cAAA,SAAcC,GACV,IAMIhL,EANEgJ,EAAWpZ,KAAKgH,WAAWqU,sBAAsBrb,KAAKsb,mBAQ5D,OANIlC,EAASmC,aACTH,EAAcpY,MAAMuY,WAAanC,EAASmC,YAKtCvb,KAAKqZ,eACT,KAAKvX,EAAMwX,SAASC,MAChBnJ,EAAWgJ,EAASI,UAAUC,MAC9B,MACJ,KAAK3X,EAAMwX,SAASI,OAChBtJ,EAAWgJ,EAASI,UAAUG,OAC9B,MACJ,KAAK7X,EAAMwX,SAASM,MAChBxJ,EAAWgJ,EAASI,UAAUK,MAC9B,MACJ,KAAK/X,EAAMwX,SAASQ,WAChB1J,EAAWgJ,EAASI,UAAUO,WAC9B,MACJ,QACI3J,EAAWgJ,EAASI,UAAUzJ,QAItCqL,EAAcpY,MAAMoN,SAAWA,EAAW,KAE1C,IAYIoL,EAZEC,EAAkBzb,KAAKga,mBACzBha,KAAK4P,8BAA8BE,iBACnC9P,KAAK0b,gBAGHC,EAAclY,EAAM6I,iBACtBtM,KAAK4b,kBAAoBH,EAAgBzL,OAASyL,EAAgB1L,SAQtE,OANI4L,IACAP,EAAcpY,MAAMmD,MAAQwV,GAKxB3b,KAAK6b,iBACT,KAAK/Z,EAAMga,WAAWC,QAClBP,EAAapC,EAAS4C,YAAYC,QAClC,MACJ,KAAKna,EAAMga,WAAWI,OAClBV,EAAapC,EAAS4C,YAAYG,OAClC,MACJ,QACIX,EAAapC,EAAS4C,YAAYjM,QAI1CqL,EAAcpY,MAAMwY,WAAaA,EAAW3N,WAExC7N,KAAK4Y,YACLwC,EAAchP,aAAa,cAAe,OAElD,EAEA,YAAAoJ,cAAA,WACI,IAAMpC,EAAS,YAAMoC,cAAa,WAMlC,OAJIxV,KAAKiF,cACLmO,EAAOsD,KAAK1W,KAAKiF,cAGdmO,CACX,EAEA,sBAAI,6BAAc,KAAlB,WACI,YAAsBpS,IAAfhB,KAAKmG,MAAsBnG,KAAKmG,MAAQnG,KAAKiT,kCAAkC9M,KAC1F,kCAEA,sBAAI,gCAAiB,KAArB,WACI,YAAyBnF,IAAlBhB,KAAKoZ,SACNpZ,KAAKoZ,SACLpZ,KAAKiT,kCAAkCmG,QACjD,kCAEA,sBAAI,gCAAiB,KAArB,WACI,YAAyBpY,IAAlBhB,KAAKkb,SACNlb,KAAKkb,SACLlb,KAAKiT,kCAAkCiI,QACjD,kCAEA,sBAAI,4BAAa,KAAjB,WACI,YAAqBla,IAAdhB,KAAKgb,KAAqBhb,KAAKgb,KAAOhb,KAAKiT,kCAAkC+H,IACxF,kCAEA,sBAAI,8BAAe,KAAnB,WACI,YAAuBha,IAAhBhB,KAAKib,OACNjb,KAAKib,OACLjb,KAAKiT,kCAAkCgI,MACjD,kCA7MgB,EAAAhC,aAAe,IAAI,EAAA1B,eAAe,EAAAjS,SAASqS,KAAM,QAAQ,GACzD,EAAAyE,aAAe,IAAI,EAAArE,aAAa,EAAAzS,SAASqS,KAAM,OAAQ7V,EAAMwX,UAC7D,EAAA+C,eAAiB,IAAI,EAAAtE,aAAa,EAAAzS,SAASqS,KAAM,SAAU7V,EAAMga,YACjE,EAAAQ,cAAgB,IAAI,EAAAvE,aAAa,EAAAzS,SAASqS,KAAM,QAAS7V,EAAMoY,WAC/D,EAAAqC,iBAAmB,IAAI,EAAA9E,aAAa,EAAAnS,SAASqS,KAAM,YACnD,EAAA6E,iBAAmB,IAAI,EAAAzE,aAAa,EAAAzS,SAASC,KAAM,WAAYzD,EAAM2a,UACrE,EAAAzD,qBAAuB,IAAIL,EAAe,EAAArT,SAASkS,KAAM,eAAgB,CACrF,oBAYJ,IADC,IAAAS,UAASc,EAAcqD,0CAIxB,IADC,IAAAnE,UAASc,EAAcsD,8CAIxB,IADC,IAAApE,UAASc,EAAcuD,4CAIxB,IADC,IAAArE,UAASc,EAAcyD,kDAIxB,IADC,IAAAvE,UAASc,EAAcwD,kDAIxB,IADC,IAAAtE,UAASc,EAAcE,wCAUxB,IADC,IAAAhB,UAASc,EAAcC,0DAoK5B,EAjNA,CAA4C/L,GAAtB,EAAA8L,cAAAA,EAqNtB,oFAYI,EAAA3S,MAAgB,EAaR,EAAAsW,mBAA6B,EA+QrC,EAAAC,aAAuB,GAuE3B,gBA/W+B,OA2BnB,YAAAC,uBAAR,mBACI,QAA6B5b,IAAzBhB,KAAK4C,gBAA+B,CAChC5C,KAAK6c,UAAY7c,KAAK6c,SAAW,IACjC7c,KAAK4C,gBAAgBI,MAAMmM,UACvBnP,KAAK8c,oBAAsB9c,KAAK6c,SAAW,MAGnD,IAAME,EAAgF,QAAjE,EAA4B,QAA5B,EAAAC,EAAUC,0BAAkB,eAAEC,WAAWld,KAAKmd,2BAAmB,QAAInd,KAAKmd,mBAC/Fnd,KAAK4C,gBAAgB8I,UAAYqR,EAEzC,EAEQ,YAAAK,oBAAR,SAA4BjO,GACxB,QAA6BnO,IAAzBhB,KAAK4C,gBAA+B,CAIpC,IAAMya,EAAWrd,KAAK4C,gBAAgBya,SAChCC,GAAcD,EAAS5Y,OAK7B,GAHI6Y,GACqB,IAApBD,EAAS5Y,QAAqE,MAAvC4Y,EAAS,GAAIE,QAAQC,gBAAwCH,EAAS,GAAIA,SAAS5Y,OAEtG,CACrB,IAAM6G,EAAUgS,EAAatd,KAAK4C,gBAA+Bya,EAAS,GAI1E,OAFA5Z,EAAMga,aAAanS,EAAS6D,EAAWnP,KAAK8c,sBAErC,GAIf,OAAO,CACX,EAkBU,YAAA5D,QAAV,SAAkBjY,GACd,YAAMiY,QAAO,UAACjY,GAEdjB,KAAK0d,oBAAiB1c,CAC1B,EAEU,YAAAsQ,eAAV,0BAGI,GAFAtR,KAAK0d,oBAAiB1c,EAElBhB,KAAKgF,KAAM,CACX,IAAM2Y,EAAmB3d,KAAK4d,wBAAwB7E,EAAcE,cAC9DjS,EAAahH,KAAKgH,WAEpBsE,OAAO,EAEX,GAAItL,KAAK6d,aAAc,CACnB,IAAMC,EAAejb,SAASC,cAAc,SAC5Cgb,EAAaC,QAAU/d,KAAK6d,aAE5BvS,EAAUwS,OAEVxS,EAAUzI,SAASC,cAAc,OAQrC,GALAwI,EAAQ2J,UAAUC,IAAIlO,EAAWiF,iBAAiB,iBAClDX,EAAQtI,MAAM6J,SAAW,SAEzB7M,KAAKmb,cAAc7P,GAEA,YAAftL,KAAKgD,MAAqB,CAC1BsI,EAAQc,aAAa,OAAQ,WAE7B,IAAM4R,EAAehe,KAAKgH,WAAWiX,UAAUD,kBAE1Bhd,IAAjBgd,GAA8BA,EAAe,GAC7C1S,EAAQc,aAAa,aAAc4R,EAAanQ,YAqBxD,GAjBI7N,KAAKiF,cAAgB+B,EAAWkX,wBAChC5S,EAAQ6S,QAAU,SAAC/c,GACX,EAAK6D,cAAgB,EAAKA,aAAamZ,yBACvChd,EAAEid,iBACFjd,EAAEkd,cAAe,EAEjB,EAAKrZ,aAAasZ,UAE1B,EAEAve,KAAKiF,aAAauZ,6BAA6BlT,GAE3CtL,KAAKiF,aAAamZ,wBAClB9S,EAAQ2J,UAAUC,IAAIlO,EAAWiF,iBAAiB,oBAIrDjM,KAAK0d,eAAgB,CACtB1d,KAAK0c,mBAAoB,EAEzB,IAAI+B,EAAgBC,EAAeC,WAAW3e,KAAKoN,KAAMuQ,GAEzD,GAAI3d,KAAK2c,aAAe8B,EAAe,CAC/B,EAAAhd,eAAemd,+BACfH,EAAgBA,EACXI,QAAQ,UAAW,OACnBA,QAAQ,YAAa,SAG9B,IAAMC,EAA2B3Z,GAAa4Z,cAAcN,GAE5D,GACIK,EAAyBE,YACzBF,EAAyBG,YAOzB,GALAjf,KAAK0d,eAAiBoB,EAAyBG,WAC/Cjf,KAAK0c,mBAAoB,EAIrB,EAAAjb,eAAemd,8BAAgC5e,KAAK0d,eAAgB,CACpE,IAAIwB,EAAoB,GAClBC,EAAiBnf,KAAK4P,8BAExBuP,EAAeC,2BACfF,GACI,qBACAC,EAAeC,yBACf,KAGJD,EAAeE,2BACfH,GACI,UAAYC,EAAeE,yBAA2B,KAG1DH,IACAA,EAAY,UAAYA,EAAY,KAGxClf,KAAK0d,eAAiB1d,KAAK0d,eACtBmB,QAAQ,OAAQ,SAAWK,EAAY,KACvCL,QAAQ,UAAW,iBAG5B7e,KAAK0d,eAAiBe,EACtBze,KAAK0c,mBAAoB,OAG7B1c,KAAK0d,eAAiBe,EACtBze,KAAK0c,mBAAoB,EAQjC,GAJK1c,KAAK0d,iBACN1d,KAAK0d,eAAiB,IAGtB1d,KAAK0c,kBACLpR,EAAQ+E,UAAYrQ,KAAK0d,mBACtB,CACH,IAAM4B,EAC0D,QAA5D,EAA2B,QAA3B,EAAAtC,EAAUuC,yBAAiB,eAAErC,WAAWld,KAAK0d,uBAAe,QAC5D1d,KAAK0d,eACTpS,EAAQI,UAAY4T,EAGxB,GAAIhU,EAAQkU,6BAA6BC,YAAa,CAClD,IAAMD,EAAoBlU,EAAQkU,kBAClCA,EAAkBxc,MAAM0c,UAAY,MACpCF,EAAkBxc,MAAMwF,MAAQ,OAE3BxI,KAAKoG,OACNoZ,EAAkBxc,MAAM6J,SAAW,SACnC2S,EAAkBxc,MAAM2c,aAAe,YAI3CrU,EAAQsU,4BAA4BH,cACpCnU,EAAQsU,iBAAiB5c,MAAMwJ,aAAe,OAKlD,IAFA,IAAMqT,EAAUvU,EAAQwU,qBAAqB,gBAElCC,GACPA,EAAO9K,UAAUC,IAAIlO,EAAWiF,iBAAiB,cACjD8T,EAAOvH,OAAS,SAChBuH,EAAO5B,QAAU,SAAC/c,GACV4e,GAAwB,EAAMD,EAAQ3e,KACtCA,EAAEid,iBACFjd,EAAEkd,cAAe,EAEzB,EACAyB,EAAOE,cAAgB,SAAC7e,GACpB,OAAI4e,GAAwB,EAAMD,EAAQ3e,KACtCA,EAAEid,iBACFjd,EAAEkd,cAAe,GAEV,EAIf,GAlBiB,MAAA4B,MAAMC,KAAKN,GAAX,iBAAJ,MAmDjB,OA9BI7f,KAAKoG,MACLkF,EAAQtI,MAAMod,SAAW,aAErBpgB,KAAK6c,UAAY7c,KAAK6c,SAAW,IACjCvR,EAAQtI,MAAM6J,SAAW,SAErBpJ,EAAM4c,uBAAyB,EAAA5e,eAAe6e,mBAC9ChV,EAAQtI,MAAMmM,UAAYnP,KAAK8c,oBAAsB9c,KAAK6c,SAAW,MAKrEvR,EAAQtI,MAAM2C,eAAe,eAC7B2F,EAAQtI,MAAME,QAAU,cACxBoI,EAAQtI,MAAMud,gBAAkB,WAChCjV,EAAQtI,MAAMwd,gBAAkBxgB,KAAK6c,SAAShP,eAItDvC,EAAQtI,MAAMyd,WAAa,SAC3BnV,EAAQtI,MAAM2c,aAAe,aAI7B,EAAAle,eAAeif,gCACf,EAAAjf,eAAe8L,mCAEfvN,KAAKmd,mBAAqB7R,EAAQI,WAG/BJ,EAIf,EAEU,YAAAgE,iBAAV,SAA2BH,GACvB,OAAIA,GAAanP,KAAK8c,qBACX9c,KAAKod,oBAAoBjO,EAIxC,EAEU,YAAA3B,uBAAV,WAGI,GAFAxN,KAAK4c,yBAED,EAAAnb,eAAeif,gCAAkC1gB,KAAK6c,SAAU,CAChE,IAAM1N,EAAYnP,KAAK8c,oBAAsB9c,KAAK6c,SAElD7c,KAAKod,oBAAoBjO,GAEjC,EAKA,YAAAgM,cAAA,SAAcC,GAGV,OAFA,YAAMD,cAAa,UAACC,GAEZpb,KAAKiX,mCACT,KAAKnV,EAAMoV,oBAAoByJ,OAC3BvF,EAAcpY,MAAM4d,UAAY,SAChC,MACJ,KAAK9e,EAAMoV,oBAAoB2J,MAC3BzF,EAAcpY,MAAM4d,UAAY,MAChC,MACJ,QACIxF,EAAcpY,MAAM4d,UAAY,QAIxC,IAAME,EAAc9gB,KAAKgH,WAAW8Z,YAEpC,GAAIA,EACA,OAAQ9gB,KAAKqZ,eACT,KAAKvX,EAAMwX,SAASC,MAChBvZ,KAAK8c,oBAAsBgE,EAAYrH,MACvC,MACJ,KAAK3X,EAAMwX,SAASI,OAChB1Z,KAAK8c,oBAAsBgE,EAAYnH,OACvC,MACJ,KAAK7X,EAAMwX,SAASM,MAChB5Z,KAAK8c,oBAAsBgE,EAAYjH,MACvC,MACJ,KAAK/X,EAAMwX,SAASQ,WAChB9Z,KAAK8c,oBAAsBgE,EAAY/G,WACvC,MACJ,QACI/Z,KAAK8c,oBAAsBgE,EAAY/Q,aAM/C/P,KAAK8c,oBAED,KADA9c,KAAKmZ,YAAYnZ,KAAKgH,WAAWqU,sBAAsBrb,KAAKsb,oBAIpEF,EAAcpY,MAAM+d,WAAa/gB,KAAK8c,oBAAsB,IAChE,EAEA,YAAAxM,gBAAA,WACI,MAAO,WACX,EAEA,YAAA2C,gCAAA,WACI,OAAIjT,KAAKgD,MACEhD,KAAKgH,WAAWkM,WAAWF,eAAehT,KAAKgD,OAGnD,YAAMiQ,gCAA+B,UAChD,EAEA,YAAAmC,aAAA,SAAa4L,QAAA,IAAAA,IAAAA,GAAA,GACT,YAAM5L,aAAY,UAAC4L,GAEf,EAAAvf,eAAeif,gCAAkC1gB,KAAK6c,UAAY7c,KAAKmR,gBAGvEnR,KAAK4c,yBACL5c,KAAKod,oBAAoBpd,KAAK8c,oBAAsB9c,KAAK6c,UAEjE,EA3WgB,EAAAoE,aAAe,IAAI,EAAAxJ,aAAa,EAAAnS,SAASqS,KAAM,QAAQ,GACvD,EAAAuJ,iBAAmB,IAAI,EAAAC,YAAY,EAAA7b,SAASqS,KAAM,YAClD,EAAAyJ,cAAgB,IAAI,EAAAvJ,iBAAiB,EAAAvS,SAAS+b,KAAM,QAAS,CACzE,CAAEpgB,MAAO,WACT,CAAEA,MAAO,gBACT,CAAEA,MAAO,aAwDW,EAAAse,kBAAuC,oBAAX1X,QAAyD,QAAnB,EAAAA,OAAO2D,oBAAY,WAA/BxK,EAA+B,EAAEsgB,aAC3G,0CACA,CAAEpE,WAAY,SAACjc,GAAU,OAAAA,CAAA,IAOL,EAAAgc,mBAAwC,oBAAXpV,QAAyD,QAAnB,EAAAA,OAAO2D,oBAAY,WAA/BxK,EAA+B,EAAEsgB,aAC5G,sCACA,CAAEpE,WAAY,SAACjc,GAAU,OAAAA,CAAA,IA/D7B,IADC,IAAAgX,UAAS+E,EAAUiE,0CAIpB,IADC,IAAAhJ,UAAS+E,EAAUkE,kDAIpB,IADC,IAAAjJ,UAAS+E,EAAUoE,4CA8VxB,EA/WA,CAA+BrI,GAAlB,EAAAiE,UAAAA,EAiXb,oFAeI,EAAAuE,QAAkB,EAGlB,EAAAC,eAAyB,EAGzB,EAAAC,WAAqB,EAGrB,EAAAC,WAAqB,GA+FzB,QAvH6B,OAQf,YAAA7I,eAAV,SAAyBC,GACrB,YAAMD,eAAc,UAACC,GAErBA,EAAO5D,IAAI6D,EAAcC,qBAC7B,EAgBU,YAAA1H,eAAV,sBACI,GAAItR,KAAKgF,KAAM,CACX,IAAM2Y,EAAmB3d,KAAK4d,wBAAwB7E,EAAcE,cAC9DjS,EAAahH,KAAKgH,WAEpByX,EAAgBC,EAAeC,WAAW3e,KAAKoN,KAAMuQ,GAEpDc,IACDA,EAAgB,IAGpB,IAAMnT,EAAUzI,SAASC,cAAc,QAKvC,GAJAwI,EAAQ2J,UAAUC,IAAIlO,EAAWiF,iBAAiB,eAElDjM,KAAKmb,cAAc7P,GAEftL,KAAKiF,cAAgB+B,EAAWkX,sBAAuB,CACvD,IAAM6B,EAASld,SAASC,cAAc,KACtCid,EAAO9K,UAAUC,IAAIlO,EAAWiF,iBAAiB,cAEjD,IAAM0V,EAAO3hB,KAAKiF,aAAa2c,UAE/B7B,EAAO4B,KAAOA,GAAc,GAC5B5B,EAAOvH,OAAS,SAChBuH,EAAO5B,QAAU,SAAC/c,GACV,EAAK6D,cAAgB,EAAKA,aAAamZ,yBACvChd,EAAEid,iBACFjd,EAAEkd,cAAe,EAEjB,EAAKrZ,aAAasZ,UAE1B,EAEAve,KAAKiF,aAAauZ,6BAA6BuB,GAE/CA,EAAO1P,UAAYoO,EAEnBnT,EAAQhI,YAAYyc,QAEpBzU,EAAQ+E,UAAYoO,EAGxB,OAAOnT,EAIf,EAEA,YAAA6P,cAAA,SAAcC,GAWV,GAVA,YAAMD,cAAa,UAACC,GAEhBpb,KAAKuhB,SACLnG,EAAcpY,MAAM6e,UAAY,UAGhC7hB,KAAKwhB,gBACLpG,EAAcpY,MAAM8e,eAAiB,gBAGrC9hB,KAAKyhB,UAAW,CAChB,IAAMhG,EAAkBzb,KAAKga,mBACzBha,KAAK4P,8BAA8BE,iBACnC9P,KAAK0b,gBAGHqG,EAAkBte,EAAM6I,iBAC1BtM,KAAK4b,kBACCH,EAAgBuG,gBAAgBhS,OAChCyL,EAAgBuG,gBAAgBjS,SAEtCgS,IACA3G,EAAcpY,MAAM+e,gBAAkBA,GAI1C/hB,KAAK0hB,YACLtG,EAAcpY,MAAM8e,eAAiB,YAE7C,EAEA,YAAAxR,gBAAA,WACI,MAAO,SACX,EAEA,sBAAI,2BAAY,KAAhB,WACI,OAAO,CACX,kCAEA,sBAAI,uBAAQ,KAAZ,WACI,OAAO,CACX,kCAnHgB,EAAA2R,eAAiB,IAAI,EAAAxK,aAAa,EAAAnS,SAASC,KAAM,UAAU,GAC3D,EAAA2c,sBAAwB,IAAI,EAAAzK,aAAa,EAAAnS,SAASC,KAAM,iBAAiB,GACzE,EAAA4c,kBAAoB,IAAI,EAAA1K,aAAa,EAAAnS,SAASC,KAAM,aAAa,GACjE,EAAA6c,kBAAoB,IAAI,EAAA3K,aAAa,EAAAnS,SAAS+c,KAAM,aAAa,GASjF,IADC,IAAApK,UAASqK,EAAQL,8CAIlB,IADC,IAAAhK,UAASqK,EAAQJ,4DAIlB,IADC,IAAAjK,UAASqK,EAAQH,oDAIlB,IADC,IAAAlK,UAASqK,EAAQF,oDAgGtB,EAvHA,CAA6BrJ,GAAhB,EAAAuJ,QAAAA,EAyHb,oFACY,EAAAC,SAA0B,IAyJtC,QA1JmC,OAGvB,YAAAC,kBAAR,SAA0BC,EAAqBC,GAC3C,QAD2C,IAAAA,IAAAA,GAAA,IACtCD,EAAOE,SACR,MAAM,IAAIxgB,MAAM,EAAA6B,QAAQyQ,OAAOmO,+BAKnC,QAFyC5hB,IAAlByhB,EAAOtV,SAAwBuV,GAExCD,EAAOtV,SAAWnN,KAC5B,MAAM,IAAImC,MAAM,EAAA6B,QAAQyQ,OAAOoO,yBAE/BJ,EAAOK,UAAU9iB,MAEjBA,KAAKuiB,SAAS7L,KAAK+L,EAE3B,EAEU,YAAAM,cAAV,SAAwBpQ,EAAaL,GAKjC,GAJA,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAKuiB,SAAW,GAEZrC,MAAM8C,QAAQrQ,EAAgB,SAC9B,IAAyB,UAAAA,EAAgB,QAAhB,eAAmB,CAAvC,IAAMsQ,EAAU,KACbR,OAAM,EAEV,GAA0B,iBAAfQ,EAAyB,CAChC,IAAMC,EAAU,IAAIZ,EACpBY,EAAQle,KAAOie,EAEfR,EAASS,OAGTT,EAASnQ,EAAQ6Q,aAAanjB,KAAMijB,EAAY,IAAI,GAGpDR,GACAziB,KAAKwiB,kBAAkBC,GAAQ,GAI/C,EAEU,YAAAW,eAAV,SAAyB5K,EAAqBlG,GAG1C,GAFA,YAAM8Q,eAAc,UAAC5K,EAAQlG,GAEzBtS,KAAKuiB,SAAS9d,OAAS,EAAG,CAG1B,IAFA,IAAM4e,EAAqB,GAEN,MAAArjB,KAAKuiB,SAAL,eAAe,CAA/B,IAAME,EAAM,KACbY,EAAY3M,KAAK+L,EAAOlK,OAAOjG,IAGnCA,EAAQmG,eAAeD,EAAQ,UAAW6K,GAElD,EAEU,YAAA/R,eAAV,WACI,GAAItR,KAAKuiB,SAAS9d,OAAS,EAAG,CAC1B,IAAI6G,OAAO,EAEX,GAAItL,KAAK6d,aAAc,CACnB,IAAMC,EAAejb,SAASC,cAAc,SAC5Cgb,EAAaC,QAAU/d,KAAK6d,aAE5BvS,EAAUwS,OAEVxS,EAAUzI,SAASC,cAAc,OAKrC,OAFAwI,EAAQvI,UAAY/C,KAAKgH,WAAWiF,iBAAiB,oBAE7CjM,KAAKiX,mCACT,KAAKnV,EAAMoV,oBAAoByJ,OAC3BrV,EAAQtI,MAAM4d,UAAY,SAC1B,MACJ,KAAK9e,EAAMoV,oBAAoB2J,MAC3BvV,EAAQtI,MAAM4d,UAAY,MAC1B,MACJ,QACItV,EAAQtI,MAAM4d,UAAY,QAMlC,IAFA,IAAI0C,EAA0B,EAET,MAAAtjB,KAAKuiB,SAAL,eAAe,CAA/B,IACKgB,EADO,KACiB7d,SAE1B6d,IACAjY,EAAQhI,YAAYigB,GAEpBD,KAIR,GAAIA,EAAkB,EAClB,OAAOhY,EAKnB,EAIA,YAAAsH,SAAA,WAGI,IAFA,IAAIQ,EAAS,GAEQ,MAAApT,KAAKuiB,SAAL,eACjBnP,GADa,KACIR,WAGrB,OAAOQ,CACX,EAEA,YAAA9C,gBAAA,WACI,MAAO,eACX,EAEA,YAAAkT,eAAA,WACI,OAAOxjB,KAAKuiB,SAAS9d,MACzB,EAEA,YAAAgf,YAAA,SAAYjP,GACR,GAAIA,GAAS,GAAKA,EAAQxU,KAAKuiB,SAAS9d,OACpC,OAAOzE,KAAKuiB,SAAS/N,GAErB,MAAM,IAAIrS,MAAM,EAAA6B,QAAQyQ,OAAOC,gBAAgBF,GAEvD,EAEA,YAAAkP,UAAA,SAAUjB,GACgB,iBAAXA,EACPziB,KAAKwiB,kBAAkB,IAAIF,EAAQG,IAEnCziB,KAAKwiB,kBAAkBC,EAE/B,EAEA,YAAAkB,aAAA,SAAalB,GACT,IAAMjO,EAAQxU,KAAKuiB,SAAS7M,QAAQ+M,GAEpC,OAAIjO,GAAS,IACTxU,KAAKuiB,SAAS/N,GAAOsO,eAAU9hB,GAC/BhB,KAAKuiB,SAASqB,OAAOpP,EAAO,IAErB,EAIf,EACJ,EA1JA,CAAmCvH,GAAtB,EAAA4W,cAAAA,EA4Jb,kBAmBI,WAAYzL,EAAenX,GAA3B,MACI,cAAO,YAEP,EAAKmX,KAAOA,EACZ,EAAKnX,MAAQA,GACjB,CACJ,OAzB0B,OAeZ,YAAA6iB,aAAV,WACI,MAAO,MACX,EAdgB,EAAAC,cAAgB,IAAI,EAAAxM,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAAqM,cAAgB,IAAI,EAAAzM,eAAe,EAAAjS,SAASqS,KAAM,SAIlE,IADC,IAAAM,UAASgM,EAAKF,2CAIf,IADC,IAAA9L,UAASgM,EAAKD,4CAenB,EAzBA,CAA0B,EAAAE,oBAAb,EAAAD,KAAAA,EA2Bb,6EAmGA,QAnG6B,OAczB,sBAAc,+BAAgB,KAA9B,WACI,OAAO,CACX,kCAEU,YAAA3S,eAAV,WACI,IAAIhG,OAAmCtK,EACjCgG,EAAahH,KAAKgH,WAExB,GAAIhH,KAAKmkB,MAAM1f,OAAS,EAAG,EACvB6G,EAAUzI,SAASC,cAAc,UACzBE,MAAMohB,YAAc,MAC5B9Y,EAAQtI,MAAMqhB,cAAgB,MAC9B/Y,EAAQtI,MAAMshB,YAAc,OAC5BhZ,EAAQtI,MAAMuhB,eAAiB,WAC/BjZ,EAAQtI,MAAME,QAAU,QACxBoI,EAAQtI,MAAM6J,SAAW,SACzBvB,EAAQ2J,UAAUC,IAAIlO,EAAWiF,iBAAiB,eAClDX,EAAQc,aAAa,OAAQ,gBAE7B,IAAK,IAAIwI,EAAI,EAAGA,EAAI5U,KAAKmkB,MAAM1f,OAAQmQ,IAAK,CACxC,IAAM4P,EAAY3hB,SAASC,cAAc,MAErC8R,EAAI,IACJ4P,EAAUxhB,MAAM0c,UAAY1Y,EAAWyd,QAAQ3Y,QAAU,MAI7D,IAAI4Y,EAAY7hB,SAASC,cAAc,MACvC4hB,EAAU1hB,MAAMkN,QAAU,IAC1BwU,EAAUzP,UAAUC,IAAIlO,EAAWiF,iBAAiB,kBAEhDjF,EAAWyd,QAAQhe,MAAMke,WACzBD,EAAU1hB,MAAM2hB,SAAW3d,EAAWyd,QAAQhe,MAAMke,SAAW,MAGnED,EAAU1hB,MAAM4hB,cAAgB,MAEhC,IAAI3G,EAAY,IAAIjB,EACpBiB,EAAU6E,UAAU9iB,MACpBie,EAAUjZ,MACLhF,KAAKmkB,MAAMvP,GAAGwD,MAAQpY,KAAK2O,eAAiB,QAAU3O,KAAKmkB,MAAMvP,GAAGwD,KACzE6F,EAAUjD,KAAOhU,EAAWyd,QAAQhe,MAAMuU,KAC1CiD,EAAU9X,MAAQa,EAAWyd,QAAQhe,MAAMN,MAC3C8X,EAAU/C,SAAWlU,EAAWyd,QAAQhe,MAAMyU,SAC9C+C,EAAUhD,OAASjU,EAAWyd,QAAQhe,MAAMwU,OAC5CgD,EAAU7X,KAAOY,EAAWyd,QAAQhe,MAAML,KAC1C6X,EAAUnS,QAAUhK,EAAMqS,QAAQC,KAElC3Q,EAAMH,YAAYohB,EAAWzG,EAAUvY,UACvCjC,EAAMH,YAAYkhB,EAAWE,IAG7BA,EAAY7hB,SAASC,cAAc,OACzBE,MAAMwF,MAAQ,OAExB/E,EAAMH,YAAYkhB,EAAWE,IAG7BA,EAAY7hB,SAASC,cAAc,OACzBE,MAAMkN,QAAU,IAC1BwU,EAAU1hB,MAAM4hB,cAAgB,MAChCF,EAAUzP,UAAUC,IAAIlO,EAAWiF,iBAAiB,mBAEpDgS,EAAY,IAAIjB,GACN8F,UAAU9iB,MACpBie,EAAUjZ,KAAOhF,KAAKmkB,MAAMvP,GAAG3T,MAC/Bgd,EAAUjD,KAAOhU,EAAWyd,QAAQxjB,MAAM+Z,KAC1CiD,EAAU9X,MAAQa,EAAWyd,QAAQxjB,MAAMkF,MAC3C8X,EAAU/C,SAAWlU,EAAWyd,QAAQxjB,MAAMia,SAC9C+C,EAAUhD,OAASjU,EAAWyd,QAAQxjB,MAAMga,OAC5CgD,EAAU7X,KAAOY,EAAWyd,QAAQxjB,MAAMmF,KAC1C6X,EAAUnS,QAAUhK,EAAMqS,QAAQC,KAElC3Q,EAAMH,YAAYohB,EAAWzG,EAAUvY,UACvCjC,EAAMH,YAAYkhB,EAAWE,GAC7BjhB,EAAMH,YAAYgI,EAASkZ,IAInC,OAAOlZ,CACX,EAEA,YAAAgF,gBAAA,WACI,MAAO,SACX,EA/FgB,EAAAuU,cAAgB,IAAI,EAAAC,qCAChC,EAAAxf,SAASqS,KACT,QACAsM,GAIJ,IADC,IAAAhM,UAAS8M,EAAQF,4CA0FtB,EAnGA,CAA6B5X,GAAhB,EAAA8X,QAAAA,EAqGb,kBA+DI,WACa5M,EACAC,EACA4M,EACAC,GAJb,MAMI,YAAM9M,EAAeC,IAAK,YALjB,EAAAD,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAA4M,aAAAA,EACA,EAAAC,iBAAAA,GAGb,CACJ,OAvEqC,OACjC,YAAAC,gBAAA,WACI,OAAOllB,KAAKglB,YAChB,EAEA,YAAA5f,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAIc,OAA6BpS,EAC3BmkB,EAAcxS,EAAO3S,KAAKoY,MAEhC,QAAoBpX,IAAhBmkB,EACA,OAAOnlB,KAAKolB,aAGhB,IAAIC,GAAU,EAEd,GAA2B,iBAAhBF,EAA0B,CACjC,IACI,IAAMnK,EAAO,EAAAsK,YAAYlgB,MAAM+f,GAAa,GAExCnK,EAAKuK,OAASzjB,EAAM0jB,SAASC,QAC7BrS,EAAS4H,EAAK0K,aAEdL,GAAU,GAEhB,WAMGA,GAAWrlB,KAAKilB,mBACjBI,EAAUrlB,KAAKilB,iBAAiBU,aAAaR,EAAa7S,IAYlE,OARK+S,GACD/S,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOsR,qBAAqBZ,EAAanlB,KAAKoY,OAIvDhF,CACX,EAEA,YAAAmF,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQmG,eACJD,EACAxY,KAAKoY,KACY,iBAAVnX,GAAuB+kB,MAAM/kB,QAAwBD,EAAfC,EAAQ,KAE7D,EAUJ,EAvEA,CAAqC,EAAAyX,oBAyErC,gFAoDI,EAAAsC,KAAmBlZ,EAAMmkB,KAAKC,KAG9B,EAAAljB,MAA0BlB,EAAMqkB,WAAWzT,SA8N/C,QArR2B,OAkCb,YAAAmG,eAAV,SAAyBC,GACrB,YAAMD,eAAc,UAACC,GAErBA,EAAOjE,OAAO5H,EAAY2K,eAC9B,EAiCQ,YAAAwO,UAAR,SAAkB9a,GACd,GAAItL,KAAKqmB,YAAcrmB,KAAKsmB,YACpBtmB,KAAKqmB,aACL/a,EAAQtI,MAAMwF,MAAQxI,KAAKqmB,WAAa,MAGxCrmB,KAAKsmB,cACLhb,EAAQtI,MAAMyF,OAASzI,KAAKsmB,YAAc,WAG9C,GAAItmB,KAAKmP,UAAW,CAKhB,OAAQnP,KAAKgb,MACT,KAAKlZ,EAAMmkB,KAAK1M,MACZjO,EAAQtI,MAAMyF,OAASzI,KAAKgH,WAAWuf,WAAW9M,MAAQ,KAC1D,MACJ,KAAK3X,EAAMmkB,KAAKrM,MACZtO,EAAQtI,MAAMyF,OAASzI,KAAKgH,WAAWuf,WAAW1M,MAAQ,KAC1D,MACJ,QACIvO,EAAQtI,MAAMyF,OAASzI,KAAKgH,WAAWuf,WAAW5M,OAAS,KAInErO,EAAQtI,MAAMmM,UAAYnP,KAAKmP,UAAY,SACxC,CACH,OAAQnP,KAAKgb,MACT,KAAKlZ,EAAMmkB,KAAKO,QACZlb,EAAQtI,MAAMwF,MAAQ,OACtB,MACJ,KAAK1G,EAAMmkB,KAAKC,KACZ5a,EAAQtI,MAAM2hB,SAAW,OACzB,MACJ,KAAK7iB,EAAMmkB,KAAK1M,MACZjO,EAAQtI,MAAMwF,MAAQxI,KAAKgH,WAAWuf,WAAW9M,MAAQ,KACzD,MACJ,KAAK3X,EAAMmkB,KAAKrM,MACZtO,EAAQtI,MAAMwF,MAAQxI,KAAKgH,WAAWuf,WAAW1M,MAAQ,KACzD,MACJ,KAAK/X,EAAMmkB,KAAKvM,OACZpO,EAAQtI,MAAMwF,MAAQxI,KAAKgH,WAAWuf,WAAW5M,OAAS,KAIlErO,EAAQtI,MAAMmM,UAAY,OAGtC,EAEA,sBAAc,+BAAgB,KAA9B,WACI,OAAO,CACX,kCAEU,YAAAmC,eAAV,sBACQhG,OAAmCtK,EAEvC,GAAIhB,KAAKymB,IAAK,EACVnb,EAAUzI,SAASC,cAAc,QACzBE,MAAME,QAAU,OACxBoI,EAAQtI,MAAM0jB,WAAa,aAG3B,IAAM1f,EAAahH,KAAKgH,WAExB,OAAQhH,KAAKiX,mCACT,KAAKnV,EAAMoV,oBAAoByJ,OAC3BrV,EAAQtI,MAAM2jB,eAAiB,SAC/B,MACJ,KAAK7kB,EAAMoV,oBAAoB2J,MAC3BvV,EAAQtI,MAAM2jB,eAAiB,WAC/B,MACJ,QACIrb,EAAQtI,MAAM2jB,eAAiB,aAIvC,IAAMC,EAAe/jB,SAASC,cAAc,OAE5C9C,KAAK6mB,qBAAuBD,EAE5BA,EAAaE,OAAS,SAACC,GACnBC,GAAsB,EAC1B,EACAJ,EAAaK,QAAU,SAACF,GACpB,GAAI,EAAKnkB,gBAAiB,CACtB,IAAMY,EAAO,EAAK+R,iBAIlB,GAFAlK,EAAa,EAAKzI,iBAEdY,GAAQA,EAAKqS,WAAY,CACzB,IAAMqR,EAAerkB,SAASC,cAAc,OAC5CokB,EAAalkB,MAAME,QAAU,OAC7BgkB,EAAalkB,MAAM0jB,WAAa,SAChCQ,EAAalkB,MAAM2jB,eAAiB,SACpCO,EAAalkB,MAAM+e,gBAAkB,UACrCmF,EAAalkB,MAAMmD,MAAQ,QAC3B+gB,EAAa7W,UAAY,MACzB6W,EAAalkB,MAAMkN,QAAU,OAE7B,EAAKkW,UAAUc,GAEf,EAAKtkB,gBAAgBU,YAAY4jB,IAIzCF,GAAsB,EAC1B,EACAJ,EAAa5jB,MAAMmkB,SAAW,IAC9BP,EAAa3R,UAAUC,IAAIlO,EAAWiF,iBAAiB,aAEnDjM,KAAKiF,cAAgB+B,EAAWkX,wBAChC0I,EAAaQ,WAAa,SAAChmB,GAEnB,EAAK6D,cACL,EAAKA,aAAamZ,yBACN,UAAXhd,EAAEjB,MAA+B,UAAXiB,EAAEjB,QAGzBiB,EAAEid,iBACFjd,EAAEkd,cAAe,EAEjB,EAAKrZ,aAAasZ,UAE1B,EAEAqI,EAAazI,QAAU,SAAC/c,GAChB,EAAK6D,cAAgB,EAAKA,aAAamZ,yBACvChd,EAAEid,iBACFjd,EAAEkd,cAAe,EAEjB,EAAKrZ,aAAasZ,UAE1B,EAEAve,KAAKiF,aAAauZ,6BAA6BoI,GAE3C5mB,KAAKiF,aAAamZ,wBAClBwI,EAAa3R,UAAUC,IAAIlO,EAAWiF,iBAAiB,mBAI/DjM,KAAKomB,UAAUQ,GAEX5mB,KAAKgD,QAAUlB,EAAMqkB,WAAWkB,SAChCT,EAAa5jB,MAAMskB,aAAe,MAClCV,EAAa5jB,MAAMukB,mBAAqB,UACxCX,EAAa5jB,MAAMwkB,iBAAmB,aAG1C,IAAMzF,EAAkBte,EAAM6I,iBAAiBtM,KAAK+hB,iBAChDA,IACA6E,EAAa5jB,MAAM+e,gBAAkBA,GAGzC/hB,KAAKynB,eAAeb,GAEpB,IAAMc,EAAkB1nB,KAAK4d,wBAAwB+J,EAAMD,iBACvDA,IACAd,EAAagB,IAAcF,GAG/Bpc,EAAQhI,YAAYsjB,GAGxB,OAAOtb,CACX,EAIA,YAAAgF,gBAAA,WACI,MAAO,OACX,EAEA,YAAAkF,cAAA,WACI,IAAMpC,EAAS,YAAMoC,cAAa,WAMlC,OAJIxV,KAAKiF,cACLmO,EAAOsD,KAAK1W,KAAKiF,cAGdmO,CACX,EAEA,YAAAyD,cAAA,SAAc3R,GACV,IAAIkO,EAAS,YAAMyD,cAAa,UAAC3R,GAMjC,OAJKkO,GAAUpT,KAAKiF,eAChBmO,EAASpT,KAAKiF,aAAa4R,cAAc3R,IAGtCkO,CACX,EAEA,YAAAuD,uBAAA,WACI,OAAO3W,KAAKymB,IAAM,CAAC,CAAEA,IAAKzmB,KAAKymB,IAAKoB,SAAU,UAAa,EAC/D,EAEQ,YAAAJ,eAAR,SAAuBb,GACnB,IAAMkB,EAAqC,IAAIC,EAAiB/nB,KAAKgoB,UAAWhoB,KAAKymB,KACrFqB,EAAiBG,eAAejoB,MAChC4mB,EAAasB,IAAcloB,KAAK4d,wBAAwB+J,EAAMQ,aAC9DL,EAAiBM,WAAWpoB,KAChC,EAjRgB,EAAAmoB,YAAc,IAAI,EAAA5Q,eAAe,EAAAjS,SAASqS,KAAM,OAChD,EAAA+P,gBAAkB,IAAI,EAAAnQ,eAAe,EAAAjS,SAASqS,KAAM,WACpD,EAAA0Q,wBAA0B,IAAI,EAAA9Q,eAAe,EAAAjS,SAASkS,KAAM,mBAC5D,EAAA4J,cAAgB,IAAI,EAAArJ,aAChC,EAAAzS,SAASqS,KACT,QACA7V,EAAMqkB,WACNrkB,EAAMqkB,WAAWzT,SAEL,EAAA0J,aAAe,IAAI,EAAArE,aAC/B,EAAAzS,SAASqS,KACT,OACA7V,EAAMmkB,KACNnkB,EAAMmkB,KAAKC,MAEC,EAAAoC,mBAAqB,IAAIC,EACrC,EAAAjjB,SAASkS,KACT,QACA,cAEY,EAAAgR,oBAAsB,IAAID,EACtC,EAAAjjB,SAASkS,KACT,SACA,cACAvK,EAAY2K,gBAEA,EAAAoB,qBAAuB,IAAIL,EAAe,EAAArT,SAASkS,KAAM,eAAgB,CACrF,oBAEY,EAAAiR,wBAA0B,IAAI,EAAAhR,aAAa,EAAAnS,SAASojB,KAAM,aAAa,GAWvF,IADC,IAAAzQ,UAAS0P,EAAMQ,wCAIhB,IADC,IAAAlQ,UAAS0P,EAAMD,gDAIhB,IADC,IAAAzP,UAAS0P,EAAMU,gEAIhB,IADC,IAAApQ,UAAS0P,EAAMvL,0CAIhB,IADC,IAAAnE,UAAS0P,EAAMvG,4CAIhB,IADC,IAAAnJ,UAAS0P,EAAMW,sDAIhB,IADC,IAAArQ,UAAS0P,EAAMa,wDAIhB,IADC,IAAAvQ,UAAS0P,EAAM3O,0DAIhB,IADC,IAAAf,UAAS0P,EAAMc,0DAmNpB,EArRA,CAA2Bxb,GAAd,EAAA0a,MAAAA,EA0Rb,iBAGI,WACagB,EACAlC,GADA,KAAAkC,YAAAA,EACA,KAAAlC,IAAAA,EAGLA,GAAOA,EAAIhiB,QAAUkkB,IAKrB3oB,KAAK4oB,WAAa,IAAMC,KAAKC,MAC7B9oB,KAAK+oB,uBAAyBtC,EAAMzmB,KAAK4oB,WAEjD,CAWJ,OATW,YAAAX,eAAP,SAAsBe,GACdhpB,KAAK+oB,wBAA0B/oB,KAAK+oB,uBAAuBtkB,SAC3DukB,EAAMvC,IAAMzmB,KAAK+oB,uBAEzB,EAEO,YAAAX,WAAP,SAAkBY,GACdA,EAAMvC,IAAMzmB,KAAKymB,GACrB,EACJ,EA3BA,GA6BA,gFA8DI,EAAAwC,uBAAiC,GAkLrC,QAhPmD,OAOrC,YAAApQ,eAAV,SAAyBC,GACrB,YAAMD,eAAc,UAACC,GAEhB9Y,KAAKkpB,cACNpQ,EAAOjE,OAAOC,EAAqBkE,qBAE3C,EAOU,YAAAmQ,iBAAV,SAA2B7d,GACvB,OAAOtL,KAAKgH,WAAWkX,wBAA0B5S,EAAQ8d,aAC7D,EAEU,YAAA7X,aAAV,WAGI,GAFA,YAAMA,aAAY,WAEbvR,KAAK4C,gBAAV,CAIA,IAAIgP,EAAkB,IAAI,EAAAyX,kBAEtBrpB,KAAKqO,wBACLuD,EAAkB5R,KAAKgH,WAAWuH,qCAC9BvO,KAAKqO,wBAIbrO,KAAK4C,gBAAgBI,MAAMuJ,WAAaqF,EAAgBsC,IAAM,KAC9DlU,KAAK4C,gBAAgBI,MAAMsmB,aAAe1X,EAAgBnD,MAAQ,KAClEzO,KAAK4C,gBAAgBI,MAAMumB,cAAgB3X,EAAgByC,OAAS,KACpErU,KAAK4C,gBAAgBI,MAAM0J,YAAckF,EAAgBnH,KAAO,KAEhEzK,KAAK4C,gBAAgBI,MAAM2J,YAAc,IACzC3M,KAAK4C,gBAAgBI,MAAMwL,WAAa,IAC5C,EAEA,sBAAc,2BAAY,KAA1B,WACI,OAAO,CACX,kCAEU,YAAAgb,uBAAV,WACI,MAAO,EACX,EAUA,YAAAC,oBAAA,WACI,YAAMA,oBAAmB,WAEzB,IAAK,IAAI7U,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IACrC5U,KAAK2pB,UAAU/U,GAAG6U,qBAE1B,EAEA,YAAAG,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAEjC,IAAK,IAAIsC,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IAAK,CAC1C,IAAMiV,EAAO7pB,KAAK2pB,UAAU/U,IAEvB5U,KAAKgH,WAAWkX,uBAAyB2L,EAAKT,eAC/C9W,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBkE,wBACtB,EAAA/lB,QAAQyQ,OAAOuV,2BAIlBhqB,KAAKmpB,iBAAiBU,IACvBvX,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBkE,wBACtB,EAAA/lB,QAAQyQ,OAAOwV,sBAAsBJ,EAAKvZ,oBAIlDuZ,EAAKD,2BAA2BtX,GAGhCtS,KAAKkqB,eACLlqB,KAAKkqB,cAAcN,2BAA2BtX,EAEtD,EAEA,YAAA5M,OAAA,sBACU4F,EAAU,YAAM5F,OAAM,WAE5B,GAAI4F,EAAS,CACT,IAAMtE,EAAahH,KAAKgH,WAEpBhH,KAAKipB,wBACL3d,EAAQtI,MAAMmnB,UAAY,SAC1B7e,EAAQtI,MAAMonB,UAAY,QAI1B9e,GACAtL,KAAKkpB,cACLlpB,KAAKkqB,eACLljB,EAAWkX,wBAEX5S,EAAQ6S,QAAU,SAAC/c,GACX,EAAK8oB,eAAiB,EAAKA,cAAc9L,yBACzChd,EAAEid,iBACFjd,EAAEkd,cAAe,EAEjB,EAAK4L,cAAc3L,UAE3B,EAEAjT,EAAQ8b,WAAa,SAAChmB,GAEd,EAAK8oB,eACL,EAAKA,cAAc9L,yBACP,UAAXhd,EAAEjB,MAA+B,UAAXiB,EAAEjB,QAGzBiB,EAAEid,iBACFjd,EAAEkd,cAAe,EAEjB,EAAK4L,cAAc3L,UAE3B,EAEAve,KAAKkqB,cAAc1L,6BAA6BlT,GAE5CtL,KAAKkqB,cAAc9L,wBACnB9S,EAAQ2J,UAAUC,IAAIlO,EAAWiF,iBAAiB,mBAK9D,OAAOX,CACX,EAEA,YAAA8J,aAAA,SAAa4L,GAGT,QAHS,IAAAA,IAAAA,GAAA,GACT,YAAM5L,aAAY,UAAC4L,GAEfA,EACA,IAAK,IAAIpM,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IACrC5U,KAAK2pB,UAAU/U,GAAGQ,cAG9B,EAEA,YAAAzE,aAAA,SAAa8F,QAAA,IAAAA,IAAAA,GAAA,GAGT,IAFA,IAAIrD,EAAkB,GAEbwB,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IACrCxB,EAAOsD,KAAI,MAAXtD,EAAepT,KAAK2pB,UAAU/U,GAAGjE,aAAa8F,IAGlD,OAAOrD,CACX,EAEA,YAAAoC,cAAA,WAGI,IAFA,IAAMpC,EAAS,YAAMoC,cAAa,WAEzBZ,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IACrCxB,EAAOsD,KAAI,MAAXtD,EAAepT,KAAK2pB,UAAU/U,GAAGY,iBAOrC,OAJIxV,KAAKkqB,eACL9W,EAAOsD,KAAK1W,KAAKkqB,eAGd9W,CACX,EAEA,YAAAuD,uBAAA,WAGI,IAFA,IAAIvD,EAAiC,GAE5BwB,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IACrCxB,EAAOsD,KAAI,MAAXtD,EAAepT,KAAK2pB,UAAU/U,GAAG+B,0BAGrC,OAAOvD,CACX,EAEA,YAAAwD,eAAA,SAAe1R,GACX,IAAIkO,EAAS,YAAMwD,eAAc,UAAC1R,GAElC,IAAKkO,EACD,IAAK,IAAIwB,EAAI,EAAGA,EAAI5U,KAAK0pB,kBACrBtW,EAASpT,KAAK2pB,UAAU/U,GAAGgC,eAAe1R,IADL0P,KAS7C,OAAOxB,CACX,EAKA,YAAAiX,iBAAA,SAAiBC,GAGb,UAFI9R,OAAiCxX,EAE5B4T,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IAIrC,GAFA4D,EAASxY,KAAK2pB,UAAU/U,GAAGyV,iBAAiBC,GAGxC,OAAO9R,EAKf,IAAS5D,EAAI,EAAGA,EAAI5U,KAAKsU,iBAAkBM,IAGvC,GAFA4D,EAA4B,QAAnB,EAAAxY,KAAKuU,YAAYK,UAAE,eAAEyV,iBAAiBC,GAG3C,OAAO9R,EAKf,OAAO,YAAM6R,iBAAgB,UAACC,EAClC,EA5OgB,EAAAtR,qBAAuB,IAAIL,EAAe,EAAArT,SAASkS,KAAM,eAAgB,CACrF,oBAYJ,IADC,IAAAS,UAASnD,EAAqBkE,2DAiOnC,EAhPA,CAAmD/L,GAA7B,EAAA6H,qBAAAA,EAkPtB,oFAkCY,EAAAyV,QAAmB,GAG3B,EAAAC,UAA6B1oB,EAAM2oB,UAAU/Q,OAG7C,EAAAgR,kBAAqD5oB,EAAM6oB,0BAA0BjY,QAGrF,EAAAkY,YAAsB,GA6H1B,QAxK8B,OA+ChB,YAAAtZ,eAAV,WACI,IAAIhG,OAAmCtK,EAEvC,GAAIhB,KAAKuqB,QAAQ9lB,OAAS,EAAG,EACzB6G,EAAUzI,SAASC,cAAc,QACzBE,MAAME,QAAU,OACxBoI,EAAQtI,MAAM6nB,SAAW,OAEzB,IAAoB,UAAA7qB,KAAKuqB,QAAL,eAAc,CAA7B,IAAMvB,EAAK,KACZ,OAAQhpB,KAAKwqB,WACT,KAAK1oB,EAAM2oB,UAAUlR,MACjByP,EAAMhO,KAAOlZ,EAAMmkB,KAAK1M,MACxB,MACJ,KAAKzX,EAAM2oB,UAAU7Q,MACjBoP,EAAMhO,KAAOlZ,EAAMmkB,KAAKrM,MACxB,MACJ,QACIoP,EAAMhO,KAAOlZ,EAAMmkB,KAAKvM,OAIhCsP,EAAM7Z,UAAYnP,KAAKgH,WAAW8jB,SAASC,eAE3C,IAAMC,EAAgBhC,EAAMtjB,SAExBslB,IACAA,EAAchoB,MAAME,QAAU,cAC9B8nB,EAAchoB,MAAMioB,OAAS,MACzBjrB,KAAK0qB,mBAAqB5oB,EAAM6oB,0BAA0BjY,UAC1DsY,EAAchoB,MAAM2J,YAAc,QAGtClJ,EAAMH,YAAYgI,EAAS0f,IAG/BhrB,KAAK0qB,mBAAqB5oB,EAAM6oB,0BAA0BO,SAC1DlrB,KAAKmrB,gCAKb,OAAO7f,CACX,EAEA,YAAA6f,8BAAA,WACI,GAAInrB,KAAKuqB,QAAQ,GAAG1D,qBAAsB,CACtC,IAAIuE,EAAYC,EAAyBC,2BAA2BtrB,KAAKuqB,QAAQ,GAAG1D,qBAAqB7jB,MAAMyF,QAC3G8iB,EAAUvrB,KAAKwrB,8BACfJ,GAC+B,IAAIC,EAAyBrrB,KAAK4qB,YAC7DQ,EAAWG,GACUE,oCAAoCzrB,KAAKuqB,SAG9E,EAEA,YAAAiB,4BAAA,WACI,IAAIrd,EAAkBnO,KAAKoO,qBACvBpL,EAAQmL,aAAe,EAAfA,EAAiB0E,oBAEvBlD,EAAkB3P,KAAKgH,WAAW+L,gBAAgBC,eACpDhQ,EACAhD,KAAKgH,WAAW+L,gBAAgBC,eAAehT,KAAK8S,eAGxD,OAAOrP,EAAM6I,iBAAiBqD,EAAgBoS,gBAClD,EAEA,YAAA2H,aAAA,WACI,OAAO1pB,KAAKuqB,QAAQ9lB,MACxB,EAEA,YAAAklB,UAAA,SAAUnV,GACN,OAAOxU,KAAKuqB,QAAQ/V,EACxB,EAEA,YAAAkX,4BAAA,WACI,OAAO1rB,KAAKuqB,SAAWvqB,KAAKuqB,QAAQ9lB,OAAS,EAAIzE,KAAKuqB,QAAQ,QAAKvpB,CACvE,EAEA,YAAA2qB,2BAAA,WACI,OAAO3rB,KAAKuqB,SAAWvqB,KAAKuqB,QAAQ9lB,OAAS,EACvCzE,KAAKuqB,QAAQvqB,KAAKuqB,QAAQ9lB,OAAS,QACnCzD,CACV,EAEA,YAAA+T,WAAA,SAAW8U,GACP,GAAIA,aAAgBlC,EAAO,CACvB,IAAMiE,EAAY5rB,KAAKuqB,QAAQ7U,QAAQmU,GAEvC,GAAI+B,GAAa,EAOb,OANA5rB,KAAKuqB,QAAQ3G,OAAOgI,EAAW,GAE/B/B,EAAK/G,eAAU9hB,GAEfhB,KAAKoV,gBAEE,EAIf,OAAO,CACX,EAEA,YAAA9E,gBAAA,WACI,MAAO,UACX,EAEA,YAAAub,SAAA,SAAS7C,GACL,GAAKA,EAAM7b,OAKP,MAAM,IAAIhL,MAAM,kDAJhBnC,KAAKuqB,QAAQ7T,KAAKsS,GAElBA,EAAMlG,UAAU9iB,KAIxB,EAEA,YAAA0V,QAAA,SAAQoW,GACJ,OAAOA,aAAuBnE,EAAQ3nB,KAAKuqB,QAAQ7U,QAAQoW,IAAgB,CAC/E,EApKgB,EAAAC,eAAiB,IAAI,EAAAjH,qCACjC,EAAAxf,SAASqS,KACT,SACAgQ,GACA,SAAC7hB,EAA4B+jB,GACzBA,EAAK/G,UAAuBhd,EAChC,IAGY,EAAAkmB,kBAAoB,IAAI,EAAAjU,aACpC,EAAAzS,SAASqS,KACT,YACA7V,EAAM2oB,UACN3oB,EAAM2oB,UAAU/Q,QAGJ,EAAAuS,uBAAyB,IAAI,EAAAlU,aACzC,EAAAzS,SAASojB,KACT,QACA5mB,EAAM6oB,0BACN7oB,EAAM6oB,0BAA0BjY,SAGpB,EAAAkY,YAAc,IAAI,EAAAzJ,YAC9B,EAAA7b,SAASojB,KACT,SACA,OACA1nB,GAIJ,IADC,IAAAiX,UAASiU,EAASH,+CAInB,IADC,IAAA9T,UAASiU,EAASF,oDAInB,IADC,IAAA/T,UAASiU,EAASD,iEAInB,IADC,IAAAhU,UAASiU,EAAStB,gDA8HvB,EAxKA,CAA8B9V,GAAjB,EAAAoX,SAAAA,EA0Kb,iBASI,WAAYC,EAAgBf,EAAmBpoB,GARvC,KAAAopB,OAAS,MACT,KAAAC,eAAyB,EACzB,KAAAF,OAAiB,EACjB,KAAAG,sBAAgC,EAChC,KAAArc,OAAiB,EACjB,KAAAmb,UAAoB,EAIxBprB,KAAKorB,UAAYA,EACjBprB,KAAKssB,sBAAsE,GAA7ClB,EAAYprB,KAAKosB,OAAS,GAAMhB,GAQ9DprB,KAAKmsB,OAASnsB,KAAKosB,QAAUG,KAAKC,IAAIL,GAASf,GAAaprB,KAAKssB,uBACjEtsB,KAAKgD,MAAQA,GAAgB,EACjC,CA+DJ,OA7DY,YAAAypB,eAAR,SAAuBnhB,GACnBA,EAAQtI,MAAMwL,WAAaxO,KAAKmsB,OAAS,IAC7C,EAEQ,YAAAO,YAAR,SAAoBphB,GAChBA,EAAQtI,MAAMwJ,aAAexM,KAAKmsB,OAASnsB,KAAKorB,UAAW,IAC/D,EAEQ,YAAAuB,cAAR,SAAsBrhB,GAClBA,EAAQtI,MAAM0c,UAAY1f,KAAKmsB,OAASnsB,KAAKorB,UAAY,IAC7D,EAEQ,YAAAwB,eAAR,SAAuBthB,GACnBA,EAAQtI,MAAMskB,aAAe,MAC7Bhc,EAAQtI,MAAMukB,mBAAqB,UACnCjc,EAAQtI,MAAMwkB,iBAAmB,WACrC,EAEQ,YAAAqF,YAAR,SAAoBvhB,GAChBA,EAAQtI,MAAMyF,OAAUzI,KAAKorB,UAA0B,EAAdprB,KAAKiQ,OAAc,KAC5D3E,EAAQtI,MAAMiN,OAASjQ,KAAKiQ,OAALjQ,YAAiCA,KAAKgD,KACjE,EAEQ,YAAA8pB,4BAAR,SAAoCxhB,GAChCtL,KAAK2sB,cAAcrhB,GACnBtL,KAAK4sB,eAAethB,GACpBtL,KAAK6sB,YAAYvhB,GACjBA,EAAQtI,MAAM+pB,OAAS,GAC3B,EAEQ,YAAAC,0BAAR,SAAkC1hB,GAC9BtL,KAAK0sB,YAAYphB,GACjBtL,KAAKysB,eAAenhB,GACpBtL,KAAK4sB,eAAethB,GACpBA,EAAQtI,MAAM+pB,OAAS,GAC3B,EAMO,YAAAtB,oCAAP,SAA2CwB,GAChB,GAAnBA,EAASxoB,OACLwoB,EAAS,GAAGpG,sBACZ7mB,KAAK4sB,eAAeK,EAAS,GAAGpG,sBAG/BoG,EAASxoB,QAAUzE,KAAKqsB,gBACzBY,EAAS,GAAGpG,sBAAwBoG,EAAS,GAAGpG,uBAChD7mB,KAAK8sB,4BAA4BG,EAAS,GAAGpG,sBAC7C7mB,KAAKgtB,0BAA0BC,EAAS,GAAGpG,sBAGvD,EAEc,EAAAyE,2BAAd,SAAyCF,GACrC,GAAkD,OAA9CA,aAAS,EAATA,EAAW8B,UAAU9B,EAAU3mB,OAAS,IACxC,OAAO0oB,SAAS/B,EAAU8B,UAAU,EAAG9B,EAAU3mB,OAAS,GAGlE,EACJ,EApFA,GAsFA,cAcI,WAAYgiB,EAAcoB,GAA1B,MACI,cAAO,YAEP,EAAKpB,IAAMA,EACX,EAAKoB,SAAWA,GACpB,CAKJ,OAxB4C,OAqBxC,YAAAxC,QAAA,WACI,SAAOrlB,KAAK6nB,WAAY7nB,KAAKymB,IACjC,EApBgB,EAAA2G,iBAAmB,IAAI,EAAA7V,eAAe,EAAAjS,SAASkS,KAAM,YACrD,EAAA2Q,YAAc,IAAI,EAAA5Q,eAAe,EAAAjS,SAASkS,KAAM,OAGhE,IADC,IAAAS,UAASoV,EAAcD,kDAIxB,IADC,IAAAnV,UAASoV,EAAclF,wCAe5B,EAxBA,CAA4C,EAAAjE,oBAAtB,EAAAmJ,cAAAA,EA0BtB,kBAUI,WAAY5G,EAAcoB,EAAmByF,GAA7C,MACI,YAAM7G,EAAKoB,IAAS,YAEpB,EAAKyF,MAAQA,GACjB,CAkBJ,OAhCmC,OAgBrB,YAAAxJ,aAAV,WACI,MAAO,eACX,EAEA,YAAApe,OAAA,WACI,IAAI0N,OAAuCpS,EAS3C,OAPIhB,KAAKqlB,aACLjS,EAASvQ,SAASC,cAAc,UACzBolB,IAAMloB,KAAKymB,IAClBrT,EAAOma,KAAO,WACdna,EAAOka,MAAQttB,KAAKstB,OAGjBla,CACX,EA5BgB,EAAAoa,cAAgB,IAAI,EAAAjW,eAAe,EAAAjS,SAASojB,KAAM,SAGlE,IADC,IAAAzQ,UAASwV,EAAcD,4CA2B5B,EAhCA,CAAmCH,GAAtB,EAAAI,cAAAA,EAkCb,6EAgBA,QAhBiC,OACnB,YAAA3J,aAAV,WACI,MAAO,aACX,EAEA,YAAApe,OAAA,WACI,IAAI0N,OAAwCpS,EAQ5C,OANIhB,KAAKqlB,aACLjS,EAASvQ,SAASC,cAAc,WACzBolB,IAAMloB,KAAKymB,IAClBrT,EAAOrS,KAAOf,KAAK6nB,UAGhBzU,CACX,EACJ,EAhBA,CAAiCia,GAApB,EAAAK,YAAAA,EAkBb,8BAsBA,QAfI,YAAAC,KAAA,WAEA,EAEA,sBAAI,wBAAS,KAAb,WACI,OAAO3tB,KAAK4tB,UAChB,MAEA,SAAwB3sB,GACpBjB,KAAK4tB,WAAa3sB,CACtB,kCAEA,sBAAI,gCAAiB,KAArB,WAEA,kCACJ,EAtBA,GAAsB,EAAA4sB,YAAAA,EAwBtB,kBAiCI,WAAqBC,GAArB,MACI,cAAO,YADU,EAAAA,MAAAA,EA/Bb,EAAAC,iBAAkC,GAClC,EAAAC,gBAAmC,GAiCvC,EAAKC,kBACT,CA+DJ,OApGsC,OAM1B,YAAAA,eAAR,iBACIjuB,KAAK+tB,iBAAmB,GACxB/tB,KAAKguB,gBAAkB,GACvBhuB,KAAKkuB,wBAAqBltB,EAE1B,IAAqB,UAAAhB,KAAK8tB,MAAMK,QAAX,eAAoB,CAApC,IAAMxb,EAAM,KACPyb,EAAiBzb,EAAOkV,SAAWlV,EAAOkV,SAASwG,MAAM,KAAO,GAEtE,GAA8B,IAA1BD,EAAe3pB,OAAc,CAC7B,IAAKzE,KAAKkuB,mBAAoB,CAC1B,IAAM1Z,EAAQ8Z,EAAiBC,oBAAoB7Y,QAAQ0Y,EAAe,IAEtE5Z,GAAS,IACTxU,KAAKkuB,mBAAqBI,EAAiBC,oBAAoB/Z,IAGnE4Z,EAAe,KAAOpuB,KAAKkuB,oBAC3BluB,KAAK+tB,iBAAiBrX,KAAK/D,KAKvC,EAAA3S,KAAKguB,iBAAgBtX,KAAI,QAAI1W,KAAK8tB,MAAMU,eAC5C,EAUA,YAAAC,QAAA,WACI,OAAOzuB,KAAK+tB,iBAAiBtpB,OAAS,CAC1C,EAEM,YAAAiqB,kBAAN,+FAIA,YAAAhpB,OAAA,WACoC,UAA5B1F,KAAKkuB,mBACLluB,KAAK2uB,cAAgB9rB,SAASC,cAAc,SAE5C9C,KAAK2uB,cAAgB9rB,SAASC,cAAc,SAGhD9C,KAAK2uB,cAAcviB,aACf,aACApM,KAAK8tB,MAAMc,QAAU5uB,KAAK8tB,MAAMc,QAAU,EAAA5qB,QAAQ6qB,SAASC,wBAE/D9uB,KAAK2uB,cAAcviB,aAAa,qBAAsB,IACtDpM,KAAK2uB,cAAcviB,aAAa,cAAe,IAI/CpM,KAAK2uB,cAAcviB,aAAa,cAAe,IAC/CpM,KAAK2uB,cAAcI,UAAW,EAC9B/uB,KAAK2uB,cAAcK,UAAW,EAE1BvrB,EAAMwrB,eACNjvB,KAAK2uB,cAAcO,OAAQ,GAG/BlvB,KAAK2uB,cAAcQ,QAAU,OAC7BnvB,KAAK2uB,cAAc3rB,MAAMwF,MAAQ,OAEjC,IAAqB,UAAAxI,KAAK8tB,MAAMK,QAAX,eAAoB,CAApC,IACKiB,EADO,KACiB1pB,SAE9BjC,EAAMH,YAAYtD,KAAK2uB,cAAeS,GAG1C,IAA4B,UAAApvB,KAAK8tB,MAAMU,eAAX,eAA2B,CAAlD,IAAMa,EAAa,KACpB,GAA8B,OAA1BA,EAAcxH,SAAmB,CACjC,IAAMyH,EAAwBD,EAAc3pB,SAE5CjC,EAAMH,YAAYtD,KAAK2uB,cAAeW,IAI9C,OAAOtvB,KAAK2uB,aAChB,EAEA,YAAAhB,KAAA,WACQ3tB,KAAK2uB,eACL3uB,KAAK2uB,cAAchB,MAE3B,EAEA,sBAAI,gCAAiB,KAArB,WACI,OAAO3tB,KAAKkuB,kBAChB,kCApEgB,EAAAK,oBAAsB,CAAC,QAAS,SAqEpD,EApGA,CAAsCV,GAAzB,EAAAS,iBAAAA,EAsGb,kBACI,WAAYiB,UACR,cAAO,IACX,CACJ,OAJgD,OAIhD,EAJA,CAAgD1B,GAA1B,EAAA2B,kBAAAA,EAMtB,kBAGI,WAAYD,EAAmCE,GAA/C,MACI,YAAMF,IAAQ,YAD6B,EAAAE,YAAAA,EAGvCF,EAAQ9qB,QAAU,IAClB,EAAKirB,SAAWH,EAAQ,KAEhC,CAwCJ,OAjDqD,OAajD,YAAAd,QAAA,WACI,YAAyBztB,IAAlBhB,KAAK0vB,QAChB,EAEA,YAAAhqB,OAAA,WACI,IAAIiqB,EAAY9sB,SAASC,cAAc,OACvC6sB,EAAU3sB,MAAMC,SAAW,WAC3B0sB,EAAU3sB,MAAMwF,MAAQ,OACxBmnB,EAAU3sB,MAAMyF,OAAS,IACzBknB,EAAU3sB,MAAMumB,cAAgB,SAEhC,IAAIqG,EAAS/sB,SAASC,cAAc,UAmBpC,OAlBA8sB,EAAO5sB,MAAMC,SAAW,WACxB2sB,EAAO5sB,MAAMkR,IAAM,IACnB0b,EAAO5sB,MAAMyH,KAAO,IACpBmlB,EAAO5sB,MAAMwF,MAAQ,OACrBonB,EAAO5sB,MAAMyF,OAAS,OACtBmnB,EAAO1H,IAAMloB,KAAK6vB,mBAClBD,EAAOE,YAAc,IAEjB9vB,KAAKyvB,cACLG,EAAOnpB,MAAQzG,KAAKyvB,aAGxBG,EAAOG,MACH,2FACJH,EAAOI,iBAAkB,EAEzBL,EAAUrsB,YAAYssB,GAEfD,CACX,EAEA,sBAAI,sBAAO,KAAX,WACI,OAAO3vB,KAAK0vB,QAChB,kCACJ,EAjDA,CAAqDF,GAA/B,EAAAS,uBAAAA,EAmDtB,6EAgBA,QAhBiC,OACvB,YAAAvB,kBAAN,+GAGmB,OAFTwB,EAAY,yCAAyClwB,KAAK6vB,mBAEjD,GAAMM,MAAMD,kBAAvBpnB,EAAW,UAEFsnB,GACE,GAAMtnB,EAASunB,QAD1B,aACIA,EAAO,SAEXrwB,KAAKswB,UAAYD,EAAoB,iDAI7C,YAAAR,iBAAA,WACI,MAAO,kCAAkC7vB,KAAKuwB,QAAO,aACzD,EACJ,EAhBA,CAAiCN,GAApB,EAAAO,YAAAA,EAkBb,6EAgBA,QAhBuC,OAC7B,YAAA9B,kBAAN,+GAGmB,OAFT+B,EAAS,qCAAqCzwB,KAAKuwB,QAAO,4BAEjD,GAAMJ,MAAMM,kBAAvB3nB,EAAW,UAEFsnB,GACE,GAAMtnB,EAASunB,QAD1B,aACIA,EAAO,SAEXrwB,KAAKswB,UAAYD,EAAwB,qDAIjD,YAAAR,iBAAA,WACI,MAAO,2CAA2C7vB,KAAKuwB,QAAO,aAClE,EACJ,EAhBA,CAAuCN,GAA1B,EAAAS,kBAAAA,EAkBb,kBAGI,WAAYnB,EAAmCE,GAA/C,MACI,YAAMF,EAASE,IAAY,YADgB,EAAAA,YAAAA,EAGvCF,EAAQ9qB,QAAU,QAAoBzD,IAAfuuB,EAAQ,KAC/B,EAAKoB,gBAAkBxD,SAASoC,EAAQ,MAEhD,CAiBJ,OA1BmC,OAWzB,YAAAb,kBAAN,qFACI1uB,KAAKswB,UAAYtwB,KAAKuwB,QAChB,8BAA8BvwB,KAAKuwB,QAAO,0BAC1CvvB,aAGV,YAAA6uB,iBAAA,WACI,IAAIpJ,EAAM,iCAAiCzmB,KAAKuwB,QAAO,cAMvD,YAJ6BvvB,IAAzBhB,KAAK2wB,kBACLlK,GAAO,UAAUzmB,KAAK2wB,iBAGnBlK,CACX,EACJ,EA1BA,CAAmCwJ,GAAtB,EAAAW,cAAAA,EAiCb,IAiRK/f,EAjRL,gFAsCI,EAAAsd,QAAyB,GAGzB,EAAAK,eAAkC,IAsOtC,QA/Q2B,OAqDf,YAAAqC,kBAAR,WACI,IAAqB,UAAAC,EAAMC,mBAAN,eACjB,IADC,IAAIC,EAAQ,KACM,MAAAhxB,KAAKmuB,QAAL,eAAc,CAA5B,IAAIxb,EAAM,KACX,GAAIA,EAAO8T,IACP,IAAoB,UAAAuK,EAASC,YAAT,eAAsB,CAArC,IACG1B,EADQ,KACU2B,KAAKve,EAAO8T,KAElC,GAAgB,OAAZ8I,EACA,OAAOyB,EAASH,kBAAkBtB,IAOtD,OAAO,IAAIjB,EAAiBtuB,KAChC,EAEQ,YAAAmxB,uBAAR,SAA+BC,GAC3B,GAAIpxB,KAAKgH,WAAWqqB,MAAMC,qBAItB,GAHAF,EAAM/S,iBACN+S,EAAM9S,cAAe,EAEjBte,KAAK4C,gBAAiB,CACtB,IAAM2uB,EAAqBvxB,KAAKwxB,aAAa9rB,SAC7C2F,EAAarL,KAAK4C,iBAClB5C,KAAK4C,gBAAgBU,YAAYiuB,GAEjCvxB,KAAKwxB,aAAa7D,OAElB4D,EAAmBE,cAGnBX,EAAMY,SACNN,EAAM/S,iBACN+S,EAAM9S,cAAe,EAErBwS,EAAMY,OAAO1xB,MAGzB,EAEc,YAAA2xB,cAAd,4GACQ3xB,KAAK4C,mBAIC,EAAoBC,SAASC,cAAc,QAC/BC,UAAY/C,KAAKgH,WAAWiF,iBAAiB,mBAC/D,EAAkBG,aAAa,OAAQ,eACvC,EAAkBA,aACd,aACApM,KAAK4uB,QAAU5uB,KAAK4uB,QAAU,EAAA5qB,QAAQ6qB,SAASC,wBAEnD,EAAkB9rB,MAAMC,SAAW,WACnC,EAAkBD,MAAME,QAAU,QAE9BotB,EAAYtwB,KAAK4xB,OAAS5xB,KAAK4xB,OAAS5xB,KAAKwxB,aAAalB,aAG1DA,EAAYtwB,KAAKgH,WAAWqqB,MAAMQ,eAGlCvB,IACM,EAAqBztB,SAASC,cAAc,QAC/BE,MAAMwF,MAAQ,OACjC,EAAmBxF,MAAMyF,OAAS,OAClC,EAAmB2D,aAAa,OAAQ,gBAExC,EAAmB6a,QAAU,SAACF,GACtB,EAAmB+K,YACnB,EAAmBA,WAAWlpB,YAAY,GAG9C,EAAkBqM,UAAUC,IAAI,SAChC,EAAkBlS,MAAMmN,UAAY,OACxC,EAEA,EAAmB+X,IAAMoI,EAEzB,EAAkBhtB,YAAY,KAE9B,EAAkB2R,UAAUC,IAAI,SAChC,EAAkBlS,MAAMmN,UAAY,SAGpCnQ,KAAKgH,WAAWkX,uBAAyBle,KAAKwxB,aAAa/C,aACrDsD,EAAyBlvB,SAASC,cAAc,QAC/BkvB,SAAW,EAClCD,EAAuB3lB,aAAa,OAAQ,UAC5C2lB,EAAuB3lB,aACnB,aACA,EAAApI,QAAQ6qB,SAASoD,wBAErBF,EAAuBhvB,UACnB/C,KAAKgH,WAAWiF,iBAAiB,uBACrC8lB,EAAuB/uB,MAAME,QAAU,OACvC6uB,EAAuB/uB,MAAM0jB,WAAa,SAC1CqL,EAAuB/uB,MAAM2jB,eAAiB,SAC9CoL,EAAuB5T,QAAU,SAAC/c,GAC9B,EAAK+vB,uBAAuB/vB,EAChC,EAEA2wB,EAAuB3K,WAAa,SAAChmB,GAClB,UAAXA,EAAEjB,MAA+B,UAAXiB,EAAEjB,MAExB,EAAKgxB,uBAAuB/vB,EAEpC,GAEM8wB,EAAyBrvB,SAASC,cAAc,QAC/BC,UAAY/C,KAAKgH,WAAWiF,iBAC/C,6BAEJimB,EAAuBlvB,MAAMwF,MAAQ2pB,OACrCD,EAAuBlvB,MAAMyF,OAAS2pB,OACtCF,EAAuBlvB,MAAMqvB,eAAiBD,QAC9CF,EAAuBlvB,MAAMsvB,kBAAoBF,QACjDF,EAAuBlvB,MAAMuvB,gBAAkBJ,OAC/CD,EAAuBlvB,MAAMwvB,iBAAmB,IAChDN,EAAuBlvB,MAAMshB,YAAc,QAC3C4N,EAAuBlvB,MAAMyvB,eAAiB,cAC9CP,EAAuBlvB,MAAM0vB,iBAAmB,cAChDR,EAAuBlvB,MAAM2vB,kBAAoB,cACjDT,EAAuBlvB,MAAM4vB,UACzB,uBAEJb,EAAuBzuB,YAAY4uB,IAE7BW,EAAsBhwB,SAASC,cAAc,QAC/BE,MAAMC,SAAW,WACrC4vB,EAAoB7vB,MAAMyH,KAAO,IACjCooB,EAAoB7vB,MAAMkR,IAAM,IAChC2e,EAAoB7vB,MAAMwF,MAAQ,OAClCqqB,EAAoB7vB,MAAMyF,OAAS,OACnCoqB,EAAoB7vB,MAAME,QAAU,OACpC2vB,EAAoB7vB,MAAM2jB,eAAiB,SAC3CkM,EAAoB7vB,MAAM0jB,WAAa,SAEvCmM,EAAoBvvB,YAAYyuB,GAChC,EAAkBzuB,YAAYuvB,IAGlCxnB,EAAarL,KAAK4C,iBAClB5C,KAAK4C,gBAAgBU,YAAY,eAI/B,YAAAgO,eAAV,WACI,IAAMhG,EAAuBzI,SAASC,cAAc,OAGpD,OAFAwI,EAAQvI,UAAY/C,KAAKgH,WAAWiF,iBAAiB,YAE9CX,CACX,EAIA,YAAA5F,OAAA,sBACQ0N,EAAS,YAAM1N,OAAM,WAQzB,OANI0N,IACApT,KAAKwxB,aAAexxB,KAAK6wB,oBAEzB7wB,KAAKwxB,aAAa9C,oBAAoBoE,MAAK,WAAM,SAAKnB,eAAL,KAG9Cve,CACX,EAEA,YAAAqW,oBAAA,WACI,YAAMA,oBAAmB,WAEzBzpB,KAAK2xB,eACT,EAEA,YAAArhB,gBAAA,WACI,MAAO,OACX,EAEA,YAAAqG,uBAAA,WACI,IAAMvD,EAAiC,GAEvC,GAAIpT,KAAKwxB,aAAc,CACnB,IAAMlB,EAAYtwB,KAAK4xB,OAAS5xB,KAAK4xB,OAAS5xB,KAAKgH,WAAWqqB,MAAMQ,cAEhEvB,GACAld,EAAOsD,KAAK,CAAE+P,IAAK6J,EAAWzI,SAAU,UAIhD,IAA0B,UAAA7nB,KAAKmuB,QAAL,eAAc,CAAnC,IAAM4E,EAAW,KACdA,EAAY1N,WACZjS,EAAOsD,KAAK,CAER+P,IAAKsM,EAAYtM,IACjBoB,SAAUkL,EAAYlL,WAMlC,IAA4B,UAAA7nB,KAAKwuB,eAAL,eAAqB,CAA5C,IAAMa,EAAa,KAChBA,EAAchK,WACdjS,EAAOsD,KAAK,CAER+P,IAAK4I,EAAc5I,IACnBoB,SAAUwH,EAAcxH,WAMpC,OAAOzU,CACX,EAEA,sBAAI,gCAAiB,KAArB,WACI,OAAOpT,KAAKwxB,aAAawB,iBAC7B,kCA7QO,EAAAjC,mBAA2C,CAC9C,CACIE,YAAa,CACT,0FACA,0DAEJJ,kBAAmB,SAACtB,GAChB,WAAIqB,EAAcrB,EAAS,EAAAvrB,QAAQ6qB,SAASoE,qBAA5C,GAER,CACIhC,YAAa,CAAC,+CACdJ,kBAAmB,SAACtB,GAChB,WAAIiB,EAAYjB,EAAS,EAAAvrB,QAAQ6qB,SAASqE,mBAA1C,GAER,CACIjC,YAAa,CAAC,qEACdJ,kBAAmB,SAACtB,GAChB,WAAImB,EAAkBnB,EAAS,EAAAvrB,QAAQ6qB,SAASsE,yBAAhD,IAMI,EAAAC,gBAAkB,IAAI,EAAAtO,qCAClC,EAAAxf,SAASkS,KACT,UACAkW,GAEY,EAAA2F,uBAAyB,IAAI,EAAAvO,qCACzC,EAAAxf,SAASojB,KACT,iBACA+E,GAEY,EAAA6F,eAAiB,IAAI,EAAA/b,eAAe,EAAAjS,SAASkS,KAAM,UACnD,EAAAkQ,gBAAkB,IAAI,EAAAnQ,eAAe,EAAAjS,SAASkS,KAAM,WAGpE,IADC,IAAAS,UAAS6Y,EAAMsC,gDAIhB,IADC,IAAAnb,UAAS6Y,EAAMuC,8DAIhB,IADC,IAAApb,UAAS6Y,EAAMwC,8CAIhB,IADC,IAAArb,UAAS6Y,EAAMpJ,gDAiOpB,EA/QA,CAA2Bza,GAAd,EAAA6jB,MAAAA,EAiRb,SAAKjgB,GACD,qCACA,2CACA,2CACA,8BACH,CALD,CAAKA,IAAAA,EAAc,KAOnB,oFA+FI,EAAA0iB,WAA+BzxB,EAAM0xB,WAAW9gB,SAwUpD,QAvaoC,OAgHtB,YAAA+gB,eAAV,WACI,IAAMC,EAAqB,GAc3B,OAZI1zB,KAAK2zB,YACLD,EAAShd,KAAK1W,KAAK2zB,YAGnB3zB,KAAK4zB,uBACLF,EAAShd,KAAK1W,KAAK4zB,sBAAsB1uB,IAGzClF,KAAK6zB,8BACLH,EAAShd,KAAK1W,KAAK6zB,6BAA6B3uB,IAG7CwuB,CACX,EAEU,YAAAI,iCAAV,WACI,GAAI9zB,KAAK+zB,6BAA8B,CACnC,IAAML,EAAqB1zB,KAAKyzB,iBAE5BC,EAASjvB,OAAS,EAClBzE,KAAK+zB,6BAA6B3nB,aAC9B,kBACAsnB,EAASM,KAAK,MAGlBh0B,KAAK+zB,6BAA6BE,gBAAgB,mBAG9D,EAEA,sBAAc,yBAAU,KAAxB,WACI,OAAO,CACX,kCAEA,sBAAc,0CAA2B,KAAzC,WACI,OAAOj0B,KAAK+zB,4BAChB,kCAEA,sBAAc,2CAA4B,KAA1C,WACI,OAAO/zB,KAAKk0B,6BAChB,kCAEU,YAAA7iB,uBAAV,sBACUrK,EAAahH,KAAKgH,WAExBhH,KAAKm0B,uBAAyBtxB,SAASC,cAAc,OACrD9C,KAAKm0B,uBAAuBnxB,MAAME,QAAU,OACxClD,KAAKo0B,gBAAkBtyB,EAAMuyB,mBAAmBC,OAChDt0B,KAAKm0B,uBAAuBnxB,MAAMG,cAAgB,MAElDnD,KAAKm0B,uBAAuBnxB,MAAMG,cAAgB,SAGtD,IAAMoxB,EAAyB9wB,EAAM+wB,mBAErC,GAAIx0B,KAAKstB,MAAO,CACZ,IAAMmH,EAAqB,IAAI5Q,EAC/B4Q,EAAmB3R,UAAU9iB,MAC7By0B,EAAmB5W,aAAe0W,EAElC,IAAMG,EAAc,IAAIpS,EAAQtiB,KAAKstB,OAGrC,GAFAmH,EAAmB/Q,UAAUgR,GAEzB10B,KAAK20B,WAAY,CACjBD,EAAY5Z,KAAK9T,EAAW4tB,OAAOtH,MAAMuH,gBAEzC,IAAMC,EAAsB,IAAIxS,EAC5Btb,EAAW4tB,OAAOtH,MAAMuH,eAAeE,QAE3CD,EAAoB3uB,MAAQa,EAAW4tB,OAAOtH,MAAMuH,eAAeG,YACnEF,EAAoBlc,YAAa,EAEjC6b,EAAmB/Q,UAAUoR,QAE7BJ,EAAY5Z,KAAK9T,EAAW4tB,OAAOtH,MAAM2H,gBAG7Cj1B,KAAK4zB,sBAAwBa,EAAmB/uB,SAE5C1F,KAAK4zB,wBACL5zB,KAAK4zB,sBAAsB1uB,GAAKzB,EAAM+wB,mBAClCx0B,KAAKo0B,gBAAkBtyB,EAAMuyB,mBAAmBC,OAEhDt0B,KAAK4zB,sBAAsB5wB,MAAMkyB,UAAY,SAE7Cl1B,KAAK4zB,sBAAsB5wB,MAAMwJ,aAC7BxF,EAAWgH,oBAAoBhH,EAAW4tB,OAAOtH,MAAM6H,cAAgB,KAE/En1B,KAAKm0B,uBAAuB7wB,YAAYtD,KAAK4zB,wBAgBrD,GAZA5zB,KAAKk0B,8BAAgCrxB,SAASC,cAAc,OAC5D9C,KAAKk0B,8BAA8BnxB,UAC/BiE,EAAWiF,iBAAiB,sBAChCjM,KAAKk0B,8BAA8BlxB,MAAME,QAAU,OAE/B,YAAhBlD,KAAKyI,SACLzI,KAAKk0B,8BAA8BlxB,MAAM0jB,WAAa,UACtD1mB,KAAKk0B,8BAA8BlxB,MAAM8J,KAAO,YAGpD9M,KAAK+zB,6BAA+B/zB,KAAKsR,iBAErCtR,KAAK+zB,6BAA8B,CAcnC,GAbA/zB,KAAK+zB,6BAA6B7uB,GAAKqvB,EACvCv0B,KAAK+zB,6BAA6B/wB,MAAMmkB,SAAW,MAE/CnnB,KAAKo1B,YAAcp1B,KAAK20B,aACxB30B,KAAK+zB,6BAA6B3nB,aAAa,gBAAiB,QAChEpM,KAAK+zB,6BAA6B9e,UAAUC,IACxClO,EAAWiF,iBAAiB,uBAIpCjM,KAAKk0B,8BAA8B5wB,YAAYtD,KAAK+zB,8BACpD/zB,KAAKm0B,uBAAuB7wB,YAAYtD,KAAKk0B,+BAEzCl0B,KAAK4zB,uBAAyB5zB,KAAKo0B,gBAAkBtyB,EAAMuyB,mBAAmBC,OAC9E,GAAKt0B,KAAKq1B,YAKL,GAAIr1B,KAAKq1B,WAAW9P,MAAQzjB,EAAM0jB,SAAS8P,OAAQ,CACpD,IAAMC,EAAsBv1B,KAAKq1B,WAAW3P,aAC5C1lB,KAAK4zB,sBAAsB5wB,MAAMwF,MAAQ+sB,EAAoB1nB,WAAa,IAC1E7N,KAAK+zB,6BAA6B/wB,MAAMwF,OAAS,IAAM+sB,GAAqB1nB,WAAa,SAExF,GAAI7N,KAAKq1B,WAAW9P,MAAQzjB,EAAM0jB,SAASC,MAAO,CACnD,IAAM+P,EAAoBx1B,KAAKq1B,WAAW3P,aAC1C1lB,KAAK4zB,sBAAsB5wB,MAAMwF,MAAQgtB,EAAkB3nB,WAAa,UAZtD,CAClB,IAAM4nB,EAAoBzuB,EAAW4tB,OAAOtH,MAAM9kB,MAClDxI,KAAK4zB,sBAAsB5wB,MAAMwF,MAAQitB,EAAkB5nB,WAAa,IACxE7N,KAAK+zB,6BAA6B/wB,MAAMwF,MAAS,IAAMitB,EAAqB,IAqBpF,OARAz1B,KAAKkR,kBAAkBL,EAAe6kB,eAClC11B,KAAK+zB,+BACL/zB,KAAK+zB,6BAA6B4B,OAAS,SAACC,GACxC,EAAK1kB,kBAAkBL,EAAeglB,WAC1C,GAEJ71B,KAAK8zB,mCAEE9zB,KAAKm0B,uBAGhBn0B,KAAK81B,iBAGT,EAEU,YAAAC,aAAV,WAu6IJ,IAAqC9kB,EAC3BzN,EACAwyB,EAx6IFh2B,KAAKuV,iBAAiBD,4BAElBtV,KAAKqlB,WACLrlB,KAAKi2B,4BAGLj2B,KAAKk2B,gBACLl2B,KAAKk2B,eAAel2B,OAi6ItBg2B,GADAxyB,GAD2ByN,EA55IDjR,MA65IbuV,mBAEP/R,EAAK+D,oBACP/D,EAAK+D,oBACLpC,GAAaoC,sBAGnByuB,EAA2B/kB,EAn6I/B,EAEU,YAAAglB,0BAAV,WACQj2B,KAAKm2B,8BACLn2B,KAAKm2B,4BAA4BlhB,UAAUJ,OACvC7U,KAAKgH,WAAWiF,iBAAiB,+BAGrCjM,KAAK8zB,mCAED9zB,KAAK6zB,+BACL7zB,KAAKm0B,uBAAuBvrB,YAAY5I,KAAK6zB,8BAE7C7zB,KAAK6zB,kCAA+B7yB,GAGhD,EAEU,YAAAo1B,2BAAV,WACI,GACIp2B,KAAK4C,iBACL5C,KAAKq2B,cACL,EAAA50B,eAAe60B,6BACjB,CACE,IAAMC,EAAwB,IAAIvZ,EAClCuZ,EAAsBzT,UAAU9iB,MAChCu2B,EAAsBvxB,KAAOhF,KAAKq2B,aAClCE,EAAsBnwB,MAAO,EAC7BmwB,EAAsBzb,KAAK9a,KAAKgH,WAAW4tB,OAAOyB,cAElDr2B,KAAK6zB,6BAA+B0C,EAAsB7wB,SAEtD1F,KAAK6zB,+BACL7zB,KAAK6zB,6BAA6B3uB,GAAKzB,EAAM+wB,mBAC7Cx0B,KAAKm0B,uBAAuB7wB,YAAYtD,KAAK6zB,8BAE7C7zB,KAAK8zB,oCAGjB,EAEA,YAAA5iB,kBAAA,SAAkBslB,GACTx2B,KAAK+zB,8BAAgC/zB,KAAKuzB,aAAezxB,EAAM0xB,WAAWiD,gBAG3ED,IAAc3lB,EAAe6kB,cAE7B11B,KAAK+zB,6BAA6B9e,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBAAiB,yCAE5EuqB,IAAc3lB,EAAeC,iBAGlC9Q,KAAK+zB,6BAA6B9e,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBAAiB,wCAC1EuqB,IAAc3lB,EAAeE,kBACpC/Q,KAAK+zB,6BAA6B9e,UAAUJ,OAAO7U,KAAKgH,WAAWiF,iBAAiB,wCAE5F,EAQA,YAAAwlB,MAAA,WACQzxB,KAAK+zB,8BACL/zB,KAAK+zB,6BAA6BtC,OAE1C,EAEA,YAAApM,QAAA,WACI,OAAO,CACX,EAEA,YAAAqR,QAAA,WACI,OAAO12B,KAAKiB,QAAUjB,KAAK22B,SAC/B,EAEA,YAAAb,gBAAA,WACI91B,KAAK22B,UAAY32B,KAAKiB,KAC1B,EAEA,YAAA2oB,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAE5BtS,KAAKkF,IACNoN,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAOoiB,0BAInB72B,KAAK20B,aACA30B,KAAKstB,OACNhb,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBiR,8BACtB,uCAIH92B,KAAKq2B,cACN/jB,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBkR,qCACtB,gDAIhB,EAEA,YAAAC,cAAA,WACIh3B,KAAKi2B,4BAEL,IAAM7iB,EAASpT,KAAK20B,WAAa30B,KAAKi3B,SAAWj3B,KAAKqlB,UAAYrlB,KAAKqlB,UAUvE,OARKjS,GAAUpT,KAAKm2B,8BAChBn2B,KAAKm2B,4BAA4BlhB,UAAUC,IACvClV,KAAKgH,WAAWiF,iBAAiB,+BAGrCjM,KAAKo2B,8BAGFhjB,CACX,EAEA,YAAAzC,aAAA,SAAa8F,GACT,YADS,IAAAA,IAAAA,GAAA,GACF,CAACzW,KACZ,EAEA,YAAA0F,OAAA,WACI,IAAI0N,EAAS,YAAM1N,OAAM,WAIzB,OAFA1F,KAAK81B,kBAEE1iB,CACX,EAIA,sBAAI,4BAAa,KAAjB,WACI,OAAO,CACX,kCAnagB,EAAAoa,cAAgB,IAAI,EAAAjW,eAAe,EAAAjS,SAAS+c,KAAM,SAAS,GAC3D,EAAA6U,mBAAqB,IAAI,EAAAzf,aAAa,EAAAnS,SAAS+c,KAAM,cAAc,GACnE,EAAA8U,qBAAuB,IAAI,EAAA5f,eAAe,EAAAjS,SAAS+c,KAAM,gBAAgB,GACzE,EAAA+U,mBAAqB,IAAI,EAAArf,aACrC,EAAAzS,SAASojB,KACT,aACA5mB,EAAM0xB,WACN1xB,EAAM0xB,WAAW9gB,QACjB,CACI,CAAEzR,MAAOa,EAAM0xB,WAAWiD,eAC1B,CAAEx1B,MAAOa,EAAM0xB,WAAW9gB,WAGlB,EAAA2kB,mBAAqB,IAAI,EAAAC,eACrC,EAAAhyB,SAASojB,KACT,cACA,SACI5iB,EACAyxB,EACA5kB,EACAL,GAEA,IAAIc,EAAkCmkB,EAAKnS,aACrCnkB,EAAQ0R,EAAO4kB,EAAKnf,MACtBof,GAAoB,EAExB,GAAqB,iBAAVv2B,GAAuB+kB,MAAM/kB,GAMnC,GAAqB,iBAAVA,EACZ,IACImS,EAAS,EAAAkS,YAAYlgB,MAAMnE,GAC7B,MAAOG,GACLo2B,GAAoB,OAGxBA,GAAoB,QAZpBpkB,EAAS,IAAI,EAAAkS,YAAYrkB,EAAOa,EAAM0jB,SAAS8P,SACpC5P,aAAe,GAAKtS,EAAOsS,aAAe,OACjD8R,GAAoB,GAsB5B,OATIA,IACAllB,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOgjB,0BAEnBrkB,OAASpS,GAGNoS,CACX,IACA,SACItN,EACAmS,EACAO,EACAvX,EACAqR,GAEIrR,aAAiB,EAAAqkB,cACbrkB,EAAMskB,OAASzjB,EAAM0jB,SAASC,MAC9BnT,EAAQmG,eAAeD,EAAQ,aAAcvX,EAAMykB,aAAe,MAElEpT,EAAQolB,gBAAgBlf,EAAQ,aAAcvX,EAAMykB,cAGhE,QACA1kB,GAGY,EAAA22B,sBAAwB,IAAI,EAAA5f,aACxC,EAAAzS,SAASojB,KACT,gBACA5mB,EAAMuyB,mBACNvyB,EAAMuyB,mBAAmBuD,MACzB,CACI,CAAE32B,MAAOa,EAAMuyB,mBAAmBC,QAClC,CAAErzB,MAAOa,EAAMuyB,mBAAmBuD,SAK1C,IADC,IAAA3f,UAAS4f,EAAMrK,4CAIhB,IADC,IAAAvV,UAAS4f,EAAMX,sDAIhB,IADC,IAAAjf,UAAS4f,EAAMV,0DAIhB,IADC,IAAAlf,UAAS4f,EAAMT,sDAIhB,IADC,IAAAnf,UAAS4f,EAAMR,sDAIhB,IADC,IAAApf,UAAS4f,EAAMF,4DAmUpB,EAvaA,CAAoC1qB,GAAd,EAAA4qB,MAAAA,EAyatB,oFAgCI,EAAAC,aAAuB,EAMvB,EAAA90B,MAA8BlB,EAAMi2B,eAAeC,MAkMvD,QAxO+B,OAgDnB,YAAAC,WAAR,SAAmBhnB,GAAnB,WACIA,EAAMjO,MAAM8J,KAAO,WAEnBmE,EAAM+gB,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAExC3O,KAAKqG,cACL4K,EAAM5K,YAAcrG,KAAKqG,YACzB4K,EAAM7E,aAAa,aAAcpM,KAAKqG,cAGtCrG,KAAKolB,eACLnU,EAAMhQ,MAAQjB,KAAKolB,cAGnBplB,KAAKk4B,WAAal4B,KAAKk4B,UAAY,IACnCjnB,EAAMinB,UAAYl4B,KAAKk4B,WAG3BjnB,EAAMknB,QAAU,WACZ,EAAKpC,cACT,EACA9kB,EAAMmW,WAAa,SAAChmB,GAGZA,EAAEg3B,SACS,UAAXh3B,EAAEjB,MACF,EAAKk4B,cACL,EAAKA,aAAaja,wBAElB,EAAKia,aAAa9Z,SAE1B,CACJ,EAEU,YAAAjN,eAAV,WACI,IAAI8B,EAqBJ,OAnBIpT,KAAK83B,aAAe93B,KAAKgD,QAAUlB,EAAMi2B,eAAeO,WACxDllB,EAASvQ,SAASC,cAAc,aACzBC,UAAY/C,KAAKgH,WAAWiF,iBAC/B,WACA,eACA,gBAGgB,YAAhBjM,KAAKyI,SACL2K,EAAOpQ,MAAMyF,OAAS,cAG1B2K,EAASvQ,SAASC,cAAc,UACzBC,UAAY/C,KAAKgH,WAAWiF,iBAAiB,WAAY,gBAChEmH,EAAOrS,KAAOe,EAAMi2B,eAAe/3B,KAAKgD,OAAOwa,eAGnDxd,KAAKi4B,WAAW7kB,GAETA,CACX,EAEU,YAAA/B,uBAAV,sBACUknB,EAAuB,YAAMlnB,uBAAsB,WAEzD,GAAIrR,KAAKq4B,aAAc,CACnB,IAAM,EAASx1B,SAASC,cAAc,UAgBtC,GAfA,EAAOC,UAAY/C,KAAKgH,WAAWiF,iBAC/BjM,KAAKq4B,aAAaja,uBACZ,wBACA,kCAGV,EAAOD,QAAU,SAAC/c,GACV,EAAKi3B,cAAgB,EAAKA,aAAaja,yBACvChd,EAAEid,iBACFjd,EAAEkd,cAAe,EAEjB,EAAK+Z,aAAa9Z,UAE1B,EAEIve,KAAKq4B,aAAaG,QAAS,CAC3B,EAAOvjB,UAAUC,IAAI,YAErB,IAAM,EAAOrS,SAASC,cAAc,OACpC,EAAKE,MAAMyF,OAAS,OACpB,EAAK2D,aAAa,OAAQ,gBAM1B,EAAKpJ,MAAME,QAAU,OACrB,EAAK4jB,OAAS,WACV,EAAK9jB,MAAM2C,eAAe,UAC9B,EACA,EAAKshB,QAAU,WACX,EAAOre,YAAY,GACnB,EAAOqM,UAAUJ,OAAO,YACxB,EAAOI,UAAUC,IAAI,YACrB,EAAOujB,YACH,EAAKJ,cAAgB,EAAKA,aAAa5xB,MACjC,EAAK4xB,aAAa5xB,MAClB,EAAAzC,QAAQ6qB,SAAS6J,mBAC/B,EAEA,EAAKxQ,IAAMloB,KAAKq4B,aAAaG,QAE7B,EAAOl1B,YAAY,GACnB,EAAOmD,MAAQzG,KAAKq4B,aAAa5xB,MAC3BzG,KAAKq4B,aAAa5xB,MAClB,EAAAzC,QAAQ6qB,SAAS6J,yBAEvB,EAAOzjB,UAAUC,IAAI,YACrB,EAAOujB,YAAcz4B,KAAKq4B,aAAa5xB,MACjCzG,KAAKq4B,aAAa5xB,MAClB,EAAAzC,QAAQ6qB,SAAS6J,oBAG3B14B,KAAKq4B,aAAa7Z,6BAA6B,GAAQ,GAEvD,EAAOxb,MAAMwL,WAAa,MAE1BxO,KAAK24B,6BAA6Br1B,YAAY,GAGlD,OAAOi1B,CACX,EAEA,YAAArnB,kBAAA,SAAkBslB,GACRx2B,KAAKq4B,cAAgBr4B,KAAK83B,aAC5B,YAAM5mB,kBAAiB,UAACslB,EAEhC,EAEA,YAAAlmB,gBAAA,WACI,MAAO,YACX,EAEA,YAAAkF,cAAA,WACI,IAAMpC,EAAS,YAAMoC,cAAa,WAMlC,OAJIxV,KAAKq4B,cACLjlB,EAAOsD,KAAK1W,KAAKq4B,cAGdjlB,CACX,EAEA,YAAAyD,cAAA,SAAc3R,GACV,IAAIkO,EAAS,YAAMyD,cAAa,UAAC3R,GAMjC,OAJKkO,GAAUpT,KAAKq4B,eAChBjlB,EAASpT,KAAKq4B,aAAaxhB,cAAc3R,IAGtCkO,CACX,EAEA,YAAA6jB,MAAA,WACI,QAAOj3B,KAAKiB,KAChB,EAEA,YAAAokB,QAAA,WACI,OAAKrlB,KAAKiB,QAINjB,KAAK44B,OACE,IAAIC,OAAO74B,KAAK44B,MAAO,KAAKE,KAAK94B,KAAKiB,MAIrD,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAIjB,KAAKm2B,6BACDn2B,KAAK83B,YACwB93B,KAAKm2B,4BAA6Bl1B,YAKnE,CAER,kCApOgB,EAAA+iB,cAAgB,IAAI,EAAAzM,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAAohB,kBAAoB,IAAI,EAAA5X,YAAY,EAAA7b,SAASqS,KAAM,aACnD,EAAAqhB,oBAAsB,IAAI,EAAAvhB,aAAa,EAAAnS,SAASqS,KAAM,eAAe,GACrE,EAAAshB,oBAAsB,IAAI,EAAA1hB,eAAe,EAAAjS,SAASqS,KAAM,eACxD,EAAAyJ,cAAgB,IAAI,EAAArJ,aAChC,EAAAzS,SAASqS,KACT,QACA7V,EAAMi2B,eACNj2B,EAAMi2B,eAAeC,KACrB,CACI,CAAE/2B,MAAOa,EAAMi2B,eAAeC,MAC9B,CAAE/2B,MAAOa,EAAMi2B,eAAemB,KAC9B,CAAEj4B,MAAOa,EAAMi2B,eAAeoB,KAC9B,CAAEl4B,MAAOa,EAAMi2B,eAAeqB,OAC9B,CAAEn4B,MAAOa,EAAMi2B,eAAeO,SAAUngB,cAAe,EAAA7S,SAAS+b,QAGxD,EAAAgY,qBAAuB,IAAI1gB,EAAe,EAAArT,SAASqS,KAAM,eAAgB,CACrF,oBAEY,EAAA2hB,cAAgB,IAAI,EAAA/hB,eAAe,EAAAjS,SAAS+c,KAAM,SAAS,GAG3E,IADC,IAAApK,UAASshB,EAAUvV,mDAIpB,IADC,IAAA/L,UAASshB,EAAUR,oDAIpB,IADC,IAAA9gB,UAASshB,EAAUP,wDAIpB,IADC,IAAA/gB,UAASshB,EAAUN,wDAIpB,IADC,IAAAhhB,UAASshB,EAAUnY,4CAIpB,IADC,IAAAnJ,UAASshB,EAAUF,0DAIpB,IADC,IAAAphB,UAASshB,EAAUD,4CA6LxB,EAxOA,CAA+BzB,GAAlB,EAAA0B,UAAAA,EA0Ob,oFAkCI,EAAAC,QAAkB,OAGlB,EAAAC,SAAmB,QAGnB,EAAArzB,MAAgB,GAgIpB,QAxKiC,OAgDnB,YAAA0tB,iCAAV,WACI,GAAI9zB,KAAK05B,sBAAuB,CAC5B,IAAIC,EAAiB35B,KAAKyzB,iBAAiBO,KAAK,KAE5Ch0B,KAAK45B,4BAA8B55B,KAAK45B,2BAA2B10B,KACnEy0B,GAAkB,IAAM35B,KAAK45B,2BAA2B10B,IAGxDy0B,EACA35B,KAAK05B,sBAAsBttB,aAAa,kBAAmButB,GAE3D35B,KAAK05B,sBAAsBzF,gBAAgB,mBAGvD,EAEU,YAAA3iB,eAAV,sBACUhG,EAAUzI,SAASC,cAAc,OAoCvC,GAnCAwI,EAAQvI,UAAY/C,KAAKgH,WAAWiF,iBAAiB,WAAY,kBACjEX,EAAQtI,MAAMwF,MAAQ,OACtB8C,EAAQtI,MAAME,QAAU,OACxBoI,EAAQtI,MAAM0jB,WAAa,SAE3B1mB,KAAK05B,sBAAwB72B,SAASC,cAAc,SACpD9C,KAAK05B,sBAAsBx0B,GAAKzB,EAAM+wB,mBACtCx0B,KAAK05B,sBAAsB34B,KAAO,WAClCf,KAAK05B,sBAAsB12B,MAAME,QAAU,eAC3ClD,KAAK05B,sBAAsB12B,MAAM4hB,cAAgB,SACjD5kB,KAAK05B,sBAAsB12B,MAAMioB,OAAS,IAC1CjrB,KAAK05B,sBAAsB12B,MAAM8J,KAAO,WAEpC9M,KAAKyG,OACLzG,KAAK05B,sBAAsBttB,aAAa,aAAcpM,KAAKyG,OAG3DzG,KAAK20B,YACL30B,KAAK05B,sBAAsBttB,aAAa,gBAAiB,QAG7DpM,KAAK05B,sBAAsB1H,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAE7D3O,KAAKolB,eAAiBplB,KAAKw5B,UAC3Bx5B,KAAK05B,sBAAsBG,SAAU,GAGzC75B,KAAK85B,kBAAoB95B,KAAK05B,sBAAsBG,QAEpD75B,KAAK05B,sBAAsBK,SAAW,WAClC,EAAKhE,cACT,EAEAtyB,EAAMH,YAAYgI,EAAStL,KAAK05B,uBAE5B15B,KAAKyG,OAASzG,KAAK2O,eAAgB,CACnC,IAAM2e,EAAQ,IAAItQ,EAUlB,GATAsQ,EAAMxK,UAAU9iB,MAChBstB,EAAMzP,aAAe7d,KAAK05B,sBAAsBx0B,GAChDooB,EAAMtmB,WAAahH,KAAKgH,WACxBsmB,EAAMtoB,KAAQhF,KAAKyG,MAAiCzG,KAAKyG,MAA9BzG,KAAKsQ,kBAChCgd,EAAM3Q,YAAc,EAAAlb,eAAeu4B,oCACnC1M,EAAMlnB,KAAOpG,KAAKoG,KAElBpG,KAAK45B,2BAA6BtM,EAAM5nB,SAEpC1F,KAAK45B,2BAA4B,CACjC55B,KAAK45B,2BAA2B10B,GAAKzB,EAAM+wB,mBAC3Cx0B,KAAK45B,2BAA2B52B,MAAME,QAAU,eAChDlD,KAAK45B,2BAA2B52B,MAAM8J,KAAO,WAC7C9M,KAAK45B,2BAA2B52B,MAAMwL,WAAa,MACnDxO,KAAK45B,2BAA2B52B,MAAM4hB,cAAgB,SAEtD,IAAMqV,EAAgBp3B,SAASC,cAAc,OAC7Cm3B,EAAcj3B,MAAMwF,MAAQ,MAE5B/E,EAAMH,YAAYgI,EAAS2uB,GAC3Bx2B,EAAMH,YAAYgI,EAAStL,KAAK45B,6BAIxC,OAAOtuB,CACX,EAEA,sBAAc,yBAAU,KAAxB,WACI,OAAO,CACX,kCAEA,YAAA4F,kBAAA,SAAkBslB,GAClB,EAEA,YAAAlmB,gBAAA,WACI,MAAO,cACX,EAEA,YAAAmhB,MAAA,WACQzxB,KAAK05B,uBACL15B,KAAK05B,sBAAsBjI,OAEnC,EAEA,YAAAwF,MAAA,WACI,OAAIj3B,KAAK20B,WACE30B,KAAKiB,QAAUjB,KAAKw5B,UAGxBx5B,KAAKiB,KAChB,EAEA,YAAAy1B,QAAA,WACI,QAAO12B,KAAK05B,uBACN15B,KAAK05B,sBAAsBG,UAAY75B,KAAK85B,iBAEtD,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAI95B,KAAK05B,sBACE15B,KAAK05B,sBAAsBG,QAAU75B,KAAKw5B,QAAUx5B,KAAKy5B,cAEhE,CAER,kCApKgB,EAAAzV,cAAgB,IAAI,EAAAzM,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAAoM,cAAgB,IAAI,EAAAxM,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAAuiB,gBAAkB,IAAI,EAAA3iB,eAClC,EAAAjS,SAASqS,KACT,WACA,OACA3W,EACA,QACA,SAAC8E,GACG,MAAO,MACX,IAEY,EAAAq0B,iBAAmB,IAAI,EAAA5iB,eACnC,EAAAjS,SAASqS,KACT,YACA,OACA3W,EACA,SACA,SAAC8E,GACG,MAAO,OACX,IAEY,EAAAmb,aAAe,IAAI,EAAAxJ,aAAa,EAAAnS,SAASC,KAAM,QAAQ,GAGvE,IADC,IAAA0S,UAASmiB,EAAYpW,mDAItB,IADC,IAAA/L,UAASmiB,EAAYrW,4CAItB,IADC,IAAA9L,UAASmiB,EAAYF,gDAItB,IADC,IAAAjiB,UAASmiB,EAAYD,kDAItB,IADC,IAAAliB,UAASmiB,EAAYnZ,0CAiI1B,EAxKA,CAAiC4W,GAApB,EAAAuC,YAAAA,EA0Kb,kBAkBI,WAAY3zB,EAAgBxF,GAA5B,MACI,cAAO,YAEP,EAAKwF,MAAQA,EACb,EAAKxF,MAAQA,GACjB,CACJ,OAxB4B,OAcd,YAAA6iB,aAAV,WACI,MAAO,QACX,EAbgB,EAAAC,cAAgB,IAAI,EAAAxM,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAAqM,cAAgB,IAAI,EAAAzM,eAAe,EAAAjS,SAASqS,KAAM,SAGlE,IADC,IAAAM,UAASoiB,EAAOtW,4CAIjB,IADC,IAAA9L,UAASoiB,EAAOrW,4CAerB,EAxBA,CAA4B,EAAAE,oBAAf,EAAAmW,OAAAA,EA0Bb,oFAsCI,EAAAC,eAAyB,EAMzB,EAAAl0B,MAAgB,EAGhB,EAAAm0B,QAAoB,IA+ZxB,QA9coC,OA6BhC,sBAAI,wBAAS,KAAb,WACI,OAAQv6B,KAAKgD,OAAwB,YAAfhD,KAAKgD,KAC/B,MAEA,SAAc/B,GACVjB,KAAKgD,MAAQ/B,OAAQD,EAAY,UACrC,kCAkBe,EAAAw5B,sBAAf,WACI,IAAMC,EAAqB,gBAAkBC,EAAeC,uBAI5D,OAFAD,EAAeC,yBAERF,CACX,EAQQ,YAAAG,6CAAR,WACI,IAAK56B,KAAKiB,MAAO,CACb,IAAM45B,EAAoBh4B,SAASC,cAAc,UASjD,OARA+3B,EAAkBC,UAAW,EAC7BD,EAAkBE,UAAW,EAC7BF,EAAkBG,QAAS,EAC3BH,EAAkB55B,MAAQ,GAEtBjB,KAAKqG,cACLw0B,EAAkB71B,KAAOhF,KAAKqG,aAE3Bw0B,EAGf,EAGQ,YAAAI,yBAAR,WACI,GAAIj7B,KAAKk7B,eAAgB,CACrB,IAAMC,EAAUn7B,KAAKk7B,eAAeC,QAEpC,GAAIA,EACA,IAAqB,UAAAjb,MAAMC,KAAKgb,GAAX,eAAqB,CAArC,IAAMC,EAAM,KACTA,EAAON,SACPM,EAAOhvB,aAAa,eAAgB,QAEpCgvB,EAAOnH,gBAAgB,iBAK3C,EAEQ,YAAAoH,oBAAR,SACIC,EACAv6B,EACAw6B,GAHJ,WAKUjwB,EAAUzI,SAASC,cAAc,OACvCwI,EAAQvI,UAAY/C,KAAKgH,WAAWiF,iBAAiB,WAAYqvB,GACjEhwB,EAAQtI,MAAMwF,MAAQ,OAEtB8C,EAAQ0mB,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAE9C3O,KAAKw7B,cAAgB,GACrBx7B,KAAKy7B,QAAU,GAEf,IAAqB,UAAAz7B,KAAKu6B,QAAL,eAAc,CAA9B,IAAMmB,EAAM,KACPzqB,EAAQpO,SAASC,cAAc,SACrCmO,EAAM/L,GAAKzB,EAAM+wB,mBACjBvjB,EAAMlQ,KAAOA,EACbkQ,EAAMjO,MAAMioB,OAAS,IACrBha,EAAMjO,MAAME,QAAU,eACtB+N,EAAMjO,MAAM4hB,cAAgB,SAC5B3T,EAAMjO,MAAM8J,KAAO,WACnBmE,EAAMmH,KAAOpY,KAAKkF,GAAKlF,KAAKkF,GAAKlF,KAAK27B,oBAElC37B,KAAK20B,YACL1jB,EAAM7E,aAAa,gBAAiB,QAGxC6E,EAAM+gB,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAExC+sB,EAAOz6B,QACPgQ,EAAMhQ,MAAQy6B,EAAOz6B,OAGrBy6B,EAAOj1B,OACPwK,EAAM7E,aAAa,aAAcsvB,EAAOj1B,OAGxC80B,GAAiBG,EAAOz6B,OACpBs6B,EAAc7lB,QAAQgmB,EAAOz6B,QAAU,IACvCgQ,EAAM4oB,SAAU,GAIxB5oB,EAAM8oB,SAAW,WACb,EAAKhE,cACT,EAEA/1B,KAAKw7B,cAAc9kB,KAAKzF,GAExB,IAAM2qB,EAAgB/4B,SAASC,cAAc,OAC7C84B,EAAc54B,MAAME,QAAU,OAC9B04B,EAAc54B,MAAM0jB,WAAa,SAEjCjjB,EAAMH,YAAYs4B,EAAe3qB,GAEjC,IAAMqc,EAAQ,IAAItQ,EAClBsQ,EAAMxK,UAAU9iB,MAChBstB,EAAMzP,aAAe5M,EAAM/L,GAC3BooB,EAAMtmB,WAAahH,KAAKgH,WACxBsmB,EAAMtoB,KAAO02B,EAAOj1B,MAAQi1B,EAAOj1B,MAAQ,UAAYzG,KAAKw7B,cAAc/2B,OAC1E6oB,EAAM3Q,YAAc,EAAAlb,eAAeu4B,oCACnC1M,EAAMlnB,KAAOpG,KAAKoG,KAElB,IAAM0X,EAAewP,EAAM5nB,SAI3B,GAFA1F,KAAKy7B,QAAQ/kB,KAAKoH,GAEdA,EAAc,CACdA,EAAa5Y,GAAKzB,EAAM+wB,mBACxB1W,EAAa9a,MAAME,QAAU,eAC7B4a,EAAa9a,MAAM8J,KAAO,WAC1BgR,EAAa9a,MAAMwL,WAAa,MAChCsP,EAAa9a,MAAM4hB,cAAgB,SAEnC,IAAMqV,EAAgBp3B,SAASC,cAAc,OAC7Cm3B,EAAcj3B,MAAMwF,MAAQ,MAE5B/E,EAAMH,YAAYs4B,EAAe3B,GACjCx2B,EAAMH,YAAYs4B,EAAe9d,GAGrCra,EAAMH,YAAYgI,EAASswB,GAG/B,OAAOtwB,CACX,EAEU,YAAAwoB,iCAAV,WACI,IACK9zB,KAAKs6B,eAAgC,aAAft6B,KAAKgD,QAC5BhD,KAAKw7B,eACLx7B,KAAKy7B,QAIL,IAFA,IAAM/H,EAAqB1zB,KAAKyzB,iBAEvB7e,EAAI,EAAGA,EAAI5U,KAAKw7B,cAAc/2B,OAAQmQ,IAAK,CAChD,IAAI+kB,EAAiBjG,EAASM,KAAK,KAC7B1G,EAAQttB,KAAKy7B,QAAQ7mB,GAEvB0Y,GAASA,EAAMpoB,KACfy0B,GAAkB,IAAMrM,EAAMpoB,IAG9By0B,EACA35B,KAAKw7B,cAAc5mB,GAAGxI,aAAa,kBAAmButB,GAEtD35B,KAAKw7B,cAAc5mB,GAAGqf,gBAAgB,wBAI9C,YAAMH,iCAAgC,UAE9C,EAEU,YAAAxiB,eAAV,sBAGI,GAFAtR,KAAK27B,oBAAsBjB,EAAeF,wBAEtCx6B,KAAKs6B,cAEL,OAAOt6B,KAAKq7B,oBACR,gCACA,WACAr7B,KAAKolB,aACCplB,KAAKolB,aAAaiJ,MAAMruB,KAAKgH,WAAW60B,mCACxC76B,GAGV,GAAmB,aAAfhB,KAAKgD,MAEL,OAAOhD,KAAKq7B,oBACR,6BACA,QACAr7B,KAAKolB,aAAe,CAACplB,KAAKolB,mBAAgBpkB,GAE3C,GAAmB,aAAfhB,KAAKgD,MAAsB,CAElC,IAAM84B,EAAiBj5B,SAASC,cAAc,OAC9Cg5B,EAAe94B,MAAMwF,MAAQ,OAE7BxI,KAAK+7B,WAAal5B,SAASC,cAAc,SACzC9C,KAAK+7B,WAAWh5B,UAAY/C,KAAKgH,WAAWiF,iBACxC,WACA,sBACA,8BAEJjM,KAAK+7B,WAAWh7B,KAAO,OACvBf,KAAK+7B,WAAW/4B,MAAMwF,MAAQ,OAC9BxI,KAAK+7B,WAAW5D,QAAU,WACtB,EAAKpC,eAED,EAAKgG,aAGD,EAAK96B,OACL,EAAK86B,WAAW9H,gBAAgB,eAChC,EAAK8H,WAAW9H,gBAAgB,eACzB,EAAK5tB,cACZ,EAAK01B,WAAW11B,YAAc,EAAKA,YACnC,EAAK01B,WAAW3vB,aAAa,aAAc,EAAK/F,cAG5D,EAEIrG,KAAKolB,eACLplB,KAAK+7B,WAAW96B,MAAQjB,KAAKolB,cAG7BplB,KAAKqG,cAAgBrG,KAAK+7B,WAAW96B,QACrCjB,KAAK+7B,WAAW11B,YAAcrG,KAAKqG,YACnCrG,KAAK+7B,WAAW3vB,aAAa,aAAcpM,KAAKqG,cAGpDrG,KAAK+7B,WAAW/J,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAEtD,IAAMqtB,EAAWn5B,SAASC,cAAc,YACxCk5B,EAAS92B,GAAKzB,EAAM+wB,mBAEpB,IAAqB,UAAAx0B,KAAKu6B,QAAL,eAAc,CAA9B,IAAMmB,EAAM,KACPN,EAASv4B,SAASC,cAAc,UAGlC44B,EAAOj1B,QACP20B,EAAOn6B,MAAQy6B,EAAOj1B,MACtB20B,EAAOhvB,aAAa,aAAcsvB,EAAOj1B,QAG7C20B,EAAOpJ,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAE7CqtB,EAAS14B,YAAY83B,GAOzB,OAJAp7B,KAAK+7B,WAAW3vB,aAAa,OAAQ4vB,EAAS92B,IAE9C42B,EAAeG,OAAOj8B,KAAK+7B,WAAYC,GAEhCF,EAGP97B,KAAKk7B,eAAiBr4B,SAASC,cAAc,UAC7C9C,KAAKk7B,eAAen4B,UAAY/C,KAAKgH,WAAWiF,iBAC5C,WACA,sBACA,6BAEJjM,KAAKk7B,eAAel4B,MAAMwF,MAAQ,OAElCxI,KAAKk7B,eAAelJ,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAE1D,IAAMksB,EAAoB76B,KAAK46B,+CAE/Bn3B,EAAMH,YAAYtD,KAAKk7B,eAAgBL,GAEvC,IAAqB,UAAA76B,KAAKu6B,QAAL,eAAVmB,EAAM,MACPN,EAASv4B,SAASC,cAAc,WAC/B7B,MAAQy6B,EAAOz6B,MAElBy6B,EAAOj1B,QACP20B,EAAOp2B,KAAO02B,EAAOj1B,MACrB20B,EAAOhvB,aAAa,aAAcsvB,EAAOj1B,QAG7C20B,EAAOpJ,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAEzC+sB,EAAOz6B,QAAUjB,KAAKolB,eACtBgW,EAAON,UAAW,GAGtBr3B,EAAMH,YAAYtD,KAAKk7B,eAAgBE,GAU3C,OAPAp7B,KAAKk7B,eAAenB,SAAW,WAC3B,EAAKkB,2BACL,EAAKlF,cACT,EAEA/1B,KAAKi7B,2BAEEj7B,KAAKk7B,cAGxB,EAEA,YAAAhqB,kBAAA,SAAkBslB,IACTx2B,KAAKs6B,eAAiBt6B,KAAKk8B,YAC5B,YAAMhrB,kBAAiB,UAACslB,GAEpBx2B,KAAKk7B,gBAAkBl7B,KAAKuzB,aAAezxB,EAAM0xB,WAAWiD,gBACjC0F,GAAwCn8B,KAAKk7B,eAAgB1E,IAGpFx2B,KAAKk7B,eAAel4B,MAAMo5B,WAAa,OACvCp8B,KAAKk7B,eAAejmB,UAAUJ,OAAO7U,KAAKgH,WAAWiF,iBAAiB,0CAEtEjM,KAAKk7B,eAAel4B,MAAMo5B,WAAa,OACvCp8B,KAAKk7B,eAAejmB,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBAAiB,0CAInF,EAEA,YAAAqE,gBAAA,WACI,MAAO,iBACX,EAEA,YAAAmhB,MAAA,WACQzxB,KAAKw7B,gBAAkBx7B,KAAKs6B,eAAgC,aAAft6B,KAAKgD,OAC9ChD,KAAKw7B,cAAc/2B,OAAS,GAC5BzE,KAAKw7B,cAAc,GAAG/J,QAEnBzxB,KAAK+7B,WACZ/7B,KAAK+7B,WAAWtK,QAEhB,YAAMA,MAAK,UAEnB,EAEA,YAAA7H,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAEL,IAAxBtS,KAAKu6B,QAAQ91B,QACb6N,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBwW,sBACtB,EAAAr4B,QAAQyQ,OAAO6nB,qCAIvB,IAAqB,UAAAt8B,KAAKu6B,QAAL,eAAc,CAA9B,IAAMmB,EAAM,KACRA,EAAOj1B,OAAUi1B,EAAOz6B,OACzBqR,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAO8nB,yCAI/B,EAEA,YAAAtF,MAAA,WACI,QAAOj3B,KAAKiB,KAChB,EAEA,YAAAokB,QAAA,WACI,GAAIrlB,KAAK+7B,WAAY,CACjB,GAAmB,KAAf/7B,KAAKiB,OAAgBjB,KAAKiB,QAAUjB,KAAKqG,YACzC,OAAO,EAEX,IAAqB,UAAArG,KAAKu6B,QAAL,eAAc,CAA9B,IAAMmB,EAAM,KACb,GAAI17B,KAAKiB,QAAUy6B,EAAOz6B,MACtB,OAAO,EAIf,OAAO,EAGX,OAAO,YAAMokB,QAAO,UACxB,EAEA,sBAAI,oBAAK,KAAT,WACI,GAAKrlB,KAAKs6B,cAqBH,CACH,IAAKt6B,KAAKw7B,eAA+C,IAA9Bx7B,KAAKw7B,cAAc/2B,OAC1C,OAKJ,IAFA,IAAI2O,EAAiB,GAEK,MAAApT,KAAKw7B,cAAL,gBAAfgB,EAAW,MACF3C,UACG,KAAXzmB,IACAA,GAAUpT,KAAKgH,WAAW60B,8BAG9BzoB,GAAUopB,EAAYv7B,OAI9B,OAAOmS,QAAkBpS,EArCzB,GAAIhB,KAAKk7B,eACL,OAAOl7B,KAAKk7B,eAAeuB,cAAgB,EACrCz8B,KAAKk7B,eAAej6B,WACpBD,EACH,GAAIhB,KAAK+7B,WAAY,CACxB,IAAqB,UAAA/7B,KAAKu6B,QAAL,eAAc,CAA9B,IAAMmB,EAAM,KACb,GAAIA,EAAOj1B,OAASzG,KAAK+7B,WAAW96B,QAAUy6B,EAAOj1B,MACjD,OAAOi1B,EAAOz6B,MAGtB,OAAOjB,KAAK+7B,WAAW96B,MACpB,GAAIjB,KAAKw7B,eAAiBx7B,KAAKw7B,cAAc/2B,OAAS,EACzD,IAA0B,UAAAzE,KAAKw7B,cAAL,eAAoB,CAAzC,IAAMgB,EACP,IADOA,EAAW,MACF3C,QACZ,OAAO2C,EAAYv7B,MAyBvC,kCA1cgB,EAAA+iB,cAAgB,IAAI,EAAAzM,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAA+kB,gBAAkB,IAAI,EAAA5X,qCAClC,EAAAxf,SAASqS,KACT,UACA0iB,GAEY,EAAAjZ,cAAgB,IAAI,EAAAvJ,iBAChC,EAAAvS,SAASqS,KACT,QACA,CACI,CAAE1W,MAAO,WACT,CAAEA,MAAO,YACT,CAAEA,MAAO,WAAYkX,cAAe,EAAA7S,SAAS+b,OAEjD,WAEY,EAAAsb,sBAAwB,IAAI,EAAAllB,aAAa,EAAAnS,SAASqS,KAAM,iBAAiB,GACzE,EAAAshB,oBAAsB,IAAI,EAAA1hB,eAAe,EAAAjS,SAASqS,KAAM,eACxD,EAAAsJ,aAAe,IAAI,EAAAxJ,aAAa,EAAAnS,SAASC,KAAM,QAAQ,GA8BxD,EAAAo1B,uBAAyB,EA3BxC,IADC,IAAA1iB,UAASyiB,EAAe1W,mDAIzB,IADC,IAAA/L,UAASyiB,EAAetZ,4CAYzB,IADC,IAAAnJ,UAASyiB,EAAeiC,4DAIzB,IADC,IAAA1kB,UAASyiB,EAAezB,wDAIzB,IADC,IAAAhhB,UAASyiB,EAAezZ,0CAIzB,IADC,IAAAhJ,UAASyiB,EAAegC,gDAga7B,EA9cA,CAAoC7E,GAAvB,EAAA6C,eAAAA,EAgdb,6EA+FA,QA/FiC,OAwBnB,YAAAppB,eAAV,sBAiCI,OAhCAtR,KAAK48B,oBAAsB/5B,SAASC,cAAc,SAClD9C,KAAK48B,oBAAoBxwB,aAAa,OAAQ,eAE7BpL,IAAbhB,KAAK68B,KACL78B,KAAK48B,oBAAoBxwB,aAAa,MAAOpM,KAAK68B,IAAIhvB,iBAGzC7M,IAAbhB,KAAKwsB,KACLxsB,KAAK48B,oBAAoBxwB,aAAa,MAAOpM,KAAKwsB,IAAI3e,YAG1D7N,KAAK48B,oBAAoB75B,UAAY/C,KAAKgH,WAAWiF,iBACjD,WACA,kBAEJjM,KAAK48B,oBAAoB55B,MAAMwF,MAAQ,OAEvCxI,KAAK48B,oBAAoB5K,SAAWhyB,KAAK2O,gBAAkB,EAAI,OAErC3N,IAAtBhB,KAAKolB,eACLplB,KAAK48B,oBAAoBE,cAAgB98B,KAAKolB,cAG9CplB,KAAKqG,cACLrG,KAAK48B,oBAAoBv2B,YAAcrG,KAAKqG,YAC5CrG,KAAK48B,oBAAoBxwB,aAAa,aAAcpM,KAAKqG,cAG7DrG,KAAK48B,oBAAoBzE,QAAU,WAC/B,EAAKpC,cACT,EAEO/1B,KAAK48B,mBAChB,EAEA,YAAAtsB,gBAAA,WACI,MAAO,cACX,EAEA,YAAA2mB,MAAA,WACI,YAAsBj2B,IAAfhB,KAAKiB,QAAwB+kB,MAAMhmB,KAAKiB,MACnD,EAEA,YAAAokB,QAAA,WACI,QAAmBrkB,IAAfhB,KAAKiB,MACL,OAAQjB,KAAK20B,WAGjB,IAAIvhB,GAAS,EAUb,YARiBpS,IAAbhB,KAAK68B,MACLzpB,EAASA,GAAUpT,KAAKiB,OAASjB,KAAK68B,UAGzB77B,IAAbhB,KAAKwsB,MACLpZ,EAASA,GAAUpT,KAAKiB,OAASjB,KAAKwsB,KAGnCpZ,CACX,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAOpT,KAAK48B,oBAAsB58B,KAAK48B,oBAAoBE,mBAAgB97B,CAC/E,MAEA,SAAUC,GACFA,GAASjB,KAAK48B,sBACd58B,KAAK48B,oBAAoB37B,MAAQA,EAAM4M,WAE/C,kCA3FgB,EAAAmW,cAAgB,IAAI,EAAA7C,YAAY,EAAA7b,SAASqS,KAAM,SAC/C,EAAAshB,oBAAsB,IAAI,EAAA1hB,eAAe,EAAAjS,SAASqS,KAAM,eACxD,EAAAolB,YAAc,IAAI,EAAA5b,YAAY,EAAA7b,SAASqS,KAAM,OAC7C,EAAAqlB,YAAc,IAAI,EAAA7b,YAAY,EAAA7b,SAASqS,KAAM,OAG7D,IADC,IAAAM,UAASglB,EAAYjZ,mDAItB,IADC,IAAA/L,UAASglB,EAAYF,wCAItB,IADC,IAAA9kB,UAASglB,EAAYD,wCAItB,IADC,IAAA/kB,UAASglB,EAAYhE,wDA8E1B,EA/FA,CAAiCpB,GAApB,EAAAoF,YAAAA,EAiGb,6EAwGA,QAxG+B,OAwBjB,YAAA3rB,eAAV,sBAiCI,OAhCAtR,KAAKk9B,kBAAoBr6B,SAASC,cAAc,SAChD9C,KAAKk9B,kBAAkB9wB,aAAa,OAAQ,QAExCpM,KAAK68B,KACL78B,KAAKk9B,kBAAkB9wB,aAAa,MAAOpM,KAAK68B,KAGhD78B,KAAKwsB,KACLxsB,KAAKk9B,kBAAkB9wB,aAAa,MAAOpM,KAAKwsB,KAGhDxsB,KAAKqG,cACLrG,KAAKk9B,kBAAkB72B,YAAcrG,KAAKqG,YAC1CrG,KAAKk9B,kBAAkB9wB,aAAa,aAAcpM,KAAKqG,cAG3DrG,KAAKk9B,kBAAkBlL,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAE7D3O,KAAKk9B,kBAAkBn6B,UAAY/C,KAAKgH,WAAWiF,iBAC/C,WACA,gBAEJjM,KAAKk9B,kBAAkBl6B,MAAMwF,MAAQ,OAErCxI,KAAKk9B,kBAAkB/E,QAAU,WAC7B,EAAKpC,cACT,EAEI/1B,KAAKolB,eACLplB,KAAKk9B,kBAAkBj8B,MAAQjB,KAAKolB,cAGjCplB,KAAKk9B,iBAChB,EAEA,YAAAhsB,kBAAA,SAAkBslB,GAGd,GAFA,YAAMtlB,kBAAiB,UAACslB,GAEpBx2B,KAAKk9B,mBAAqBl9B,KAAKuzB,aAAezxB,EAAM0xB,WAAWiD,cAAe,CAC9E,IAAM0G,EAAiBhB,GAAwCn8B,KAAKk9B,kBAAmB1G,GACvF4G,GAA8Bp9B,KAAKk9B,kBAAmBC,GAE9D,EAEA,YAAA7sB,gBAAA,WACI,MAAO,YACX,EAEA,YAAA2mB,MAAA,WACI,QAAOj3B,KAAKiB,KAChB,EAEA,YAAAokB,QAAA,WACI,IAAKrlB,KAAKiB,MACN,OAAQjB,KAAK20B,WAGjB,IAAM0I,EAAc,IAAIxU,KAAK7oB,KAAKiB,OAE9BmS,GAAS,EAEb,GAAIpT,KAAK68B,IAAK,CACV,IAAMS,EAAU,IAAIzU,KAAK7oB,KAAK68B,KAE9BzpB,EAASA,GAAUiqB,GAAeC,EAGtC,GAAIt9B,KAAKwsB,IAAK,CACV,IAAM+Q,EAAU,IAAI1U,KAAK7oB,KAAKwsB,KAE9BpZ,EAASA,GAAUiqB,GAAeE,EAGtC,OAAOnqB,CACX,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAOpT,KAAKk9B,kBAAoBl9B,KAAKk9B,kBAAkBj8B,WAAQD,CACnE,kCApGgB,EAAAgjB,cAAgB,IAAI,EAAAzM,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAAshB,oBAAsB,IAAI,EAAA1hB,eAAe,EAAAjS,SAASqS,KAAM,eACxD,EAAAolB,YAAc,IAAI,EAAAxlB,eAAe,EAAAjS,SAASqS,KAAM,OAChD,EAAAqlB,YAAc,IAAI,EAAAzlB,eAAe,EAAAjS,SAASqS,KAAM,OAGhE,IADC,IAAAM,UAASulB,EAAUxZ,mDAIpB,IADC,IAAA/L,UAASulB,EAAUT,wCAIpB,IADC,IAAA9kB,UAASulB,EAAUR,wCAIpB,IADC,IAAA/kB,UAASulB,EAAUvE,wDAuFxB,EAxGA,CAA+BpB,GAAlB,EAAA2F,UAAAA,EA0Gb,kBACI,WAAqBrlB,EAAiCC,GAAtD,MACI,YACID,EACAC,GACA,SACItS,EACAyxB,EACA5kB,EACAL,GAEA,IAAMrR,EAAQ0R,EAAO4kB,EAAKnf,MAE1B,GAAqB,iBAAVnX,GAAsBA,GAAS,sBAAsB63B,KAAK73B,GACjE,OAAOA,CAIf,IACA,SACI6E,EACAyxB,EACA/e,EACAvX,EACAqR,GAEAA,EAAQmG,eAAeD,EAAQ+e,EAAKnf,KAAMnX,EAC9C,KACH,YA3BgB,EAAAkX,cAAAA,EAAiC,EAAAC,KAAAA,GA4BtD,CACJ,OA9BkC,OA8BlC,EA9BA,CAAkC,EAAAkf,gBAArB,EAAAmG,aAAAA,EAgCb,8EA2GA,QA3G+B,OACZ,EAAAC,wBAAf,SAAuCC,GACnC,OAAO,IAAI9U,KAAK,cAAgB8U,EAAa,OACjD,EAyBU,YAAArsB,eAAV,sBAgCI,OA/BAtR,KAAK49B,kBAAoB/6B,SAASC,cAAc,SAChD9C,KAAK49B,kBAAkBxxB,aAAa,OAAQ,QAExCpM,KAAK68B,KACL78B,KAAK49B,kBAAkBxxB,aAAa,MAAOpM,KAAK68B,KAGhD78B,KAAKwsB,KACLxsB,KAAK49B,kBAAkBxxB,aAAa,MAAOpM,KAAKwsB,KAGpDxsB,KAAK49B,kBAAkB76B,UAAY/C,KAAKgH,WAAWiF,iBAC/C,WACA,gBAEJjM,KAAK49B,kBAAkB56B,MAAMwF,MAAQ,OACrCxI,KAAK49B,kBAAkBzF,QAAU,WAC7B,EAAKpC,cACT,EAEI/1B,KAAKqG,cACLrG,KAAK49B,kBAAkBv3B,YAAcrG,KAAKqG,YAC1CrG,KAAK49B,kBAAkBxxB,aAAa,aAAcpM,KAAKqG,cAG3DrG,KAAK49B,kBAAkB5L,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAEzD3O,KAAKolB,eACLplB,KAAK49B,kBAAkB38B,MAAQjB,KAAKolB,cAGjCplB,KAAK49B,iBAChB,EAEA,YAAA1sB,kBAAA,SAAkBslB,GAGd,GAFA,YAAMtlB,kBAAiB,UAACslB,GAEpBx2B,KAAK49B,mBAAqB59B,KAAKuzB,aAAezxB,EAAM0xB,WAAWiD,cAAe,CAC9E,IAAMoH,EAAiB1B,GAAwCn8B,KAAK49B,kBAAmBpH,GACvF4G,GAA8Bp9B,KAAK49B,kBAAmBC,GAE9D,EAEA,YAAAvtB,gBAAA,WACI,MAAO,YACX,EAEA,YAAA2mB,MAAA,WACI,QAAOj3B,KAAKiB,KAChB,EAEA,YAAAokB,QAAA,WACI,IAAKrlB,KAAKiB,MACN,OAAQjB,KAAK20B,WAGjB,IAAM0I,EAAcS,EAAUJ,wBAAwB19B,KAAKiB,OAEvDmS,GAAS,EAEb,GAAIpT,KAAK68B,IAAK,CACV,IAAMS,EAAUQ,EAAUJ,wBAAwB19B,KAAK68B,KAEvDzpB,EAASA,GAAUiqB,GAAeC,EAGtC,GAAIt9B,KAAKwsB,IAAK,CACV,IAAM+Q,EAAUO,EAAUJ,wBAAwB19B,KAAKwsB,KAEvDpZ,EAASA,GAAUiqB,GAAeE,EAGtC,OAAOnqB,CACX,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAOpT,KAAK49B,kBAAoB59B,KAAK49B,kBAAkB38B,WAAQD,CACnE,kCAnGgB,EAAAgjB,cAAgB,IAAIyZ,EAAa,EAAAn4B,SAASqS,KAAM,SAChD,EAAAshB,oBAAsB,IAAI,EAAA1hB,eAAe,EAAAjS,SAASqS,KAAM,eACxD,EAAAolB,YAAc,IAAIU,EAAa,EAAAn4B,SAASqS,KAAM,OAC9C,EAAAqlB,YAAc,IAAIS,EAAa,EAAAn4B,SAASqS,KAAM,OAG9D,IADC,IAAAM,UAAS6lB,EAAU9Z,mDAIpB,IADC,IAAA/L,UAAS6lB,EAAUf,wCAIpB,IADC,IAAA9kB,UAAS6lB,EAAUd,wCAIpB,IADC,IAAA/kB,UAAS6lB,EAAU7E,wDAsFxB,EA3GA,CAA+BpB,GAAlB,EAAAiG,UAAAA,GAqHb,qFA+BI,EAAA96B,MAAgBlB,EAAMi8B,YAAYrrB,QAGlC,EAAAtO,KAAetC,EAAMk8B,WAAWC,QAyExB,EAAAC,OAAM,EAEN,EAAAC,cAAwB,GA6RpC,QA1YqC,OA4CzB,YAAAC,oBAAR,WACI,GAAIp+B,KAAK4C,gBAAiB,CAEtB,IAAMoE,EAAahH,KAAKgH,WAElBq3B,EAAex7B,SAASC,cAAc,OAiB5C,GAhBAu7B,EAAar7B,MAAM6J,SAAW,SAC9BwxB,EAAar7B,MAAM2c,aAAe,WAI1B3Y,EAAWV,QAAQg4B,gBAAkBx8B,EAAMy8B,oBAAoBC,YAC/Dx3B,EAAWV,QAAQm4B,mBAGvBJ,EAAar7B,MAAMyd,WAAa,UAGhCzgB,KAAKyG,QACL43B,EAAahuB,UAAYrQ,KAAKyG,OAG7BzG,KAAKw4B,QAGH,CACH,IAAMkG,EAAc77B,SAASC,cAAc,OAC3C47B,EAAYxW,IAAMloB,KAAKw4B,QACvBkG,EAAY17B,MAAMwF,MAAQxB,EAAWV,QAAQq4B,SAAW,KACxDD,EAAY17B,MAAMyF,OAASzB,EAAWV,QAAQq4B,SAAW,KACzDD,EAAY17B,MAAM8J,KAAO,WAErB9F,EAAWV,QAAQg4B,gBAAkBx8B,EAAMy8B,oBAAoBC,YAC/Dx+B,KAAK4C,gBAAgBqS,UAAUC,IAAI,aACnClV,KAAK4C,gBAAgBI,MAAMG,cAAgB,SAEvCnD,KAAKyG,QACLi4B,EAAY17B,MAAMwJ,aAAe,SAGrCxM,KAAK4C,gBAAgBqS,UAAUC,IAAI,YAEnCwpB,EAAY17B,MAAMmM,UAAY,OAE1BnP,KAAKyG,QACLi4B,EAAY17B,MAAM2J,YAAc,QAIxC3M,KAAK4C,gBAAgBU,YAAYo7B,GACjC1+B,KAAK4C,gBAAgBU,YAAY+6B,QA3BjCr+B,KAAK4C,gBAAgBqS,UAAUC,IAAI,UACnClV,KAAK4C,gBAAgBU,YAAY+6B,GA6B7C,EAEQ,YAAAjwB,mBAAR,WACI,OAAIpO,KAAKmN,kBAAkBqJ,GAChBxW,KAAKmN,OAGTnN,KAAKmN,OAASnN,KAAKmN,OAAOiB,0BAAuBpN,CAC5D,EAMA,YAAA2N,aAAA,WACI,IAAMiH,EAAc5V,KAAKsW,gBAEzB,OAAOV,aAAuB3I,GAAe2I,EAAYjH,cAC7D,EAEU,YAAAiwB,iBAAV,mBACI,GAAI5+B,KAAKmN,QAAUnN,KAAK4C,gBAAiB,CACrC,IAAMoE,EAAahH,KAAKmN,OAAOnG,WAE/BhH,KAAK4C,gBAAgBG,UAAYiE,EAAWiF,iBACxCjM,KAAKoe,uBAAyB,gBAAkB,0BAGpD,IAAMjQ,EAAkBnO,KAAKoO,qBAE7B,GAAID,EAAiB,CACjB,IAAM0wB,EAAuB1wB,EAAgB0E,oBAEzCgsB,GACA7+B,KAAK4C,gBAAgBqS,UAAUC,IAAI,SAAW2pB,GAMtD,OAFA7+B,KAAK4C,gBAAgBovB,UAAYhyB,KAAK2O,gBAAkB3O,KAAK8+B,YAAc,GAAK,EAExE9+B,KAAKk+B,QACT,KAAK,EAED,MAEJ,KAAK,EACDl+B,KAAK4C,gBAAgBqS,UAAUC,IAAIlO,EAAWiF,iBAAiB,aAC/D,MACJ,KAAK,EACDjM,KAAK4C,gBAAgBqS,UAAUC,IAAIlO,EAAWiF,iBAAiB,YAInEjM,KAAKgD,OAAShD,KAAKoe,yBACfpe,KAAKgD,QAAUlB,EAAMi8B,YAAYgB,UACjC,EAAA/+B,KAAK4C,gBAAgBqS,WAAUC,IAAG,QAC3BlO,EAAWg4B,kBAAkB,UAAW,oBAG/C,EAAAh/B,KAAK4C,gBAAgBqS,WAAUC,IAAG,QAC3BlO,EAAWg4B,kBAAkB,SAAWh/B,KAAKgD,MAAMwa,iBAK1E,EAEU,YAAA/N,+BAAV,WACI,OAAO,IAAIpK,EACf,EAEU,YAAA45B,4BAAV,WACI,MAAO,CAAC,CACZ,EAEU,YAAAC,4BAAV,SAAsCC,GAEtC,EAEU,YAAAC,uBAAV,SAAiCC,GAC7B,IAAMjsB,EAAkB,GAExB,GAAIisB,EACA,IAAkB,UAAAC,OAAOC,KAAKF,GAAZ,eAA+B,CAA5C,IACKpuB,EAAQouB,EADJ,MAGLpuB,EAAM+lB,iBACP5jB,EAAOsD,KAAKzF,GAKxB,OAAOmC,CACX,EAEU,YAAAf,gBAAV,SAA0BC,GACtB,YAAqEtR,IAA9DsR,EAAQktB,eAAehtB,WAAWxS,KAAKsQ,kBAClD,EAEU,YAAAmvB,wBAAV,WAg1FJ,IAAiCp9B,EACvBmB,EACAk8B,EAj1FE1/B,KAAK2/B,WACL3/B,KAAK2/B,UAAU3/B,MAg1FjB0/B,GADAl8B,GADuBnB,EA30FDrC,MA40FRmN,OAAU9K,EAAO8K,OAAOoI,sBAAoCvU,IAEpEwC,EAAKgC,gBAAkBhC,EAAKgC,gBAAkBL,GAAaK,gBAEnEnD,EAAOu9B,uBAAyBF,GAChCA,EAAuBr9B,EAh1F3B,EAEU,YAAAw9B,qBAAV,WACI,IAAIC,EAAa9/B,KAAKsW,gBAElBwpB,aAAsB7yB,GACtB6yB,EAAWxqB,2BAEnB,EAIA,YAAAsM,QAAA,WACI,MAAO,EACX,EAEA,YAAAme,YAAA,WACI,MAAO,QACX,EAEA,YAAAvhB,6BAAA,SAA6BlT,EAAsB00B,QAAA,IAAAA,IAAAA,GAAA,GAC/C10B,EAAQ0mB,SAAWhyB,KAAKoe,yBAA2Bpe,KAAK2O,eAAiB,GAAK,EAE9ErD,EAAQc,aAAa,OAAQpM,KAAK+/B,eAE9Bz0B,aAAmB20B,oBACnB30B,EAAQyvB,UAAY/6B,KAAKoe,wBAGxBpe,KAAKoe,wBAGN9S,EAAQ2oB,gBAAgB,iBACxB3oB,EAAQ2J,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBAAiB,mBAHvDX,EAAQc,aAAa,gBAAiB,QAMtCpM,KAAKyG,OACL6E,EAAQc,aAAa,aAAcpM,KAAKyG,OACxC6E,EAAQ7E,MAAQzG,KAAKyG,QAErB6E,EAAQ2oB,gBAAgB,cACxB3oB,EAAQ2oB,gBAAgB,UAGxBj0B,KAAKkgC,UACDF,IAA0BhgC,KAAKyG,OAC/B6E,EAAQc,aAAa,aAAcpM,KAAKkgC,SAE5C50B,EAAQ7E,MAAQzG,KAAKkgC,QAE7B,EAEA,YAAA96B,MAAA,SAAMuN,EAAaL,GACf,OAAO,YAAMlN,MAAK,UAACuN,EAAQL,GAAoB,IAAIjN,GACvD,EAEA,YAAAK,OAAA,sBACUy6B,EAAgBt9B,SAASC,cAAc,UAC7Cq9B,EAAcp/B,KAAO,SACrBo/B,EAAcn9B,MAAME,QAAU,OAC9Bi9B,EAAcn9B,MAAM0jB,WAAa,SACjCyZ,EAAcn9B,MAAM2jB,eAAiB,SACrCwZ,EAAchiB,QAAU,SAAC/c,GACjB,EAAKgd,yBACLhd,EAAEid,iBACFjd,EAAEkd,cAAe,EAEjB,EAAKC,UAEb,EAEAve,KAAK2N,iBAAmBwyB,EAExBngC,KAAKo+B,sBACLp+B,KAAK4+B,mBACL5+B,KAAKwe,6BAA6B2hB,EACtC,EAEA,YAAA5hB,QAAA,WACQve,KAAKogC,mBACLpgC,KAAKogC,kBAAkBC,eAAergC,MAG1CA,KAAKy/B,0BACLz/B,KAAK6/B,sBACT,EAEA,YAAAD,oBAAA,WACI,IAAMP,EAAmBr/B,KAAKsgC,sBACxBC,EAAgBvgC,KAAKo/B,uBAAuBC,GAElD,OAAIkB,EAAc97B,OAAS,GACvB87B,EAAc,GAAG9O,SAEV,IAGXzxB,KAAKk/B,4BAA4BG,IAE1B,EACX,EAEA,YAAAxqB,OAAA,WACI,QAAI7U,KAAKogC,mBACEpgC,KAAKogC,kBAAkBI,aAAaxgC,KAInD,EAEA,YAAA2Q,aAAA,SAAa8F,GACT,YADS,IAAAA,IAAAA,GAAA,GACF,EACX,EAEA,YAAAjB,cAAA,WACI,MAAO,CAACxV,KACZ,EAEA,YAAA2W,uBAAA,WACI,OAAO3W,KAAKw4B,QAAU,CAAC,CAAE/R,IAAKzmB,KAAKw4B,QAAS3Q,SAAU,UAAa,EACvE,EAEA,YAAAhR,cAAA,SAAc3R,GACV,OAAOlF,KAAKkF,KAAOA,EAAKlF,UAAOgB,CACnC,EAEA,YAAAs/B,oBAAA,WACI,OAAOtgC,KAAKi/B,6BAChB,EAOA,YAAAwB,eAAA,WACI,OAAOzgC,KAAKo/B,uBAAuBp/B,KAAKsgC,sBAC5C,EAEA,YAAA7qB,mBAAA,WAEA,EAEA,YAAA2I,qBAAA,WACI,OAAOpe,KAAK0gC,SAChB,EAEA,sBAAI,wBAAS,KAAb,WACI,OAAO1gC,KAAKgD,QAAUlB,EAAMi8B,YAAYgB,QAC5C,MAEA,SAAc99B,GACNA,EACAjB,KAAKgD,MAAQlB,EAAMi8B,YAAYgB,SAE3B/+B,KAAKgD,QAAUlB,EAAMi8B,YAAYgB,WACjC/+B,KAAKgD,MAAQlB,EAAMi8B,YAAYrrB,QAG3C,kCAEA,sBAAI,yBAAU,KAAd,WACI,OAAO1S,KAAKmN,OAASnN,KAAKmN,OAAOnG,WAAa,EAAAqQ,iBAClD,kCAEA,sBAAI,qBAAM,KAAV,WACI,OAAoBrX,KAAKsX,OAC7B,kCAEA,sBAAI,oBAAK,KAAT,WACI,OAAOtX,KAAKk+B,MAChB,MAEA,SAAUj9B,GACFjB,KAAKk+B,SAAWj9B,IAChBjB,KAAKk+B,OAASj9B,EAEdjB,KAAK4+B,mBAEb,kCAEA,sBAAI,0BAAW,KAAf,WACI,OAAO5+B,KAAKm+B,YAChB,MAEA,SAAgBl9B,GACRjB,KAAKm+B,eAAiBl9B,IACtBjB,KAAKm+B,aAAel9B,EAEpBjB,KAAK4+B,mBAEb,kCAtYgB,EAAA7a,cAAgB,IAAI,EAAAxM,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAAgpB,gBAAkB,IAAI,EAAAppB,eAAe,EAAAjS,SAASkS,KAAM,WACpD,EAAA4J,cAAgB,IAAI,EAAAvJ,iBAChC,EAAAvS,SAASC,KACT,QACA,CACI,CAAEtE,MAAOa,EAAMi8B,YAAYrrB,SAC3B,CAAEzR,MAAOa,EAAMi8B,YAAYgB,UAC3B,CAAE99B,MAAOa,EAAMi8B,YAAY6C,cAE/B9+B,EAAMi8B,YAAYrrB,SAEN,EAAAmuB,aAAe,IAAI,EAAAhpB,iBAC/B,EAAAvS,SAAS+b,KACT,OACA,CAAC,CAAEpgB,MAAOa,EAAMk8B,WAAWC,SAAW,CAAEh9B,MAAOa,EAAMk8B,WAAW8C,YAChEh/B,EAAMk8B,WAAWC,SAEL,EAAA8C,gBAAkB,IAAI,EAAAxpB,eAAe,EAAAjS,SAAS+b,KAAM,WACpD,EAAA2f,kBAAoB,IAAI,EAAAvpB,aAAa,EAAAnS,SAAS+b,KAAM,aAAa,GAGjF,IADC,IAAApJ,UAASgpB,EAAOld,4CAIjB,IADC,IAAA9L,UAASgpB,EAAON,gDAIjB,IADC,IAAA1oB,UAASgpB,EAAO7f,4CAIjB,IADC,IAAAnJ,UAASgpB,EAAOJ,0CAIjB,IADC,IAAA5oB,UAASgpB,EAAOF,gDAIjB,IADC,IAAA9oB,UAASgpB,EAAOD,oDAmWrB,EA1YA,CAAqC,EAAA9oB,YAAf,EAAA+oB,OAAAA,GA4YtB,qFA4CI,EAAAC,sCAAgD,EAIxC,EAAAC,aAAuB,EAEvB,EAAAC,2BAAqC,GA0GjD,QA5J+C,OAoDjC,YAAAnC,4BAAV,WACI,IAAM7rB,EAA4B,CAAC,EAEnC,GAA8B,SAA1BpT,KAAKqhC,iBAA6B,CAIlC,IAHA,IAAIC,EAAmCthC,KAAKmN,OACxCynB,EAAkB,GAEf0M,GACH1M,EAAOle,KAAI,MAAXke,EAAe0M,EAAQ3wB,cAAa,IAEpC2wB,EAAUA,EAAQn0B,OAGtB,IAAoB,UAAAynB,EAAA,eAAQ,CAAvB,IAAM3jB,EAAK,KACRA,EAAM/L,KACNkO,EAAOnC,EAAM/L,IAAM+L,IAK/B,OAAOmC,CACX,EAEU,YAAA8rB,4BAAV,SAAsCtK,GAOlC,GANI50B,KAAKuhC,cACLvhC,KAAKwhC,eAAiBv3B,KAAK7E,MAAM6E,KAAKiB,UAAUlL,KAAKuhC,gBAErDvhC,KAAKwhC,eAAiB,CAAC,EAGvBxhC,KAAKwhC,gBAAkB5M,EACvB,IAAkB,UAAA0K,OAAOC,KAAK3K,GAAZ,eAAqB,CAAlC,IACK3jB,EAAQ2jB,EADJ,MAGN3jB,EAAM/L,IAAM+L,EAAMgmB,UAClBj3B,KAAKwhC,eAAevwB,EAAM/L,IACC,iBAAhB+L,EAAMhQ,MAAqBgQ,EAAMhQ,MAAQgQ,EAAMhQ,MAAM4M,YAK5E7N,KAAKmhC,aAAc,CACvB,EAEU,YAAAtB,qBAAV,WACQ,EAAAp+B,eAAeggC,2CACfzhC,KAAK0hC,iCAEb,EAEA,YAAAA,gCAAA,WACI,IAAIrC,EAAmBr/B,KAAKsgC,sBAI5B,GAFAtgC,KAAKohC,2BAA4B,EAE7B/B,EACA,IAAkB,UAAAC,OAAOC,KAAKF,GAAZ,eACAA,EADJ,MAGJvJ,iBAGlB,EAEA,YAAArgB,mBAAA,WACIzV,KAAKohC,2BAA4B,EAEjC,IAAI/B,EAAmBr/B,KAAKsgC,sBAE5B,GAAIjB,EACA,IAAkB,UAAAC,OAAOC,KAAKF,GAAZ,eAGd,GAFcA,EADJ,MAGA3I,UAAW,CACjB12B,KAAKohC,2BAA4B,EAEjC,MAKZphC,KAAK4+B,mBAED5+B,KAAK2N,kBACL3N,KAAKwe,6BAA6Bxe,KAAK2N,iBAE/C,EAEA,YAAAyQ,qBAAA,WACI,IAAIhL,EAAS,YAAMgL,qBAAoB,WAEvC,OAAOpe,KAAKkhC,qCACN9tB,GAAUpT,KAAKohC,0BACfhuB,CACV,EAEA,sBAAI,mBAAI,KAAR,WACI,OAAOpT,KAAKmhC,YAAcnhC,KAAKwhC,eAAiBxhC,KAAKuhC,aACzD,MAEA,SAAStgC,GACLjB,KAAKuhC,cAAgBtgC,EACrBjB,KAAKmhC,aAAc,CACvB,kCAxJgB,EAAAQ,aAAe,IAAI,EAAAjpB,mBAAmB,EAAApT,SAASqS,KAAM,QACrD,EAAAiqB,yBAA2B,IAAI,EAAAtK,eAC3C,EAAAhyB,SAAS+c,KACT,oBACA,SACIvc,EACAyxB,EACA5kB,EACAL,GAEA,IAAMrR,EAAQ0R,EAAO4kB,EAAKnf,MAE1B,QAAcpX,IAAVC,GAAwC,iBAAVA,EAC9B,MAA+B,SAAxBA,EAAMuc,cAA2B,OAAS,MAIzD,IACA,SACI1X,EACAyxB,EACA/e,EACAvX,EACAqR,GAEAA,EAAQmG,eAAeD,EAAQ+e,EAAKnf,KAAMnX,EAC9C,IAEY,EAAA4gC,6CAA+C,IAAI,EAAApqB,aAC/D,EAAAnS,SAASojB,KACT,wCACA,GAIJ,IADC,IAAAzQ,UAAS6pB,EAAiBH,mDAI3B,IADC,IAAA1pB,UAAS6pB,EAAiBF,kEAI3B,IADC,IAAA3pB,UAAS6pB,EAAiBD,0GAiH/B,EA5JA,CAA+CZ,IAAzB,EAAAa,iBAAAA,GA8JtB,8EAQA,QARkC,EAAAt4B,EAAA,GAK9B,YAAA8G,gBAAA,WACI,OAAO9G,EAAau4B,YACxB,EAJgB,EAAAA,aAAgC,gBAKpD,EARA,CAAkCD,IAArB,EAAAt4B,aAAAA,GAUb,8EAiBA,QAjBmC,OAc/B,YAAA8G,gBAAA,WACI,OAAOrI,EAAc85B,YACzB,EAbgB,EAAAA,aAAiC,iBAIjC,EAAAC,aAAe,IAAI,EAAAzqB,eAAe,EAAAjS,SAAS28B,KAAM,QAGjE,IADC,IAAAhqB,UAAShQ,EAAc+5B,0CAQ5B,EAjBA,CAAmCF,IAAtB,EAAA75B,cAAAA,GAmBb,8EAqCA,QArCmC,OAc/B,YAAAqI,gBAAA,WACI,OAAO4xB,EAAcH,YACzB,EAEA,YAAAhC,YAAA,WACI,MAAO,MACX,EAEA,YAAAnW,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAE5BtS,KAAKymB,KACNnU,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAO0tB,kBAAkB,OAG7C,EAEA,YAAAvgB,QAAA,WACI,OAAO5hB,KAAKymB,GAChB,EAjCgB,EAAA0B,YAAc,IAAI,EAAA5Q,eAAe,EAAAjS,SAASqS,KAAM,OAShD,EAAAoqB,aAAiC,iBANjD,IADC,IAAA9pB,UAASiqB,EAAc/Z,wCAgC5B,EArCA,CAAmC8Y,IAAtB,EAAAiB,cAAAA,GAuCb,qFA2DI,EAAAE,eAAyC,CAAC,GAuE9C,QAlI4C,OAmEhC,YAAAC,4BAAR,WAEI,GAAIriC,KAAKoiC,eAAgB,CACrB,IAAME,EAAahD,OAAOC,KAAKv/B,KAAKoiC,gBAEhCpiC,KAAK2N,mBACD20B,EAAW79B,OAAS,EACpBzE,KAAK2N,iBAAiBvB,aAAa,gBAAiBk2B,EAAWtO,KAAK,MAEpEh0B,KAAK2N,iBAAiBsmB,gBAAgB,kBAItD,EAEA,YAAArK,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAE5BtS,KAAKoiC,gBACN9vB,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAO0tB,kBAAkB,kBAG7C,EAEA,YAAA7xB,gBAAA,WACI,OAAOiyB,EAAuBR,YAClC,EAEA,YAAAr8B,OAAA,WACI,YAAMA,OAAM,WAEZ1F,KAAKqiC,6BACT,EAEA,YAAA9jB,QAAA,WAEI,GADA,YAAMA,QAAO,WACTve,KAAKmN,OACL,IAAwB,UAAAmyB,OAAOC,KAAKv/B,KAAKoiC,gBAAjB,eAAkC,CAArD,IAAMI,EAAS,KACVpnB,EAAgBpb,KAAKmN,OAAOoI,iBAAiBqB,eAAe4rB,GAE9DpnB,IAC8C,kBAAnCpb,KAAKoiC,eAAeI,GAC3BpnB,EAAc3N,UAAYzN,KAAKoiC,eAAeI,GAE9CpnB,EAAc3N,WAAa2N,EAAc3N,WAK7D,EAEA,YAAAg1B,iBAAA,SAAiBD,EAAmB/0B,QAAA,IAAAA,IAAAA,OAAA,GAChCzN,KAAKoiC,eAAeI,GAAa/0B,EACjCzN,KAAKqiC,6BACT,EAEA,YAAAK,oBAAA,SAAoBF,UACTxiC,KAAKoiC,eAAeI,GAC3BxiC,KAAKqiC,6BACT,EA9HgB,EAAAM,uBAAyB,IAAI,EAAArL,eACzC,EAAAhyB,SAASC,KACT,kBACA,SACIO,EACAyxB,EACA5kB,EACAL,GAEA,IAAMc,EAAsB,CAAC,EAE7B,GAAI8M,MAAM8C,QAAQrQ,EAAO4kB,EAAKnf,OAC1B,IAAmB,UAAAzF,EAAO4kB,EAAKnf,MAAZ,eAAmB,CAAjC,IAAMyR,EAAI,KACX,GAAoB,iBAATA,EACPzW,EAAOyW,QAAQ7oB,OACZ,GAAoB,iBAAT6oB,EAAmB,CACjC,IAAM2Y,EAAY3Y,EAAgB,UAET,iBAAd2Y,IACPpvB,EAAOovB,GAAa/+B,EAAMm/B,UAAU/Y,EAAgB,aAMpE,OAAOzW,CACX,IACA,SACItN,EACAyxB,EACA/e,EACAvX,EACAqR,GAIA,IAFA,IAAM8vB,EAAwB,GAEb,MAAA9C,OAAOC,KAAKt+B,GAAZ,eAAoB,CAAhC,IAAMiE,EAAE,KACgB,kBAAdjE,EAAMiE,GACbk9B,EAAe1rB,KAAK,CAChB8rB,UAAWt9B,EACXuI,UAAWxM,EAAMiE,KAGrBk9B,EAAe1rB,KAAKxR,GAI5BoN,EAAQuwB,eAAerqB,EAAQ+e,EAAKnf,KAAMgqB,EAC9C,GACA,CAAC,GACD,SAACt8B,GACG,MAAO,CAAC,CACZ,IAUY,EAAAi8B,aAA0C,0BAN1D,IADC,IAAA9pB,UAASsqB,EAAuBI,8DAwErC,EAlIA,CAA4C1B,IAA/B,EAAAsB,uBAAAA,GAoIb,mBAqBI,WAAqBpqB,EAAiCC,GAAtD,MACI,YAAMD,EAAeC,OAAMpX,GAAW,WAClC,OAAO,IAAI,EAAA8hC,uBACf,KAAE,YAHe,EAAA3qB,cAAAA,EAAiC,EAAAC,KAAAA,GAItD,CACJ,OA1B6C,OACzC,YAAAhT,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAMc,EAAS,IAAI,EAAA0vB,wBAGnB,OAFA1vB,EAAO2vB,IAAIt/B,EAAMu/B,YAAYrwB,EAAO3S,KAAKoY,QAElChF,CACX,EAEA,YAAAmF,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQmG,eAAeD,EAAQxY,KAAKoY,KAAMnX,EAAMgiC,cACpD,EAOJ,EA1BA,CAA6C,EAAAvqB,oBA4B7C,eAkBI,WAAYN,EAAmBnX,QAAnB,IAAAmX,IAAAA,EAAA,SAAmB,IAAAnX,IAAAA,EAAA,IAA/B,MACI,cAAO,YAEP,EAAKmX,KAAOA,EACZ,EAAKnX,MAAQA,GACjB,CAiBJ,OAxCgC,OAMlB,YAAA6iB,aAAV,WACI,MAAO,YACX,EAiBA,YAAAwc,oBAAA,SAAoB1L,EAAiByK,GACjCr/B,KAAKkjC,OAAO5C,oBAAoB1L,EAAQyK,EAC5C,EAEA,YAAAO,oBAAA,SAAoBhL,GAChB50B,KAAKkjC,OAAOC,sBAAsBvO,EAAQ,EAAAwO,aAAaC,8BAC3D,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAOrjC,KAAKkjC,OAAOI,KACvB,MAEA,SAAUC,GACNvjC,KAAKkjC,OAAOH,IAAIQ,EACpB,kCApCgB,EAAAC,aAAe,IAAI,EAAAjsB,eAAe,EAAAjS,SAASqS,KAAM,QACjD,EAAAqM,cAAgB,IAAIyf,GAA+B,EAAAn+B,SAASqS,KAAM,SAOlF,IADC,IAAAM,UAASyrB,EAAWF,0CAIrB,IADC,IAAAvrB,UAASyrB,EAAW1f,6CA2BzB,EAxCA,CAAgC,EAAAE,oBAAnB,EAAAwf,WAAAA,GA0Cb,qFA8BY,EAAAC,wBAAkC,GA4F9C,QA1HgC,OAsClB,YAAA1E,4BAAV,WACI,IAAMvuB,EAAY1Q,KAAKmN,OAASnN,KAAKmN,OAAOoI,iBAAiB5E,eAAiB,GACxEyC,EAA4B,CAAC,EAEnCpT,KAAK4jC,KAAKtD,oBAAoB5vB,EAAW0C,GAEzC,IAAqB,UAAApT,KAAK6jC,QAAL,eAAJ,KACNvD,oBAAoB5vB,EAAW0C,GAK1C,OAFApT,KAAK8jC,MAAMxD,oBAAoB5vB,EAAW0C,GAEnCA,CACX,EAEU,YAAA8rB,4BAAV,SAAsCtK,GAClC,GAAIA,EAAQ,CACR50B,KAAK4jC,KAAKT,sBAAsBvO,EAAQ,EAAAwO,aAAaC,+BAIrD,IAFA,IAAIU,EAAc,EAAAX,aAAaY,gBAEV,MAAAhkC,KAAK6jC,QAAL,eAAc,CAA9B,IAAMI,EAAM,KACbA,EAAOrE,oBAAoBhL,GAEvBqP,EAAO7rB,MAAsC,iBAA9B6rB,EAAO7rB,KAAKoF,gBAC3BumB,EAAcE,EAAOhjC,OAI7BjB,KAAK8jC,MAAMX,sBAAsBvO,EAAQmP,GAEjD,EAEA,YAAAzzB,gBAAA,WACI,OAAO4zB,EAAWnC,YACtB,EAEA,YAAAnY,2BAAA,SAA2BtX,GAWvB,GAVA,YAAMsX,2BAA0B,UAACtX,GAE5BtS,KAAKymB,KACNnU,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAO0tB,kBAAkB,QAIrCniC,KAAK6jC,QAAQp/B,OAAS,EACtB,IAAqB,UAAAzE,KAAK6jC,QAAL,eAAJ,KACDzrB,MACR9F,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAO0vB,wCAKnC,EAEA,sBAAI,oCAAqB,KAAzB,WACI,OAAOnkC,KAAK2jC,sBAChB,MAEA,SAA0B1iC,GACtBjB,KAAK2jC,uBAAyB1iC,CAClC,kCAEA,sBAAI,kBAAG,KAAP,WACI,OAAOjB,KAAK4jC,KAAKN,KACrB,MAEA,SAAQriC,GACJjB,KAAK4jC,KAAKb,IAAI9hC,EAClB,kCAEA,sBAAI,mBAAI,KAAR,WACI,OAAOjB,KAAK8jC,MAAMR,KACtB,MAEA,SAASriC,GACLjB,KAAK8jC,MAAMf,IAAI9hC,EACnB,kCAtHgB,EAAAknB,YAAc,IAAIsb,GAA+B,EAAAn+B,SAASqS,KAAM,OAChE,EAAAysB,aAAe,IAAIX,GAA+B,EAAAn+B,SAASqS,KAAM,QACjE,EAAA0sB,eAAiB,IAAI,EAAA9sB,eAAe,EAAAjS,SAASqS,KAAM,UACnD,EAAA2sB,gBAAkB,IAAI,EAAAxf,qCAClC,EAAAxf,SAASqS,KACT,UACA+rB,IAEY,EAAAa,8BAAgC,IAAI,EAAA9sB,aAChD,EAAAnS,SAAS+c,KACT,yBACA,GAsBY,EAAA0f,aAA8B,cAlB9C,IADC,IAAA9pB,UAASisB,EAAW/b,yCAIrB,IADC,IAAAlQ,UAASisB,EAAWE,2CAIrB,IADC,IAAAnsB,UAASisB,EAAWG,8CAIrB,IADC,IAAApsB,UAASisB,EAAWI,gDAIrB,IADC,IAAArsB,UAASisB,EAAWK,6EA6FzB,EA1HA,CAAgCtD,IAAnB,EAAAiD,WAAAA,GA4Hb,qFAkDa,EAAA1gC,KAAqB,IAAIghC,IAqDtC,QAvGoC,OAKtB,YAAA5F,iBAAV,WAGI,GAFA,YAAMA,iBAAgB,WAElB5+B,KAAK4C,gBAAiB,CACtB,IAAM6hC,EAAsBzkC,KAAKmN,OAASnN,KAAKmN,OAAOnG,WAAa,EAAAqQ,kBAEnErX,KAAK4C,gBAAgBqS,UAAUC,IAAIuvB,EAAoBx4B,iBAAiB,eACxEjM,KAAK4C,gBAAgBwJ,aACjB,iBACgB,IAAfpM,KAAK0kC,OAAsC72B,YAGxD,EAEU,YAAAkV,cAAV,SAAwBpQ,EAAaL,GACjC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5B,IAAMqyB,EAAWhyB,EAAa,KAE1BgyB,EACA3kC,KAAKwD,KAAK4B,MAAMu/B,EAAUryB,GAE1BA,EAAQsT,cACJ5lB,KACA8B,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAOmwB,uBAG3B,EAEU,YAAAxhB,eAAV,SAAyB5K,EAAqBlG,GAC1C,YAAM8Q,eAAc,UAAC5K,EAAQlG,GAEzBtS,KAAKwD,MACL8O,EAAQmG,eAAeD,EAAQ,OAAQxY,KAAKwD,KAAK+U,OAAOjG,GAEhE,EAEU,YAAAmtB,wBAAV,WACQz/B,KAAKgH,WAAWV,QAAQu+B,SAASC,aAAehjC,EAAMijC,mBAAmBC,OAEzE,YAAMvF,wBAAuB,UAErC,EAIA,YAAAhW,oBAAA,WACI,YAAMA,oBAAmB,WAEzBzpB,KAAKwD,KAAKimB,qBACd,EAEA,YAAAnZ,gBAAA,WACI,OAAO0G,EAAe+qB,YAC1B,EAEA,YAAAnY,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAEjCtS,KAAKwD,KAAKomB,2BAA2BtX,EACzC,EAEA,YAAAwQ,UAAA,SAAU7hB,GACN,YAAM6hB,UAAS,UAAC7hB,GAEhBjB,KAAKwD,KAAKsf,UAAU7hB,EACxB,EAEA,YAAA0P,aAAA,SAAa8F,GACT,YADS,IAAAA,IAAAA,GAAA,GACFzW,KAAKwD,KAAKmN,aAAa8F,EAClC,EAEA,YAAAjB,cAAA,WACI,IAAMpC,EAAS,YAAMoC,cAAa,WAIlC,OAFApC,EAAOsD,KAAI,MAAXtD,EAAepT,KAAKwD,KAAKgS,iBAElBpC,CACX,EAEA,YAAAuD,uBAAA,WACI,IAAIvD,EAAS,YAAMuD,uBAAsB,WAIzC,OAFAvD,EAAOsD,KAAI,MAAXtD,EAAepT,KAAKwD,KAAKmT,0BAElBvD,CACX,EAEA,YAAAyD,cAAA,SAAc3R,GACV,IAAIkO,EAAS,YAAMyD,cAAa,UAAC3R,GAMjC,OAJKkO,IACDA,EAASpT,KAAKwD,KAAKqT,cAAc3R,IAG9BkO,CACX,EAnGgB,EAAA2uB,aAAkC,kBAoGtD,EAvGA,CAAoCd,IAAvB,EAAAjqB,eAAAA,GAyGb,mBAII,WAAY1Q,GAAZ,MACI,cAAO,YACP,EAAK2+B,SAAW3+B,EAEhB,EAAKG,MAAQ,EAAAzC,QAAQ6qB,SAASqW,qBAC9B,EAAKhF,QAAU,EAAAl8B,QAAQ6qB,SAASsW,yBACpC,CA2DJ,OArE6B,OAYzB,YAAAC,WAAA,WACI,OAAOplC,KAAKilC,QAChB,EAEA,YAAAzvB,cAAA,WACI,IAAMpC,EAAS,YAAMoC,cAAa,WAIlC,OAFApC,EAAOsD,KAAI,MAAXtD,EAAepT,KAAKilC,UAEb7xB,CACX,EAEA,YAAA9C,gBAAA,WACI,OAAO0G,GAAe+qB,YAC1B,EAEA,YAAAxjB,QAAA,iBAwjEAlc,EACAmW,EAEMhV,EACA6hC,EA5jEN,OAMI,GAkjEJhjC,EAtjEQrC,KAujERwY,EAtjEQxY,KAAK4C,sBA8jEiC5B,KALxCqkC,GADA7hC,EAAOnB,EAAO8K,OAAU9K,EAAO8K,OAAOoI,sBAAoCvU,IAEpEwC,EAAK8hC,4BACP9hC,EAAK8hC,4BACLngC,GAAamgC,+BAGjBD,EAAmChjC,EAAO+iC,aAAc5sB,KA5jE5BxY,KAAK4C,gBAAiB,CAChD,IAAM,EAAc,IAAI,EAAA2iC,UACxB,EAAYv+B,WAAahH,KAAKgH,WAE9B,mBAAS4N,GACL,IAAM4wB,EAAW,IAAI,EAAAC,SAAS7wB,EAAE/G,WAAkC,QAAtB,IAAKo3B,SAASrwB,GAAGnO,aAAK,QAAI,IACtE++B,EAAS9E,UAAY,EAAKuE,SAASrwB,GAAG8rB,UACtC8E,EAASE,QAAU,WACf,IAAMC,EAAkB,EAAKV,SAASrwB,GAEtC,EAAYgxB,YAAW,GAEnBD,EAAgBjF,WAChBiF,EAAgBpnB,SAExB,EAEA,EAAYsnB,MAAM3wB,IAAIswB,WAbjB5wB,EAAI,EAAGA,EAAI5U,KAAKilC,SAASxgC,OAAQmQ,MAAjCA,GAgBT,EAAYkxB,QAAU,iBACE,QAApB,IAAKljC,uBAAe,SAAEwJ,aAAa,gBAAiB,QACxD,EAEApM,KAAK4C,gBAAgBwJ,aAAa,gBAAiB,QACnD,EAAY25B,MAAM/lC,KAAK4C,iBAE/B,EAEA,YAAA4b,6BAAA,SAA6BlT,EAAsB00B,QAAA,IAAAA,IAAAA,GAAA,GAC/C,YAAMxhB,6BAA4B,UAAClT,EAAS00B,GAE5C10B,EAAQc,aAAa,aAAc,EAAApI,QAAQ6qB,SAASsW,yBACpD75B,EAAQc,aAAa,gBAAiB,QAC1C,EAnEgB,EAAA21B,aAAkC,kBAoEtD,EArEA,CAA6Bd,IAuE7B,cAiJI,WAAYnT,GAJJ,KAAAkY,OAAmB,GAEnB,KAAAC,iBAA6B,GAGjCjmC,KAAKkmC,OAASpY,CAClB,CA4XJ,OAzgBY,YAAAqY,gBAAR,SAAwB9jC,GACpB,IAAM+jC,EAAiBpmC,KAAKkmC,OAAO/yB,0BAEnC,GAAIizB,EACA,IAA4B,UAAAA,EAAA,eAAgB,CAAvC,IAAMC,EAAa,KACpB,GAAIhkC,EAAOikC,cAAgBD,EACvB,OAAO,EAKnB,OAAO,CACX,EAEQ,YAAAE,iBAAR,WAGI,GAFAl7B,EAAarL,KAAKwmC,sBAEbxmC,KAAKymC,YAAV,CAMAzmC,KAAKwmC,qBAAqBxjC,MAAM0c,UAC5B1f,KAAK0mC,oBAAsB,EACrB1mC,KAAKkmC,OAAOl/B,WAAWV,QAAQu+B,SAAS8B,gBAAkB,KAC1D,MAEV,IAAMz2B,EAAUlQ,KAAKkmC,OAAO73B,sBAE5BrO,KAAKkmC,OAAOv0B,+BAA+BzB,GAE3C,IAAM0B,EACF5R,KAAKkmC,OAAOl/B,WAAWuH,qCAAqC2B,GAE5DlQ,KAAKymC,cACLzmC,KAAKymC,YAAYzjC,MAAM0J,YAAckF,EAAgBnH,KAAO,KAC5DzK,KAAKymC,YAAYzjC,MAAMsmB,aAAe1X,EAAgBnD,MAAQ,KAE9DzO,KAAKymC,YAAYzjC,MAAMwL,WAAa,IAAMoD,EAAgBnH,KAAO,KACjEzK,KAAKymC,YAAYzjC,MAAM2J,YAAc,IAAMiF,EAAgBnD,MAAQ,KAEpC,IAA3BmD,EAAgByC,QAAiBrU,KAAKkmC,OAAOv3B,iBAC7C3O,KAAKymC,YAAYzjC,MAAMumB,cAAgB3X,EAAgByC,OAAS,KAChErU,KAAKymC,YAAYzjC,MAAMwJ,aAAe,IAAMoF,EAAgByC,OAAS,MAGzE5Q,EAAMH,YAAYtD,KAAKwmC,qBAAsBxmC,KAAKymC,mBA7BlDzmC,KAAKwmC,qBAAqBxjC,MAAM0c,UAAY,KA+BpD,EAEQ,YAAAknB,cAAR,WACI5mC,KAAKkmC,OAAO3wB,iBAAiBH,cACjC,EAEQ,YAAAyxB,eAAR,SACIxkC,EACAykC,EACAC,QADA,IAAAD,IAAAA,GAAA,QACA,IAAAC,IAAAA,GAAA,GAEqB1kC,EAAOmB,KAAMsjC,cAAgBA,EAGlD,IAAME,EACF3kC,EAAOmB,KAAKZ,kBAAoB5C,KAAKkmC,OAAOv3B,eACtCtM,EAAOmB,KAAKZ,gBACZP,EAAOmB,KAAKkC,SAEtB1F,KAAKymC,YAAcO,EACnBhnC,KAAKinC,gBAAkB5kC,EAEvBrC,KAAKumC,mBAEDQ,IACA/mC,KAAK4mC,gBAELM,GAA6B7kC,GAAQ,GAE7C,EAEQ,YAAA8kC,uBAAR,WACI,IAAqB,UAAAnnC,KAAKimC,iBAAL,eAAJ,KACNvB,MAAQ,EAGnB,IAAM0C,EAA2BpnC,KAAKinC,gBAEtCjnC,KAAKinC,qBAAkBjmC,EACvBhB,KAAKymC,iBAAczlC,EAEnBhB,KAAKumC,mBAEDa,IACApnC,KAAK4mC,gBAELM,GAA6BE,GAA0B,GAE/D,EAEQ,YAAAC,qBAAR,SAA6BhlC,EAAwB0kC,GAGjD,IAHJ,WACQO,GAAsB,EAEG,MAAAtnC,KAAKimC,iBAAL,eAAuB,CAA/C,IAAMsB,EAAc,KAGjBvnC,KAAKkmC,OAAOl/B,WAAWV,QAAQkhC,oBAAsB1lC,EAAMoK,YAAYC,YACvEm7B,IAEAC,EAAezI,aAAc,GAG7ByI,IAAmBllC,EACnBklC,EAAe7C,MAAQ,GAEvB6C,EAAe7C,MAAQ,EAEvB4C,GAAsB,EAElBC,EAAe3kC,kBACf2kC,EAAe3kC,gBAAgB+yB,OAAS,SAAC5O,GACrC,IAAiB,YAAKkf,iBAAL,eAAJ,KACNnH,aAAc,CAEzB,IAKZ9+B,KAAK6mC,eACDxkC,IACErC,KAAKkmC,OAAOlwB,mBAAqBhW,KAAKkmC,OAAOjwB,oBAC/C8wB,EAER,EAUA,YAAAtd,oBAAA,WACI,IAAmB,UAAAzpB,KAAKimC,iBAAL,eAAJ,KACJxc,qBAEf,EAEA,YAAA4W,eAAA,SAAeh+B,GACLA,aAAkB2U,GAGhB3U,IAAWrC,KAAKinC,gBAChBjnC,KAAKmnC,yBAELnnC,KAAKkmC,OAAOl/B,WAAWV,QAAQu+B,SAASC,aACxChjC,EAAMijC,mBAAmBzQ,QAEzBt0B,KAAKqnC,qBAAqBhlC,GAAQ,GARtCrC,KAAKmnC,wBAWb,EAEA,YAAA/hC,MAAA,SAAMuN,EAAaL,GAGf,GAFAtS,KAAKynC,QAEDvnB,MAAM8C,QAAQrQ,GACd,IAAyB,UAAAA,EAAA,eAAQ,CAA5B,IAAM+0B,EAAU,KACbC,EAA6B,GAG7B3nC,KAAKkmC,kBAAkB0B,KACvBD,EAAmB3nC,KAAKkmC,OAAO2B,2BAGnC,IAAMxlC,EAASiQ,EAAQgG,YACnBtY,KAAKkmC,OACLwB,EACAC,GACC3nC,KAAKkmC,OAAOv3B,gBAGbtM,GACArC,KAAK8nC,UAAUzlC,GAI/B,EAEA,YAAAkW,OAAA,SAAOC,EAAqBuvB,EAAsBz1B,GAC9CA,EAAQuwB,eAAerqB,EAAQuvB,EAAc/nC,KAAKgmC,OACtD,EAEA,YAAAzxB,YAAA,SAAYrP,GACR,OAAOlF,KAAKgmC,OAAO9gC,EACvB,EAEA,YAAAoP,eAAA,WACI,OAAOtU,KAAKgmC,OAAOvhC,MACvB,EAEA,YAAAoS,cAAA,SAAc3R,GAGV,IAFA,IAAIkO,OAA6BpS,EAEd,MAAAhB,KAAKgmC,OAAL,cACf5yB,EADW,KACGyD,cAAc3R,IADb,KAQnB,OAAOkO,CACX,EAEA,YAAA40B,mBAAA,SAAmB11B,GAEXtS,KAAKkmC,OAAOl/B,WAAWV,QAAQ2hC,YAC/BjoC,KAAKgmC,OAAOvhC,OAASzE,KAAKkmC,OAAOl/B,WAAWV,QAAQ2hC,YAEpD31B,EAAQwX,WACJ9pB,KAAKkmC,OACLpkC,EAAM+jB,gBAAgBqiB,eACtB,EAAAlkC,QAAQyQ,OAAO0zB,eAAenoC,KAAKkmC,OAAOl/B,WAAWV,QAAQ2hC,aAIjEjoC,KAAKgmC,OAAOvhC,OAAS,IAAMzE,KAAKkmC,OAAOl/B,WAAWkX,uBAClD5L,EAAQwX,WACJ9pB,KAAKkmC,OACLpkC,EAAM+jB,gBAAgBkE,wBACtB,EAAA/lB,QAAQyQ,OAAOuV,2BAIvB,IAAmB,UAAAhqB,KAAKgmC,OAAL,eAAa,CAA3B,IAAMnc,EAAI,KACN7pB,KAAKmmC,gBAAgBtc,IACtBvX,EAAQwX,WACJ9pB,KAAKkmC,OACLpkC,EAAM+jB,gBAAgBuiB,qBACtB,EAAApkC,QAAQyQ,OAAO4zB,qBAAqBxe,EAAKvZ,oBAIjDuZ,EAAKD,2BAA2BtX,GAExC,EAEA,YAAA5M,OAAA,SAAOmG,GAEH,IAAM7E,EAAahH,KAAKkmC,OAAOl/B,WAE/B,GAAKA,EAAWkX,sBAAhB,CAIA,IAAM5S,EAAUzI,SAASC,cAAc,OACjCmlC,EAAajhC,EAAWV,QAAQ2hC,WAChC1b,KAAKsQ,IAAI71B,EAAWV,QAAQ2hC,WAAYjoC,KAAKgmC,OAAOvhC,QACpDzE,KAAKgmC,OAAOvhC,OAKlB,GAHAzE,KAAKwmC,qBAAuB3jC,SAASC,cAAc,OACnD9C,KAAKimC,iBAAmB,GAGpBj/B,EAAWV,QAAQgiC,+BACJ,IAAfL,GACAjoC,KAAKgmC,OAAO,aAAchvB,IAC1BhX,KAAKmmC,gBAAgBnmC,KAAKgmC,OAAO,IAEjChmC,KAAK6mC,eAAe7mC,KAAKgmC,OAAO,IAAI,GACpChmC,KAAKimC,iBAAiBvvB,KAAK1W,KAAKgmC,OAAO,QACpC,CACH,IAAMuC,EAAc1lC,SAASC,cAAc,OAI3C,GAHAylC,EAAYxlC,UAAYiE,EAAWiF,iBAAiB,gBACpDs8B,EAAYvlC,MAAME,QAAU,OAExB2I,IAAgB/J,EAAMoK,YAAYC,WAGlC,GAFAo8B,EAAYvlC,MAAMG,cAAgB,MAG9BnD,KAAKkmC,OAAOphC,qBACZkC,EAAWV,QAAQkiC,kBAAoB1mC,EAAM2mC,gBAAgBjiB,QAE7D,OAAQxmB,KAAKkmC,OAAOphC,qBAChB,KAAKhD,EAAMoV,oBAAoByJ,OAC3B4nB,EAAYvlC,MAAM2jB,eAAiB,SACnC,MACJ,KAAK7kB,EAAMoV,oBAAoB2J,MAC3B0nB,EAAYvlC,MAAM2jB,eAAiB,WACnC,MACJ,QACI4hB,EAAYvlC,MAAM2jB,eAAiB,kBAI3C,OAAQ3f,EAAWV,QAAQkiC,iBACvB,KAAK1mC,EAAM2mC,gBAAgB9nB,OACvB4nB,EAAYvlC,MAAM2jB,eAAiB,SACnC,MACJ,KAAK7kB,EAAM2mC,gBAAgB5nB,MACvB0nB,EAAYvlC,MAAM2jB,eAAiB,WACnC,MACJ,QACI4hB,EAAYvlC,MAAM2jB,eAAiB,kBAO/C,GAFA4hB,EAAYvlC,MAAMG,cAAgB,SAG9BnD,KAAKkmC,OAAOphC,qBACZkC,EAAWV,QAAQkiC,kBAAoB1mC,EAAM2mC,gBAAgBjiB,QAE7D,OAAQxmB,KAAKkmC,OAAOphC,qBAChB,KAAKhD,EAAMoV,oBAAoByJ,OAC3B4nB,EAAYvlC,MAAM0jB,WAAa,SAC/B,MACJ,KAAK5kB,EAAMoV,oBAAoB2J,MAC3B0nB,EAAYvlC,MAAM0jB,WAAa,WAC/B,MACJ,QACI6hB,EAAYvlC,MAAM0jB,WAAa,kBAIvC,OAAQ1f,EAAWV,QAAQkiC,iBACvB,KAAK1mC,EAAM2mC,gBAAgB9nB,OACvB4nB,EAAYvlC,MAAM0jB,WAAa,SAC/B,MACJ,KAAK5kB,EAAM2mC,gBAAgB5nB,MACvB0nB,EAAYvlC,MAAM0jB,WAAa,WAC/B,MACJ,KAAK5kB,EAAM2mC,gBAAgBjiB,QACvB+hB,EAAYvlC,MAAM0jB,WAAa,UAC/B,MACJ,QACI6hB,EAAYvlC,MAAM0jB,WAAa,aAM/C,IAAMgiB,EAAiB1oC,KAAKgmC,OAAO2C,OAAO3oC,KAAKmmC,gBAAgByC,KAAK5oC,OAEhE,EAA2B,GACzB,EAA6B,GAEnC,GAAKA,KAAKkmC,OAAOv3B,eAkCb,EAAiB+5B,MAlCY,CAC7BA,EAAe13B,SAAQ,SAAC3O,GACpB,OAAAA,EAAO+B,OAAStC,EAAMk8B,WAAW8C,UAC3B,EAAiBpqB,KAAKrU,GACtB,EAAeqU,KAAKrU,EAF1B,IAMJ,IAAMwmC,EAAyB,EAAejlB,OAAO5c,EAAWV,QAAQ2hC,YAEpE,EAAAxmC,eAAeqnC,uCACf,EAAiBpyB,KAAI,MAArB,EAAyBmyB,GAG7B,IAAIE,GAAmC,EAEvC,GAAI,EAAiBtkC,OAAS,EAAG,CACxBzE,KAAKgpC,kBACNhpC,KAAKgpC,gBAAkB,IAAIC,GAAe,GAC1CjpC,KAAKgpC,gBAAgBlmB,UAAU9iB,KAAKkmC,QACpClmC,KAAKgpC,gBAAmC,kBAAIhpC,MAGhD,IAAMkpC,EAAelpC,KAAKkmC,kBAAkB/gC,KAAiBnF,KAAKkmC,OAAO/4B,OACzE47B,GAkqDpB,SACI1mC,EACA8mC,GAEA,IAAM3lC,EAAOnB,EAAO8K,OAAU9K,EAAO8K,OAAOoI,sBAAoCvU,EAC1EooC,EACF5lC,GAAQA,EAAK6lC,wBACP7lC,EAAK6lC,wBACLlkC,GAAakkC,wBAEvB,YAA0CroC,IAAnCooC,GACDA,EAA+B/mC,EAAO+iC,aAAc+D,EAE9D,CA/qDwDG,CAChCtpC,KAAKgpC,gBACLE,GAIJlpC,KAAKgpC,iBAAmBD,GACxB,EAAeryB,KAAK1W,KAAKgpC,iBAMjC,IAAK,IAAIp0B,EAAI,EAAGA,EAAI,EAAenQ,OAAQmQ,IAAK,CAC5C,IAAMvS,EAAS,EAAeuS,GAG9B,GAFAvS,EAAOqD,SAEHrD,EAAOO,kBAEHoE,EAAWV,QAAQkhC,qBAAuB1lC,EAAMoK,YAAYC,YAC5DnF,EAAWV,QAAQkiC,kBAAoB1mC,EAAM2mC,gBAAgBjiB,QAE7DnkB,EAAOO,gBAAgBI,MAAM8J,KAAO,WAEpCzK,EAAOO,gBAAgBI,MAAM8J,KAAO,WAGxCy7B,EAAYjlC,YAAYjB,EAAOO,iBAE/B5C,KAAKimC,iBAAiBvvB,KAAKrU,GAEvBuS,EAAI,EAAenQ,OAAS,GAAKuC,EAAWV,QAAQijC,cAAgB,GAAG,CACvE,IAAMC,EAAS3mC,SAASC,cAAc,OAElC+I,IAAgB/J,EAAMoK,YAAYC,YAClCq9B,EAAOxmC,MAAM8J,KAAO,WACpB08B,EAAOxmC,MAAMwF,MAAQxB,EAAWV,QAAQijC,cAAgB,MAExDC,EAAOxmC,MAAMyF,OAASzB,EAAWV,QAAQijC,cAAgB,KAG7D9lC,EAAMH,YAAYilC,EAAaiB,IAK3C,IAAMC,EAAuB5mC,SAASC,cAAc,OACpD2mC,EAAqBzmC,MAAM6J,SAAW,SACtC48B,EAAqBnmC,YAAYilC,GAEjC9kC,EAAMH,YAAYgI,EAASm+B,GAG/BhmC,EAAMH,YAAYgI,EAAStL,KAAKwmC,sBAEhC,IAA6B,UAAAxmC,KAAKimC,iBAAL,eAAuB,CAA/C,IAAMsB,EAAc,KACrB,GAA6B,IAAzBA,EAAe7C,MAAsC,CACrD1kC,KAAKqnC,qBAAqCE,GAAgB,GAE1D,OAIR,OAAOvnC,KAAKimC,iBAAiBxhC,OAAS,EAAI6G,OAAUtK,EACxD,EAEA,YAAA8mC,UAAA,SAAUzlC,GACN,IAAKA,EACD,MAAM,IAAIF,MAAM,wCAGpB,GAAME,EAAO8K,QAAU9K,EAAO8K,SAAWnN,KAAKkmC,UAAWlmC,KAAKgmC,OAAOtwB,QAAQrT,GAAU,GASnF,MAAM,IAAIF,MAAM,EAAA6B,QAAQyQ,OAAOi1B,yBAR/B1pC,KAAKgmC,OAAOtvB,KAAKrU,GAEZA,EAAO8K,QACR9K,EAAOygB,UAAU9iB,KAAKkmC,QAG1B7jC,EAA0B,kBAAIrC,IAItC,EAEA,YAAAwgC,aAAA,SAAan+B,GACLrC,KAAK2pC,gBAAkB3pC,KAAKinC,kBAAoB5kC,GAChDrC,KAAKmnC,yBAGT,IAAMyC,EAAc5pC,KAAKgmC,OAAOtwB,QAAQrT,GAExC,GAAIunC,GAAe,EAAG,CAClB5pC,KAAKgmC,OAAOpiB,OAAOgmB,EAAa,GAEhCvnC,EAAOygB,eAAU9hB,GAEjBqB,EAA0B,uBAAIrB,EAE9B,IAAK,IAAI4T,EAAI,EAAGA,EAAI5U,KAAKimC,iBAAiBxhC,OAAQmQ,IAC9C,GAAI5U,KAAKimC,iBAAiBrxB,KAAOvS,EAAQ,CACrCrC,KAAKimC,iBAAiBriB,OAAOhP,EAAG,GAEhC,MAIR,OAAO,EAGX,OAAO,CACX,EAEA,YAAA6yB,MAAA,WACIznC,KAAKgmC,OAAS,GACdhmC,KAAKimC,iBAAmB,GACxBjmC,KAAKinC,qBAAkBjmC,CAC3B,EAEA,YAAA2P,aAAA,SAAa8F,QAAA,IAAAA,IAAAA,GAAA,GACT,IAAIrD,EAAkB,GAEtB,GAAIqD,EACA,IAAqB,UAAAzW,KAAKgmC,OAAL,eAAa,CAA7B,IAAM3jC,EAAM,KACb+Q,EAAOsD,KAAI,MAAXtD,EAAe/Q,EAAOsO,gBAI9B,OAAOyC,CACX,EAEA,YAAAuD,uBAAA,WAGI,IAFA,IAAIvD,EAAiC,GAEhB,MAAApT,KAAKgmC,OAAL,eAAa,CAA7B,IAAM3jC,EAAM,KACb+Q,EAAOsD,KAAI,MAAXtD,EAAe/Q,EAAOsU,0BAG1B,OAAOvD,CACX,EAEA,sBAAI,kCAAmB,KAAvB,WACI,OAAOpT,KAAKimC,iBAAiBxhC,MACjC,kCAEA,sBAAI,6BAAc,KAAlB,WACI,OAAOzE,KAAKinC,eAChB,kCACJ,EA/gBA,GAihBA,eAoCI,mBACI,cAAO,YAEP,EAAK7G,kBAAoB,IAAIyJ,GAAiB,IAClD,CAiHJ,OAzJ+B,OAgBjB,YAAA9mB,cAAV,SAAwBpQ,EAAaL,GACjC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAKogC,kBAAkBh7B,MAAMuN,EAAgB,QAAGL,EACpD,EAEU,YAAA8Q,eAAV,SAAyB5K,EAAqBlG,GAC1C,YAAM8Q,eAAc,UAAC5K,EAAQlG,GAE7BtS,KAAKogC,kBAAkB7nB,OAAOC,EAAQ,UAAWlG,EACrD,EAEU,YAAAhB,eAAV,WACI,OAAOtR,KAAKogC,kBAAkB16B,YACL1E,IAArBhB,KAAK6L,YACC7L,KAAK6L,YACL7L,KAAKgH,WAAWV,QAAQkhC,mBAEtC,EAQA,YAAA/d,oBAAA,WACI,YAAMA,oBAAmB,WAEzBzpB,KAAKogC,kBAAkB3W,qBAC3B,EAEA,YAAApT,mBAAA,WACI,OAAmD,IAA/CrW,KAAKogC,kBAAkBsG,oBAChB,YAAMrwB,mBAAkB,WAEiB,IAA5CrW,KAAKogC,kBAAkB9rB,sBAEuBtT,IAA1ChB,KAAKogC,kBAAkBuJ,iBACtB3pC,KAAKgH,WAAWV,QAAQgiC,mCAGoBtnC,IAA1ChB,KAAKogC,kBAAkBuJ,cAG1C,EAEA,YAAAr5B,gBAAA,WACI,MAAO,WACX,EAEA,YAAAgE,eAAA,WACI,OAAOtU,KAAKogC,kBAAkB9rB,gBAClC,EAEA,YAAAC,YAAA,SAAYC,GACR,OAAIA,GAAS,GAAKA,EAAQxU,KAAKsU,iBACpBtU,KAAKogC,kBAAkB7rB,YAAYC,GAEnC,YAAMD,YAAW,UAACC,EAEjC,EAEA,YAAAqC,cAAA,SAAc3R,GAGV,OAFmClF,KAAKogC,kBAAkBvpB,cAAc3R,IAE/C,YAAM2R,cAAa,UAAC3R,EACjD,EAEA,YAAAsQ,cAAA,WAGI,IAFA,IAAMpC,EAAS,YAAMoC,cAAa,WAEzBZ,EAAI,EAAGA,EAAI5U,KAAKsU,iBAAkBM,IAAK,CAC5C,IAAIvS,EAASrC,KAAKuU,YAAYK,GAE1BvS,GACA+Q,EAAOsD,KAAKrU,GAIpB,OAAO+Q,CACX,EAEA,YAAAwW,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAEjCtS,KAAKogC,kBAAkB4H,mBAAmB11B,EAC9C,EAEA,YAAAw1B,UAAA,SAAUzlC,GACNrC,KAAKogC,kBAAkB0H,UAAUzlC,EACrC,EAEA,YAAAsO,aAAA,SAAa8F,GACT,YADS,IAAAA,IAAAA,GAAA,GACFA,EAAiBzW,KAAKogC,kBAAkBzvB,eAAiB,EACpE,EAEA,YAAAgG,uBAAA,WACI,OAAO3W,KAAKogC,kBAAkBzpB,wBAClC,EAKA,YAAA0T,iBAAA,SAAiBC,GAGb,IAFA,IAAI9R,OAAiCxX,EAE5B4T,EAAI,EAAGA,EAAI5U,KAAKsU,iBAAkBM,IAAK,CAC5C,IAAMvS,EAASrC,KAAKuU,YAAYK,GAEhC,GAAIvS,IAEAmW,EAASnW,EAAOgoB,iBAAiBC,IAG7B,OAAO9R,EAMnB,OAAO,YAAM6R,iBAAgB,UAACC,EAClC,EAEA,YAAA1T,eAAA,SAAe1R,GACX,IAAIkO,EAAS,YAAMwD,eAAc,UAAC1R,GAMlC,OAJKkO,IACDA,EAASpT,KAAK+W,yBAAyB7R,IAGpCkO,CACX,EAEA,sBAAI,4BAAa,KAAjB,WACI,OAAO,CACX,kCArJgB,EAAA02B,oBAAsB,IAAI,EAAA/xB,aACtC,EAAAzS,SAASkS,KACT,cACA1V,EAAMoK,aAIV,IADC,IAAA+L,UAAS8xB,EAAUD,wDAgJxB,EAzJA,CAA+B78B,GAAlB,EAAA88B,UAAAA,GA2Jb,mBACI,WACa5xB,EACAC,EACAgN,EACA4kB,GAJb,MAMI,YACI7xB,EACAC,EACA,CACI,CAAEnX,MAAOa,EAAM2Q,eAAeC,SAC9B,CAAEzR,MAAOa,EAAM2Q,eAAew3B,UAC9B,CAAE9xB,cAAe,EAAA7S,SAASC,KAAMtE,MAAOa,EAAM2Q,eAAe0H,QAC5D,CAAEhC,cAAe,EAAA7S,SAASC,KAAMtE,MAAOa,EAAM2Q,eAAegI,MAC5D,CAAEtC,cAAe,EAAA7S,SAASC,KAAMtE,MAAOa,EAAM2Q,eAAemI,WAC5D,CAAEzC,cAAe,EAAA7S,SAASC,KAAMtE,MAAOa,EAAM2Q,eAAezQ,UAEhEojB,EACA4kB,IACH,YAlBQ,EAAA7xB,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAgN,aAAAA,EACA,EAAA4kB,kBAAAA,GAgBb,CACJ,OAtB4C,OAsB5C,EAtBA,CAA4C,EAAAnyB,kBAA/B,EAAAqyB,uBAAAA,GAwBb,8EA6LA,QA7L2D,OAMvD,sBAAI,oBAAK,KAAT,WACI,GAAIlqC,KAAKmqC,iBAAkB,CACvB,IAAMnnC,EAAQhD,KAAKgN,SAASo9B,EAA6BhpB,eAEzD,GAAIpe,GAAShD,KAAKgH,WAAW+L,gBAAgBC,eAAehQ,GACxD,OAAOA,EAKnB,MAEA,SAAU/B,GACNjB,KAAKqN,SAAS+8B,EAA6BhpB,cAAengB,EAC9D,kCAIA,sBAAc,+BAAgB,KAA9B,WACI,OAAO,CACX,kCAEA,sBAAc,+BAAgB,KAA9B,WACI,YAAqED,IAA9DhB,KAAKgN,SAASo9B,EAA6BhpB,cACtD,kCAEU,YAAAyL,YAAV,WAEA,EAEU,YAAAwd,gBAAV,WACI,GAAIrqC,KAAK4C,gBAAiB,CACtB,IAAM+M,EAAkB3P,KAAKgH,WAAW+L,gBAAgBC,eACpDhT,KAAKgD,MACLhD,KAAKgH,WAAW+L,gBAAgBC,eAAehT,KAAK8S,eAGxD,GAAInD,EAAgBoS,gBAAiB,CACjC,IAAMwJ,EAAU9nB,EAAM6I,iBAAiBqD,EAAgBoS,iBACnDwJ,IACAvrB,KAAK4C,gBAAgBI,MAAM+e,gBAAkBwJ,IAI7D,EAEU,YAAAha,aAAV,WAGI,GAFA,YAAMA,aAAY,WAEbvR,KAAK4C,gBAAV,CAIA,IAAIgP,EAAkB,IAAI,EAAAyX,kBAa1B,GAXIrpB,KAAKqO,wBACLuD,EAAkB5R,KAAKgH,WAAWuH,qCAC9BvO,KAAKqO,wBAIbrO,KAAK4C,gBAAgBI,MAAMuJ,WAAaqF,EAAgBsC,IAAM,KAC9DlU,KAAK4C,gBAAgBI,MAAMsmB,aAAe1X,EAAgBnD,MAAQ,KAClEzO,KAAK4C,gBAAgBI,MAAMumB,cAAgB3X,EAAgByC,OAAS,KACpErU,KAAK4C,gBAAgBI,MAAM0J,YAAckF,EAAgBnH,KAAO,KAE5DzK,KAAKyR,aAAc,CAEnB,IAAMvB,EAAU,IAAI,EAAAwB,kBAEpB1R,KAAK2R,+BAA+BzB,GAEpC,IAAMo6B,EACFtqC,KAAKgH,WAAWuH,qCAAqC2B,GAEzDlQ,KAAK4C,gBAAgBI,MAAM2J,YAAc,IAAM29B,EAAmB77B,MAAQ,KAC1EzO,KAAK4C,gBAAgBI,MAAMwL,WAAa,IAAM87B,EAAmB7/B,KAAO,KAEnEzK,KAAK2O,iBACN3O,KAAK4C,gBAAgBI,MAAM0c,UAAY,IAAM4qB,EAAmBp2B,IAAM,KACtElU,KAAK4C,gBAAgBI,MAAMwJ,aAAe,IAAM89B,EAAmBj2B,OAAS,MAI5ErU,KAAKwR,kBACLxR,KAAKiO,uBAAyBnM,EAAMoK,YAAYC,aAEhDnM,KAAKwR,iBAAiBxO,MAAMwL,WAAa,IAAM87B,EAAmB7/B,KAAO,KACzEzK,KAAKwR,iBAAiBxO,MAAM2J,YAAc,IAAM29B,EAAmB77B,MAAQ,WAG/EzO,KAAK4C,gBAAgBI,MAAM2J,YAAc,IACzC3M,KAAK4C,gBAAgBI,MAAMwL,WAAa,IACxCxO,KAAK4C,gBAAgBI,MAAM0c,UAAY,IACvC1f,KAAK4C,gBAAgBI,MAAMwJ,aAAe,IAGtCxM,KAAKwR,kBACLxR,KAAKiO,uBAAyBnM,EAAMoK,YAAYC,aAEhDnM,KAAKwR,iBAAiBxO,MAAM2J,YAAc,IAC1C3M,KAAKwR,iBAAiBxO,MAAMwL,WAAa,KAGrD,EAEU,YAAAuD,iBAAV,SAA2BC,QAAA,IAAAA,IAAAA,GAAA,GAGvB,IAFA,IAAIuE,EAA0CvW,KAAKmN,OAE5CoJ,GAAgB,CACnB,IAAIg0B,EAWJ,GARIA,GADAv4B,GAIIuE,aAA0BC,IACpBD,EAAei0B,gBAAgBnlB,UAIzC9O,aAA0B6zB,GAEtBpqC,KAAKyqC,mBACJl0B,EAAe1D,sBAAwB7S,KAAK6S,qBACzC03B,GAEJ,OAAO,EAIfh0B,EAAiBA,EAAepJ,OAGpC,OAAO,CACX,EAEU,YAAA2E,kBAAV,WACI,OAAO9R,KAAK+R,oBAAsB/R,KAAKiS,eACjC,IAAI,EAAAP,kBACA5P,EAAMqS,QAAQu2B,QACd5oC,EAAMqS,QAAQu2B,QACd5oC,EAAMqS,QAAQu2B,QACd5oC,EAAMqS,QAAQu2B,SAElB,YAAM54B,kBAAiB,UACjC,EAEA,YAAA8X,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAEjC,IAAMq4B,EAAgB3qC,KAAKgN,SAASo9B,EAA6BhpB,oBAE3CpgB,IAAlB2pC,IACwB3qC,KAAKgH,WAAW+L,gBAAgBC,eAAe23B,IAGnEr4B,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOsR,qBAAqB4kB,EAAe,UAInE,EAEA,YAAAjlC,OAAA,WACI,IAAM9C,EAAkB,YAAM8C,OAAM,WAQpC,OANI9C,GAAmB5C,KAAK+R,oBACxB/R,KAAKqqC,kBAGTrqC,KAAK6sB,cAEEjqB,CACX,EAEA,YAAAiQ,kBAAA,WAGI,OAFuB7S,KAAKgD,OAEa,YAAM6P,kBAAiB,UACpE,EAzLgB,EAAAuO,cAAgB,IAAI8oB,GAAuB,EAAA5kC,SAASqS,KAAM,SAG1E,IADC,IAAAM,UAASmyB,EAA6BhpB,0CAwL3C,EA7LA,CAA2DtM,GAArC,EAAAs1B,6BAAAA,GA+LtB,qFAOY,EAAAQ,QAAkB,GAkC9B,QAzC4C,OAc9B,YAAAr6B,0BAAV,SAAoC3N,GAChC,YAAM2N,0BAAyB,UAAC3N,GAE5B5C,KAAK6qC,iBACLjoC,EAAgBI,MAAMmN,UAAYnQ,KAAK6qC,eAAiB,KAEhE,EAEU,YAAAC,qBAAV,WACI,OAAO,CACX,EAEU,YAAAC,SAAV,WACI,OAAO/qC,KAAK4qC,MAChB,EAEU,YAAAI,SAAV,SAAmB/pC,GACfjB,KAAK4qC,OAAS3pC,CAClB,EAEA,sBAAc,kCAAmB,KAAjC,WACI,OAAO,CACX,kCAEA,YAAAwQ,WAAA,WACI,OAAQzR,KAAK+R,oBAAsB/R,KAAKgH,WAAWikC,mBAAqBjrC,KAAK+qC,UACjF,EArCgB,EAAAG,cAAgB,IAAI,EAAAzzB,aAAa,EAAAnS,SAASC,KAAM,SAAS,GACzD,EAAA4lC,kBAAoB,IAAI,EAAAC,kBAAkB,EAAA9lC,SAASC,KAAM,aAGzE,IADC,IAAA0S,UAASozB,EAAcH,6CAIxB,IADC,IAAAjzB,UAASozB,EAAcF,yDAgC5B,EAzCA,CAA4Cf,IAAtB,EAAAiB,cAAAA,GA2CtB,8EAqGA,QArGqC,OAqCvB,YAAAvnB,aAAV,WACI,MAAO,iBACX,EAEU,YAAAf,cAAV,SAAwBpQ,EAAaL,GACjC,GAAsB,iBAAXK,EAIP,OAAO,YAAMoQ,cAAa,UAACpQ,EAAQL,GAHnCtS,KAAKsrC,qBACLtrC,KAAKymB,IAAM9T,CAInB,EAEA,YAAA44B,MAAA,SAAMjgC,GACF,GAAItL,KAAKymB,KAAOnb,EAAQ1I,gBAAiB,CAMrC,OALA0I,EAAQ1I,gBAAgBI,MAAMwnC,gBAC1B,QACAl/B,EAAQsS,wBAAwB4tB,EAAgBrjB,YAAanoB,KAAKymB,KAClE,KAEIzmB,KAAKyrC,UACT,KAAK3pC,EAAM4pC,SAASC,OAChBrgC,EAAQ1I,gBAAgBI,MAAMwkB,iBAAmB,SACjD,MACJ,KAAK1lB,EAAM4pC,SAASE,mBAChBtgC,EAAQ1I,gBAAgBI,MAAMwkB,iBAAmB,WACjD,MACJ,KAAK1lB,EAAM4pC,SAASG,iBAChBvgC,EAAQ1I,gBAAgBI,MAAMwkB,iBAAmB,WACjD,MACJ,KAAK1lB,EAAM4pC,SAASI,MACpB,QACIxgC,EAAQ1I,gBAAgBI,MAAMwkB,iBAAmB,YACjDlc,EAAQ1I,gBAAgBI,MAAM+oC,eAAiB,QAIvD,OAAQ/rC,KAAK8E,qBACT,KAAKhD,EAAMoV,oBAAoBC,KAC3B,MACJ,KAAKrV,EAAMoV,oBAAoByJ,OAC3BrV,EAAQ1I,gBAAgBI,MAAMgpC,oBAAsB,SACpD,MACJ,KAAKlqC,EAAMoV,oBAAoB2J,MAC3BvV,EAAQ1I,gBAAgBI,MAAMgpC,oBAAsB,QAI5D,OAAQhsC,KAAKisC,mBACT,KAAKnqC,EAAMoqC,kBAAkBC,IACzB,MACJ,KAAKrqC,EAAMoqC,kBAAkBvrB,OACzBrV,EAAQ1I,gBAAgBI,MAAMopC,oBAAsB,SACpD,MACJ,KAAKtqC,EAAMoqC,kBAAkBG,OACzB/gC,EAAQ1I,gBAAgBI,MAAMopC,oBAAsB,UAIpE,EAEA,YAAA/mB,QAAA,WACI,QAAOrlB,KAAKymB,GAChB,EAjGgB,EAAA0B,YAAc,IAAI,EAAA5Q,eAAe,EAAAjS,SAASqS,KAAM,OAChD,EAAA20B,iBAAmB,IAAI,EAAAv0B,aACnC,EAAAzS,SAASC,KACT,WACAzD,EAAM4pC,SACN5pC,EAAM4pC,SAASI,OAEH,EAAAh0B,4BAA8B,IAAI,EAAAC,aAC9C,EAAAzS,SAASC,KACT,sBACAzD,EAAMoV,oBACNpV,EAAMoV,oBAAoBC,MAEd,EAAAo1B,0BAA4B,IAAI,EAAAx0B,aAC5C,EAAAzS,SAASC,KACT,oBACAzD,EAAMoqC,kBACNpqC,EAAMoqC,kBAAkBC,KAI5B,IADC,IAAAl0B,UAASuzB,EAAgBrjB,wCAI1B,IADC,IAAAlQ,UAASuzB,EAAgBc,kDAI1B,IADC,IAAAr0B,UAASuzB,EAAgB1zB,wEAI1B,IADC,IAAAG,UAASuzB,EAAgBe,oEAqE9B,EArGA,CAAqC,EAAAroB,oBAAxB,EAAAsnB,gBAAAA,GAuGb,qFA2BY,EAAAxF,OAAwB,GACxB,EAAAwG,eAAgC,IAoZ5C,QAhb+B,EAAAh2B,EAAA,GAe3B,sBAAI,8BAAe,KAAnB,WACI,OAAOxW,KAAKgN,SAASwJ,EAAUi2B,wBACnC,kCAaU,YAAAC,aAAV,SAAuB7iB,EAAmBrV,EAAem4B,GACrD,GAAK9iB,EAAK1c,SAAUw/B,EAahB,MAAM,IAAIxqC,MAAM,EAAA6B,QAAQyQ,OAAOm4B,0BAZ/B,IAAI/iB,EAAKgjB,aASL,MAAM,IAAI1qC,MAAM,EAAA6B,QAAQyQ,OAAOq4B,yBAAyBjjB,EAAKvZ,oBARzDkE,EAAQ,GAAKA,GAASxU,KAAKgmC,OAAOvhC,OAClCzE,KAAKgmC,OAAOtvB,KAAKmT,GAEjB7pB,KAAKgmC,OAAOpiB,OAAOpP,EAAO,EAAGqV,GAGjCA,EAAK/G,UAAU9iB,KAO3B,EAEU,YAAA+sC,+BAAV,WACI,MAAO,OACX,EAEU,YAAA1C,gBAAV,WACQrqC,KAAKwqC,gBAAgBnlB,WAAarlB,KAAK4C,iBACvC5C,KAAKwqC,gBAAgBe,MAAMvrC,MAG/B,YAAMqqC,gBAAe,UACzB,EAEU,YAAA2C,SAAV,SAAmB1hC,QACEtK,IAAbhB,KAAKitC,MACL3hC,EAAQ4hC,IAAMltC,KAAKitC,IAAM,MAAQ,MAEzC,EAEU,YAAA37B,eAAV,WACItR,KAAKwsC,eAAiB,GAGtB,IAAMxlC,EAAahH,KAAKgH,WAElBsE,EAAUzI,SAASC,cAAc,OAuBvC,OArBA9C,KAAKgtC,SAAS1hC,GAEdA,EAAQ2J,UAAUC,IAAIlO,EAAWiF,iBAAiB,iBAClDX,EAAQtI,MAAME,QAAU,OACxBoI,EAAQtI,MAAMG,cAAgB,SAE1B,EAAA1B,eAAe8L,kCAYfjC,EAAQtI,MAAMmN,UAAY,uBAGtBnQ,KAAKmtC,wCACT,KAAKrrC,EAAMoqC,kBAAkBvrB,OACzBrV,EAAQtI,MAAM2jB,eAAiB,SAC/B,MACJ,KAAK7kB,EAAMoqC,kBAAkBG,OACzB/gC,EAAQtI,MAAM2jB,eAAiB,WAC/B,MACJ,QACIrb,EAAQtI,MAAM2jB,eAAiB,aAIvC,GAAI3mB,KAAKgmC,OAAOvhC,OAAS,EACrB,IAAmB,UAAAzE,KAAKgmC,OAAL,eAAa,CAA3B,IAAMnc,EAAI,KACLujB,EAAeptC,KAAKmpB,iBAAiBU,GAAQA,EAAKnkB,cAAW1E,EAE/DosC,IACIptC,KAAKwsC,eAAe/nC,OAAS,GAAKolB,EAAKrY,mBACvCqY,EAAKrY,iBAAiBxO,MAAM8J,KAAO,WAEnCrJ,EAAMH,YAAYgI,EAASue,EAAKrY,mBAGpC/N,EAAMH,YAAYgI,EAAS8hC,GAE3BptC,KAAKwsC,eAAe91B,KAAKmT,SAIjC,GAAI7pB,KAAK2O,eAAgB,CACrB,IAAM0+B,EAAqBrtC,KAAK0P,2BAChC29B,EAAmBrqC,MAAMwF,MAAQ,OACjC6kC,EAAmBrqC,MAAMyF,OAAS,OAElC6C,EAAQhI,YAAY+pC,GAI5B,OAAO/hC,CACX,EAEU,YAAAgE,iBAAV,SAA2BH,GACvB,GAAInP,KAAK4C,gBAAiB,CA4BtB,IA1BA,IAAM,EAAW5C,KAAK4C,gBAAgB0qC,UAAYn+B,EAAY,EAExD,EAAgB,SAAC2c,GACnB,IAAMyhB,EAAMzhB,EAAYlpB,gBAExB,GAAI2qC,EACA,OAAQ9pC,EAAM+pC,aAAaD,EAAK,IAC5B,KAAKzrC,EAAM2rC,mBAAmBC,iBACN5hB,EAA2B,iBAI3C,EAAcA,GAElB,MACJ,KAAKhqB,EAAM2rC,mBAAmBE,YAC1B,IAAMC,EAAqB,EAAWL,EAAID,UAC1CxhB,EAA4B,eAAE8hB,GAC9B,MACJ,KAAK9rC,EAAM2rC,mBAAmBI,oBAC1B/hB,EAA4B,eAAE,GAI9C,EAEmB,MAAA9rB,KAAKgmC,OAAL,eAAa,CAA3B,IAAMnc,EAAI,KACX,EAAcA,GAGlB,OAAO,EAGX,OAAO,CACX,EAEU,YAAArc,uBAAV,WACI,IAAmB,UAAAxN,KAAKgmC,OAAL,eAAJ,KACS,eAE5B,EAEU,YAAAj0B,iBAAV,SAA2BC,GAGvB,YAHuB,IAAAA,IAAAA,GAAA,IACVA,GAAiChS,KAAKwqC,gBAAgBnlB,WAElD,YAAMtT,iBAAgB,UAACC,EAC5C,EAEU,YAAA+Q,cAAV,SAAwBpQ,EAAaL,GACjC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAKynC,QACLznC,KAAK8tC,mBAAkB,GAEvB,IAAIC,EAAYp7B,EAAO3S,KAAK+sC,kCAE5B,GAAI7sB,MAAM8C,QAAQ+qB,GACd,IAAmB,UAAAA,EAAA,eAAW,CAAzB,IAAMlkB,EAAI,KACLve,EAAUgH,EAAQ6Q,aACpBnjB,KACA6pB,EACA7pB,KAAKwpB,0BACJxpB,KAAK2O,gBAGNrD,GACAtL,KAAK0sC,aAAaphC,GAAU,GAAG,GAI/C,EAEU,YAAA8X,eAAV,SAAyB5K,EAAqBlG,GAC1C,YAAM8Q,eAAc,UAAC5K,EAAQlG,GAE7B,IAAM07B,EAAyBhuC,KAAK+sC,iCAEpCz6B,EAAQuwB,eAAerqB,EAAQw1B,EAAwBhuC,KAAKgmC,OAChE,EAEA,sBAAc,2BAAY,KAA1B,WACI,OAAO,CACX,kCAEA,YAAA33B,oBAAA,WACI,OACI,EAAA5M,eAAewsC,iDACdjuC,KAAK+R,kBAAiB,GAEhB,IAAI,EAAAL,kBAGR,YAAMrD,oBAAmB,UACpC,EAEA,YAAA8+B,qCAAA,WACI,QAAsCnsC,IAAlChB,KAAKkuC,yBACL,OAAOluC,KAAKkuC,yBAGhB,IAAM//B,EAAkBnO,KAAKoO,qBAE7B,OAAOD,EACDA,EAAgBg/B,uCAChBrrC,EAAMoqC,kBAAkBC,GAClC,EAEA,YAAAziB,aAAA,WACI,OAAO1pB,KAAKgmC,OAAOvhC,MACvB,EAEA,YAAAklB,UAAA,SAAUnV,GACN,OAAOxU,KAAKgmC,OAAOxxB,EACvB,EAEA,YAAAkX,4BAAA,WACI,GAAI1rB,KAAK4C,iBAAmB5C,KAAKwsC,gBAAkBxsC,KAAKwsC,eAAe/nC,OAAS,EAC5E,IAAmB,UAAAzE,KAAKwsC,eAAL,eAAqB,CAAnC,IAAM3iB,EAAI,KACX,GAAIA,EAAKpc,UACL,OAAOoc,EAMvB,EAEA,YAAA8B,2BAAA,WACI,GAAI3rB,KAAK4C,iBAAmB5C,KAAKwsC,gBAAkBxsC,KAAKwsC,eAAe/nC,OAAS,EAC5E,IAAK,IAAImQ,EAAI5U,KAAKwsC,eAAe/nC,OAAS,EAAGmQ,GAAK,EAAGA,IACjD,GAAI5U,KAAKwsC,eAAe53B,GAAGnH,UACvB,OAAOzN,KAAKwsC,eAAe53B,EAM3C,EAEA,YAAAtE,gBAAA,WACI,MAAO,WACX,EAEA,YAAAxB,eAAA,SAAexD,GAGX,IAFA,IAAMuK,EAAa7V,KAAK2O,eAEL,MAAA3O,KAAKgmC,OAAL,eAAa,CAA3B,IAAMnc,EAAI,KACX,GAAIA,EAAKpc,WAAaoI,EAClB,OAAOgU,IAASve,EAIxB,OAAO,CACX,EAEA,YAAAyK,cAAA,SAAczK,GAGV,IAFA,IAAMuK,EAAa7V,KAAK2O,eAEfiG,EAAI5U,KAAKgmC,OAAOvhC,OAAS,EAAGmQ,GAAK,EAAGA,IACzC,GAAI5U,KAAKgmC,OAAOpxB,GAAGnH,WAAaoI,EAC5B,OAAO7V,KAAKgmC,OAAOpxB,KAAOtJ,EAIlC,OAAO,CACX,EAEA,YAAA6iC,MAAA,WACI,QAAiBntC,IAAbhB,KAAKitC,IACL,OAAOjtC,KAAKitC,IAEZ,IAAM9+B,EAAkBnO,KAAKoO,qBAE7B,QAAOD,GAAkBA,EAAgBggC,OAEjD,EAEA,YAAA/3B,gBAAA,WACI,IAAMg4B,EAAoBpuC,KAAK0rB,8BAE/B,OACI1rB,KAAKyR,gBAAiB28B,GAAoBA,EAAkBh4B,iBAEpE,EAEA,YAAAC,mBAAA,WACI,IAAMg4B,EAAmBruC,KAAK2rB,6BAE9B,OACI3rB,KAAKyR,gBACJ48B,GACKA,EAAiBh4B,sBACjBg4B,EAAiBx7B,sBAAwB7S,KAAK6S,mBAG5D,EAEA,YAAA6C,QAAA,SAAQoW,GACJ,OAAO9rB,KAAKgmC,OAAOtwB,QAAQoW,EAC/B,EAEA,YAAAwiB,QAAA,SAAQzkB,GACJ7pB,KAAK0sC,aAAa7iB,GAAO,GAAG,EAChC,EAEA,YAAA0kB,iBAAA,SAAiB1kB,EAAmB2kB,GAChCxuC,KAAK0sC,aAAa7iB,EAAM7pB,KAAKgmC,OAAOtwB,QAAQ84B,IAAe,EAC/D,EAEA,YAAAC,gBAAA,SAAgB5kB,EAAmB6kB,GAC/B1uC,KAAK0sC,aAAa7iB,EAAM7pB,KAAKgmC,OAAOtwB,QAAQg5B,GAAe,GAAG,EAClE,EAEA,YAAA35B,WAAA,SAAW8U,GACP,IAAM+B,EAAY5rB,KAAKgmC,OAAOtwB,QAAQmU,GAEtC,OAAI+B,GAAa,IACb5rB,KAAKgmC,OAAOpiB,OAAOgI,EAAW,GAE9B/B,EAAK/G,eAAU9hB,GAEfhB,KAAKoV,gBAEE,EAIf,EAEA,YAAAqyB,MAAA,WACIznC,KAAKgmC,OAAS,GACdhmC,KAAKwsC,eAAiB,EAC1B,EAEA,YAAA71B,uBAAA,WACI,IAAMvD,EAAS,YAAMuD,uBAAsB,WAU3C,OARI3W,KAAKwqC,gBAAgBnlB,WACrBjS,EAAOsD,KAAK,CAER+P,IAAKzmB,KAAKwqC,gBAAgB/jB,IAC1BoB,SAAU,UAIXzU,CACX,EAEA,YAAAyD,cAAA,SAAc3R,GACV,IAAIkO,EAA6B,YAAMyD,cAAa,UAAC3R,GAErD,IAAKkO,IACGpT,KAAKiF,eACLmO,EAASpT,KAAKiF,aAAa4R,cAAc3R,KAGxCkO,GACD,IAAmB,UAAApT,KAAKgmC,OAAL,cACf5yB,EADW,KACGyD,cAAc3R,IADb,KAU3B,OAAOkO,CACX,EAEA,sBAAI,sBAAO,KAAX,WACI,OAAOpT,KAAKkS,YAChB,MAEA,SAAYjR,GACRjB,KAAKoS,WAAWnR,EACpB,kCAEA,sBAAI,2BAAY,KAAhB,WACI,OAAOjB,KAAKkqB,aAChB,MAEA,SAAiBjpB,GACbjB,KAAKkqB,cAAgBjpB,CACzB,kCAEA,sBAAI,oBAAK,KAAT,WACI,OAAOjB,KAAK+qC,UAChB,MAEA,SAAU9pC,GACNjB,KAAKgrC,SAAS/pC,EAClB,kCA7agB,EAAAwrC,wBAA0B,IAAI,EAAAkC,2BAC1C,EAAArpC,SAASqS,KACT,kBACA6zB,IAEY,EAAAoD,iCAAmC,IAAI,EAAA72B,aACnD,EAAAzS,SAASkS,KACT,2BACA1V,EAAMoqC,mBAEM,EAAA2C,YAAc,IAAI,EAAAp3B,aAAa,EAAAnS,SAASqS,KAAM,OAG9D,IADC,IAAAM,UAASzB,EAAUi2B,8DAMpB,IADC,IAAAx0B,UAASzB,EAAUo4B,kFAIpB,IADC,IAAA32B,UAASzB,EAAUq4B,wCA0ZxB,EAhbA,CAA+BxD,IAAlB,EAAA70B,UAAAA,GAobb,mBAsHI,WAAYhO,QAAA,IAAAA,IAAAA,EAAA,WAAZ,MACI,cAAO,YAjDX,EAAAA,MAAqB,UAIb,EAAAsmC,gBAA0B,EA+C9B,EAAKtmC,MAAQA,GACjB,CAiBJ,OA3I4B,OA4Ed,YAAA+H,0BAAV,SAAoC3N,GAG5B5C,KAAK2O,gBACL/L,EAAgBI,MAAMmkB,SAAW,OACjCvkB,EAAgBI,MAAMmN,WAChBnQ,KAAK6qC,eAEDte,KAAKC,IAAIxsB,KAAK6qC,eAPM,QAOwC,OAEtEjoC,EAAgBI,MAAMmkB,SAAW,IAE7BnnB,KAAK6qC,iBACLjoC,EAAgBI,MAAMmN,UAAYnQ,KAAK6qC,eAAiB,OAI7C,SAAf7qC,KAAKwI,MACL5F,EAAgBI,MAAM8J,KAAO,WACP,YAAf9M,KAAKwI,MACZ5F,EAAgBI,MAAM8J,KAAO,WACtB9M,KAAKwI,iBAAiB,EAAA8c,cACzBtlB,KAAKwI,MAAM+c,OAASzjB,EAAM0jB,SAASC,OACnC7iB,EAAgBI,MAAM8J,KAAO,WAC7BlK,EAAgBI,MAAMwF,MAAQxI,KAAKwI,MAAMkd,aAAe,MAExD9iB,EAAgBI,MAAM8J,KAClB,QACC9M,KAAK8uC,gBAAkB,EAAI9uC,KAAK8uC,gBAAkB9uC,KAAKwI,MAAMkd,cAC9D,IAGhB,EAEU,YAAArT,gBAAV,SAA0B08B,GACtB,OAAO,CACX,EAEA,sBAAc,mCAAoB,KAAlC,WACI,OAAOjtC,EAAMoK,YAAY8iC,QAC7B,kCAQA,YAAA1+B,gBAAA,WACI,MAAO,QACX,EAEA,sBAAI,kCAAmB,KAAvB,WACI,SAAItQ,KAAKmN,QAAUnN,KAAKmN,kBAAkB8hC,UACLjuC,IAA1BhB,KAAKwR,mBAAmCxR,KAAKmN,OAAO6G,kBAAkBhU,KAIrF,kCAEA,sBAAI,2BAAY,KAAhB,WACI,OAAO,CACX,kCAvIgB,EAAAkvC,cAAgB,IAAI,EAAA5X,eAChC,EAAAhyB,SAASqS,KACT,SACA,SACI7R,EACAyxB,EACA5kB,EACAL,GAEA,IAAIc,EAAsBmkB,EAAKnS,aACzBnkB,EAAQ0R,EAAO4kB,EAAKnf,MACtB+2B,GAAe,EAEnB,GAAqB,iBAAVluC,GAAuB+kB,MAAM/kB,GAEjC,GAAc,SAAVA,GAA8B,YAAVA,EAC3BmS,EAASnS,OACN,GAAqB,iBAAVA,EACd,KACImS,EAAS,EAAAkS,YAAYlgB,MAAMnE,IAGhBskB,OAASzjB,EAAM0jB,SAASC,OAC/B8R,EAAKpf,cAAci3B,UAAU98B,EAAQ6F,eAAiB,IAEtDg3B,GAAe,GAErB,MAAO/tC,GACL+tC,GAAe,OAGnBA,GAAe,OAjBf/7B,EAAS,IAAI,EAAAkS,YAAYrkB,EAAOa,EAAM0jB,SAAS8P,QA8BnD,OAVI6Z,IACA78B,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAO46B,mBAAmBpuC,IAGtCmS,EAAS,QAGNA,CACX,IACA,SACItN,EACAmS,EACAO,EACAvX,EACAqR,GAEIrR,aAAiB,EAAAqkB,YACbrkB,EAAMskB,OAASzjB,EAAM0jB,SAASC,MAC9BnT,EAAQmG,eAAeD,EAAQ,QAASvX,EAAMykB,aAAe,MAE7DpT,EAAQolB,gBAAgBlf,EAAQ,QAASvX,EAAMykB,cAGnDpT,EAAQmG,eAAeD,EAAQ,QAASvX,EAEhD,GACA,WAIJ,IADC,IAAAgX,UAASq3B,EAAOJ,4CAsErB,EA3IA,CAA4B14B,IAAf,EAAA84B,OAAAA,GA6Ib,qFACY,EAAAC,SAAqB,IA+TjC,QAhU+B,OAInB,YAAAC,qBAAR,SAA6B78B,EAAaL,GACtC,OAAOA,EAAQm9B,gBACXzvC,KACA2S,EACA,IACC3S,KAAK2O,gBACN,SAAC+gC,GACG,OAAQA,GAAyB,WAAbA,OAAuC1uC,EAAf,IAAIsuC,EACpD,IACA,SAACI,EAAkBC,GACfr9B,EAAQsT,mBACJ5kB,EACAc,EAAM+jB,gBAAgB+pB,sBACtB,EAAA5rC,QAAQyQ,OAAOwV,sBAAsBylB,GAE7C,GAER,EAEU,YAAAp+B,eAAV,WAGI,GAFAtR,KAAK6vC,iBAAmB,GAEpB7vC,KAAKuvC,SAAS9qC,OAAS,EAAG,CAE1B,IAAMuC,EAAahH,KAAKgH,WAElBsE,EAAUzI,SAASC,cAAc,OASvC,OARAwI,EAAQvI,UAAYiE,EAAWiF,iBAAiB,gBAChDX,EAAQtI,MAAME,QAAU,OAEpB,EAAAzB,eAAe8L,kCAEfjC,EAAQtI,MAAMmN,UAAY,uBAGtBnQ,KAAKiX,mCACT,KAAKnV,EAAMoV,oBAAoByJ,OAC3BrV,EAAQtI,MAAM2jB,eAAiB,SAC/B,MACJ,KAAK7kB,EAAMoV,oBAAoB2J,MAC3BvV,EAAQtI,MAAM2jB,eAAiB,WAC/B,MACJ,QACIrb,EAAQtI,MAAM2jB,eAAiB,aAMvC,IAFA,IAAImpB,EAAsB,EAEL,MAAA9vC,KAAKuvC,SAAL,gBAAVQ,EAAM,MAEFvnC,iBAAiB,EAAA8c,aACxByqB,EAAOvnC,MAAM+c,OAASzjB,EAAM0jB,SAAS8P,SAErCwa,GAAeC,EAAOvnC,MAAMkd,cAIpC,IAAqB,UAAA1lB,KAAKuvC,SAAL,eAAe,CAA/B,IAAMQ,EACP,IADOA,EAAM,MAEFvnC,iBAAiB,EAAA8c,aACxByqB,EAAOvnC,MAAM+c,OAASzjB,EAAM0jB,SAAS8P,QACrCwa,EAAc,EAChB,CACE,IAAME,EAAkB,IAAMF,EAAeC,EAAOvnC,MAAMkd,aAG1DqqB,EAAwB,gBAAIC,EAGhC,IAAMC,EAAiBF,EAAOrqC,SAE1BuqC,IACIjwC,KAAK6vC,iBAAiBprC,OAAS,GAAKsrC,EAAOv+B,mBAC3Cu+B,EAAOv+B,iBAAiBxO,MAAM8J,KAAO,WAErCrJ,EAAMH,YAAYgI,EAASykC,EAAOv+B,mBAGtC/N,EAAMH,YAAYgI,EAAS2kC,GAE3BjwC,KAAK6vC,iBAAiBn5B,KAAKq5B,IAInC,OAAO/vC,KAAK6vC,iBAAiBprC,OAAS,EAAI6G,OAAUtK,EAI5D,EAEU,YAAAsO,iBAAV,SAA2BH,GACvB,IAAqB,UAAAnP,KAAKuvC,SAAL,eAAJ,KACU,eAAEpgC,GAG7B,OAAO,CACX,EAEU,YAAA3B,uBAAV,WACI,IAAqB,UAAAxN,KAAKuvC,SAAL,eAAJ,KACS,eAE9B,EAEA,sBAAc,2BAAY,KAA1B,WACI,OAAO,CACX,kCAEU,YAAAxsB,cAAV,SAAwBpQ,EAAaL,GACjC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAKuvC,SAAW,GAChBvvC,KAAK6vC,iBAAmB,GAExB,IAAMK,EAAcv9B,EAAgB,QAEpC,GAAIuN,MAAM8C,QAAQktB,GACd,IAAmB,UAAAA,EAAA,eAAa,CAA3B,IAAMrmB,EAAI,KACLkmB,EAAS/vC,KAAKwvC,qBAAqB3lB,EAAMvX,GAE3Cy9B,GACA/vC,KAAKuvC,SAAS74B,KAAKq5B,GAInC,EAEU,YAAA3sB,eAAV,SAAyB5K,EAAqBlG,GAC1C,YAAM8Q,eAAc,UAAC5K,EAAQlG,GAE7BA,EAAQuwB,eAAerqB,EAAQ,UAAWxY,KAAKuvC,SACnD,EAEA,YAAAzgC,eAAA,SAAexD,GACX,IAAqB,UAAAtL,KAAKuvC,SAAL,eAAe,CAA/B,IAAMQ,EAAM,KACb,GAAIA,EAAOtiC,UACP,OAAOsiC,IAAWzkC,EAI1B,OAAO,CACX,EAEA,YAAA8K,gBAAA,WACI,GAAIpW,KAAKyR,aACL,OAAO,EAGX,GAAIzR,KAAK6vC,kBAAoB7vC,KAAK6vC,iBAAiBprC,OAAS,EACxD,IAAqB,UAAAzE,KAAKuvC,SAAL,eACjB,GADa,KACFn5B,kBACP,OAAO,EAKnB,OAAO,CACX,EAEA,YAAAC,mBAAA,WACI,GAAIrW,KAAKyR,aACL,OAAO,EAGX,GAAIzR,KAAK6vC,kBAAoB7vC,KAAK6vC,iBAAiBprC,OAAS,EACxD,IAAqB,UAAAzE,KAAKuvC,SAAL,eACjB,GADa,KACFl5B,qBACP,OAAO,EAKnB,OAAO,CACX,EAEA,YAAAqT,aAAA,WACI,OAAO1pB,KAAKuvC,SAAS9qC,MACzB,EAEA,YAAAinB,4BAAA,WACI,OAAI1rB,KAAK4C,iBAAmB5C,KAAK6vC,kBAAoB7vC,KAAK6vC,iBAAiBprC,OAAS,EACzEzE,KAAK6vC,iBAAiB,QAE7B,CAER,EAEA,YAAAlkB,2BAAA,WACI,OAAI3rB,KAAK4C,iBAAmB5C,KAAK6vC,kBAAoB7vC,KAAK6vC,iBAAiBprC,OAAS,EACzEzE,KAAK6vC,iBAAiB7vC,KAAK6vC,iBAAiBprC,OAAS,QAE5D,CAER,EAEA,YAAA0rC,YAAA,SAAY37B,GACR,OAAOxU,KAAKuvC,SAAS/6B,EACzB,EAEA,YAAAmV,UAAA,SAAUnV,GACN,OAAOxU,KAAKmwC,YAAY37B,EAC5B,EAEA,YAAAlE,gBAAA,WACI,MAAO,WACX,EAEA,YAAAsZ,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAKjC,IAHA,IAAI89B,EAA0B,EAC1BC,EAA2B,EAEV,MAAArwC,KAAKuvC,SAAL,eAAe,CAA/B,IAAMQ,EAAM,KACe,iBAAjBA,EAAOvnC,MACd4nC,IACwB,YAAjBL,EAAOvnC,OACd6nC,IAIJD,EAAkB,GAAKC,EAAmB,GAC1C/9B,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgByqB,KACtB,EAAAtsC,QAAQusC,MAAMC,8CAG1B,EAEA,YAAAC,UAAA,SAAUV,GACN,GAAKA,EAAO5iC,OAKR,MAAM,IAAIhL,MAAM,EAAA6B,QAAQyQ,OAAOi8B,oCAJ/B1wC,KAAKuvC,SAAS74B,KAAKq5B,GAEnBA,EAAOjtB,UAAU9iB,KAIzB,EAEA,YAAA+U,WAAA,SAAW8U,GACP,GAAIA,aAAgBylB,GAAQ,CACxB,IAAM1jB,EAAY5rB,KAAKuvC,SAAS75B,QAAQmU,GAExC,GAAI+B,GAAa,EAOb,OANA5rB,KAAKuvC,SAAS3rB,OAAOgI,EAAW,GAEhC/B,EAAK/G,eAAU9hB,GAEfhB,KAAKoV,gBAEE,EAIf,OAAO,CACX,EAEA,YAAAM,QAAA,SAAQoW,GACJ,OAAOA,aAAuBwjB,GAAStvC,KAAKuvC,SAAS75B,QAAQoW,IAAgB,CACjF,EAEA,YAAA9X,kBAAA,SAAkB1I,GACd,OAAkD,IAA3CtL,KAAKuvC,SAAS75B,QAAgBpK,EACzC,EAEA,YAAAsI,mBAAA,SAAmBtI,GACf,OAAOtL,KAAKuvC,SAAS75B,QAAgBpK,KAAatL,KAAKuvC,SAAS9qC,OAAS,CAC7E,EAEA,YAAAiP,aAAA,SAAapI,GACT,OAAOtL,KAAKuvC,SAAS75B,QAAgBpK,IAAY,CACrD,EAEA,YAAAwI,gBAAA,SAAgBxI,GACZ,OAAOtL,KAAKuvC,SAAS75B,QAAgBpK,IAAY,CACrD,EAEA,YAAAuL,cAAA,SAAc3R,GAGV,IAFA,IAAIkO,OAA6BpS,EAEZ,MAAAhB,KAAKuvC,SAAL,cACjBn8B,EADa,KACGyD,cAAc3R,IADb,KAQrB,OAAOkO,CACX,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAOpT,KAAK+qC,UAChB,MAEA,SAAU9pC,GACNjB,KAAKgrC,SAAS/pC,EAClB,kCAEA,sBAAI,sBAAO,KAAX,WACI,OAAOjB,KAAKkS,YAChB,MAEA,SAAYjR,GACRjB,KAAKoS,WAAWnR,EACpB,kCAEA,sBAAI,2BAAY,KAAhB,WACI,OAAOjB,KAAKkqB,aAChB,MAEA,SAAiBjpB,GACbjB,KAAKkqB,cAAgBjpB,CACzB,kCACJ,EAhUA,CAA+BoqC,IAkU/B,SAASrkB,GAAsBgC,GAC3B,IAAMxlB,EAAOwlB,EAAMzT,iBACbo7B,EACFntC,GAAQA,EAAKotC,cAAgBptC,EAAKotC,cAAgBzrC,GAAayrC,cAE/DD,GACAA,EAAqB3nB,EAE7B,CAEA,SAAShJ,GACL1U,EACAyU,EACA6V,GAEA,IAAMpyB,EAAO8H,EAAQiK,iBACfs7B,EACFrtC,GAAQA,EAAKstC,gBAAkBttC,EAAKstC,gBAAkB3rC,GAAa2rC,gBAEvE,YAAkC9vC,IAA3B6vC,GACDA,EAAuBvlC,EAASyU,EAAQ6V,EAElD,CAYA,SAASsR,GAA6B7kC,EAAwB0uC,GAC1D,IAAMvtC,EAAOnB,EAAO8K,OAAU9K,EAAO8K,OAAOoI,sBAAoCvU,EAC1EgwC,EACFxtC,GAAQA,EAAKytC,qBACPztC,EAAKytC,qBACL9rC,GAAa8rC,qBAEnBD,GACAA,EAA4B3uC,EAAQ0uC,EAE5C,CAcA,SAASnjC,GACLtC,EACA4lC,QAAA,IAAAA,IAAAA,GAAA,GAEA,IAAMt7B,EAActK,EAAQiK,iBAExB27B,GACAt7B,EAAYR,eAGhB,IAAM5R,EAAOoS,EACPu7B,EACF3tC,GAAQA,EAAK4tC,2BACP5tC,EAAK4tC,2BACLjsC,GAAaisC,gCAEmBpwC,IAAtCmwC,GACAA,EAAkC7lC,EAE1C,CAEA,SAAS8xB,GAA8BnsB,EAAyBogC,GACtDA,GAEFpgC,EAAMqgC,UAAW,EAEjBrgC,EAAMsgC,UAAW,IAGhBtgC,EAAMqgC,UAAW,EAEjBrgC,EAAMsgC,UAAW,EAG1B,CAEA,SAASpV,GAAwClrB,EAAoBulB,GAQjE,IAAMgb,EAAiBvgC,IAAUpO,SAAS4uC,cAGpCC,EAAkBzgC,EAAMgE,UAAU08B,SAAS,uCAKjD,OAH2Bnb,IAAc3lB,EAAe6kB,eAC7Bc,IAAc3lB,EAAeglB,aAAe6b,GAC5Clb,IAAc3lB,EAAeE,mBAAqBygC,CAEjF,CAjba,EAAAvC,UAAAA,GAudb,mBA0EI,mBACI,cAAO,YAEP,EAAK7O,kBAAoB,IAAIyJ,GAAiB,IAClD,CAkGJ,OAhLmD,OAGrC,YAAA9mB,cAAV,SAAwBpQ,EAAaL,GACjC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAK4xC,aAAaj/B,EAAQL,EAC9B,EAEU,YAAAs/B,aAAV,SAAuBj/B,EAAaL,GAChCtS,KAAKogC,kBAAkBh7B,MAAMuN,EAAgB,QAAGL,EACpD,EAEU,YAAA8Q,eAAV,SAAyB5K,EAAqBlG,GAC1C,YAAM8Q,eAAc,UAAC5K,EAAQlG,GAE7BtS,KAAKogC,kBAAkB7nB,OAAOC,EAAQ,UAAWlG,EACrD,EAEU,YAAAhB,eAAV,WACI,IAAMhG,EAAU,YAAMgG,eAAc,WAEpC,GAAIhG,EAAS,CACT,IAAMumC,EAAkB7xC,KAAKogC,kBAAkB16B,OAC3C1F,KAAKgH,WAAWV,QAAQkhC,oBAmB5B,OAhBIqK,IACApuC,EAAMH,YACFgI,EACAK,EACI3L,KAAKgH,WACL,CACI8E,QAAS9L,KAAKgH,WAAWgH,oBACrBhO,KAAKgH,WAAWV,QAAQwF,UAGhChK,EAAMoK,YAAYC,aAG1B1I,EAAMH,YAAYgI,EAASumC,IAG3B7xC,KAAK8xC,eAGExmC,EAAQ+R,SAAS5Y,OAAS,EAF1B6G,OAEwCtK,EAK3D,EAEU,YAAA8pC,qBAAV,WACI,OAAiC,IAA7B9qC,KAAK0mC,sBAE+B,IAA7B1mC,KAAK0mC,yBAEkC1lC,IAA1ChB,KAAKogC,kBAAkBuJ,iBACtB3pC,KAAKgH,WAAWV,QAAQgiC,mCAGoBtnC,IAA1ChB,KAAKogC,kBAAkBuJ,eAEtC,EAEA,sBAAc,kCAAmB,KAAjC,WACI,OAAO3pC,KAAKogC,kBAAkBsG,mBAClC,kCAEA,sBAAc,4BAAa,KAA3B,WACI,OAAO,CACX,kCAQA,YAAAjd,oBAAA,WACI,YAAMA,oBAAmB,WAEzBzpB,KAAKogC,kBAAkB3W,qBAC3B,EAEA,YAAAnV,eAAA,WACI,OAAOtU,KAAKogC,kBAAkB9rB,gBAClC,EAEA,YAAAC,YAAA,SAAYC,GACR,OAAIA,GAAS,GAAKA,EAAQxU,KAAKsU,iBACpBtU,KAAKogC,kBAAkB7rB,YAAYC,GAEnC,YAAMD,YAAW,UAACC,EAEjC,EAEA,YAAAqC,cAAA,SAAc3R,GAGV,OAFmClF,KAAKogC,kBAAkBvpB,cAAc3R,IAE/C,YAAM2R,cAAa,UAAC3R,EACjD,EAEA,YAAA0kB,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAE7BtS,KAAKogC,mBACLpgC,KAAKogC,kBAAkB4H,mBAAmB11B,EAElD,EAEA,YAAAyD,cAAA,SAAczK,GACV,OAAO,YAAMyK,cAAa,UAACzK,IAAwD,IAA5CtL,KAAKogC,kBAAkB9rB,gBAClE,EAEA,YAAAwzB,UAAA,SAAUzlC,GACNrC,KAAKogC,kBAAkB0H,UAAUzlC,EACrC,EAEA,YAAAolC,MAAA,WACI,YAAMA,MAAK,WAEXznC,KAAKogC,kBAAkBqH,OAC3B,EAEA,YAAA92B,aAAA,SAAa8F,QAAA,IAAAA,IAAAA,GAAA,GACT,IAAIrD,EAAS,YAAMzC,aAAY,UAAC8F,GAMhC,OAJIA,GACArD,EAAOsD,KAAI,MAAXtD,EAAepT,KAAKogC,kBAAkBzvB,aAAa8F,IAGhDrD,CACX,EAEA,YAAAuD,uBAAA,WACI,IAAIvD,EAAS,YAAMuD,uBAAsB,WAIzC,OAFAvD,EAAOsD,KAAI,MAAXtD,EAAepT,KAAKogC,kBAAkBzpB,0BAE/BvD,CACX,EAEA,YAAAiD,mBAAA,WACI,OAAmD,IAA/CrW,KAAKogC,kBAAkBsG,oBAChB,YAAMrwB,mBAAkB,WAEiB,IAA5CrW,KAAKogC,kBAAkB9rB,sBAEuBtT,IAA1ChB,KAAKogC,kBAAkBuJ,iBACtB3pC,KAAKgH,WAAWV,QAAQgiC,mCAGoBtnC,IAA1ChB,KAAKogC,kBAAkBuJ,cAG1C,EAEA,YAAA9B,wBAAA,WACI,MAAO,EACX,EAEA,YAAAjxB,eAAA,SAAe1R,GACX,IAAIkO,EAAS,YAAMwD,eAAc,UAAC1R,GAMlC,OAJKkO,IACDA,EAASpT,KAAK+W,yBAAyB7R,IAGpCkO,CACX,EAEA,sBAAI,2BAAY,KAAhB,WACI,OAAO,CACX,kCACJ,EAhLA,CAAmDoD,IAA7B,EAAAoxB,qBAAAA,GAuLtB,mBA4CI,WAAqBzvB,EAAiCC,GAAtD,MACI,YAAMD,EAAeC,OAAMpX,IAAU,YADpB,EAAAmX,cAAAA,EAAiC,EAAAC,KAAAA,GAEtD,CACJ,OA/C2C,OACvC,YAAAhT,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAMjQ,EAASiQ,EAAQgG,YAAYxS,EAAOqH,OAAQwF,EAAO3S,KAAKoY,MAAO,IAAI,GAEzE,QAAepX,IAAXqB,EAAsB,CACtB,GAAIA,aAAkB4F,GAClB,OAAO5F,EAGXiQ,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBuiB,qBACtB,EAAApkC,QAAQyQ,OAAO4zB,qBAAqBhmC,EAAOiO,oBAInDgC,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAO0tB,kBAAkB,UAIzC,EAEA,YAAA5pB,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQmG,eACJD,EACAxY,KAAKoY,KACLnX,EAAQA,EAAMsX,OAAOjG,QAAWtR,OAChCA,GACA,EAER,EAKJ,EA/CA,CAA2C,EAAA0X,oBAA9B,EAAAq5B,sBAAAA,GAiDb,8EA6BA,QA7BuC,OAOnC,sBAAI,qBAAM,KAAV,WACI,OAAO/xC,KAAKgN,SAASglC,EAAkBC,eAC3C,MAEA,SAAWhxC,GACPjB,KAAKqN,SAAS2kC,EAAkBC,eAAgBhxC,GAE5CA,GACAA,EAAM6hB,UAAU9iB,KAAKmN,OAE7B,kCAKU,YAAA2W,aAAV,WACI,MAAO,mBACX,EArBgB,EAAAmuB,eAAiB,IAAIF,GAAsB,EAAAzsC,SAAS28B,KAAM,UAC1D,EAAAiQ,gBAAkB,IAAI,EAAAC,oBAAoB,EAAA7sC,SAAS28B,KAAM,WAGzE,IADC,IAAAhqB,UAAS+5B,EAAkBC,4CAc5B,IADC,IAAAh6B,UAAS+5B,EAAkBE,gDAUhC,EA7BA,CAAuC,EAAAhuB,oBAA1B,EAAA8tB,kBAAAA,GA+Bb,8EAyBA,QAzBoC,OAQtB,YAAAluB,aAAV,WACI,MAAO,gBACX,EAPgB,EAAAsuB,aAAe,IAAI,EAAA76B,eAAe,EAAAjS,SAAS28B,KAAM,QACjD,EAAAle,cAAgB,IAAI,EAAAxM,eAAe,EAAAjS,SAAS28B,KAAM,SAClD,EAAAoQ,cAAgB,IAAI,EAAA96B,eAAe,EAAAjS,SAAS28B,KAAM,SAClD,EAAAje,cAAgB,IAAI,EAAAzM,eAAe,EAAAjS,SAAS28B,KAAM,SASlE,IADC,IAAAhqB,UAASq6B,EAAeF,0CAIzB,IADC,IAAAn6B,UAASq6B,EAAevuB,4CAIzB,IADC,IAAA9L,UAASq6B,EAAeD,4CAIzB,IADC,IAAAp6B,UAASq6B,EAAetuB,4CAE7B,EAzBA,CAAoC,EAAAE,oBAAvB,EAAAouB,eAAAA,GA2Bb,8EAqBA,QArB2C,OAO7B,YAAAxuB,aAAV,WACI,MAAO,uBACX,EANgB,EAAAyuB,WAAa,IAAI,EAAAh7B,eAAe,EAAAjS,SAAS28B,KAAM,MAC/C,EAAAuQ,YAAc,IAAI,EAAAj7B,eAAe,EAAAjS,SAAS28B,KAAM,OAChD,EAAAwQ,mBAAqB,IAAI,EAAAl7B,eAAe,EAAAjS,SAAS28B,KAAM,cASvE,IADC,IAAAhqB,UAASy6B,EAAsBH,sCAIhC,IADC,IAAAt6B,UAASy6B,EAAsBF,wCAIhC,IADC,IAAAv6B,UAASy6B,EAAsBD,sDAEpC,EArBA,CAA2C,EAAAvuB,oBAA9B,EAAAwuB,sBAAAA,GAuBb,8EAkCA,QAlCoC,OAiBtB,YAAA5uB,aAAV,WACI,MAAO,gBACX,EAhBgB,EAAA7K,aAAe,IAAI,EAAA1B,eAAe,EAAAjS,SAAS28B,KAAM,QACjD,EAAA0Q,uBAAyB,IAAI,EAAAp7B,eAAe,EAAAjS,SAAS28B,KAAM,kBAC3D,EAAA2Q,gBAAkB,IAAI,EAAA9tB,qCAClC,EAAAxf,SAAS28B,KACT,UACAqQ,IAEY,EAAAO,8BAAgC,IAAI,EAAAlE,2BAChD,EAAArpC,SAAS28B,KACT,wBACAyQ,IACA,GAUJ,IADC,IAAAz6B,UAAS66B,EAAe75B,0CAIzB,IADC,IAAAhB,UAAS66B,EAAeH,8DAIzB,IADC,IAAA16B,UAAS66B,EAAeF,gDAIzB,IADC,IAAA36B,UAAS66B,EAAeD,4EAE7B,EAlCA,CAAoC,EAAA3uB,oBAAvB,EAAA4uB,eAAAA,GAqCb,qFAyQI,EAAAj9B,YAAsB,GAoG1B,QA7WkC,OA0F9B,sBAAI,sBAAO,KAAX,WACI,OAAO7V,KAAKgN,SAAS7H,EAAa4tC,gBACtC,MAEA,SAAY9xC,GACRjB,KAAKqN,SAASlI,EAAa4tC,gBAAiB9xC,GAExCA,IACAA,EAAMkM,OAASnN,KAEvB,kCA8BA,sBAAW,oBAAe,KAA1B,WACI,MAAM,IAAImC,MAAM,EAAA6B,QAAQyQ,OAAOu+B,8BACnC,MAGA,SAA2B9P,GACvB,MAAM,IAAI/gC,MAAM,EAAA6B,QAAQyQ,OAAOu+B,8BACnC,kCAEO,EAAAj0B,cAAP,SAAqB/Z,GACjB,IAAMoO,EAAoC,CACtC4L,YAAY,GAGhB,GAAI7Z,EAAa8tC,kBACb9tC,EAAa8tC,kBAAkBjuC,EAAMoO,QAClC,GAAUvL,OAAQqrC,WAAY,CAEjC,IAAMC,EAAwBtrC,OAAQqrC,WACtC9/B,EAAO6L,WAAak0B,IAAaztC,OAAOV,GACxCoO,EAAO4L,YAAa,OACZ7Z,EAAaiuC,uCAErBnxC,QAAQC,KAAK,EAAA8B,QAAQyQ,OAAO4+B,8BAC5BluC,EAAaiuC,sCAAuC,GAGxD,OAAOhgC,CACX,EAIQ,YAAAkgC,mBAAR,WACI,QAAItzC,KAAKuzC,uBAIAvzC,KAAK4E,UACL5E,KAAK4E,QAAQygB,SACdrlB,KAAKwzC,WAAWC,MAAQzzC,KAAK4E,QAAQ6uC,OACpCzzC,KAAKwzC,WAAWC,QAAUzzC,KAAK4E,QAAQ6uC,OACpCzzC,KAAKwzC,WAAWE,MAAQ1zC,KAAK4E,QAAQ8uC,MAIrD,EAEU,YAAAjkC,+BAAV,WACI,OAAO,IAAIpK,GAAqBrF,KAAK4E,QACzC,EAEU,YAAAmoC,+BAAV,WACI,MAAO,MACX,EAEU,YAAAhqB,cAAV,SAAwBpQ,EAAaL,GACjCtS,KAAK2zC,mBAAgB3yC,EAErB,IAAM4yC,EAAkBthC,EAAQ6Q,kBAC5BniB,EACA2R,EAAiB,SACjB3S,KAAKwpB,0BACJxpB,KAAK2O,gBAGNilC,IACA5zC,KAAK2zC,cAAgB,IAAIxuC,EACzBnF,KAAK2zC,cAAcrF,QAAQsF,IAG/B,YAAM7wB,cAAa,UAACpQ,EAAQL,EAChC,EAEU,YAAA8Q,eAAV,SAAyB5K,EAAqBlG,GAC1CtS,KAAKqN,SAASlI,EAAa0uC,gBAAiBvhC,EAAQ6F,eAEpD,YAAMiL,eAAc,UAAC5K,EAAQlG,EACjC,EAEU,YAAAhB,eAAV,WACI,IAAM1O,EAAkB,YAAM0O,eAAc,WAS5C,OAPI,EAAA7P,eAAe8L,iCAAmC3K,GAIlDA,EAAgBI,MAAM2C,eAAe,aAGlC/C,CACX,EAEU,YAAAmP,iBAAV,SAA2BC,GACvB,YADuB,IAAAA,IAAAA,GAAA,IAChB,CACX,EAEU,YAAAF,kBAAV,WACI,OAAO,IAAI,EAAAJ,kBACP5P,EAAMqS,QAAQu2B,QACd5oC,EAAMqS,QAAQu2B,QACd5oC,EAAMqS,QAAQu2B,QACd5oC,EAAMqS,QAAQu2B,QAEtB,EAEU,YAAAr4B,gBAAV,SAA0B08B,GACtB,OAAO,CACX,EAEA,sBAAc,4BAAa,KAA3B,WACI,OAAO,CACX,kCAEA,sBAAc,iCAAkB,KAAhC,WACI,OAAO,CACX,kCAEA,sBAAc,+BAAgB,KAA9B,WACI,OAAO/uC,KAAKgH,WAAW8sC,cAAgB9zC,KAAKgH,WAAW8sC,aAAa3J,gBACxE,kCAEA,sBAAc,4BAAa,KAA3B,WACI,OAAO,CACX,kCAcA,YAAA75B,gBAAA,WACI,MAAO,cACX,EAEA,YAAAsZ,2BAAA,SAA2BtX,GACvB,YAAMsX,2BAA0B,UAACtX,GAEmB,iBAAhDtS,KAAKgN,SAASC,EAAY8mC,mBAC1BzhC,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBmuB,gBACtB,EAAAhwC,QAAQyQ,OAAOw/B,mBAIlBj0C,KAAKuzC,oBAAuBvzC,KAAK4E,QAM1B5E,KAAKszC,sBACbhhC,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBquB,uBACtB,EAAAlwC,QAAQyQ,OAAO0/B,uBACXn0C,KAAK4E,QAAQiJ,WACb7N,KAAKwzC,WAAW3lC,aAXxByE,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgB+Q,mBACtB,EAAA5yB,QAAQyQ,OAAO0tB,kBAAkB,WAY7C,EAEA,YAAAz8B,OAAA,SAAO8S,GAAP,IACQwuB,EADR,OA4CI,OAzCIhnC,KAAKo0C,kBAAoBp0C,KAAK2zC,eAC9B3zC,KAAK2zC,cAAc3sC,WAAahH,KAAKgH,WAErCggC,EAAehnC,KAAK2zC,cAAcjuC,WAElCshC,EAAe,YAAMthC,OAAM,cAGvBshC,EAAa/xB,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBAAiB,oBAOxD,EAAAxK,eAAe4yC,wBACfrN,EAAahV,SAAW,GAGxBhyB,KAAKs0C,OACLtN,EAAa56B,aAAa,aAAcpM,KAAKs0C,OAGjDtN,EAAauN,aAAe,SAAC3e,GACzB,EAAKplB,yBAAwB,EACjC,EAEAw2B,EAAawN,aAAe,SAAC5e,GACzB,EAAKplB,yBAAwB,EACjC,EAEAxQ,KAAKuV,iBAAiBD,6BAI1BkD,IACA/U,EAAMH,YAAYkV,EAAQwuB,GAE1BhnC,KAAKoV,gBAGF4xB,CACX,EAEA,YAAA5xB,aAAA,SAAa4L,GAGT,QAHS,IAAAA,IAAAA,GAAA,GACT,YAAM5L,aAAY,UAAC4L,GAEf,EAAAvf,eAAe8L,iCAAmCvN,KAAKmR,cAAe,CACtE,IAAMjB,EAAUlQ,KAAKgH,WAAWgH,oBAAoBlM,EAAMqS,QAAQzB,SAGlE1S,KAAqB,eAAEA,KAAK4C,gBAAiBwO,aAAelB,GAEpE,EAEA,YAAAkkC,eAAA,WACI,OAAO,YAAMA,eAAc,aAAOp0C,KAAKszC,oBAC3C,EAEA,sBAAI,kCAAmB,KAAvB,WACI,OAAO,CACX,kCA3WgB,EAAAmB,UAAY,qDAKF,EAAAC,gBAAkB,IAAI,EAAApd,eAC5C,EAAAhyB,SAASqS,KACT,WACA,SACI7R,EACAmS,EACAtF,EACAL,GAEA,OAAOnN,EAAasvC,SACxB,IACA,SACI3uC,EACAyxB,EACA/e,EACAvX,EACAqR,GAEAA,EAAQmG,eAAeD,EAAQ+e,EAAKnf,KAAMjT,EAAasvC,UAC3D,IAGY,EAAAZ,gBAAkB,IAAI,EAAAvc,eAClC,EAAAhyB,SAASqS,KACT,WACA,SACI7R,EACAyxB,EACA5kB,EACAL,GAEA,IAAI1N,EAAU,EAAA+vC,QAAQvvC,MAAMuN,EAAO4kB,EAAKnf,MAAO9F,GAY/C,YAVgBtR,IAAZ4D,IACAA,EAAU,EAAAU,SAASsvC,OAEnBtiC,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOogC,mBAAmBjwC,EAAQiJ,cAI3CjJ,CACX,IACA,SACIkB,EACAyxB,EACA/e,EACAvX,EACAqR,QAEctR,IAAVC,GACAqR,EAAQmG,eAAeD,EAAQ+e,EAAKnf,KAAMnX,EAAM4M,WAExD,GACA,EAAAvI,SAASqS,MAGG,EAAAm9B,qBAAuB,IAAI,EAAAv9B,eAAe,EAAAjS,SAASqS,KAAM,gBACzD,EAAAo9B,cAAgB,IAAI,EAAAx9B,eAAe,EAAAjS,SAASqS,KAAM,SAClD,EAAAo7B,gBAAkB,IAAI,EAAApE,2BAClC,EAAArpC,SAAS28B,KACT,UACA+P,IACA,GAEY,EAAAgD,uBAAyB,IAAI,EAAArG,2BACzC,EAAArpC,SAAS28B,KACT,iBACA6Q,IACA,GA8BW,EAAAM,sCAAuC,EA1BtD,IADC,IAAAn7B,UAAS9S,EAAa0uC,gDAIvB,IADC,IAAA57B,UAAS9S,EAAa2vC,0DAIvB,IADC,IAAA78B,UAAS9S,EAAa4vC,4CAIvB,IADC,IAAA98B,UAAS9S,EAAa4tC,8CAcvB,IADC,IAAA96B,UAAS9S,EAAa6vC,8DAuQ3B,EA7WA,CAAkCpN,IAArB,EAAAziC,aAAAA,GA+Wb,qFAsCI,EAAA2hC,eAAyB,GAY7B,QAlDiC,OAGnB,YAAAhjB,aAAV,WACI,MAAO,oBACX,EAEU,YAAAjL,eAAV,SAAyBC,GACrB,YAAMD,eAAc,UAACC,GAErBA,EAAOjE,OAAO1P,GAAauvC,gBAAiBvvC,GAAa0uC,gBAC7D,EAIU,YAAA/hC,kBAAV,WACI,OAAO,IAAI,EAAAJ,kBACP1R,KAAK8mC,cAAgBhlC,EAAMqS,QAAQC,KAAOtS,EAAMqS,QAAQu2B,QACxD5oC,EAAMqS,QAAQu2B,QACd1qC,KAAK8mC,cAAgBhlC,EAAMqS,QAAQC,KAAOtS,EAAMqS,QAAQu2B,QACxD5oC,EAAMqS,QAAQu2B,QAEtB,EAEA,sBAAc,iCAAkB,KAAhC,WACI,OAAO,CACX,kCAEA,sBAAc,2BAAY,KAA1B,WACI,OAAI1qC,KAAK8mC,cACEhlC,EAAM2Q,eAAeC,QAErB1S,KAAKgH,WAAWV,QAAQu+B,SAAS7hC,MAClChD,KAAKgH,WAAWV,QAAQu+B,SAAS7hC,MACjClB,EAAM2Q,eAAew3B,QAEnC,kCAIA,YAAAvkC,OAAA,SAAO8S,GACH,IAAMwuB,EAAe,YAAMthC,OAAM,UAAC8S,GAOlC,OALIwuB,IACAA,EAAa56B,aAAa,YAAa,UACvC46B,EAAa/S,gBAAgB,aAG1B+S,CACX,EACJ,EAlDA,CAAiC7hC,IAoDjC,iFAIY,EAAA8vC,gBAA+B,IAAIC,KAqM/C,QAzM0C,OAK9B,YAAAC,wBAAR,SACIhoC,EACAwF,EACAyzB,EACAgP,EACAC,EACAzvB,GANJ,WAQQxS,OAAwBpS,EAE5B,GAAI2R,GAA4B,iBAAXA,EAAqB,CACtC,IAAM,EAAoB,IAAIuiC,IAC9Bl1C,KAAKi1C,gBAAgBjkC,SAAQ,SAACjQ,GAC1B,EAAkBmU,IAAInU,EAC1B,IACAqlC,EAAep1B,SAAQ,SAACjQ,GACpB,EAAKk0C,gBAAgB//B,IAAInU,EAC7B,IAEA,IAAM2uC,EAAWjsC,EAAMu/B,YAAYrwB,EAAa,MAEhD,GAAI+8B,GAAY1vC,KAAKi1C,gBAAgBK,IAAI5F,GACrC9pB,EAAc8pB,EAAU5tC,EAAMyzC,cAAcC,mBACzC,CACH,IAAIC,GAAgB,EAgBpB,IAdAriC,EAASiiC,EAAuB3F,KAO5Bt8B,EAAO0P,UAAU3V,GACjBiG,EAAOhO,MAAMuN,EAAQ3S,MAErBy1C,EACI,EAAAh0C,eAAei0C,gBAAkBN,GAAiBhiC,EAAOghC,mBAR7DqB,EAAgB,EAAAh0C,eAAei0C,gBAAkBN,EAEjDxvB,EAAc8pB,EAAU5tC,EAAMyzC,cAAcI,cAS5CF,EAAe,CACf,IAAMG,EAAWjjC,EAAiB,UAE7BijC,GAAYzoC,GACbA,EAAO2gC,mBAAkB,GAEL,iBAAb8H,GAAoD,SAA3BA,EAASp4B,cACzCpK,OAASpS,EACkB,iBAAb40C,IACdxiC,EAASpT,KAAKm1C,wBACVhoC,EACAyoC,EACAxP,GACA,EACAiP,EACAzvB,KAMhB5lB,KAAKi1C,gBAAkB,EAG3B,OAAO7hC,CACX,EAEU,YAAAyiC,iBAAV,SAA2BC,EAAuBnjC,GAC1CmjC,aAAa7U,IAAUjhC,KAAK+1C,cAC5B/1C,KAAK+1C,cAAcD,EAAGnjC,EAAQ3S,MACvB81C,aAAa7oC,GAAejN,KAAKg2C,gBACxCh2C,KAAKg2C,eAAeF,EAAGnjC,EAAQ3S,KAEvC,EAKA,YAAAqS,gBAAA,SAAgByjC,GACZ,OAAIA,aAAa7U,QACkDjgC,IAAxDhB,KAAKw/B,eAAehtB,WAAWsjC,EAAExlC,qBACjCwlC,aAAa7oC,SAC4CjM,IAAzDhB,KAAKuS,gBAAgBC,WAAWsjC,EAAExlC,kBAIjD,EAEA,YAAAm/B,gBAAA,SACItiC,EACAwF,EACAsjC,EACAb,EACAC,EACAzvB,GAEA,IAAMwgB,EAAiB,IAAI8O,IAAYe,GACjC7iC,EAASpT,KAAKm1C,wBAChBhoC,EACAwF,EACAyzB,EACAgP,EACAC,EACAzvB,GAOJ,YAJe5kB,IAAXoS,GACApT,KAAK61C,iBAAiBziC,EAAQT,GAG3BS,CACX,EAEA,YAAA+P,aAAA,SACIhW,EACAwF,EACAyzB,EACAgP,GAJJ,WAMI,OAAOp1C,KAAKyvC,gBACRtiC,EACAwF,EACAyzB,EACAgP,GACA,SAAC1F,GACG,OAAO,EAAKn9B,gBAAgB2jC,eAAexG,EAAU,EAAKv3B,cAC9D,IACA,SAACu3B,EAAkByG,GACXA,IAAcr0C,EAAMyzC,cAAcI,YAClC,EAAK/vB,mBACD5kB,EACAc,EAAM+jB,gBAAgBuwB,mBACtB,EAAApyC,QAAQyQ,OAAO4hC,mBAAmB3G,IAGtC,EAAK9pB,mBACD5kB,EACAc,EAAM+jB,gBAAgB+pB,sBACtB,EAAA5rC,QAAQyQ,OAAOwV,sBAAsBylB,GAGjD,GAER,EAEA,YAAAp3B,YAAA,SACInL,EACAwF,EACA0F,EACA+8B,GAJJ,WAMI,OAAOp1C,KAAKyvC,gBACRtiC,EACAwF,EACA0F,EACA+8B,GACA,SAAC1F,GACG,OAAO,EAAKlQ,eAAe0W,eAAexG,EAAU,EAAKv3B,cAC7D,IACA,SAACu3B,EAAkByG,GACXA,IAAcr0C,EAAMyzC,cAAcI,YAClC,EAAK/vB,mBACD5kB,EACAc,EAAM+jB,gBAAgBywB,kBACtB,EAAAtyC,QAAQyQ,OAAO8hC,kBAAkB7G,IAGrC,EAAK9pB,mBACD5kB,EACAc,EAAM+jB,gBAAgBuiB,qBACtB,EAAApkC,QAAQyQ,OAAO4zB,qBAAqBqH,GAGhD,GAER,EAEA,sBAAI,8BAAe,KAAnB,iBACI,OAA4B,QAArB,EAAA1vC,KAAKw2C,wBAAgB,QAAI,EAAAC,eAAexpB,QACnD,kCAIA,YAAAypB,mBAAA,SAAmBz1C,GACfjB,KAAKw2C,iBAAmBv1C,CAC5B,EAEA,sBAAI,6BAAc,KAAlB,iBACI,OAA2B,QAApB,EAAAjB,KAAK22C,uBAAe,QAAI,EAAAF,eAAenwC,OAClD,kCAIA,YAAAswC,kBAAA,SAAkB31C,GACdjB,KAAK22C,gBAAkB11C,CAC3B,EACJ,EAzMA,CAA0C,EAAA41C,0BAA7B,EAAAxxC,qBAAAA,GA2Mb,EAAAoxC,eAAeK,gBAAgBC,SAAS,YAAavgC,IACrD,EAAAigC,eAAeK,gBAAgBC,SAAS,YAAa/5B,GACrD,EAAAy5B,eAAeK,gBAAgBC,SAAS,gBAAiBlzB,EAAe,EAAAve,SAASC,MACjF,EAAAkxC,eAAeK,gBAAgBC,SAAS,UAAWz0B,EAAS,EAAAhd,SAASC,MACrE,EAAAkxC,eAAeK,gBAAgBC,SAAS,QAASpvB,GACjD,EAAA8uB,eAAeK,gBAAgBC,SAAS,WAAY7qB,GACpD,EAAAuqB,eAAeK,gBAAgBC,SAAS,QAASjmB,EAAO,EAAAxrB,SAASkS,MACjE,EAAAi/B,eAAeK,gBAAgBC,SAAS,UAAWhyB,GACnD,EAAA0xB,eAAeK,gBAAgBC,SAAS,YAAa9H,IACrD,EAAAwH,eAAeK,gBAAgBC,SAAS,YAAahN,GAAW,EAAAzkC,SAASC,MACzE,EAAAkxC,eAAeK,gBAAgBC,SAAS,aAAcxd,GACtD,EAAAkd,eAAeK,gBAAgBC,SAAS,aAAcvZ,GACtD,EAAAiZ,eAAeK,gBAAgBC,SAAS,aAAcjZ,IACtD,EAAA2Y,eAAeK,gBAAgBC,SAAS,eAAgB9Z,GACxD,EAAAwZ,eAAeK,gBAAgBC,SAAS,kBAAmBrc,GAC3D,EAAA+b,eAAeK,gBAAgBC,SAAS,eAAgB3c,GAExD,EAAAqc,eAAeO,eAAeD,SAAS7U,GAAcH,aAAcG,IACnE,EAAAuU,eAAeO,eAAeD,SAASvtC,GAAau4B,aAAcv4B,IAClE,EAAAitC,eAAeO,eAAeD,SAAS//B,GAAe+qB,aAAc/qB,IACpE,EAAAy/B,eAAeO,eAAeD,SAC1BxU,GAAuBR,aACvBQ,GACA,EAAAj9B,SAASC,MAEb,EAAAkxC,eAAeO,eAAeD,SAAS9uC,GAAc85B,aAAc95B,GAAe,EAAA3C,SAAS28B,g7BClgS3F,YACA,SACA,SAEA,SACA,SAUA,0BACa,KAAAgV,OAA6B,CAAC,EAC9B,KAAAC,iBAAuC,EAUpD,QARI,YAAAptB,WAAA,SAAWqtB,EAAwB/lB,EAA8BhxB,GAC7DJ,KAAKk3C,iBAAiBxgC,KAAK,CACvB0gC,MAAOt1C,EAAMu1C,gBAAgBC,WAC7B3kC,OAAQwkC,EACR/lB,MAAOA,EACPhxB,QAASA,GAEjB,EACJ,EAZA,GAAa,EAAAm3C,kBAAAA,EAgBb,oFAoCY,EAAAC,iBAA2B,GAwHvC,QA5JyC,OAsB3B,YAAA1zB,aAAV,WACI,OAAO9jB,KAAKsQ,iBAChB,EAMA,sBAAI,uBAAQ,KAAZ,WACI,OAAOtQ,KAAKgN,SAASkL,EAAWu/B,iBACpC,kCAcU,YAAA9F,SAAV,SAAmBrnB,GACf,QAAItqB,KAAK2N,kBACE3N,KAAK2N,iBAAiBgkC,SAASrnB,EAI9C,EAYA,YAAA1M,wBAAA,SAAwB2Z,EAA0BmgB,GAC9C,IAAMz2C,OAA0BD,IAAlB02C,EAA8B13C,KAAKgN,SAASuqB,GAAQmgB,EAElE,GAAI,EAAAj2C,eAAek2C,iCAAkC,CAIjD,IAFA,IAAIC,EAAwC53C,KAErC43C,IAAkBA,EAAcC,2BACnCD,EAAgBA,EAAczqC,OAGlC,GAAIyqC,GAAiBA,EAAcC,0BAC/B,OAAOD,EAAcC,0BAA0B73C,KAAMu3B,EAAMt2B,GAInE,OAAOA,CACX,EAEA,YAAA6hB,UAAA,SAAU7hB,GACNjB,KAAKsX,QAAUrW,CACnB,EAEA,YAAA6sC,kBAAA,SAAkB7sC,GACdjB,KAAKw3C,gBAAkBv2C,CAC3B,EAEA,YAAAmzC,eAAA,WACI,OAAOp0C,KAAKw3C,kBAAoBx3C,KAAK83C,SAASC,UAAU/3C,KAAKgH,WAAWgxC,iBAC5E,EAEA,YAAA1hC,cAAA,WAII,IAFA,IAAIshC,EAA4B53C,KAEzB43C,EAAczqC,QACjByqC,EAAgBA,EAAczqC,OAGlC,OAAOyqC,CACX,EAEA,YAAAhuB,2BAAA,SAA2BtX,GACnBtS,KAAKkF,KACDoN,EAAQ2kC,OAAOgB,eAAej4C,KAAKkF,KACH,IAA5BoN,EAAQ2kC,OAAOj3C,KAAKkF,KACpBoN,EAAQwX,WACJ9pB,KACA8B,EAAM+jB,gBAAgBqyB,YACtB,EAAAl0C,QAAQyQ,OAAO0jC,YAAYn4C,KAAKkF,KAIxCoN,EAAQ2kC,OAAOj3C,KAAKkF,KAAO,GAE3BoN,EAAQ2kC,OAAOj3C,KAAKkF,IAAM,EAGtC,EAEA,YAAA8iC,mBAAA,WACI,IAAM50B,EAAS,IAAImkC,EAInB,OAFAv3C,KAAK4pB,2BAA2BxW,GAEzBA,CACX,EAUA,YAAAiX,iBAAA,SAAiBC,GAEb,OAAOtqB,KAAK2xC,SAASrnB,GAAQtqB,UAAOgB,CACxC,EAEA,YAAAyoB,oBAAA,WAEA,EAEA,sBAAI,qBAAM,KAAV,WACI,OAAOzpB,KAAKsX,OAChB,kCAEA,sBAAI,8BAAe,KAAnB,WACI,OAAOtX,KAAK2N,gBAChB,kCAxJgB,EAAAomC,iBAAmB,IAAI,EAAAx8B,eACnC,EAAAjS,SAASqS,KACT,YACA3W,OACAA,OACAA,GACA,SAAC8E,GACG,OAAoBA,EAAQwK,iBAChC,IAEY,EAAAiiC,WAAa,IAAI,EAAAh7B,eAAe,EAAAjS,SAASqS,KAAM,MAC/C,EAAA8/B,iBAAmB,IAAI,EAAA9I,2BACnC,EAAArpC,SAASC,KACT,WACA,EAAA6yC,kBACA,EACA,IAAI,EAAAA,kBAQR,IADC,IAAAngC,UAASC,EAAWq6B,sCAIrB,IADC,IAAAt6B,UAASC,EAAWu/B,gDA+HzB,EA5JA,CAAyC,EAAAvzB,oBAAnB,EAAAhM,WAAAA,ipCC/BtB,aASA,QACA,SAUA,SACA,QACA,SACA,QAWA,SACA,SAKA,yEAoEA,QApEkC,OAEpB,YAAAW,eAAV,SAAyBC,GACrB,YAAMD,eAAc,UAACC,GAGrBA,EAAOjE,OAAO,EAAA2B,UAAU4K,eACxBtI,EAAOjE,OAAO,EAAA2B,UAAU00B,eACxBpyB,EAAOjE,OAAO,EAAA2B,UAAUlJ,kBAC5B,EAGU,YAAAgE,eAAV,WACI,IAAM+mC,EAA6Bx1C,SAASC,cAAc,OAC1Du1C,EAAct1C,UAAY/C,KAAKgH,WAAWiF,iBAAiB,gBAE3DjM,KAAKitC,IAAMjtC,KAAKmuC,QAChB,IAAMvrC,EAAkB,YAAM0O,eAAc,WAE5C,OADA7N,EAAMH,YAAY+0C,EAAez1C,GAC1By1C,CACX,EAEA,YAAAllC,wBAAA,WACI,MAAO,CAAC,EAAA6D,eAAgB,EAAAurB,uBAC5B,EAEA,YAAA+V,0BAAA,WACI,OAAOt4C,KAAKwpB,wBAChB,EAEU,YAAAA,uBAAV,WACI,OAAO,EAAP,CACI,EAAA+Y,uBAAuBR,aACvB,EAAA/qB,eAAe+qB,aACf,QACA,YACA,aACA,aACA,aACA,eACA,kBACA,eACA,YACG,YAAMvY,uBAAsB,YAAE,EAEzC,EAEU,YAAAzG,cAAV,SAAwBpQ,EAAaL,GACjC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAK8tC,mBAAkB,EAC3B,EAEU,YAAAz7B,gBAAV,SAA0B08B,GACtB,OAAO,CACX,EAEA,YAAAz+B,gBAAA,WACI,MAAO,cACX,EAEA,sBAAI,2BAAY,KAAhB,WACI,OAAO,CACX,kCAEA,sBAAI,kCAAmB,KAAvB,WACI,OAAO,CACX,kCACJ,EApEA,CAAkC,EAAAkG,WAArB,EAAA+hC,aAAAA,EAsEb,oFAkDI,EAAAC,cAAwB,EASxB,EAAAC,oBAAyC32C,EAAMoK,YAAYC,WA+BnD,EAAAusC,OAAyB,GAIzB,EAAAC,cAAwB,EACxB,EAAAC,mBAAqD92C,EAAM+2C,yBAAyBC,YAwhBhG,QAvnB8B,OAEhB,YAAAjgC,eAAV,SAAyBC,GACrB,YAAMD,eAAc,UAACC,GAGrBA,EAAOjE,OAAO,EAAA2B,UAAU4K,eACxBtI,EAAOjE,OAAO,EAAA2B,UAAU00B,eACxBpyB,EAAOjE,OAAO,EAAA2B,UAAUlJ,kBAC5B,EAIA,sBAAI,oBAAK,KAAT,WACI,IAAIyrC,EAAQ/4C,KAAKgN,SAASgsC,EAASC,eAOnC,OALIF,GAASA,EAAQ/4C,KAAKgH,WAAWkyC,SAASC,mBAC1Cl3C,QAAQC,KAAK,EAAA8B,QAAQyQ,OAAO2kC,oBAC5BL,EAAQ/4C,KAAKgH,WAAWkyC,SAASC,kBAG9BJ,CACX,MAEA,SAAU93C,GACFA,GAASA,EAAQjB,KAAKgH,WAAWkyC,SAASC,kBAC1Cl3C,QAAQC,KAAK,EAAA8B,QAAQyQ,OAAO2kC,oBAC5Bp5C,KAAKqN,SAAS2rC,EAASC,cAAej5C,KAAKgH,WAAWkyC,SAASC,mBAE/Dn5C,KAAKqN,SAAS2rC,EAASC,cAAeh4C,EAE9C,kCAIA,sBAAI,+BAAgB,KAApB,WACI,OAAOjB,KAAKgN,SAASgsC,EAASK,oBAClC,MAEA,SAAqBp4C,GACbjB,KAAKs5C,uBAAuBr4C,GAC5BjB,KAAKqN,SAAS2rC,EAASK,oBAAqBp4C,IAE5CgB,QAAQC,KAAK,EAAA8B,QAAQyQ,OAAO8kC,wBAAwBt4C,IACpDjB,KAAKqN,SAAS2rC,EAASK,oBAAqB,GAEpD,kCAsBQ,YAAAC,uBAAR,SAA+B9kC,GAC3B,QAAOxU,KAAK04C,QAAS14C,KAAKw5C,iBAAiBhlC,EAAOxU,KAAK04C,OAAOj0C,OAClE,EAEQ,YAAAg1C,yBAAR,SAAiCjlC,GAC7B,QAAOxU,KAAK05C,gBAAiB15C,KAAKw5C,iBAAiBhlC,EAAOxU,KAAK05C,eAAej1C,OAClF,EAEQ,YAAA+0C,iBAAR,SAAyBhlC,EAAemlC,GACpC,OAAQA,EAAiB,GAAK,GAAKnlC,GAASA,EAAQmlC,CACxD,EAIA,sBAAI,gCAAiB,KAArB,WACI,OAAO35C,KAAK44C,kBAChB,MAEA,SAAsBpiB,GAClBx2B,KAAK44C,mBAAqBpiB,CAC9B,kCAYU,YAAAhN,uBAAV,WACI,OAAO,EAAP,CACI,EAAA+Y,uBAAuBR,aACvB,EAAA/qB,eAAe+qB,aACf,QACA,YACA,aACA,aACA,aACA,eACA,kBACA,gBACG,YAAMvY,uBAAsB,YAAE,EAEzC,EAEU,YAAAjZ,0BAAV,SAAoC3N,GAChC,YAAM2N,0BAAyB,UAAC3N,GACb,WAAf5C,KAAKyI,aAAsDzH,IAA/BhB,KAAK45C,wBACjC55C,KAAK45C,sBAAsB52C,MAAMyF,OAAS,QAI1CzI,KAAK65C,iBACL75C,KAAK85C,uBAAuB92C,MAAMyF,OAASzI,KAAK65C,eAAiB,KAEzE,EAEA,YAAAvpC,gBAAA,WACI,MAAO,UACX,EAEA,YAAAoZ,aAAA,WACI,OAAO1pB,KAAK04C,OAAOj0C,MACvB,EAEA,YAAAklB,UAAA,SAAUnV,GACN,OAAOxU,KAAK04C,OAAOlkC,EACvB,EAEA,YAAAulC,QAAA,SAAQC,GACJh6C,KAAK04C,OAAOhiC,KAAKsjC,GACjBA,EAAKl3B,UAAU9iB,KACnB,EAEA,YAAA+U,WAAA,SAAW8U,GACP,GAAIA,aAAgB0uB,EAAc,CAC9B,IAAM3sB,EAAY5rB,KAAK04C,OAAOhjC,QAAQmU,GAEtC,GAAI+B,GAAa,EAOb,OANA5rB,KAAK04C,OAAO90B,OAAOgI,EAAW,GAE9B/B,EAAK/G,eAAU9hB,GAEfhB,KAAKoV,gBAEE,EAIf,OAAO,CACX,EAEA,YAAAsW,4BAAA,iBACI,OAAI1rB,KAAK4C,kBAAsC,QAAnB,EAAA5C,KAAK05C,sBAAc,eAAEj1C,QAAS,EAC/CzE,KAAK05C,eAAe,QAE3B,CAER,EAEA,YAAA/tB,2BAAA,iBACI,OAAI3rB,KAAK4C,kBAAsC,QAAnB,EAAA5C,KAAK05C,sBAAc,eAAEj1C,QAAS,EAC/CzE,KAAK05C,eAAe15C,KAAK05C,eAAej1C,OAAS,QAExD,CAER,EAEA,sBAAI,4BAAa,KAAjB,mBACI,GAA0B,QAAtB,EAAc,QAAd,EAAAzE,KAAKi6C,iBAAS,eAAEC,cAAM,eAAEz1C,OAExB,OADoBzE,KAAKi6C,UAAUC,OAAOl6C,KAAKi6C,UAAUE,aACtCj1C,EAG3B,kCAEA,sBAAI,+BAAgB,KAApB,iBACI,OAAqB,QAAd,EAAAlF,KAAKi6C,iBAAS,eAAEG,SAC3B,kCAEU,YAAAr3B,cAAV,SAAwBpQ,EAAaL,GACjC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAK04C,OAAS,GAEd,IAAM2B,EAAY1nC,EAAc,MAChC,GAAIuN,MAAM8C,QAAQq3B,GACd,IAAmB,UAAAA,EAAA,eAAW,CAAzB,IAAMxwB,EAAI,KACLmwB,EAAOh6C,KAAKs6C,2BAA2BzwB,EAAMvX,GAC/C0nC,GACAh6C,KAAK04C,OAAOhiC,KAAKsjC,GAM7Bh6C,KAAKu6C,gBAAgBjoC,EACzB,EAEQ,YAAAioC,gBAAR,SAAwBjoC,GACftS,KAAKs5C,uBAAuBt5C,KAAKw6C,mBAClCloC,EAAQsT,cACJ5lB,KACA8B,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAO8kC,wBAAwBv5C,KAAKw6C,kBAGxD,EAEU,YAAAp3B,eAAV,SAAyB5K,EAAqBlG,GAC1C,YAAM8Q,eAAc,UAAC5K,EAAQlG,GAE7BA,EAAQuwB,eAAerqB,EAAQ,QAASxY,KAAK04C,OACjD,EAEU,YAAApnC,eAAV,iBAGI,GAFAtR,KAAK05C,eAAiB,KAElB15C,KAAK04C,OAAOj0C,QAAU,GAA1B,CAIAzE,KAAKy6C,gCAEL,IAAMC,EAAkC73C,SAASC,cAAc,OAC/D43C,EAAmB33C,UAAY/C,KAAKgH,WAAWiF,iBAAiB,oCAEhE,IAAM0uC,EAAiC93C,SAASC,cAAc,OAC9D63C,EAAkB53C,UAAY/C,KAAKgH,WAAWiF,iBAAiB,SAAU,eACzEjM,KAAK85C,uBAAyBa,EAE9B,IAAMC,EAAoC/3C,SAASC,cAAc,OACjE83C,EAAqB73C,UAAY/C,KAAKgH,WAAWiF,iBAAiB,yBAClEjM,KAAK45C,sBAAwBgB,EAE7BF,EAAmBp3C,YAAYs3C,GAE/B,IAAMC,EAAmCh4C,SAASC,cAAc,OAChE+3C,EAAoB93C,UAAY/C,KAAKgH,WAAWiF,iBAAiB,0BACjE2uC,EAAqBt3C,YAAYu3C,GAEjC,IAAMC,EAA+Bj4C,SAASC,cAAc,OAO5D,OANAg4C,EAAgB/3C,UAAY/C,KAAKgH,WAAWiF,iBACxC,iBACA,8BAEJ6uC,EAAgB93C,MAAME,QAAU,OAExBlD,KAAKmtC,wCACT,KAAKrrC,EAAMoqC,kBAAkBC,IACzB2O,EAAgB93C,MAAM0jB,WAAa,aACnC,MACJ,KAAK5kB,EAAMoqC,kBAAkBG,OACzByO,EAAgB93C,MAAM0jB,WAAa,WACnC,MACJ,QACIo0B,EAAgB93C,MAAM0jB,WAAa,SAIvC,EAAAjlB,eAAe8L,kCAYfutC,EAAgB93C,MAAMmN,UAAY,uBAGtC,IAAM4qC,EAA8Bl4C,SAASC,cAAc,OAC3Di4C,EAAeh4C,UAAY/C,KAAKgH,WAAWiF,iBACvC,sBAGJ,IAAM+uC,EAA8Bn4C,SAASC,cAAc,OAC3Dk4C,EAAej4C,UAAY/C,KAAKgH,WAAWiF,iBACvC,sBAGAjM,KAAKy4C,sBAAwB32C,EAAMoK,YAAYC,WAC/CnM,KAAKi7C,+BAA+BF,EAAgBC,GAEpDh7C,KAAKk7C,6BAA6BL,EAAqBE,EAAgBC,GAG3E,IAAMG,EAA0Bt4C,SAASC,cAAc,OACvDq4C,EAAWp4C,UAAY/C,KAAKgH,WAAWiF,iBACnC,oBACA,0BAGJ4uC,EAAoBv3C,YAAYy3C,GAChCt3C,EAAM23C,kCAAkCL,GAExCF,EAAoBv3C,YAAY63C,GAChC13C,EAAM23C,kCAAkCD,GAExCN,EAAoBv3C,YAAY03C,GAChCv3C,EAAM23C,kCAAkCJ,GAEpCh7C,KAAK2O,iBAELosC,EAAe/3C,MAAM+pB,OAAS,KAC9BiuB,EAAeh4C,MAAM+pB,OAAS,KAC9BouB,EAAWn4C,MAAM+pB,OAAS,MAG9B,IAAMsuB,EAAiC9uB,KAAKsQ,IACxC78B,KAAK04C,OAAOj0C,OACZzE,KAAKgH,WAAWkyC,SAASoC,kBAM7B,GAJIt7C,KAAK04C,OAAOj0C,OAASzE,KAAKgH,WAAWkyC,SAASoC,kBAC9Cr5C,QAAQC,KAAK,EAAA8B,QAAQyQ,OAAO8mC,sBAG5Bv7C,KAAK04C,OAAOj0C,OAAS,EACrB,IAAK,IAAImQ,EAAI,EAAGA,EAAIymC,EAAwBzmC,IAAK,CAC7C,IAAMolC,EAAOh6C,KAAK04C,OAAO9jC,GACnBw4B,EAAeptC,KAAKmpB,iBAAiB6wB,GAAQA,EAAKt0C,cAAW1E,EACnEosC,SAAAA,EAAcn4B,UAAUC,IAAI,oBACH,QAAzB,EAAAk4B,aAAY,EAAZA,EAAc/vB,SAAS,UAAE,SAAEpI,UAAUC,IAAI,8BAErCk4B,IACA3pC,EAAMH,YAAYw3C,EAAiB1N,GACnCptC,KAAK05C,eAAehjC,KAAKsjC,IAgCrC,OA3BAW,EAAkBr3C,YAAYw3C,GAE9BH,EAAkB3oB,SAAWhyB,KAAK2O,gBAAkB,EAAI,EAExDisC,EAAqBt3C,YAAYq3C,GAGjC36C,KAAKitC,IAAMjtC,KAAKmuC,QAChBnuC,KAAKgtC,SAASmO,GAETn7C,KAAK2O,iBACF3O,KAAKy5C,yBAAyBz5C,KAAKw6C,kBACnCx6C,KAAK24C,cAAgB34C,KAAKw6C,kBAE1Bv4C,QAAQC,KAAK,EAAA8B,QAAQyQ,OAAO8kC,wBAAwBv5C,KAAKw6C,mBACzDx6C,KAAK24C,cAAgB,IAI7B34C,KAAKw7C,0BACDb,EACAK,EACAD,EACAI,EACAn7C,KAAKitC,KAGFjtC,KAAK05C,eAAej1C,OAAS,EAAIi2C,OAAqB15C,EACjE,EAEA,YAAAgsC,SAAA,SAASmO,GACL,YAAMnO,SAAQ,UAAChtC,KAAK85C,wBAChB95C,KAAKitC,KACLkO,EAAWlmC,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBACrC,8BAGZ,EAEA,YAAAwuC,8BAAA,WACSz6C,KAAK65C,iBACN75C,KAAKy4C,oBAAsB32C,EAAMoK,YAAYC,WAErD,EAEA,YAAA8uC,+BAAA,SACIF,EACAC,GAEAD,EAAe9lC,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBACzC,qBAEJ+uC,EAAe/lC,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBACzC,qBAER,EAEA,YAAAivC,6BAAA,SACIL,EACAE,EACAC,GAEAh7C,KAAK45C,sBAAsB3kC,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBACrD,mCAEJ4uC,EAAoB5lC,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBAC9C,oCAGJ8uC,EAAe9lC,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBACzC,mBAEJ+uC,EAAe/lC,UAAUC,IAAIlV,KAAKgH,WAAWiF,iBACzC,oBAER,EAEQ,YAAAuvC,0BAAR,SACIb,EACAc,EACAC,EACAC,EACA1O,GALJ,iBAQU2O,OAAqC56C,IAARisC,GAAsBA,EAAoByO,EAAdD,EACzDI,OAAqC76C,IAARisC,GAAsBA,EAAoBwO,EAAdC,EAEzDI,EAAqCh6C,EAAMoK,YAAYC,aAAenM,KAAKy4C,oBAAuBoD,EAA4BH,EAC9HK,EAAqCj6C,EAAMoK,YAAYC,aAAenM,KAAKy4C,oBAAuBmD,EAA4BH,EAE9HO,EAA+B,CACjCC,MAAOj8C,KAAK2O,gBAAkB3O,KAAKw4C,aACnC0D,QAAS,CAAC,EAAAC,WAAY,EAAArD,WAAY,EAAAsD,UAAW,EAAAC,KAAM,EAAAC,QAAS,EAAAC,UAC5DpB,WAAY,CACRqB,GAAIb,EACJc,WAAW,GAEfC,WAAY,CACRC,OAAQb,EACRc,OAAQb,GAEZc,KAAM,CACFC,SAAS,GAEbC,SAAU,CACND,SAAS,EACTE,gBAAgB,GAEpBC,UAAWj9C,KAAKy4C,sBAAwB32C,EAAMoK,YAAYC,WAAa,aAAe,WACtF+wC,gBAAgB,EAChBC,aAAcn9C,KAAK24C,eAGnB34C,KAAK+4C,QAAU/4C,KAAK2O,iBACC,QAArB,EAAAqtC,EAAcE,eAAO,SAAExlC,KAAK,EAAA0mC,UAC5BpB,EAAcjtB,SAAW,CAAEsuB,MAAOr9C,KAAK+4C,MAAOuE,mBAAmB,IAGrE,IAAMpE,EAAmB,IAAI,EAAAqE,OAAO5C,EAAmBqB,GAKvDrB,EAAkB6C,iBAAiB,cAAc,SAAUC,SACtC,QAAjB,EAAAvE,EAASnqB,gBAAQ,SAAE2uB,MACvB,IAEA/C,EAAkB6C,iBAAiB,cAAc,SAAUC,SACtC,QAAjB,EAAAvE,EAASnqB,gBAAQ,SAAE4uB,OACvB,IAEAzE,EAAS0E,GAAG,kBAAmB,SAACC,GAC5B,EAAKC,mBAAmBh8C,EAAM+2C,yBAAyBkF,eAC3D,IAEA7E,EAAS0E,GAAG,kBAAmB,SAACC,GAC5B,EAAKC,mBAAmBh8C,EAAM+2C,yBAAyBmF,mBAC3D,IAEA9E,EAAS0E,GAAG,4BAA6B,SAACC,GACtC,EAAKI,aAAeJ,EAAOzD,UAC3B,EAAK0D,mBAAmBh8C,EAAM+2C,yBAAyBC,WAC3D,IAEAI,EAAS0E,GAAG,YAAa,WACrB,EAAKE,mBAAmBh8C,EAAM+2C,yBAAyBuE,SAC3D,IAEAlE,EAAS0E,GAAG,oBAAoB,SAACC,EAAQK,GACrCL,EAAO1C,WAAWgD,QAAQntC,SAAQ,SAACotC,EAAQ5pC,GACvC4pC,EAAOZ,iBAAiB,YAAY,SAASpsB,GACxB,SAAbA,EAAMitB,MACNjtB,EAAM/S,iBACNw/B,EAAOS,QAAQ9pC,EAAQ,GAE/B,GACJ,GACJ,IAEA0kC,EAAS0E,GAAG,WAAW,WACnB,EAAKW,uBACT,IAEA7C,EAAYj1C,MAA6B,QAArB,EAAAi1C,EAAY8C,iBAAS,QAAI,EAAAx6C,QAAQ6qB,SAAS4vB,oCAE9DhD,EAAYh1C,MAA6B,QAArB,EAAAg1C,EAAY+C,iBAAS,QAAI,EAAAx6C,QAAQ6qB,SAAS6vB,gCAE9D1+C,KAAKi6C,UAAYf,EAEjBl5C,KAAK2+C,sBACT,EAEQ,YAAArE,2BAAR,SACI3nC,EACAL,GAEA,OAAOA,EAAQm9B,gBACXzvC,KACA2S,EACA3S,KAAKwpB,0BACJxpB,KAAK2O,gBACN,SAAC+gC,GACG,OAAQA,GAAyB,iBAAbA,OAAmD1uC,EAArB,IAAIu3C,CAC1D,IACA,SAAC7I,EAAkBC,GACfr9B,EAAQsT,mBACJ5kB,EACA,EAAA6kB,gBAAgB+pB,sBAChB,EAAA5rC,QAAQyQ,OAAOwV,sBAAsBylB,GAE7C,GAER,EAEA,YAAA4O,QAAA,SAAQ9pC,SACU,QAAd,EAAAxU,KAAKi6C,iBAAS,SAAEqE,QAAQ9pC,EAC5B,EAEA,sBAAI,oCAAqB,KAAzB,WACI,OAAOxU,KAAK85C,sBAChB,kCAEA,sBAAI,2BAAY,KAAhB,WACI,OAAO95C,KAAK24C,aAChB,MAEA,SAAiBsF,GACbj+C,KAAK24C,cAAgBsF,CACzB,kCAEQ,YAAAW,oBAAR,SAA6B79C,GAEzB,IAAI89C,EAIJ,OAH6B79C,MAAzBhB,KAAK8+C,mBACLD,EAAgB7+C,KAAK2pB,UAAU3pB,KAAK8+C,kBAAkB55C,IAEnD,IAAI65C,EAAch+C,EAAMf,KAAKkF,GAAI25C,EAAe7+C,KAAK8+C,iBAChE,EAEQ,YAAAhB,mBAAR,SAA2BtnB,GACvB,IAAMhzB,EAAOxD,KAAKmN,OAAUnN,KAAKmN,OAAOoI,sBAAoCvU,EACtEg+C,EACFx7C,GAAQA,EAAKy7C,gBACPz7C,EAAKy7C,gBACL,EAAA95C,aAAa85C,gBAEnBD,GAA0BxoB,GAAa10B,EAAM+2C,yBAAyBC,YAEtEkG,EAAuBh/C,KAAK4+C,oBAAoB5+C,KAAKk/C,oBAEzDl/C,KAAKk/C,kBAAoB1oB,CAC7B,EAKQ,YAAAmoB,qBAAR,wBAES3+C,KAAKm/C,8CAIVn/C,KAAKo/C,UAAY,IAAIC,gBAAe,SAACC,eAC3B92C,EAAsB,QAAd,IAAKyxC,iBAAS,eAAEzxC,MACxBC,EAAuB,QAAd,IAAKwxC,iBAAS,eAAExxC,OAC3B82C,EAAW/2C,EACXg3C,EAAY/2C,EAChB62C,EAAQtuC,SAAQ,SAAC,SAAEyuC,EAAc,iBAAEC,EAAW,cAAElnC,EAAM,SAClDA,GAAUA,KAAyB,QAAd,IAAKyhC,iBAAS,eAAEuC,MAIzC+C,EAAWG,EACLA,EAAYl3C,OACXi3C,EAAe,IAAMA,GAAgBE,WAE5CH,EAAYE,EACNA,EAAYj3C,QACXg3C,EAAe,IAAMA,GAAgBG,UAC5C,IAEIL,IAAa/2C,GAASg3C,IAAc/2C,GAChC,EAAK02C,8CACS,QAAd,IAAKlF,iBAAS,SAAE4F,KAAK,gBACP,QAAd,IAAK5F,iBAAS,SAAE4F,KAAK,UAIjC,IAEA7/C,KAAKo/C,UAAUU,QAAsB,QAAd,EAAA9/C,KAAKi6C,iBAAS,eAAEuC,IAC3C,EAEQ,YAAA+B,sBAAR,iBACQv+C,KAAKo/C,WAAap/C,KAAKo/C,UAAUW,YAA2B,QAAd,EAAA//C,KAAKi6C,iBAAS,eAAEuC,MAC9Dx8C,KAAKo/C,UAAUW,UAAU//C,KAAKi6C,UAAUuC,IACxCx8C,KAAKo/C,UAAY,KAEzB,EAEQ,YAAAD,0CAAR,WAEI,OAAOn/C,KAAKi6C,YAAcj6C,KAAKi6C,UAAU+F,SAC7C,EA3mBgB,EAAA/G,cAAgB,IAAI,EAAA93B,YAAY,EAAA7b,SAASojB,KAAM,aAAS1nB,GAsBxD,EAAAq4C,oBAAsB,IAAI,EAAAl4B,YAAY,EAAA7b,SAASojB,KAAM,cAAe,GAepE,EAAAu3B,aAAe,IAAI,EAAAxoC,aAAa,EAAAnS,SAASojB,KAAM,QAAQ,GAIvD,EAAAohB,oBAAsB,IAAI,EAAA/xB,aACtC,EAAAzS,SAASojB,KACT,cACA5mB,EAAMoK,YACNpK,EAAMoK,YAAYC,YAKN,EAAA+zC,uBAAyB,IAAI,EAAA9U,kBACzC,EAAA9lC,SAASojB,KACT,kBAlDJ,IADC,IAAAzQ,UAAS+gC,EAASC,0CAuBnB,IADC,IAAAhhC,UAAS+gC,EAASK,2DAgBnB,IADC,IAAAphC,UAAS+gC,EAASiH,kDAUnB,IADC,IAAAhoC,UAAS+gC,EAASlP,gEAQnB,IADC,IAAA7xB,UAAS+gC,EAASkH,8DAsjBvB,EAvnBA,CAA8B,EAAA1pC,WAAjB,EAAAwiC,SAAAA,EAynBb,MACI,SAAmBj4C,EACRo/C,EACAC,EACAC,GAHQ,KAAAt/C,KAAAA,EACR,KAAAo/C,WAAAA,EACA,KAAAC,qBAAAA,EACA,KAAAC,wBAAAA,CAA+C,EAJjD,EAAAtB,cAAAA,EAOb,EAAAtI,eAAeK,gBAAgBC,SAC3B,WACAiC,EACA,EAAA1zC,SAASojB,4FC/uBS,EAAA43B,eAAtB,WAEA,oFCJA,8BACY,KAAAta,OAAuB,EAoCnC,QA/BI,YAAA1C,IAAA,SAAI9uB,GACA,OAAOxU,KAAKgmC,OAAOxxB,EACvB,EAEA,YAAAU,IAAA,SAAI2U,GACA7pB,KAAKgmC,OAAOtvB,KAAKmT,GAEb7pB,KAAKugD,aACLvgD,KAAKugD,YAAY12B,EAEzB,EAEA,YAAAhV,OAAA,SAAOgV,GACH,IAAMjV,EAAI5U,KAAKgmC,OAAOtwB,QAAQmU,GAE1BjV,GAAK,IACL5U,KAAKgmC,OAAShmC,KAAKgmC,OAAOpiB,OAAOhP,EAAG,GAEhC5U,KAAKwgD,eACLxgD,KAAKwgD,cAAc32B,GAG/B,EAEA,YAAAnU,QAAA,SAAQmU,GACJ,OAAO7pB,KAAKgmC,OAAOtwB,QAAQmU,EAC/B,EAEA,sBAAI,qBAAM,KAAV,WACI,OAAO7pB,KAAKgmC,OAAOvhC,MACvB,kCACJ,EArCA,GAAa,EAAAg8C,WAAAA,mFCEb,8BAUA,QAToB,EAAAlhB,KAAO,CACnBmhB,IAAK,MACLC,MAAO,QACPC,OAAQ,SACRC,MAAO,IACPC,GAAI,UACJC,KAAM,YACNC,OAAQ,UAEhB,EAVA,GAAa,EAAAC,UAAAA,iZCFb,WACA,6FCDA,aACA,SAEA,aAiCI,WAAY5C,EAAap9C,GA7BjB,KAAAigD,YAAsB,EA8B1BlhD,KAAKq+C,IAAMA,EACXr+C,KAAKkjC,OAASjiC,CAClB,CA2DJ,OAzFY,YAAAkgD,MAAR,WACQnhD,KAAK0gC,WAAa1gC,KAAK0lC,SACvB1lC,KAAK0lC,QAAQ1lC,KAErB,EAEQ,YAAA4+B,iBAAR,WACI,GAAI5+B,KAAK8V,SAAU,CACf,IAAM2uB,EAAsBzkC,KAAKoX,YAAcpX,KAAKoX,YAAc,EAAAC,kBAElErX,KAAK8V,SAAS/S,UAAY0hC,EAAoBx4B,iBAAiB,WAC/DjM,KAAK8V,SAASb,UAAUC,IACpBuvB,EAAoBx4B,iBAChBjM,KAAK0gC,UAAY,wBAA0B,mCAI9C1gC,KAAK0gC,WACN1gC,KAAK8V,SAASb,UAAUC,IAAIuvB,EAAoBx4B,iBAAiB,gBAG7E,EAWA,YAAA4B,SAAA,WACI,OAAO7N,KAAKiB,KAChB,EAEA,YAAAyE,OAAA,SAAOsB,GAAP,WA2BI,OA1BAhH,KAAKoX,YAAcpQ,EAEdhH,KAAK8V,WACN9V,KAAK8V,SAAWjT,SAASC,cAAc,QACvC9C,KAAK8V,SAASzF,UAAYrQ,KAAKiB,MAC/BjB,KAAK8V,SAAS1J,aAAa,OAAQ,YAE9BpM,KAAK0gC,WACN1gC,KAAK8V,SAAS1J,aAAa,gBAAiB,QAGhDpM,KAAK8V,SAAS1J,aAAa,eAAgB,SAC3CpM,KAAK8V,SAASsrC,UAAY,SAACr6B,GACvB,EAAKo6B,OACT,EACAnhD,KAAK8V,SAASurC,UAAY,SAACjgD,GACnBA,EAAEi9C,MAAQ,EAAA4C,UAAU1hB,KAAKohB,QACzBv/C,EAAEkd,cAAe,EAEjB,EAAK6iC,QAEb,EAEAnhD,KAAK4+B,oBAGF5+B,KAAK8V,QAChB,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAO9V,KAAKkjC,MAChB,MAEA,SAAUK,GACNvjC,KAAKkjC,OAASK,EAEVvjC,KAAK8V,WACL9V,KAAK8V,SAASzF,UAAYkzB,EAElC,kCAEA,sBAAI,wBAAS,KAAb,WACI,OAAOvjC,KAAKkhD,UAChB,MAEA,SAAcjgD,GACNjB,KAAKkhD,aAAejgD,IACpBjB,KAAKkhD,WAAajgD,EAElBjB,KAAK4+B,mBAEb,kCACJ,EA/FA,GAAa,EAAA6G,SAAAA,wFCHb,aACA,SACA,SAEA,0BACY,KAAA6b,SAAmB,CA6M/B,QApMI,YAAAC,QAAA,SAAQngD,GACIA,EAAEi9C,MACD,EAAA4C,UAAU1hB,KAAKqhB,QAChB5gD,KAAK4lC,YAAW,EAI5B,EAEA,YAAAlgC,OAAA,SAAO87C,GAAP,WACUl2C,EAAUzI,SAASC,cAAc,OAavC,OAZAwI,EAAQ0mB,SAAW,EACnB1mB,EAAQvI,UAAY/C,KAAKgH,WAAWiF,iBAAiB,UAAW,2BAChEX,EAAQc,aAAa,OAAQ,UAC7Bd,EAAQc,aAAa,aAAc,QACnCd,EAAQ+1C,UAAY,SAACjgD,GAGjB,OAFA,EAAKmgD,QAAQngD,IAELA,EAAEkd,YACd,EAEAhT,EAAQhI,YAAYtD,KAAKyhD,iBAElBn2C,CACX,EAEA,YAAAmmB,MAAA,WACQzxB,KAAK0hD,eACS1hD,KAAK0hD,cAAcliC,kBAAmBiS,OAE5D,EAEA,YAAAsU,MAAA,SAAMnwB,iBAAN,OACI,IAAK5V,KAAKshD,QAAS,CACfthD,KAAK2hD,gBAAkB9+C,SAASC,cAAc,OAC9C9C,KAAK2hD,gBAAgB5+C,UAAY/C,KAAKgH,WAAWiF,iBAAiB,mBAClEjM,KAAK2hD,gBAAgB3vB,SAAW,EAChChyB,KAAK2hD,gBAAgB3+C,MAAMwF,MAAQ3F,SAAS++C,gBAAgBC,YAAc,KAC1E7hD,KAAK2hD,gBAAgB3+C,MAAMyF,OAAS5F,SAAS++C,gBAAgBE,aAAe,KAC5E9hD,KAAK2hD,gBAAgBI,QAAU,SAACh7B,GAC5B,EAAK6e,YAAW,EACpB,EAEA/iC,SAASgC,KAAKvB,YAAYtD,KAAK2hD,iBAE/B,IAAMK,EAAoBpsC,EAAYqsC,wBAEtCjiD,KAAK0hD,cAAgB1hD,KAAK0F,OAAOs8C,IACjC,EAAAhiD,KAAK0hD,cAAczsC,WAAUJ,OAAM,QAC5B7U,KAAKgH,WAAWg4B,kBACf,gBACA,2BACA,2BACA,2BACA,6BAIRn3B,OAAO21C,iBAAiB,UAAU,SAACz2B,GAC/B,EAAK6e,YAAW,EACpB,IAEA,IAAMsc,EAAmBtsC,EAAYusC,aAAa,cAC9CD,GACAliD,KAAK0hD,cAAct1C,aAAa,aAAc81C,GAGlDliD,KAAK2hD,gBAAgBr+C,YAAYtD,KAAK0hD,eAEtC,IAQI,EAREU,EAAqBpiD,KAAK0hD,cAAcO,wBAExCI,EAAsBx6C,OAAOy6C,YAAcN,EAAkB3tC,OAC7DkuC,EAAsBP,EAAkB9tC,IACxCsuC,EAAsB36C,OAAO46C,WAAaT,EAAkBvzC,MAC5Di0C,EAAqBV,EAAkBv3C,KAEzCA,EAAOu3C,EAAkBv3C,KAAOhH,EAAMk/C,aAG1C,GACIJ,EAAsBH,EAAmB35C,QACzC45C,EAAsBD,EAAmB35C,OAC3C,CAEE,IAAMm6C,EAAoBr2B,KAAKsQ,IAAIulB,EAAmB35C,OAAQZ,OAAOy6C,aAarE,GAXAtiD,KAAK0hD,cAAc1+C,MAAMmM,UAAYyzC,EAAoB,KAGrD,EADAA,EAAoBR,EAAmB35C,OACjChF,EAAMo/C,aAGRp/C,EAAMo/C,aACNb,EAAkB9tC,KACjB8tC,EAAkBv5C,OAASm6C,GAAqB,EAIrDF,EAAqBN,EAAmB55C,OACxCg6C,EAAsBJ,EAAmB55C,MAC3C,CAEE,IAAMs6C,EAAmBv2B,KAAKsQ,IAAIulB,EAAmB55C,MAAOX,OAAO46C,YAEnEziD,KAAK0hD,cAAc1+C,MAAM2hB,SAAWm+B,EAAmB,KAGnDr4C,EADAq4C,EAAmBV,EAAmB55C,MAC/B/E,EAAMk/C,aAGTl/C,EAAMk/C,aACNX,EAAkBv3C,MACjBu3C,EAAkBx5C,MAAQs6C,GAAoB,OAInDN,GAAuBJ,EAAmB55C,OAC1CiC,EAAOhH,EAAMk/C,aAAeX,EAAkBvzC,OAE9C,EAAAzO,KAAK0hD,cAAczsC,WAAUC,IAAG,QACzBlV,KAAKgH,WAAWg4B,kBACf,gBACA,+BAIRv0B,EACIhH,EAAMk/C,aAAeX,EAAkBv3C,KAAO23C,EAAmB55C,OAErE,EAAAxI,KAAK0hD,cAAczsC,WAAUC,IAAG,QACzBlV,KAAKgH,WAAWg4B,kBACf,gBACA,mCAOZqjB,GAAuBD,EAAmB35C,QAC1C,EAAMhF,EAAMo/C,aAAeb,EAAkB3tC,QAE7C,EAAArU,KAAK0hD,cAAczsC,WAAUC,IAAG,QACzBlV,KAAKgH,WAAWg4B,kBACf,gBACA,+BAIR,EAAMv7B,EAAMo/C,aAAeb,EAAkB9tC,IAAMkuC,EAAmB35C,QAEtE,EAAAzI,KAAK0hD,cAAczsC,WAAUC,IAAG,QACzBlV,KAAKgH,WAAWg4B,kBACf,gBACA,8BAKRwjB,EAAsBJ,EAAmB55C,QACzCiC,EAAOhH,EAAMk/C,aAAeX,EAAkBvzC,MAAQ2zC,EAAmB55C,OAIjFxI,KAAK0hD,cAAc1+C,MAAMyH,KAAOA,EAAO,KACvCzK,KAAK0hD,cAAc1+C,MAAMkR,IAAM,EAAM,KAErClU,KAAK0hD,cAAcjwB,QAEnBzxB,KAAKshD,SAAU,EAEvB,EAEA,YAAA1b,WAAA,SAAWmd,GACH/iD,KAAKshD,UACLz+C,SAASgC,KAAK+D,YAAY5I,KAAK2hD,iBAE/B3hD,KAAKshD,SAAU,EAEXthD,KAAK8lC,SACL9lC,KAAK8lC,QAAQ9lC,KAAM+iD,GAG/B,EAEA,sBAAI,yBAAU,KAAd,WACI,OAAO/iD,KAAKoX,YAAcpX,KAAKoX,YAAc,EAAAC,iBACjD,MAEA,SAAepW,GACXjB,KAAKoX,YAAcnW,CACvB,kCAEA,sBAAI,qBAAM,KAAV,WACI,OAAOjB,KAAKshD,OAChB,kCACJ,EA9MA,GAAsB,EAAA0B,aAAAA,0jBCJtB,aACA,SAIA,gFACY,EAAAhd,OAA+B,IAAI,EAAAya,WACnC,EAAAjU,eAAqC,GACrC,EAAAyW,gBAA0B,GA6FtC,QAhG+B,OAKjB,YAAAxB,cAAV,WACI,IAAMn2C,EAAUzI,SAASC,cAAc,OACvCwI,EAAQvI,UAAY/C,KAAKgH,WAAWiF,iBAAiB,oBACrDX,EAAQc,aAAa,OAAQ,WAE7B,IAAK,IAAIwI,EAAI,EAAGA,EAAI5U,KAAKgmC,OAAOvhC,OAAQmQ,IAAK,CACzC,IAAMw4B,EAAeptC,KAAKgmC,OAAO1C,IAAI1uB,GAAGlP,OAAO1F,KAAKgH,YACpDomC,EAAapb,SAAW,EAExB1mB,EAAQhI,YAAY8pC,GAEhBx4B,IAAM5U,KAAKy8B,eACX2Q,EAAa3b,QAGjBzxB,KAAKwsC,eAAe91B,KAAK02B,GAG7B,OAAO9hC,CACX,EAEA,YAAAi2C,QAAA,SAAQngD,GACJ,YAAMmgD,QAAO,UAACngD,GAEd,IAAI8hD,EAAoBljD,KAAKijD,eAE7B,OAAQ7hD,EAAEi9C,KACN,KAAK,EAAA4C,UAAU1hB,KAAKmhB,IAChB1gD,KAAK4lC,YAAW,GAEhB,MAWJ,KAAK,EAAAqb,UAAU1hB,KAAKuhB,IACZoC,GAAqB,KAGrBA,EAEwB,KAJxBA,EAAoBljD,KAAKwsC,eAAe/nC,OAAS,GASrDzE,KAAKy8B,cAAgBymB,EAErB9hD,EAAEkd,cAAe,EAEjB,MACJ,KAAK,EAAA2iC,UAAU1hB,KAAKwhB,MACZmC,EAAoB,KAGpBA,GAEyBljD,KAAKwsC,eAAe/nC,UAJ7Cy+C,EAAoB,GASxBljD,KAAKy8B,cAAgBymB,EAErB9hD,EAAEkd,cAAe,EAI7B,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAOte,KAAKgmC,MAChB,kCAEA,sBAAI,4BAAa,KAAjB,WACI,OAAOhmC,KAAKijD,cAChB,MAEA,SAAkBzuC,GACVA,GAAS,GAAKA,EAAQxU,KAAKwsC,eAAe/nC,SAC1CzE,KAAKwsC,eAAeh4B,GAAOid,QAE3BzxB,KAAKijD,eAAiBzuC,EAE9B,kCACJ,EAhGA,CAHA,OAG+BwuC,cAAlB,EAAAzd,UAAAA,kiBCcb,8BAOA,QANoB,EAAA7yB,QAAqB,UACrB,EAAAu3B,SAAuB,WACvB,EAAA9vB,OAAmB,SACnB,EAAAM,KAAe,OACf,EAAAG,UAAyB,YACzB,EAAA5Y,QAAqB,UACzC,EAPA,GAAa,EAAAyQ,eAAAA,EASb,8BAIA,QAHoB,EAAAC,QAAqB,UACrB,EAAAqsB,SAAuB,WACvB,EAAA6B,YAA6B,cACjD,EAJA,GAAa,EAAA7C,YAAAA,EAMb,IAuLY8a,EANA92C,EANAsC,EALAkxC,EANA9H,EArBA5nB,EANAwxB,EALAhjB,EARA0D,EALAwG,EAPAmN,EALAx/B,EALA64B,EALA5e,EAPAsiB,EANAyD,EANAh1B,EAVAgD,EAVA/F,EALAsI,EANAX,EALA0X,EARAla,EALAkM,EALAmF,EANAF,EARAxE,EANZ,0BAGA,QAFoB,EAAAgY,QAAqB,UACrB,EAAA6C,UAAyB,YAC7C,EAHA,GAAa,EAAA9C,WAAAA,GAMD/X,EAAA,EAAAA,OAAA,EAAAA,KAAI,KACZ,iBACA,yBACA,qBACA,uBACA,sBAGQwE,EAAA,EAAAA,YAAA,EAAAA,UAAS,KACjB,mBACA,uBACA,sBAGQE,EAAA,EAAAA,4BAAA,EAAAA,0BAAyB,KACjC,uBACA,0BAGQnF,EAAA,EAAAA,WAAA,EAAAA,SAAQ,KAChB,qBACA,sBAGQlM,EAAA,EAAAA,WAAA,EAAAA,SAAQ,KAChB,mBACA,yBACA,uBACA,qBACA,gCAGQka,EAAA,EAAAA,aAAA,EAAAA,WAAU,KAClB,mCACA,0BAGQ1X,EAAA,EAAAA,aAAA,EAAAA,WAAU,KAClB,uBACA,yBACA,wBAGQW,EAAA,EAAAA,WAAA,EAAAA,SAAQ,KAChB,uBACA,8BAGQtI,EAAA,EAAAA,UAAA,EAAAA,QAAO,KACf,iBACA,qBACA,yBACA,uBACA,qBACA,+BACA,0BAGQ+F,EAAA,EAAAA,YAAA,EAAAA,UAAS,KACjB,uBACA,mBACA,qBACA,uBACA,mBACA,yBACA,8BAGQhD,EAAA,EAAAA,sBAAA,EAAAA,oBAAmB,KAC3B,iBACA,uBACA,sBAGQg1B,EAAA,EAAAA,oBAAA,EAAAA,kBAAiB,KACzB,eACA,uBACA,wBAGQzD,EAAA,EAAAA,kBAAA,EAAAA,gBAAe,KACvB,iBACA,uBACA,qBACA,0BAGQtiB,EAAA,EAAAA,aAAA,EAAAA,WAAU,KAClB,uBACA,wBAGQ4e,EAAA,EAAAA,qBAAA,EAAAA,mBAAkB,KAC1B,qBACA,sBAGQ74B,EAAA,EAAAA,cAAA,EAAAA,YAAW,KACnB,6BACA,4BAGQw/B,EAAA,EAAAA,WAAA,EAAAA,SAAQ,KAChB,mBACA,+CACA,2CACA,wBAGQnN,EAAA,EAAAA,sBAAA,EAAAA,oBAAmB,KAC3B,+BACA,gCAGQxG,EAAA,EAAAA,iBAAA,EAAAA,eAAc,KACtB,iBACA,iBACA,iBACA,qBACA,4BAGQ1D,EAAA,EAAAA,qBAAA,EAAAA,mBAAkB,KAC1B,qBACA,sBAGQgjB,EAAA,EAAAA,kBAAA,EAAAA,gBAAe,KACvB,mBACA,uBACA,gCAGQxxB,EAAA,EAAAA,kBAAA,EAAAA,gBAAe,KACvB,iBACA,mDACA,qDACA,+BACA,qDACA,yDACA,mDACA,yCACA,+CACA,uCACA,8CACA,gDACA,wDACA,kCACA,kDACA,sEACA,oFACA,uBAGQ4nB,EAAA,EAAAA,qBAAA,EAAAA,mBAAkB,KAC1B,yCACA,iCACA,kDAGQ8H,EAAA,EAAAA,gBAAA,EAAAA,cAAa,KACrB,+BACA,sCAGQlxC,EAAA,EAAAA,cAAA,EAAAA,YAAW,KACnB,yBACA,uBACA,8BAGQtC,EAAA,EAAAA,WAAA,EAAAA,SAAQ,KAChB,iBACA,yBACA,sBAGQ82C,EAAA,EAAAA,2BAAA,EAAAA,yBAAwB,KAChC,qCACA,+CACA,+BACA,0lBC7NJ,aAQA,gFACY,EAAAsK,cAAkD,CAAC,GAyE/D,QA1EsC,OAGxB,YAAAr/B,aAAV,WACI,MAAO,kBACX,EAEU,YAAAf,cAAV,SAAwBpQ,EAAaL,GAGjC,GAFA,YAAMyQ,cAAa,UAACpQ,EAAQL,GAExBK,EAEA,IAAK,IAAM,KAAQA,EAAQ,CACvB,IAAMywC,EAAczwC,EAAO,GAE3B,GAA2B,iBAAhBywC,EACP,GAAoB,MAAhBA,EACApjD,KAAKqjD,cAAc,EAAM,SACtB,CACH,IAAMz+C,EAAU,EAAA+vC,QAAQvvC,MAAMg+C,EAAa9wC,IAEvC1N,aAAO,EAAPA,EAASygB,UACTrlB,KAAKqjD,cAAc,EAAMz+C,IAMjD,EAEU,YAAAwe,eAAV,SAAyB5K,EAAqBlG,GAI1C,IAAK,IAAM+rC,KAHX,YAAMj7B,eAAc,UAAC5K,EAAQlG,GAGXtS,KAAKmjD,cACnB3qC,EAAO6lC,GAAOr+C,KAAKmjD,cAAc9E,EAEzC,EAEA,YAAAgF,cAAA,SAAcjrC,EAAcxT,GACxB5E,KAAKmjD,cAAc/qC,GAAQxT,CAC/B,EAEA,YAAA0+C,iBAAA,SAAiBlrC,UACNpY,KAAKmjD,cAAc/qC,EAC9B,EAEA,YAAAqvB,MAAA,WACIznC,KAAKmjD,cAAgB,CAAC,CAC1B,EAEA,YAAAI,cAAA,SAAcnrC,EAAcxT,GACxB,QAAI5E,KAAKmjD,cAAclL,eAAe7/B,KAClB,MAAZxT,GAAgD,MAA7B5E,KAAKmjD,cAAc/qC,IAInCxT,EAAQwqC,UAAmBpvC,KAAKmjD,cAAc/qC,KAAU,EAIvE,EAEA,YAAA2/B,UAAA,SAAUC,GACN,IAAK,IAAMwL,KAAkBxjD,KAAKmjD,cAC9B,IACKnL,EAAiBuL,cAAcC,EAAgBxjD,KAAKmjD,cAAcK,IAEnE,OAAO,EAIf,OAAO,CACX,EACJ,EA1EA,CAAsC,EAAAt/B,oBAAzB,EAAAk0B,iBAAAA,miCCRb,YACA,SACA,SACA,SAEA,SAASqL,EACLC,EACAziD,EACAmkB,GAEA,GAAqB,iBAAVnkB,EAAoB,CAC3B,IAAM0iD,EAAclgD,EAAMmgD,UAAUF,EAAYziD,EAAOmkB,GAEvD,YAAuBpkB,IAAhB2iD,EAA4BA,EAAcv+B,EAC9C,MAAqB,iBAAVnkB,EACPA,EAEAmkB,CAEf,CAEA,iBAII,WAAYy+B,EAAuBC,GAHnC,KAAA/zC,QAAkB,UAClB,KAAAC,OAAiB,UAGT6zC,IACA7jD,KAAK+P,QAAU8zC,GAGfC,IACA9jD,KAAKgQ,OAAS8zC,EAEtB,CAQJ,OANI,YAAA1+C,MAAA,SAAM2+C,GACEA,IACA/jD,KAAK+P,QAAUg0C,EAAa,SAAK/jD,KAAK+P,QACtC/P,KAAKgQ,OAAS+zC,EAAY,QAAK/jD,KAAKgQ,OAE5C,EACJ,EApBA,GAAa,EAAAg0C,gBAAAA,EAsBb,oFACa,EAAAhiC,gBAAkB,IAAIgiC,EAAgB,YAAa,cAShE,QAVyC,OAGrC,YAAA5+C,MAAA,SAAM2+C,GACF,YAAM3+C,MAAK,UAAC2+C,GAERA,GACA/jD,KAAKgiB,gBAAgB5c,MAAM2+C,EAAqB,gBAExD,EACJ,EAVA,CAAyCC,GAA5B,EAAAC,oBAAAA,EAYb,MAGI,SAAYF,GAFZ,KAAA5Z,kBAA4B,EAGpB4Z,IACA/jD,KAAKmqC,iBAAmB4Z,EAAsB,kBAAK/jD,KAAKmqC,iBAEhE,EAPS,EAAA+Z,mBAAAA,EAUb,iBAII,WAAYH,GAHZ,KAAAv5B,UAAwB1oB,EAAMmkB,KAAKvM,OACnC,KAAAqR,eAAyB,IAGjBg5B,IACA/jD,KAAKwqB,UAAgC,MAApBu5B,EAAe,UAAYA,EAAe,UAAI/jD,KAAKwqB,UACpExqB,KAAK+qB,eAAiBtnB,EAAM0gD,YAAYJ,EAAoB,eAAG,KAEvE,CAQJ,OANI,YAAAxrC,OAAA,WACI,MAAO,CACHiS,UAAW1oB,EAAMmkB,KAAKjmB,KAAKwqB,WAC3BO,eAAgB/qB,KAAK+qB,eAE7B,EACJ,EAjBA,GAAa,EAAAq5B,eAAAA,EAmBb,iBAII,WAAYL,GAFZ,KAAAzyB,qBAA+B,EAGvByyB,IACA/jD,KAAK6xB,cAAgBkyB,EAAmB,cACxC/jD,KAAKsxB,oBAAsByyB,EAAyB,qBAAK/jD,KAAKsxB,oBAEtE,CAQJ,OANI,YAAA/Y,OAAA,WACI,MAAO,CACHsZ,cAAe7xB,KAAK6xB,cACpBP,oBAAqBtxB,KAAKsxB,oBAElC,EACJ,EAjBA,GAAa,EAAA+yB,YAAAA,EAmBb,iBAGI,WAAYN,GAFZ,KAAAO,YAAsB,EAGdP,IACA/jD,KAAKskD,YACDP,EAAIO,aAA0C,iBAApBP,EAAIO,YACxBP,EAAIO,YACJtkD,KAAKskD,YAEvB,CAOJ,OALI,YAAA/rC,OAAA,WACI,MAAO,CACH+rC,YAAatkD,KAAKskD,YAE1B,EACJ,EAjBA,GAAa,EAAAC,YAAAA,EAmBb,iBAMI,WAAYR,GALZ,KAAA/oC,KAAuBlZ,EAAMwX,SAAS5G,QACtC,KAAAvM,MAAyBrE,EAAMoY,UAAUxH,QACzC,KAAAwI,UAAoB,EACpB,KAAAD,OAA2BnZ,EAAMga,WAAWpJ,QAGxC1S,KAAKoF,MAAM2+C,EACf,CA8BJ,OA5BI,YAAA3+C,MAAA,SAAM2+C,GACEA,IACA/jD,KAAKgb,KAAOyoC,EAAoB3hD,EAAMwX,SAAUyqC,EAAU,KAAG/jD,KAAKgb,MAClEhb,KAAKmG,MAAQs9C,EAAoB3hD,EAAMoY,UAAW6pC,EAAW,MAAG/jD,KAAKmG,OACrEnG,KAAKkb,cACgBla,IAAjB+iD,EAAI7oC,UAAkD,kBAAjB6oC,EAAI7oC,SACnC6oC,EAAI7oC,SACJlb,KAAKkb,SACflb,KAAKib,OAASwoC,EACV3hD,EAAMga,WACNioC,EAAY,OACZ/jD,KAAKwkD,oBAGjB,EAEA,YAAAA,iBAAA,WACI,OAAO1iD,EAAMga,WAAWpJ,OAC5B,EAEA,YAAA6F,OAAA,WACI,MAAO,CACHyC,KAAMlZ,EAAMwX,SAAStZ,KAAKgb,MAC1B7U,MAAOrE,EAAMoY,UAAUla,KAAKmG,OAC5B+U,SAAUlb,KAAKkb,SACfD,OAAQnZ,EAAMga,WAAW9b,KAAKib,QAEtC,EACJ,EAtCA,GAAa,EAAAwpC,mBAAAA,EAwCb,oFACI,EAAArrC,SAA2BtX,EAAM2a,SAAS/J,SAS9C,QAVyC,OAGrC,YAAAtN,MAAA,SAAM2+C,GACF,YAAM3+C,MAAK,UAAC2+C,GAERA,IACA/jD,KAAKoZ,SAAWqqC,EAAoB3hD,EAAM2a,SAAUsnC,EAAI3qC,SAAUpZ,KAAKoZ,UAE/E,EACJ,EAVA,CAAyCqrC,GAA5B,EAAAC,oBAAAA,EAYb,iBAUI,WAAYX,GATH,KAAAh0C,QAA+B,IAAI20C,EACnC,KAAAC,QAA+B,IAAID,EAAoB,CAC5D1pC,KAAM,QACNC,OAAQ,WAEH,KAAA2pC,aAAoC,IAAIF,EAAoB,CACjEzpC,OAAQ,WAIJ8oC,IACA/jD,KAAK2kD,QAAQv/C,MAAM2+C,EAAIY,SACvB3kD,KAAK4kD,aAAax/C,MAAM2+C,EAAIa,cAEpC,CAYJ,OAVI,YAAA5xC,eAAA,SAAeoF,GACX,OAAQA,EAAKoF,eACT,IAAK,UACD,OAAOxd,KAAK2kD,QAChB,IAAK,eACD,OAAO3kD,KAAK4kD,aAChB,QACI,OAAO5kD,KAAK+P,QAExB,EACJ,EA3BA,GAAa,EAAA80C,aAAAA,EA6Bb,MAGI,SAAYd,GACJA,IACA/jD,KAAKge,aAAeva,EAAM0gD,YAAYJ,EAAI/lC,cAElD,EAPS,EAAA8mC,gBAAAA,EAUb,oFACI,EAAA/vB,OAAkB,KAClB,EAAAC,YAA+BlzB,EAAMoY,UAAUU,WAsBnD,QAxBsD,OAIlD,YAAAxV,MAAA,SAAM2+C,GACF,YAAM3+C,MAAK,UAAC2+C,GAERA,IACA/jD,KAAK+0B,OAASgvB,EAAY,QAAK/jD,KAAK+0B,OACpC/0B,KAAKg1B,YAAcyuB,EACf3hD,EAAMoY,UACN6pC,EAAiB,YACjB/jD,KAAKg1B,aAGjB,EAEA,YAAAzc,OAAA,WACI,IAAMnF,EAAS,YAAMmF,OAAM,WAI3B,OAHAnF,EAAe,OAAIpT,KAAK+0B,OACxB3hB,EAAoB,YAAItR,EAAMoY,UAAUla,KAAKg1B,aAEtC5hB,CACX,EACJ,EAxBA,CAAsDqxC,GAAzC,EAAAM,iCAAAA,EA0Bb,MAOI,SAAYhB,GANZ,KAAA5uB,aAA8BrzB,EAAMqS,QAAQoF,MAC5C,KAAA/Q,MAAgB,GACP,KAAAqsB,eACL,IAAIkwB,EACC,KAAA9vB,eAAqC,IAAIwvB,EAG1CV,IACA/jD,KAAKm1B,aAAesuB,EAChB3hD,EAAMqS,QACN4vC,EAAkB,aAClB/jD,KAAKm1B,cAETn1B,KAAK60B,eAAiB,IAAIkwB,EAAiChB,EAAoB,gBAC/E/jD,KAAKi1B,eAAiB,IAAIwvB,EAAmBV,EAAoB,gBACjE/jD,KAAKwI,MACe,MAAhBu7C,EAAW,MAAYA,EAAW,MAAI/jD,KAAKwI,MAEvD,EAnBS,EAAAw8C,iBAAAA,EAsBb,MAMI,SAAYjB,GALH,KAAAz2B,MAA0B,IAAI03B,EAC9B,KAAA3uB,aAAmC,IAAIouB,EAAmB,CAC/Dt+C,MAAOrE,EAAMoY,UAAUU,YAInBmpC,IACA/jD,KAAKstB,MAAQ,IAAI03B,EAAiBjB,EAAW,OAC7C/jD,KAAKq2B,aAAe,IAAIouB,EAAmBV,EAAkB,cAErE,EAXS,EAAAkB,YAAAA,EAcb,oFACI,EAAA7+C,MAAgB,GAgBpB,QAjBwC,OAGpC,YAAAhB,MAAA,SAAM2+C,GACF,YAAM3+C,MAAK,UAAC2+C,GAERA,IACA/jD,KAAKoG,KAAsB,MAAf29C,EAAU,KAAYA,EAAU,KAAI/jD,KAAKoG,KAE7D,EAEA,YAAAmS,OAAA,WACI,IAAMnF,EAAS,YAAMmF,OAAM,WAG3B,OAFAnF,EAAa,KAAIpT,KAAKoG,KAEfgN,CACX,EACJ,EAjBA,CAAwCqxC,GAA3B,EAAAS,mBAAAA,EAmBb,kBAII,WAAYnB,GAAZ,MACI,YAAMA,IAAI,YAJd,EAAAp/B,SAAoB,IACpB,EAAA1J,OAA2BnZ,EAAMga,WAAWI,OAKpC6nC,IACA,EAAKp/B,SAA8B,MAAnBo/B,EAAc,SAAYA,EAAc,SAAI,EAAKp/B,SACjE,EAAK1J,OAASwoC,EACV3hD,EAAMga,WACNioC,EAAY,OACZjiD,EAAMga,WAAWI,UAG7B,CAKJ,OApByC,OAiBrC,YAAAsoC,iBAAA,WACI,OAAO1iD,EAAMga,WAAWI,MAC5B,EACJ,EApBA,CAAyCgpC,GAA5B,EAAAC,oBAAAA,EAsBb,MAKI,SAAYpB,GAJH,KAAAt9C,MAA6B,IAAI0+C,EACjC,KAAAlkD,MAA4B,IAAIikD,EACzC,KAAAp5C,QAAkB,GAGVi4C,IACA/jD,KAAKyG,MAAQ,IAAI0+C,EAAoBpB,EAAW,OAChD/jD,KAAKiB,MAAQ,IAAIikD,EAAmBnB,EAAW,OAC/C/jD,KAAK8L,QACDi4C,EAAIj4C,SAA0B,MAAfi4C,EAAIj4C,QAAkBi4C,EAAIj4C,SAAWi4C,EAAIj4C,QAAU9L,KAAK8L,QAEnF,EAZS,EAAAs5C,cAAAA,EAeb,iBAKI,WAAYrB,GAJZ,KAAAjf,WAAuChjC,EAAMijC,mBAAmBzQ,OAChE,KAAAqS,gBAA0B,GAC1B,KAAA3jC,MAAiBlB,EAAM2Q,eAAew3B,SAG9B8Z,IACA/jD,KAAK8kC,WAAa2e,EACd3hD,EAAMijC,mBACNgf,EAAgB,WAChBjiD,EAAMijC,mBAAmBzQ,QAE7Bt0B,KAAK2mC,gBACyB,MAA1Bod,EAAqB,gBAAYA,EAAqB,gBAAI/jD,KAAK2mC,gBACnE3mC,KAAKgD,MACD+gD,EAAW,OAA6B,iBAAjBA,EAAW,MAC5BA,EAAW,MACXjiD,EAAM2Q,eAAew3B,SAEvC,CASJ,OAPI,YAAA1xB,OAAA,WACI,MAAO,CACHusB,WAAYhjC,EAAMijC,mBAAmB/kC,KAAK8kC,YAC1C6B,gBAAiB3mC,KAAK2mC,gBACtB3jC,MAAOhD,KAAKgD,MAEpB,EACJ,EA5BA,GAAa,EAAAqiD,qBAAAA,EA8Bb,iBAYI,WAAYtB,GACR,GAZJ,KAAA9b,WAAqB,EACrB,KAAAn8B,QAAyBhK,EAAMqS,QAAQzB,QACvC,KAAA62B,cAAwB,GACf,KAAA1E,SAAiC,IAAIwgB,EAC9C,KAAA/c,+BAA0C,EAC1C,KAAAd,mBAAwC1lC,EAAMoK,YAAYC,WAC1D,KAAAq8B,gBAAyC1mC,EAAM2mC,gBAAgBtxB,KAC/D,KAAAmnB,cAA2Cx8B,EAAMy8B,oBAAoB+mB,YACrE,KAAA7mB,kBAA4B,EAC5B,KAAAE,SAAmB,GAGXolB,EAAK,CACL/jD,KAAKioC,WAAkC,MAArB8b,EAAgB,WAAYA,EAAgB,WAAI/jD,KAAKioC,WACvEjoC,KAAK8L,QAAU23C,EACX3hD,EAAMqS,QACN4vC,EAAIj4C,SAAWi4C,EAAIj4C,QACnBhK,EAAMqS,QAAQzB,SAElB1S,KAAKupC,cACuB,MAAxBwa,EAAmB,cAAYA,EAAmB,cAAI/jD,KAAKupC,cAC/DvpC,KAAK6kC,SAAW,IAAIwgB,EAAqBtB,EAAc,UACvD/jD,KAAKsoC,8BAAgC7kC,EAAMm/B,UACvCmhB,EAAmC,+BACnC,GAEJ/jD,KAAKwnC,mBAAqBic,EACtB3hD,EAAMoK,YACN63C,EAAwB,mBACxBjiD,EAAMoK,YAAYC,YAEtBnM,KAAKwoC,gBAAkBib,EACnB3hD,EAAM2mC,gBACNsb,EAAqB,gBACrBjiD,EAAM2mC,gBAAgBtxB,MAE1BnX,KAAKs+B,cAAgBmlB,EACjB3hD,EAAMy8B,oBACNwlB,EAAmB,cACnBjiD,EAAMy8B,oBAAoB+mB,aAE9BtlD,KAAKy+B,iBAC0B,MAA3BslB,EAAsB,iBAAYA,EAAsB,iBAAI/jD,KAAKy+B,iBAErE,IACI,IAAM8mB,EAAcC,EAAOlgC,YAAYlgB,MAAM2+C,EAAc,UAEvDwB,EAAYhgC,OAASzjB,EAAM0jB,SAASC,QACpCzlB,KAAK2+B,SAAW4mB,EAAY7/B,cAElC,MAAOtkB,KAIjB,CAaJ,OAXI,YAAAmX,OAAA,WACI,MAAO,CACH0vB,WAAYjoC,KAAKioC,WACjBn8B,QAAShK,EAAMqS,QAAQnU,KAAK8L,SAC5By9B,cAAevpC,KAAKupC,cACpB1E,SAAU7kC,KAAK6kC,SACfyD,8BAA+BtoC,KAAKsoC,8BACpCd,mBAAoB1lC,EAAMoK,YAAYlM,KAAKwnC,oBAC3CgB,gBAAiB1mC,EAAM2mC,gBAAgBzoC,KAAKwoC,iBAEpD,EACJ,EApEA,GAAa,EAAAid,cAAAA,EAsEb,iBAeI,WAAY1B,GARZ,KAAAh0C,QAA+B,IAAIk0C,EACnC,KAAA3pC,KAA4B,IAAI2pC,EAChC,KAAAzpC,MAA6B,IAAIypC,EACjC,KAAA7pC,OAA8B,IAAI6pC,EAClC,KAAAvpC,KAA4B,IAAIupC,EAChC,KAAAtpC,QAA+B,IAAIspC,EACnC,KAAAppC,UAAiC,IAAIopC,EAGjCjkD,KAAKoF,MAAM2+C,EACf,CAaJ,OA7BY,YAAA2B,iBAAR,SAAyB3B,EAAUhc,GAC3Bgc,GACO/jD,KAAM+nC,GAAsC3iC,MAAM2+C,EAAIhc,GAErE,EAcA,YAAA3iC,MAAA,SAAM2+C,GACEA,IACA/jD,KAAK0lD,iBAAiB3B,EAAK,WAC3B/jD,KAAK0lD,iBAAiB3B,EAAK,QAC3B/jD,KAAK0lD,iBAAiB3B,EAAK,SAC3B/jD,KAAK0lD,iBAAiB3B,EAAK,UAC3B/jD,KAAK0lD,iBAAiB3B,EAAK,QAC3B/jD,KAAK0lD,iBAAiB3B,EAAK,WAC3B/jD,KAAK0lD,iBAAiB3B,EAAK,aAEnC,EACJ,EA9BA,GAAa,EAAA4B,mBAAAA,EAgCb,iBA8BI,WAAY5B,GA3BH,KAAAj0C,iBAAuC,IAAI61C,EAAmB,CACnE,QAAW,CAAE51C,QAAS,UAAWC,OAAQ,aACzC,KAAQ,CAAED,QAAS,UAAWC,OAAQ,aACtC,MAAS,CAAED,QAAS,UAAWC,OAAQ,aACvC,OAAU,CAAED,QAAS,UAAWC,OAAQ,aACxC,KAAQ,CAAED,QAAS,UAAWC,OAAQ,aACtC,QAAW,CAAED,QAAS,UAAWC,OAAQ,aACzC,UAAa,CAAED,QAAS,UAAWC,OAAQ,eAqB3ChQ,KAAKoF,MAAM2+C,EACf,CAKJ,OApBI,YAAA3+C,MAAA,SAAM2+C,GACEA,IACA/jD,KAAK+hB,gBAAkBgiC,EAAqB,gBAE5C/jD,KAAK8P,iBAAiB1K,MAAM2+C,EAAsB,kBAElD/jD,KAAKof,yBAA2B2kC,EAA8B,yBAC9D/jD,KAAKqf,yBAA2B0kC,EAA8B,yBAE9D/jD,KAAK4lD,YAAc7B,EAAiB,YAE5C,EAMA,sBAAI,wBAAS,KAAb,WACI,OAAO,CACX,kCACJ,EArCA,GAAa,EAAA8B,yBAAAA,EAuCb,6EAIA,QAJ8C,OAC1C,sBAAI,wBAAS,KAAb,WACI,OAAO,CACX,kCACJ,EAJA,CAA8CA,GAc9C,aAGI,WAAY9B,GAQR,GAVI,KAAA+B,WAA0D,CAAC,EAG/D9lD,KAAK8lD,WAAWhkD,EAAM2Q,eAAeC,SAAW,IAAIqzC,EACpD/lD,KAAK8lD,WAAWhkD,EAAM2Q,eAAew3B,UAAY,IAAI8b,EACrD/lD,KAAK8lD,WAAWhkD,EAAM2Q,eAAe0H,QAAU,IAAI4rC,EACnD/lD,KAAK8lD,WAAWhkD,EAAM2Q,eAAegI,MAAQ,IAAIsrC,EACjD/lD,KAAK8lD,WAAWhkD,EAAM2Q,eAAemI,WAAa,IAAImrC,EACtD/lD,KAAK8lD,WAAWhkD,EAAM2Q,eAAezQ,SAAW,IAAI+jD,EAEhDhC,EAAK,CACL/jD,KAAK8lD,WAAWhkD,EAAM2Q,eAAeC,SAAStN,MAAM2+C,EAAIjiD,EAAM2Q,eAAeC,UAC7E1S,KAAK8lD,WAAWhkD,EAAM2Q,eAAew3B,UAAU7kC,MAC3C2+C,EAAIjiD,EAAM2Q,eAAew3B,WAE7BjqC,KAAK8lD,WAAWhkD,EAAM2Q,eAAe0H,QAAQ/U,MAAM2+C,EAAIjiD,EAAM2Q,eAAe0H,SAC5Ena,KAAK8lD,WAAWhkD,EAAM2Q,eAAegI,MAAMrV,MAAM2+C,EAAIjiD,EAAM2Q,eAAegI,OAC1Eza,KAAK8lD,WAAWhkD,EAAM2Q,eAAemI,WAAWxV,MAC5C2+C,EAAIjiD,EAAM2Q,eAAemI,YAE7B5a,KAAK8lD,WAAWhkD,EAAM2Q,eAAezQ,SAASoD,MAAM2+C,EAAIjiD,EAAM2Q,eAAezQ,UAE7E,IAAMgkD,EAAmBjC,EAAkB,aAE3C,GAAIiC,GAAoB9lC,MAAM8C,QAAQgjC,GAClC,IAA0B,UAAAA,EAAA,eAAkB,CAAvC,IAAMC,EAAW,KAClB,GAAIA,EAAa,CACb,IAAMC,EAAYD,EAAkB,KAEhCC,GAAkC,iBAAdA,IAChBlmD,KAAK8lD,WAAW7N,eAAeiO,GAC/BlmD,KAAK8lD,WAAWI,GAAW9gD,MAAM6gD,EAAmB,OAEpDjmD,KAAK8lD,WAAWI,GAAa,IAAIL,EAC7BI,EAAmB,UAQnD,CA4CJ,OA1CI,YAAA1tC,OAAA,sBACUytC,EAA0B,GAEhC1mB,OAAOC,KAAKv/B,KAAK8lD,YAAY90C,SAAQ,SAACqtC,GAC7B,EAAKyH,WAAWzH,GAAK8H,WACtBH,EAAiBtvC,KAAK,CAClB0B,KAAMimC,EACNr7C,MAAO,EAAK8iD,WAAWzH,IAGnC,IAEA,IAAMjrC,EAAc,CAChBrD,QAAS/P,KAAK+P,QACdq2C,SAAUpmD,KAAKomD,UAOnB,OAJIJ,EAAiBvhD,OAAS,IAC1B2O,EAAOizC,aAAeL,GAGnB5yC,CACX,EAEA,YAAAJ,eAAA,SACIoF,EACAgN,GAEA,OAAIhN,GAAQpY,KAAK8lD,WAAW7N,eAAe7/B,GAChCpY,KAAK8lD,WAAW1tC,GAEhBgN,GAA8BplB,KAAK8lD,WAAWhkD,EAAM2Q,eAAeC,QAElF,EAEA,sBAAI,sBAAO,KAAX,WACI,OAAO1S,KAAK8lD,WAAWhkD,EAAM2Q,eAAeC,QAChD,kCAEA,sBAAI,uBAAQ,KAAZ,WACI,OAAO1S,KAAK8lD,WAAWhkD,EAAM2Q,eAAew3B,SAChD,kCACJ,EAvFA,GAAa,EAAAqc,kBAAAA,EAuGb,iBAmBI,WAAY/qC,GAhBZ,KAAAA,WAAsB,8DAEtB,KAAA/B,UAAkC,CAC9BC,MAAO,GACP1J,QAAS,GACT4J,OAAQ,GACRE,MAAO,GACPE,WAAY,IAGhB,KAAAiC,YAAsC,CAClCC,QAAS,IACTlM,QAAS,IACToM,OAAQ,KAIJZ,IACAvb,KAAKub,WAAaA,EAE1B,CAiBJ,OAfI,YAAAnW,MAAA,SAAM2+C,GACF/jD,KAAKub,WAAawoC,EAAgB,YAAK/jD,KAAKub,WAC5Cvb,KAAKwZ,UAAY,CACbC,MAAQsqC,EAAIvqC,WAAauqC,EAAIvqC,UAAiB,OAAMxZ,KAAKwZ,UAAUC,MACnE1J,QAAUg0C,EAAIvqC,WAAauqC,EAAIvqC,UAAmB,SAAMxZ,KAAKwZ,UAAUzJ,QACvE4J,OAASoqC,EAAIvqC,WAAauqC,EAAIvqC,UAAkB,QAAMxZ,KAAKwZ,UAAUG,OACrEE,MAAQkqC,EAAIvqC,WAAauqC,EAAIvqC,UAAiB,OAAMxZ,KAAKwZ,UAAUK,MACnEE,WAAagqC,EAAIvqC,WAAauqC,EAAIvqC,UAAsB,YAAMxZ,KAAKwZ,UAAUO,YAEjF/Z,KAAKgc,YAAc,CACfC,QAAU8nC,EAAI/nC,aAAe+nC,EAAI/nC,YAAqB,SAAMhc,KAAKgc,YAAYC,QAC7ElM,QAAUg0C,EAAI/nC,aAAe+nC,EAAI/nC,YAAqB,SAAMhc,KAAKgc,YAAYjM,QAC7EoM,OAAS4nC,EAAI/nC,aAAe+nC,EAAI/nC,YAAoB,QAAMhc,KAAKgc,YAAYG,OAEnF,EAtCgB,EAAAoqC,UAAY,IAAIC,EAAmB,qCAuCvD,EAxCA,GAAa,EAAAA,mBAAAA,EA0Cb,iBAII,WAAYzC,GACR/jD,KAAK+P,QAAU,IAAIy2C,EACnBxmD,KAAKumD,UAAY,IAAIC,EAAmB,qCAEpCzC,IACA/jD,KAAK+P,QAAQ3K,MAAM2+C,EAAa,SAChC/jD,KAAKumD,UAAUnhD,MAAM2+C,EAAe,WAE5C,CAWJ,OATI,YAAA0C,mBAAA,SAAmBzjD,GACf,OAAQA,GACJ,KAAKlB,EAAM2a,SAASiqC,UAChB,OAAO1mD,KAAKumD,UAChB,KAAKzkD,EAAM2a,SAAS/J,QACpB,QACI,OAAO1S,KAAK+P,QAExB,EACJ,EAvBA,GAAa,EAAA42C,YAAAA,EAyBb,iBAII,WAAY5C,GAHZ,KAAAzI,iBAA2B,GAC3B,KAAAnC,iBAA2B,IAGnB4K,IACA/jD,KAAKs7C,iBAC0B,MAA3ByI,EAAsB,iBAAYA,EAAsB,iBAAI/jD,KAAKs7C,iBACrEt7C,KAAKm5C,iBAC0B,MAA3B4K,EAAsB,iBAAYA,EAAsB,iBAAI/jD,KAAKm5C,iBAE7E,CAQJ,OANI,YAAA5gC,OAAA,WACI,MAAO,CACH+iC,iBAAkBt7C,KAAKs7C,iBACvBnC,iBAAkBn5C,KAAKm5C,iBAE/B,EACJ,EAnBA,GAAa,EAAAyN,eAAAA,EAqBb,iBA6CI,WAAY7C,GA5CH,KAAA/L,iBAAmB,IAAI,EAAAI,iBAIhC,KAAAvc,6BAAuC,IACvC,KAAA3d,uBAAiC,EAIxB,KAAApS,QAAU,CACf2N,MAAO,EACP1J,QAAS,EACT4J,OAAQ,GACRE,MAAO,GACPE,WAAY,GACZ7J,QAAS,IAGJ,KAAAlE,UAAY,CACjBD,cAAe,EACfM,UAAW,WAGN,KAAAka,WAAa,CAClB9M,MAAO,GACPE,OAAQ,GACRE,MAAO,KAGF,KAAA9G,gBAAqC,IAAIuzC,EACzC,KAAA1xB,OAAsB,IAAIqwB,EAC1B,KAAA3+C,QAAyB,IAAIm/C,EAC7B,KAAA3R,aAAmC,IAAIoQ,EACvC,KAAAp5B,SAA2B,IAAIs5B,EAC/B,KAAA/yB,MAAqB,IAAIgzB,EACzB,KAAA5/B,QAAyB,IAAI2gC,EAC7B,KAAAyB,MAAqB,IAAItC,EACzB,KAAArxC,WAA2B,IAAI2xC,EAC/B,KAAA5mC,UAA6B,IAAI6mC,EACjC,KAAA5L,SAA2B,IAAI0N,EAGxC,KAAA3b,kBAA4B,EAGpB8Y,KACmB,iBAARA,GAAoBA,aAAe+C,UAC1C/C,EAAM95C,KAAK7E,MAAM2+C,IAGrB/jD,KAAK67B,6BACDkoB,GAAsD,iBAAxCA,EAAkC,6BAC1CA,EAAkC,6BAClC/jD,KAAK67B,6BACf77B,KAAKke,sBACD6lC,GAA+C,kBAAjCA,EAA2B,sBACnCA,EAA2B,sBAC3B/jD,KAAKke,sBAEfle,KAAK+mD,gBAAkB,IAAIP,EAC3BxmD,KAAK+mD,gBAAgB3hD,MAAM2+C,GAEvBA,EAAIiD,YACJhnD,KAAKgnD,UAAY,IAAIL,EAAY5C,EAAIiD,YAGrCjD,EAAIjjC,cACJ9gB,KAAK8gB,YAAc,CACfrH,MAAOsqC,EAAIjjC,YAAmB,MAC9B/Q,QAASg0C,EAAIjjC,YAAqB,QAClCnH,OAAQoqC,EAAIjjC,YAAoB,OAChCjH,MAAOkqC,EAAIjjC,YAAmB,MAC9B/G,WAAYgqC,EAAIjjC,YAAwB,aAIhD9gB,KAAKumB,WAAa,CACd9M,MAAQsqC,EAAIx9B,YAAcw9B,EAAIx9B,WAAkB,OAAMvmB,KAAKumB,WAAW9M,MACtEE,OAASoqC,EAAIx9B,YAAcw9B,EAAIx9B,WAAmB,QAAMvmB,KAAKumB,WAAW5M,OACxEE,MAAQkqC,EAAIx9B,YAAcw9B,EAAIx9B,WAAkB,OAAMvmB,KAAKumB,WAAW1M,OAG1E7Z,KAAK+S,gBAAkB,IAAIuzC,EAAkBvC,EAAqB,iBAClE/jD,KAAK8L,QAAU,CACX2N,MAAQsqC,EAAIj4C,SAAWi4C,EAAIj4C,QAAe,OAAM9L,KAAK8L,QAAQ2N,MAC7D1J,QAAUg0C,EAAIj4C,SAAWi4C,EAAIj4C,QAAiB,SAAM9L,KAAK8L,QAAQiE,QACjE4J,OAASoqC,EAAIj4C,SAAWi4C,EAAIj4C,QAAgB,QAAM9L,KAAK8L,QAAQ6N,OAC/DE,MAAQkqC,EAAIj4C,SAAWi4C,EAAIj4C,QAAe,OAAM9L,KAAK8L,QAAQ+N,MAC7DE,WAAagqC,EAAIj4C,SAAWi4C,EAAIj4C,QAAoB,YAAM9L,KAAK8L,QAAQiO,WACvE7J,QAAU6zC,EAAIj4C,SAAWi4C,EAAIj4C,QAAiB,SAAM9L,KAAK8L,QAAQoE,SAGrElQ,KAAKgM,UAAY,CACbD,cACKg4C,EAAI/3C,WAAa+3C,EAAI/3C,UAAyB,eAC/ChM,KAAKgM,UAAUD,cACnBM,UAAY03C,EAAI/3C,WAAa+3C,EAAI/3C,UAAqB,WAAMhM,KAAKgM,UAAUK,WAG/ErM,KAAK40B,OAAS,IAAIqwB,EAAYlB,EAAInvB,QAAU50B,KAAK40B,QACjD50B,KAAKsG,QAAU,IAAIm/C,EAAc1B,EAAIz9C,SAAWtG,KAAKsG,SACrDtG,KAAK8zC,aAAe,IAAIoQ,EAAmBH,EAAIjQ,cAAgB9zC,KAAK8zC,cACpE9zC,KAAK8qB,SAAW,IAAIs5B,EAAeL,EAAc,UACjD/jD,KAAKykB,QAAU,IAAI2gC,EAAcrB,EAAa,SAC9C/jD,KAAKkT,WAAa,IAAI2xC,EAAad,EAAgB,YACnD/jD,KAAKie,UAAY,IAAI6mC,EAAgBf,EAAe,WACpD/jD,KAAKk5C,SAAW,IAAI0N,EAAe7C,EAAc,UAEzD,CAyEJ,OAvEI,YAAA1oC,sBAAA,SAAsBrY,GAClB,OAAIhD,KAAKgnD,UACEhnD,KAAKgnD,UAAUP,mBAAmBzjD,GAElCA,IAAUlB,EAAM2a,SAASiqC,UAC1BF,EAAmBD,UACnBvmD,KAAK+mD,eAEnB,EAEA,YAAA/4C,oBAAA,SAAoBlC,GAChB,OAAQA,GACJ,KAAKhK,EAAMqS,QAAQoF,MACf,OAAOvZ,KAAK8L,QAAQ2N,MACxB,KAAK3X,EAAMqS,QAAQzB,QACf,OAAO1S,KAAK8L,QAAQiE,QACxB,KAAKjO,EAAMqS,QAAQuF,OACf,OAAO1Z,KAAK8L,QAAQ6N,OACxB,KAAK7X,EAAMqS,QAAQyF,MACf,OAAO5Z,KAAK8L,QAAQ+N,MACxB,KAAK/X,EAAMqS,QAAQ2F,WACf,OAAO9Z,KAAK8L,QAAQiO,WACxB,KAAKjY,EAAMqS,QAAQu2B,QACf,OAAO1qC,KAAK8L,QAAQoE,QACxB,QACI,OAAO,EAEnB,EAEA,YAAA3B,qCAAA,SACI04C,GAEA,OAAO,IAAIzB,EAAOn8B,kBACdrpB,KAAKgO,oBAAoBi5C,EAAkB/yC,KAC3ClU,KAAKgO,oBAAoBi5C,EAAkBx4C,OAC3CzO,KAAKgO,oBAAoBi5C,EAAkB5yC,QAC3CrU,KAAKgO,oBAAoBi5C,EAAkBx8C,MAEnD,EAEA,YAAAu0B,kBAAA,eAAkB,sDAGd,IAFA,IAAM5rB,EAAmB,GAED,MAAA8zC,EAAA,eAAY,CAA/B,IAAMnkD,EAAS,KAChBqQ,EAAOsD,MAAM1W,KAAKmnD,mBAAqBnnD,KAAKmnD,mBAAqB,IAAM,IAAMpkD,GAGjF,OAAOqQ,CACX,EAEA,YAAAnH,iBAAA,eAAiB,sDACb,IAAMmH,EAASpT,KAAKg/B,kBAAiB,MAAtBh/B,KAA0BknD,GAAYlzB,KAAK,KAE1D,OAAO5gB,GAAkB,EAC7B,EAEA,sBAAI,yBAAU,KAAd,WACI,OAAOpT,KAAK+mD,gBAAgBxrC,UAChC,MAEA,SAAeta,GACXjB,KAAK+mD,gBAAgBxrC,WAAata,CACtC,kCAEA,sBAAI,wBAAS,KAAb,WACI,OAAOjB,KAAK+mD,gBAAgBvtC,SAChC,kCAEA,sBAAI,0BAAW,KAAf,WACI,OAAOxZ,KAAK+mD,gBAAgB/qC,WAChC,kCACJ,EAtLA,GAAa,EAAAorC,WAAAA,EAyLA,EAAA/vC,kBAAgC,IAAI+vC,EAAW,CACxDlpC,uBAAuB,EACvBpS,QAAS,CACL2N,MAAO,GACP1J,QAAS,GACT4J,OAAQ,GACRE,MAAO,GACPE,WAAY,GACZ7J,QAAS,IAEblE,UAAW,CACPD,cAAe,EACfM,UAAW,WAEf26C,UAAW,CACPj3C,QAAS,CACLwL,WAAY,kDACZ/B,UAAW,CACPC,MAAO,GACP1J,QAAS,GACT4J,OAAQ,GACRE,MAAO,GACPE,WAAY,IAEhBiC,YAAa,CACTC,QAAS,IACTlM,QAAS,IACToM,OAAQ,MAGhBoqC,UAAW,CACPhrC,WAAY,oCACZ/B,UAAW,CACPC,MAAO,GACP1J,QAAS,GACT4J,OAAQ,GACRE,MAAO,GACPE,WAAY,IAEhBiC,YAAa,CACTC,QAAS,IACTlM,QAAS,IACToM,OAAQ,OAIpBoK,WAAY,CACR9M,MAAO,GACPE,OAAQ,GACRE,MAAO,KAEX9G,gBAAiB,CACbhD,QAAS,CACLgS,gBAAiB,UACjBjS,iBAAkB,CACdC,QAAS,CACLA,QAAS,UACTC,OAAQ,aAEZsK,KAAM,CACFvK,QAAS,UACTC,OAAQ,aAEZwK,MAAO,CACHzK,QAAS,UACTC,OAAQ,aAEZoK,OAAQ,CACJrK,QAAS,UACTC,OAAQ,aAEZ6K,UAAW,CACP9K,QAAS,UACTC,OAAQ,aAEZ0K,KAAM,CACF3K,QAAS,UACTC,OAAQ,aAEZ2K,QAAS,CACL5K,QAAS,UACTC,OAAQ,eAIpBo2C,SAAU,CACNrkC,gBAAiB,YACjBjS,iBAAkB,CACdC,QAAS,CACLA,QAAS,UACTC,OAAQ,aAEZsK,KAAM,CACFvK,QAAS,UACTC,OAAQ,aAEZwK,MAAO,CACHzK,QAAS,UACTC,OAAQ,aAEZoK,OAAQ,CACJrK,QAAS,UACTC,OAAQ,aAEZ6K,UAAW,CACP9K,QAAS,UACTC,OAAQ,aAEZ0K,KAAM,CACF3K,QAAS,UACTC,OAAQ,aAEZ2K,QAAS,CACL5K,QAAS,UACTC,OAAQ,eAIpBoK,OAAQ,CACJ2H,gBAAiB,UACjBjS,iBAAkB,CACdC,QAAS,CACLA,QAAS,UACTC,OAAQ,aAEZsK,KAAM,CACFvK,QAAS,UACTC,OAAQ,aAEZwK,MAAO,CACHzK,QAAS,UACTC,OAAQ,aAEZoK,OAAQ,CACJrK,QAAS,UACTC,OAAQ,aAEZ6K,UAAW,CACP9K,QAAS,UACTC,OAAQ,aAEZ0K,KAAM,CACF3K,QAAS,UACTC,OAAQ,aAEZ2K,QAAS,CACL5K,QAAS,UACTC,OAAQ,eAIpB0K,KAAM,CACFqH,gBAAiB,UACjBjS,iBAAkB,CACdC,QAAS,CACLA,QAAS,UACTC,OAAQ,aAEZsK,KAAM,CACFvK,QAAS,UACTC,OAAQ,aAEZwK,MAAO,CACHzK,QAAS,UACTC,OAAQ,aAEZoK,OAAQ,CACJrK,QAAS,UACTC,OAAQ,aAEZ6K,UAAW,CACP9K,QAAS,UACTC,OAAQ,aAEZ0K,KAAM,CACF3K,QAAS,UACTC,OAAQ,aAEZ2K,QAAS,CACL5K,QAAS,UACTC,OAAQ,eAIpB6K,UAAW,CACPkH,gBAAiB,UACjBjS,iBAAkB,CACdC,QAAS,CACLA,QAAS,UACTC,OAAQ,aAEZsK,KAAM,CACFvK,QAAS,UACTC,OAAQ,aAEZwK,MAAO,CACHzK,QAAS,UACTC,OAAQ,aAEZoK,OAAQ,CACJrK,QAAS,UACTC,OAAQ,aAEZ6K,UAAW,CACP9K,QAAS,UACTC,OAAQ,aAEZ0K,KAAM,CACF3K,QAAS,UACTC,OAAQ,aAEZ2K,QAAS,CACL5K,QAAS,UACTC,OAAQ,eAIpB2K,QAAS,CACLoH,gBAAiB,UACjBjS,iBAAkB,CACdC,QAAS,CACLA,QAAS,UACTC,OAAQ,aAEZsK,KAAM,CACFvK,QAAS,UACTC,OAAQ,aAEZwK,MAAO,CACHzK,QAAS,UACTC,OAAQ,aAEZoK,OAAQ,CACJrK,QAAS,UACTC,OAAQ,aAEZ6K,UAAW,CACP9K,QAAS,UACTC,OAAQ,aAEZ0K,KAAM,CACF3K,QAAS,UACTC,OAAQ,aAEZ2K,QAAS,CACL5K,QAAS,UACTC,OAAQ,gBAKxB4kB,OAAQ,CACJtH,MAAO,CACHuH,eAAgB,CACZ5Z,OAAQnZ,EAAMga,WAAWI,OACzB6Y,OAAQ,KACRC,YAAalzB,EAAMoY,UAAUU,WAEjCqa,eAAgB,CACZha,OAAQnZ,EAAMga,WAAWI,SAGjCma,aAAc,CACVlwB,MAAOrE,EAAMoY,UAAUU,UACvBK,OAAQnZ,EAAMga,WAAWI,SAGjC5V,QAAS,CACL2hC,WAAY,EACZn8B,QAAShK,EAAMqS,QAAQzB,QACvB62B,cAAe,GACf1E,SAAU,CACNC,WAAYhjC,EAAMijC,mBAAmBzQ,OACrCqS,gBAAiB,IAErBa,mBAAoB1lC,EAAMoK,YAAYC,WACtCq8B,gBAAiB1mC,EAAM2mC,gBAAgBtxB,MAE3C28B,aAAc,CACV3J,kBAAkB,GAEtBrf,SAAU,CACNN,UAAW1oB,EAAMmkB,KAAKvM,OACtBqR,eAAgB,KAEpBtG,QAAS,CACLhe,MAAO,CACHN,MAAOrE,EAAMoY,UAAUxH,QACvBsI,KAAMlZ,EAAMwX,SAAS5G,QACrBwI,UAAU,EACVD,OAAQnZ,EAAMga,WAAWI,OACzB9V,MAAM,EACNue,SAAU,KAEd1jB,MAAO,CACHkF,MAAOrE,EAAMoY,UAAUxH,QACvBsI,KAAMlZ,EAAMwX,SAAS5G,QACrBwI,UAAU,EACVD,OAAQnZ,EAAMga,WAAWpJ,QACzBtM,MAAM,GAEV0F,QAAS,IAEbotC,SAAU,CACNoC,iBAAkB,GAClB+L,oBAAqB,oHC5qC7B,aAQA,0BACY,KAAArhB,OAAuD,CAAC,CA+DpE,QA7DI,YAAAxzB,WAAA,SAAWk9B,GACP,OAAO1vC,KAAKgmC,OAAOiS,eAAevI,GAAY1vC,KAAKgmC,OAAO0J,QAAY1uC,CAC1E,EAEA,YAAAymC,MAAA,WACIznC,KAAKgmC,OAAS,CAAC,CACnB,EAEA,YAAAshB,OAAA,SAAO9uC,GAGH,IAFA,IAEkB,MAFL8mB,OAAOC,KAAKv/B,KAAKgmC,QAEZ,eAAM,CAAnB,IAAMqY,EAAG,KACJkJ,EAAmBvnD,KAAKgmC,OAAOqY,GAErC7lC,EAAOu+B,SACHwQ,EAAiB7X,SACjB6X,EAAiBC,WACjBD,EAAiBE,eAG7B,EAEA,YAAA1Q,SAAA,SACIrH,EACA8X,EACAC,QAAA,IAAAA,IAAAA,EAAyB,EAAAniD,SAASqS,MAElC,IAAI+vC,EAAmB1nD,KAAKwS,WAAWk9B,QAEd1uC,IAArB0mD,EACAA,EAAiBF,WAAaA,EAE9BE,EAAmB,CACfhY,SAAUA,EACV8X,WAAYA,EACZC,cAAeA,GAIvBznD,KAAKgmC,OAAO0J,GAAYgY,CAC5B,EAEA,YAAAC,WAAA,SAAWjY,UACA1vC,KAAKgmC,OAAO0J,EACvB,EAEA,YAAAwG,eAAA,SAAexG,EAAkBv3B,GAC7B,IAAMuvC,EAAmB1nD,KAAKwS,WAAWk9B,GAEzC,OAAOgY,GAAoBA,EAAiBD,cAAcrY,UAAUj3B,IAAkB,EAChF,IAAIuvC,EAAiBF,gBACrBxmD,CACV,EAEA,YAAA0oB,aAAA,WACI,OAAO4V,OAAOC,KAAKv/B,KAAKgmC,QAAQvhC,MACpC,EAEA,YAAAklB,UAAA,SAAUnV,GAAV,WACI,OAAO8qB,OAAOC,KAAKv/B,KAAKgmC,QAAQ4hB,KAAI,SAACxmD,GAAM,SAAK4kC,OAAO5kC,EAAZ,IAAgBoT,EAC/D,EACJ,EAhEA,GAAa,EAAAqzC,mBAAAA,EAmEb,8BAwCA,QApCW,EAAAC,4BAAP,SAAmCC,GAC/BA,EAAStgB,QAETgP,EAAeK,gBAAgBwQ,OAAOS,EAC1C,EAEO,EAAAC,2BAAP,SAAkCD,GAC9BA,EAAStgB,QAETgP,EAAeO,eAAesQ,OAAOS,EACzC,EAIA,sBAAW,aAAQ,KAAnB,WAMI,OALKtR,EAAewR,YAChBxR,EAAewR,UAAY,IAAIJ,EAC/BpR,EAAeqR,4BAA4BrR,EAAewR,YAGvDxR,EAAewR,SAC1B,kCAEA,sBAAW,YAAO,KAAlB,WAMI,OALKxR,EAAexR,WAChBwR,EAAexR,SAAW,IAAI4iB,EAC9BpR,EAAeuR,2BAA2BvR,EAAexR,WAGtDwR,EAAexR,QAC1B,kCAEO,EAAAijB,MAAP,WACIzR,EAAewR,eAAYjnD,EAC3By1C,EAAexR,cAAWjkC,CAC9B,EAvBgB,EAAA81C,gBAAkB,IAAI+Q,EACtB,EAAA7Q,eAAiB,IAAI6Q,EAuBzC,EAxCA,GAAa,EAAApR,eAAAA,o5BC5Eb,aACA,SACA,QACA,SASA,aAOI,WAAYhD,EAAmBC,EAAmBpmB,QAAtC,IAAAmmB,IAAAA,EAAA,QAAmB,IAAAC,IAAAA,EAAA,GAHvB,KAAAyU,UAAoB,EAIxBnoD,KAAKooD,OAAS3U,EACdzzC,KAAKqoD,OAAS3U,EACd1zC,KAAKsoD,OAASh7B,CAClB,CAwEJ,OAtEW,EAAAloB,MAAP,SAAamjD,EAAuBj2C,GAChC,GAAKi2C,EAAL,CAIA,IAAMn1C,EAAS,IAAIuhC,EACnBvhC,EAAOo1C,eAAiBD,EAExB,IACMh5B,EADQ,gBACQ2B,KAAKq3B,GAiB3B,OAfe,MAAXh5B,GAAsC,IAAnBA,EAAQ9qB,QAC3B2O,EAAOg1C,OAASj7B,SAASoC,EAAQ,IACjCnc,EAAOi1C,OAASl7B,SAASoC,EAAQ,KAEjCnc,EAAO+0C,UAAW,EAGjB/0C,EAAO+0C,UACR71C,EAAQsT,mBACJ5kB,EACAc,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOg0C,qBAAqBr1C,EAAOo1C,iBAI5Cp1C,EACX,EAEA,YAAAvF,SAAA,WACI,OAAQ7N,KAAKmoD,SAAiCnoD,KAAKooD,OAAS,IAAMpoD,KAAKqoD,OAA/CroD,KAAKwoD,cACjC,EAEA,YAAAjwC,OAAA,WACI,OAAOvY,KAAK6N,UAChB,EAEA,YAAAuhC,UAAA,SAAUsZ,GACN,IAAK1oD,KAAKqlB,UAAYqjC,EAAarjC,QAC/B,MAAM,IAAIljB,MAAM,mCAGpB,OAAInC,KAAKyzC,MAAQiV,EAAajV,MACnB,EACAzzC,KAAKyzC,MAAQiV,EAAajV,OACzB,EACDzzC,KAAK0zC,MAAQgV,EAAahV,MAC1B,EACA1zC,KAAK0zC,MAAQgV,EAAahV,OACzB,EAGL,CACX,EAEA,sBAAI,oBAAK,KAAT,WACI,OAAO1zC,KAAKsoD,OAAStoD,KAAKsoD,OAAStoD,KAAK6N,UAC5C,kCAEA,sBAAI,oBAAK,KAAT,WACI,OAAO7N,KAAKooD,MAChB,kCAEA,sBAAI,oBAAK,KAAT,WACI,OAAOpoD,KAAKqoD,MAChB,kCAEA,sBAAI,sBAAO,KAAX,WACI,OAAOroD,KAAKmoD,QAChB,kCACJ,EAnFA,GAAa,EAAAxT,QAAAA,EAwFb,8BAmCA,QArBW,EAAAgU,uBAAP,WACI,IAAMC,EAAYtjD,EACZujD,EAAwB,GAE9B,IAAK,IAAM9gB,KAAgB6gB,EACvB,GAAI7gB,EAAa+gB,MAAM,cAEnB,IACI,IAAMpR,EAAgBkR,EAAK7gB,GAEvB2P,aAAyB/C,GACzBkU,EAAWnyC,KAAKghC,GAEtB,UAMV,OAAOmR,EAAWE,MAAK,SAACC,EAAaC,GAAgB,OAAAD,EAAG5Z,UAAU6Z,EAAb,GACzD,EAhCgB,EAAAtxC,KAAO,IAAIg9B,EAAQ,EAAG,GACtB,EAAAn9B,KAAO,IAAIm9B,EAAQ,EAAG,GACtB,EAAApvC,KAAO,IAAIovC,EAAQ,EAAG,GACtB,EAAAtyB,KAAO,IAAIsyB,EAAQ,EAAG,GACtB,EAAA1S,KAAO,IAAI0S,EAAQ,EAAG,GACtB,EAAAtzB,KAAO,IAAIszB,EAAQ,EAAG,GAGtB,EAAAjsB,KAAO,IAAIisB,EAAQ,EAAG,EAAG,eACzB,EAAAC,OAAStvC,EAAS+b,KAwBtC,EAnCA,GAAa,EAAA/b,SAAAA,EAqCb,gCACIV,EACAuT,GAEA,QAAIvT,aAAmB+vC,MACfx8B,aAAyBw8B,IAClBx8B,EAAci3B,UAAUxqC,IAAY,CASvD,EAEA,iBAMI,WAAYuT,QAAA,IAAAA,IAAAA,EAAyB7S,EAASsvC,QALtC,KAAAsU,kBAAwC,GAM5ClpD,KAAKmY,cAAgBA,CACzB,CA0LJ,OAxLY,YAAAgxC,iBAAR,SAAyBloD,GACrB,MAAqB,iBAAVA,GACAA,EAAMmoD,WAAW,KAIhC,EAEQ,YAAAC,eAAR,SAAuB7wC,EAAgCuvB,GAC9C,EAAAtmC,eAAe6nD,gCACT9wC,EAAOuvB,EAEtB,EAEQ,YAAAwhB,sBAAR,SAA8B/wC,EAAgCuvB,GACrD,EAAAtmC,eAAe6nD,yBAA4BtpD,KAAKmpD,iBAAiB3wC,EAAOuvB,YAClEvvB,EAAOuvB,EAEtB,EAEA,YAAAtvB,eAAA,SACID,EACAuvB,EACA2P,EACAtyB,EACAokC,QADA,IAAApkC,IAAAA,OAAA,QACA,IAAAokC,IAAAA,GAAA,GAGI9R,QAGK,EAAAj2C,eAAe6nD,0BAA2BE,UACpChxC,EAAOuvB,GAEX2P,IAAkBtyB,EACpB,EAAA3jB,eAAe6nD,0BAA2BE,GAA+BxpD,KAAKmpD,iBAAiB3wC,EAAOuvB,YAChGvvB,EAAOuvB,GAGlBvvB,EAAOuvB,GAAgB2P,CAE/B,EAEA,YAAA+R,gBAAA,SACIjxC,EACAuvB,EACA2P,EACAtyB,GAGIsyB,QAGA13C,KAAKqpD,eAAe7wC,EAAQuvB,GACrB2P,IAAkBtyB,EACzBplB,KAAKupD,sBAAsB/wC,EAAQuvB,GAEnCvvB,EAAOuvB,GAAgB2P,CAE/B,EAEA,YAAAgS,cAAA,SACIlxC,EACAuvB,EACA2P,EACAtyB,GAGIsyB,QAGA13C,KAAKqpD,eAAe7wC,EAAQuvB,GACrB2P,IAAkBtyB,EACzBplB,KAAKupD,sBAAsB/wC,EAAQuvB,GAEnCvvB,EAAOuvB,GAAgB2P,CAE/B,EAEA,YAAAhgB,gBAAA,SACIlf,EACAuvB,EACA2P,EACAtyB,GAGIsyB,SAEA1xB,MAAM0xB,GAEN13C,KAAKqpD,eAAe7wC,EAAQuvB,GACrB2P,IAAkBtyB,EACzBplB,KAAKupD,sBAAsB/wC,EAAQuvB,GAEnCvvB,EAAOuvB,GAAgB2P,CAE/B,EAEA,YAAAiS,cAAA,SACIC,EACApxC,EACAuvB,EACA2P,EACAtyB,QAAA,IAAAA,IAAAA,OAAA,GAGIsyB,QAGA13C,KAAKqpD,eAAe7wC,EAAQuvB,GACrB2P,IAAkBtyB,EACzBplB,KAAKupD,sBAAsB/wC,EAAQuvB,GAEnCvvB,EAAOuvB,GAAgB6hB,EAASlS,EAExC,EAEA,YAAA7U,eAAA,SACIrqB,EACAuvB,EACA2P,GAEA,IAAM7R,EAAQ,GAEd,GAAI6R,EACA,IAAmB,UAAAA,EAAA,eAAe,CAA7B,IACGmS,EADGhgC,EAAI,UAWY7oB,KAPnB6oD,EADAhgC,aAAgB3F,EACC2F,EAAKtR,OAAOvY,MACtB6pB,EAAKtR,OACKsR,EAAKtR,SAELsR,IAIjBgc,EAAMnvB,KAAKmzC,GAKF,IAAjBhkB,EAAMphC,OACF+T,EAAOy/B,eAAelQ,IAAiB7nB,MAAM8C,QAAQxK,EAAOuvB,YACrDvvB,EAAOuvB,GAGlB/nC,KAAKyY,eAAeD,EAAQuvB,EAAclC,EAElD,EAEA,YAAAikB,YAAA,WACI9pD,KAAKkpD,kBAAoB,EAC7B,EAEA,YAAA3nD,SAAA,SACIoR,EACAykC,EACAhmB,EACAhxB,GAEAJ,KAAKkpD,kBAAkBxyC,KAAK,CACxB/D,OAAQA,EACRykC,MAAOA,EACPhmB,MAAOA,EACPhxB,QAASA,GAEjB,EAEA,YAAAwlB,cAAA,SACIjT,EACAye,EACAhxB,GAEAJ,KAAKuB,SAASoR,EAAQ7Q,EAAMu1C,gBAAgB0S,MAAO34B,EAAOhxB,EAC9D,EAEA,YAAA4pD,WAAA,SAAWx1C,GACP,OAAOxU,KAAKkpD,kBAAkB10C,EAClC,EAEA,sBAAI,yBAAU,KAAd,WACI,OAAOxU,KAAKkpD,kBAAkBzkD,MAClC,kCACJ,EAlMA,GAAsB,EAAAoyC,yBAAAA,EAoMtB,6EAAmE,QAA1B,OAA0B,EAAnE,CAAyCA,GAEzC,aA4BI,WACa1+B,EACAC,EACAgN,EACA4kB,GAHA,KAAA7xB,cAAAA,EACA,KAAAC,KAAAA,EACA,KAAAgN,aAAAA,EACA,KAAA4kB,kBAAAA,EANb,KAAAigB,wBAAkC,EAQ9BjqD,KAAKkqD,iBAAmBxxC,EAAmByxC,kBAE3CzxC,EAAmByxC,mBACvB,CACJ,OAnCI,YAAAjlC,gBAAA,WACI,OAAOllB,KAAKoY,IAChB,EAEA,YAAAhT,MAAA,SACIU,EACA6M,EACAL,GAEA,OAAOK,EAAO3S,KAAKoY,KACvB,EAEA,YAAAG,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQmG,eAAeD,EAAQxY,KAAKoY,KAAMnX,EAAOjB,KAAKolB,aAC1D,EArBe,EAAA+kC,kBAA4B,EAqC/C,EAtCA,GAAa,EAAAzxC,mBAAAA,EAwCb,kBAyCI,WACaP,EACAC,EACAgyC,EACAC,EACAjlC,EACA4kB,QAHA,IAAAogB,IAAAA,GAAA,GAHb,MAQI,YAAMjyC,EAAeC,EAAMgN,EAAc4kB,IAAkB,YAPlD,EAAA7xB,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAgyC,sBAAAA,EACA,EAAAC,MAAAA,EACA,EAAAjlC,aAAAA,EACA,EAAA4kB,kBAAAA,GAGb,CACJ,OAnDoC,OAChC,YAAA5kC,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAMqxC,EAAclgD,EAAMu/B,YAAYrwB,EAAO3S,KAAKoY,MAAOpY,KAAKolB,cAI9D,QAFoBpkB,IAAhB2iD,GAA8C,KAAhBA,GAAsB3jD,KAAKoqD,4BAE1BppD,IAAfhB,KAAKqqD,OACLrqD,KAAKqqD,MAAMn5B,KAAKyyB,GAapC,OAAOA,EAVCrxC,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOsR,qBAAqB49B,EAAa3jD,KAAKoY,MAQtE,EAEA,YAAAG,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQm3C,gBACJjxC,EACAxY,KAAKoY,KACK,KAAVnX,GAAgBjB,KAAKoqD,2BAAwBppD,EAAYC,EACzDjB,KAAKolB,aAEb,EAYJ,EAnDA,CAAoC1M,GAAvB,EAAAnB,eAAAA,EAqDb,kBAkBI,WACaY,EACAC,EACAgN,EACA4kB,GAJb,MAMI,YAAM7xB,EAAeC,EAAMgN,EAAc4kB,IAAkB,YALlD,EAAA7xB,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAgN,aAAAA,EACA,EAAA4kB,kBAAAA,GAGb,CACJ,OA1BkC,OAC9B,YAAA5kC,MAAA,SACIU,EACA6M,EACAL,GAEA,OAAO7O,EAAMm/B,UAAUjwB,EAAO3S,KAAKoY,MAAOpY,KAAKolB,aACnD,EAEA,YAAA7M,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQo3C,cAAclxC,EAAQxY,KAAKoY,KAAMnX,EAAOjB,KAAKolB,aACzD,EAUJ,EA1BA,CAAkC1M,GAArB,EAAAjB,aAAAA,EA4Bb,kBAkBI,WACaU,EACAC,EACAgN,EACA4kB,GAJb,MAMI,YAAM7xB,EAAeC,EAAMgN,EAAc4kB,IAAkB,YALlD,EAAA7xB,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAgN,aAAAA,EACA,EAAA4kB,kBAAAA,GAGb,CACJ,OA1BiC,OAC7B,YAAA5kC,MAAA,SACIU,EACA6M,EACAL,GAEA,OAAO7O,EAAM0gD,YAAYxxC,EAAO3S,KAAKoY,MAAOpY,KAAKolB,aACrD,EAEA,YAAA7M,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQolB,gBAAgBlf,EAAQxY,KAAKoY,KAAMnX,EAAOjB,KAAKolB,aAC3D,EAUJ,EA1BA,CAAiC1M,GAApB,EAAAyI,YAAAA,EA4Bb,6EAgDA,QAhDuC,OACnC,YAAA/b,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAIc,OAA6BpS,EAC3BC,EAAQ0R,EAAO3S,KAAKoY,MAE1B,GAAqB,iBAAVnX,EAAoB,CAC3B,IAAIokB,GAAU,EAEd,IACI,IAAMrK,EAAO,EAAAsK,YAAYlgB,MAAMnE,GAAO,GAElC+Z,EAAKuK,OAASzjB,EAAM0jB,SAASC,QAC7BrS,EAAS4H,EAAK0K,aAEdL,GAAU,GAEhB,UAIGA,GACD/S,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOsR,qBAAqBpT,EAAO3S,KAAKoY,MAAOpY,KAAKoY,OAKxE,OAAOhF,CACX,EAEA,YAAAmF,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQmG,eACJD,EACAxY,KAAKoY,KACY,iBAAVnX,GAAuB+kB,MAAM/kB,QAAwBD,EAAfC,EAAQ,KAE7D,EACJ,EAhDA,CAAuCyX,GAA1B,EAAA0yB,kBAAAA,EAuDb,kBAwCI,WACajzB,EACAC,EACAgN,EACA4kB,GAJb,MAMI,YAAM7xB,EAAeC,EAAMgN,EAAc4kB,IAAkB,YALlD,EAAA7xB,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAgN,aAAAA,EACA,EAAA4kB,kBAAAA,GAGb,CACJ,OAhDyC,OACrC,YAAA5kC,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAM6S,EAAcxS,EAAO3S,KAAKoY,MAEhC,QAAoBpX,IAAhBmkB,IAA8BjF,MAAM8C,QAAQmC,GAC5C,OAAOnlB,KAAKolB,aAKhB,IAFA,IAAMhS,EAAmB,GAEL,MAAA+R,EAAA,eAAa,CAA5B,IAAMlkB,EAAK,KACS,iBAAVA,EACPmS,EAAOsD,KAAKzV,GAEZqR,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,wBAAwB7b,KAAKiB,UACzBjK,GACH,qBAAqBA,EAAK,kBAAkBjB,KAAKoY,KAAI,MAKlE,OAAOhF,CACX,EAEA,YAAAmF,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQuwB,eAAerqB,EAAQxY,KAAKoY,KAAMnX,EAC9C,EAUJ,EAhDA,CAAyCyX,GAA5B,EAAAy5B,oBAAAA,EAkDb,kBAyGI,WACah6B,EACAC,EACAkyC,EACAllC,EACA4kB,GALb,MAOI,YAAM7xB,EAAeC,EAAMgN,EAAc4kB,IAAkB,YANlD,EAAA7xB,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAkyC,OAAAA,EACA,EAAAllC,aAAAA,EACA,EAAA4kB,kBAAAA,GAGb,CACJ,OAlHsC,OAClC,YAAArkB,aAAA,SAAa1kB,EAAeqR,GACxB,IAA6B,UAAAtS,KAAKsqD,OAAL,eAAa,CAArC,IAAMC,EAAc,KACrB,GAAItpD,EAAMuc,gBAAkB+sC,EAAetpD,MAAMuc,cAK7C,OAJsB+sC,EAAepyC,cAC/BoyC,EAAepyC,cACfnY,KAAKmY,eAEUi3B,UAAU98B,EAAQ6F,gBAAkB,EAIjE,OAAO,CACX,EAEA,YAAA/S,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAM6S,EAAcxS,EAAO3S,KAAKoY,MAEhC,QAAoBpX,IAAhBmkB,EACA,OAAOnlB,KAAKolB,aAGhB,GAA2B,iBAAhBD,EACP,IAA6B,UAAAnlB,KAAKsqD,OAAL,eAAa,CAArC,IAAMC,EAAc,KACrB,GAAIplC,EAAY3H,gBAAkB+sC,EAAetpD,MAAMuc,cAAe,CAClE,IAAMrF,EAAgBoyC,EAAepyC,cAC/BoyC,EAAepyC,cACfnY,KAAKmY,cAEX,OAAIA,EAAci3B,UAAU98B,EAAQ6F,gBAAkB,EAC3CoyC,EAAetpD,OAEtBqR,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAO+1C,0BACXrlC,EACAnlB,KAAKoY,KACLD,EAActK,WACdyE,EAAQ6F,cAActK,aAIvB7N,KAAKolB,eAY5B,OANA9S,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOsR,qBAAqBZ,EAAanlB,KAAKoY,OAGnDpY,KAAKolB,YAChB,EAEA,YAAA7M,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEA,IAAIm4C,GAAe,EAEnB,QAAczpD,IAAVC,EAAqB,CACrBwpD,GAAe,EAEf,IAA6B,UAAAzqD,KAAKsqD,OAAL,eAAa,CAArC,IAAMC,EAAc,KACrB,GAAIA,EAAetpD,QAAUA,EAAO,CAChC,IAAMkX,EAAgBoyC,EAAepyC,cAC/BoyC,EAAepyC,cACfnY,KAAKmY,cAEX,GAAIA,EAAci3B,UAAU98B,EAAQ6F,gBAAkB,EAAG,CACrDsyC,GAAe,EAEf,MAEAn4C,EAAQ/Q,SACJuE,EACAhE,EAAMu1C,gBAAgBqT,OACtB5oD,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAO+1C,0BACXvpD,EACAjB,KAAKoY,KACLD,EAActK,WACdyE,EAAQ6F,cAActK,eAQzC48C,GACDn4C,EAAQmG,eAAeD,EAAQxY,KAAKoY,KAAMnX,EAAOjB,KAAKolB,cAAc,EAE5E,EAWJ,EAlHA,CAAsC1M,GAAzB,EAAAb,iBAAAA,EAoHb,kBA0FI,WACaM,EACAC,EACAwxC,EACAxkC,EACTklC,EACStgB,GANb,MAQI,YAAM7xB,EAAeC,EAAMgN,EAAc4kB,IAAkB,KAE3D,GATS,EAAA7xB,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAwxC,SAAAA,EACA,EAAAxkC,aAAAA,EAEA,EAAA4kB,kBAAAA,EA/FL,EAAA2gB,QAAqC,GAmGpCL,EAUD,EAAKK,QAAUL,OARf,IAAK,IAAMjM,KAAOuL,EAAU,CACxB,IAAMgB,EAAcz9B,SAASkxB,EAAK,IAE9BuM,GAAe,GACf,EAAKD,QAAQj0C,KAAK,CAAEzV,MAAO2pD,YAM3C,CAKJ,OArHyE,OAGrE,YAAAxlD,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAM6S,EAAcxS,EAAO3S,KAAKoY,MAEhC,GAA2B,iBAAhB+M,EACP,OAAOnlB,KAAKolB,aAGhB,IAAMylC,EAAYpnD,EAAMqnD,mBAAmB9qD,KAAK4pD,SAAUzkC,GAE1D,QAAkBnkB,IAAd6pD,EACA,IAA6B,UAAA7qD,KAAKsqD,OAAL,eAAa,CAArC,IAAMC,EAAc,KACrB,GAAIA,EAAetpD,QAAU4pD,EAAW,CACpC,IAAM1yC,EAAgBoyC,EAAepyC,cAC/BoyC,EAAepyC,cACfnY,KAAKmY,cAEX,OAAIA,EAAci3B,UAAU98B,EAAQ6F,gBAAkB,EAC3C0yC,GAEPv4C,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAO+1C,0BACXrlC,EACAnlB,KAAKoY,KACLD,EAActK,WACdyE,EAAQ6F,cAActK,aAIvB7N,KAAKolB,eAY5B,OANA9S,EAAQsT,cACJ9f,EACAhE,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOsR,qBAAqBZ,EAAanlB,KAAKoY,OAGnDpY,KAAKolB,YAChB,EAEA,YAAA7M,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEA,IAAIm4C,GAAe,EAEnB,QAAczpD,IAAVC,EAAqB,CACrBwpD,GAAe,EAEf,IAA6B,UAAAzqD,KAAKsqD,OAAL,eAAa,CAArC,IAAMC,EAAc,KACrB,GAAIA,EAAetpD,QAAUA,EAAO,CAKhC,IAJsBspD,EAAepyC,cAC/BoyC,EAAepyC,cACfnY,KAAKmY,eAEOi3B,UAAU98B,EAAQ6F,gBAAkB,EAAG,CACrDsyC,GAAe,EAEf,MAEAn4C,EAAQ/Q,SACJuE,EACAhE,EAAMu1C,gBAAgBqT,OACtB5oD,EAAM+jB,gBAAgBC,qBACtB,EAAA9hB,QAAQyQ,OAAOsR,qBAAqB9kB,EAAOjB,KAAKoY,SAO/DqyC,GACDn4C,EAAQq3C,cAAc3pD,KAAK4pD,SAAUpxC,EAAQxY,KAAKoY,KAAMnX,EAAOjB,KAAKolB,aAE5E,EA0BA,sBAAI,qBAAM,KAAV,WACI,OAAOplB,KAAK2qD,OAChB,kCACJ,EArHA,CAAyEjyC,GAA5D,EAAAX,aAAAA,EAyHb,kBAqCI,WACaI,EACAC,EACAovC,EACAuD,EACT3lC,QADS,IAAA2lC,IAAAA,GAAA,GAJb,MAOI,YAAM5yC,EAAeC,EAAMgN,GAAc,SAACtf,GACtC,OAAO,EAAKilD,cAAW/pD,EAAY,IAAI,EAAKwmD,UAChD,KAAE,YARO,EAAArvC,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAovC,WAAAA,EACA,EAAAuD,SAAAA,GAMb,CACJ,OAhDgD,OAC5C,YAAA3lD,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAM6S,EAAcxS,EAAO3S,KAAKoY,MAEhC,QAAoBpX,IAAhBmkB,EACA,OAAOnlB,KAAKgqC,kBAAoBhqC,KAAKgqC,kBAAkBlkC,GAAU9F,KAAKolB,aAG1E,IAAMhS,EAAS,IAAIpT,KAAKwnD,WAGxB,OAFAp0C,EAAOhO,MAAM+f,EAAa7S,GAEnBc,CACX,EAEA,YAAAmF,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEA,IAAI04C,OAAsChqD,OAE5BA,IAAVC,GAAwBA,EAAMgqD,wBAC9BD,EAAkB/pD,EAAMsX,OAAOjG,IAGJ,iBAApB04C,GAAwE,IAAxC1rB,OAAOC,KAAKyrB,GAAiBvmD,SACpEumD,OAAkBhqD,GAGtBsR,EAAQmG,eAAeD,EAAQxY,KAAKoY,KAAM4yC,EAAiBhrD,KAAKolB,cAAc,EAClF,EAaJ,EAhDA,CAAgD1M,GAAnC,EAAAi2B,2BAAAA,EAkDb,kBAuCI,WACax2B,EACAC,EACAovC,EACAjH,GAJb,MAMI,YAAMpoC,EAAeC,OAAMpX,GAAW,SAAC8E,GACnC,MAAO,EACX,KAAE,YAPO,EAAAqS,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAovC,WAAAA,EACA,EAAAjH,YAAAA,GAKb,CACJ,OAjD0D,OACtD,YAAAn7C,MAAA,SACIU,EACA6M,EACAL,GAEA,IAAMc,EAA2C,GAE3C83C,EAAmBv4C,EAAO3S,KAAKoY,MAErC,GAAI8H,MAAM8C,QAAQkoC,GACd,IAAyB,UAAAA,EAAA,eAAkB,CAAtC,IAAMC,EAAU,KACXthC,EAAO,IAAI7pB,KAAKwnD,WACtB39B,EAAKzkB,MAAM+lD,EAAY74C,GAEvBc,EAAOsD,KAAKmT,GAER7pB,KAAKugD,aACLvgD,KAAKugD,YAAYz6C,EAAQ+jB,GAKrC,OAAOzW,EAAO3O,OAAS,EACjB2O,EACApT,KAAKgqC,kBACLhqC,KAAKgqC,kBAAkBlkC,QACvB9E,CACV,EAEA,YAAAuX,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAA,EAAQuwB,eAAerqB,EAAQxY,KAAKoY,KAAMnX,EAC9C,EAYJ,EAjDA,CAA0DyX,GAA7C,EAAAoM,qCAAAA,EAmDb,kBAcI,WACa3M,EACAC,EACAgzC,EAMAC,EAOAjmC,EACA4kB,GAjBb,MAmBI,YAAM7xB,EAAeC,EAAMgN,EAAc4kB,IAAkB,KAE3D,GApBS,EAAA7xB,cAAAA,EACA,EAAAC,KAAAA,EACA,EAAAgzC,QAAAA,EAMA,EAAAC,SAAAA,EAOA,EAAAjmC,aAAAA,EACA,EAAA4kB,kBAAAA,GAIJ,EAAKohB,QACN,MAAM,IAAIjpD,MAAM,oEAGpB,IAAK,EAAKkpD,SACN,MAAM,IAAIlpD,MAAM,6EAExB,CACJ,OA3CuC,OACnC,YAAAiD,MAAA,SAAMU,EAA4B6M,EAAqBL,GACnD,OAAOtS,KAAKorD,QAAQtlD,EAAQ9F,KAAM2S,EAAQL,EAC9C,EAEA,YAAAiG,OAAA,SACIzS,EACA0S,EACAvX,EACAqR,GAEAtS,KAAKqrD,SAASvlD,EAAQ9F,KAAMwY,EAAQvX,EAAOqR,EAC/C,EA+BJ,EA3CA,CAAuCoG,GAA1B,EAAA4e,eAAAA,EA6Cb,8BACY,KAAAg0B,YAAoC,EAyChD,QAvCI,YAAA51C,QAAA,SAAQ6hB,GACJ,IAAK,IAAI3iB,EAAI,EAAGA,EAAI5U,KAAKsrD,YAAY7mD,OAAQmQ,IACzC,GAAI5U,KAAKsrD,YAAY12C,KAAO2iB,EACxB,OAAO3iB,EAIf,OAAQ,CACZ,EAEA,YAAAM,IAAA,eAAI,sDACA,IAAmB,UAAA2zC,EAAA,eAAY,CAA1B,IAAMtxB,EAAI,MACiB,IAAxBv3B,KAAK0V,QAAQ6hB,IACbv3B,KAAKsrD,YAAY50C,KAAK6gB,GAGlC,EAEA,YAAA1iB,OAAA,eAAO,sDACH,IAAmB,UAAAg0C,EAAA,eACf,IADC,IAAMtxB,EAAI,OACE,CACT,IAAM/iB,EAAQxU,KAAK0V,QAAQ6hB,GAE3B,KAAI/iB,GAAS,GAGT,MAFAxU,KAAKsrD,YAAY1nC,OAAOpP,EAAO,GAM/C,EAEA,YAAAmV,UAAA,SAAUnV,GACN,OAAOxU,KAAKsrD,YAAY92C,EAC5B,EAEA,YAAA+2C,SAAA,WACI,OAAOvrD,KAAKsrD,YAAY7mD,MAC5B,EACJ,EA1CA,GAAa,EAAA+mD,yBAAAA,EA8Cb,oBAAyBj0B,GACrB,OAAO,SAAU/e,EAAaizC,GAC1B,IAAMC,EAAapsB,OAAOqsB,yBAAyBnzC,EAAQizC,IAAgB,CAAC,EAEvEC,EAAWpoB,KAAQooB,EAAW3oB,MAC/B2oB,EAAWpoB,IAAM,WACb,OAAOtjC,KAAKgN,SAASuqB,EACzB,EACAm0B,EAAW3oB,IAAM,SAAoC9hC,GACjDjB,KAAKqN,SAASkqB,EAAMt2B,EACxB,EAEAq+B,OAAOssB,eAAepzC,EAAQizC,EAAaC,GAEnD,CACJ,EAIA,iBA0II,aAjIQ,KAAAG,aAA4B,CAAC,EAC7B,KAAAC,eAA8B,CAAC,EA8HvC,KAAAtY,WAAsBtvB,EAAmB6nC,kBAKrC,IAFA,IAAMC,EAAIhsD,KAAKisD,YAENr3C,EAAI,EAAGA,EAAIo3C,EAAET,WAAY32C,IAAK,CACnC,IAAM2iB,EAAOy0B,EAAEriC,UAAU/U,GAErB2iB,EAAKyS,mBACLhqC,KAAKqN,SAASkqB,EAAMA,EAAKyS,kBAAkBhqC,OAGvD,CA6FJ,OAnOc,YAAAyP,+BAAV,WACI,OAAO,IAAIy8C,CACf,EAEU,YAAArzC,eAAV,SAAyBC,GACrB,IAAM8vC,EAAY5oD,KAAKsmC,YACjBuiB,EAAmC,GAGzC,IAAK,IAAM9gB,KAAgB6gB,EACvB,IACI,IAAMlR,EAAgBkR,EAAK7gB,GAEvB2P,aAAyBh/B,GACzBmwC,EAAWnyC,KAAKghC,GAEtB,UAMN,GAAImR,EAAWpkD,OAAS,EAAG,CACvB,IAAM0nD,EAAmBtD,EAAWE,MAChC,SAACqD,EAAwBC,GACrB,OAAID,EAAGlC,iBAAmBmC,EAAGnC,iBAClB,EACAkC,EAAGlC,iBAAmBmC,EAAGnC,kBACxB,EAGL,CACX,IAGJpxC,EAAO5D,IAAG,MAAV4D,EAAcqzC,GAGdjoC,EAAmBooC,4BACnBpoC,EAAmBooC,2BAA2BtsD,KAAM8Y,EAE5D,EAEU,YAAA9L,SAAV,SAAmBuqB,GACf,OAAOv3B,KAAK6rD,aAAa5T,eAAe1gB,EAAKrS,mBACvCllB,KAAK6rD,aAAat0B,EAAKrS,mBACvBqS,EAAKnS,YACf,EAEU,YAAA/X,SAAV,SAAmBkqB,EAA0Bt2B,GACrCA,eACOjB,KAAK6rD,aAAat0B,EAAKrS,mBAE9BllB,KAAK6rD,aAAat0B,EAAKrS,mBAAqBjkB,CAEpD,EAEU,YAAA8hB,cAAV,SAAwBpQ,EAAqBL,GAIzC,GAHAtS,KAAK6rD,aAAe,CAAC,EACrB7rD,KAAK8rD,eAAiB,EAAArqD,eAAe6nD,yBAA2B32C,GAAwB,CAAC,EAErFA,EAGA,IAFA,IAAMq5C,EAAIhsD,KAAKisD,YAENr3C,EAAI,EAAGA,EAAIo3C,EAAET,WAAY32C,IAAK,CACnC,IAAM2iB,EAAOy0B,EAAEriC,UAAU/U,GAEzB,GAAI2iB,EAAK0yB,uBAAwB,CAC7B,IAAIvS,EAAgBngB,EAAKyS,kBACnBzS,EAAKyS,kBAAkBhqC,WACvBgB,EAEF2R,EAAOslC,eAAe1gB,EAAKnf,QACvBmf,EAAKpf,cAAci3B,UAAU98B,EAAQ6F,gBAAkB,EACvDu/B,EAAgBngB,EAAKnyB,MAAMpF,KAAM2S,EAAQL,GAEzCA,EAAQsT,cACJ5lB,KACA8B,EAAM+jB,gBAAgB0mC,oBACtB,EAAAvoD,QAAQyQ,OAAO+3C,qBACXj1B,EAAKnf,KACLmf,EAAKpf,cAActK,WACnByE,EAAQ6F,cAActK,cAMtC7N,KAAKqN,SAASkqB,EAAMmgB,SAI5B13C,KAAKsrC,oBAEb,EAEU,YAAAloB,eAAV,SAAyB5K,EAAqBlG,GAI1C,IAHA,IAAM05C,EAAIhsD,KAAKisD,YACTQ,EAAiC,GAE9B73C,EAAI,EAAGA,EAAIo3C,EAAET,WAAY32C,IAAK,CACnC,IAAM2iB,EAAOy0B,EAAEriC,UAAU/U,GAMrB2iB,EAAK0yB,wBACL1yB,EAAKpf,cAAci3B,UAAU98B,EAAQ6F,gBAAkB,IACV,IAA7Cs0C,EAAqB/2C,QAAQ6hB,EAAKnf,QAElCmf,EAAKhf,OAAOvY,KAAMwY,EAAQxY,KAAKgN,SAASuqB,GAAOjlB,GAE/Cm6C,EAAqB/1C,KAAK6gB,EAAKnf,OAG3C,EAEU,YAAA/F,gBAAV,SAA0B08B,GACtB,OAAO,CACX,EAgBA,YAAA3pC,MAAA,SAAMuN,EAAqBL,GACvBtS,KAAK+iB,cAAcpQ,EAAQL,GAAoB,IAAI45C,EACvD,EAEA,YAAA3zC,OAAA,SAAOjG,GACH,IAAIo6C,EASJ,GAPIp6C,GAAWA,aAAmBukC,EAC9B6V,EAAmBp6C,GAEnBo6C,EAAmB1sD,KAAKyP,kCACPk9C,oBAAsBr6C,EAGvCtS,KAAKqS,gBAAgBq6C,GAAmB,CACxC,IAAIt5C,EAcJ,OAPIA,EAJA,EAAA3R,eAAe6nD,yBACftpD,KAAK8rD,gBAC0B,iBAAxB9rD,KAAK8rD,eAEH9rD,KAAK8rD,eAEL,CAAC,EAGd9rD,KAAKojB,eAAehQ,EAAQs5C,GAErBt5C,EAIf,EAEA,YAAAw5C,gBAAA,SAAgBr1B,GACZ,OAAOv3B,KAAKgN,SAASuqB,KAAUA,EAAKnS,YACxC,EAEA,YAAA6lC,oBAAA,WAGI,IAFA,IAAMe,EAAIhsD,KAAKisD,YAENr3C,EAAI,EAAGA,EAAIo3C,EAAET,WAAY32C,IAAK,CACnC,IAAM2iB,EAAOy0B,EAAEriC,UAAU/U,GAEzB,IAAK5U,KAAK4sD,gBAAgBr1B,GACtB,OAAO,EAIf,OAAO,CACX,EAEA,YAAA+T,mBAAA,WAGI,IAFA,IAAM0gB,EAAIhsD,KAAKisD,YAENr3C,EAAI,EAAGA,EAAIo3C,EAAET,WAAY32C,IAAK,CACnC,IAAM2iB,EAAOy0B,EAAEriC,UAAU/U,GAEzB5U,KAAKqN,SAASkqB,EAAMA,EAAKnS,cAEjC,EAEA,YAAAynC,kBAAA,SAAkBz0C,EAAcnX,GAEN,iBAAVA,IAAuBA,GAA/B,MAAyCA,SAGlCjB,KAAK8rD,eAAe1zC,GAE3BpY,KAAK8rD,eAAe1zC,GAAQnX,CAEpC,EAEA,YAAA6rD,kBAAA,SAAkB10C,GACd,OAAOpY,KAAK8rD,eAAe1zC,EAC/B,EAEA,YAAA6zC,UAAA,WACI,IAAInzC,EAAmCoL,EAAmB6oC,aAAa/sD,KAAK8jB,gBAU5E,OARKhL,IACDA,EAAS,IAAI0yC,EAEbxrD,KAAK6Y,eAAeC,GAEpBoL,EAAmB6oC,aAAa/sD,KAAK8jB,gBAAkBhL,GAGpDA,CACX,EA3OO,EAAAizC,kBAA6BzmD,EAASsvC,OAErB,EAAAmY,aAAiE,CAAC,EA0O9F,EAjPA,GAAsB,EAAA7oC,mBAAAA,gMC9hCtB,YAqBA,0BA8BA,QA7BW,EAAAxD,gCAA0C,EAC1C,EAAAnT,iCAA2C,EAC3C,EAAAysB,qCAA+C,EAC/C,EAAApb,8BAAwC,EACxC,EAAA1Q,uBAAiC,EACjC,EAAAo7C,yBAAmC,EACnC,EAAAhzB,8BAAwC,EACxC,EAAAqhB,kCAA4C,EAC5C,EAAAtD,uBAAiC,EACjC,EAAAqB,gBAA0B,EAC1B,EAAAp1B,oBAA8B,EAC9B,EAAAwoB,uCAAiD,EACjD,EAAAmF,gDAA0D,EAC1D,EAAAxM,2CAAqD,EAE5C,EAAA//B,QAA2B,CACvCC,YAAY,EACZqrD,SAAUlrD,EAAMC,SAASI,MACzB+H,qBAAsB,EACtBf,gCAAiC,IACjCyB,gBAAiB,IACjBG,iBAAkB,IAClB5G,QAAS,CACLC,KAAMtC,EAAMuC,YAAYiD,OACxBK,8BAA+B,IAC/BD,qCAAsC,EACtCM,6CAA6C,IAGzD,EA9BA,GAAa,EAAAvG,eAAAA,EAgCA,EAAA2hC,aAAe,CACxBY,gBAAiB,mBACjBX,8BAA+B,qCAiBnC,8BACY,KAAA4pB,cAAwB,CA0EpC,QAtEI,YAAA3sB,oBAAA,SAAoB1L,EAAkByK,GAClC,IAAKA,EACD,MAAM,IAAIl9B,MAAM,kDAGpB,GAAInC,KAAKktD,UACL,IAAoB,UAAAt4B,EAAA,eAAQ,CAAvB,IAAM3jB,EAAK,KAKG,MAJC,IAAI4nB,OAAO,UAAY5nB,EAAM/L,GAAK,gBAAiB,MAAMgsB,KACrElxB,KAAKktD,YAGcj8C,EAAM/L,KACzBm6B,EAAiBpuB,EAAM/L,IAAM+L,GAI7C,EAEA,YAAAkyB,sBAAA,SAAsBvO,EAA4BmP,GAG9C,GAFA/jC,KAAKmtD,WAAantD,KAAKktD,UAEnBltD,KAAKktD,UAIL,IAHA,IAAM7C,EAAQ,mCACV96B,OAAO,EAEuC,QAA1CA,EAAU86B,EAAMn5B,KAAKlxB,KAAKktD,aAAwBltD,KAAKmtD,YAC3D,IAAkB,UAAA7tB,OAAOC,KAAK3K,GAAZ,eAAqB,CAAlC,IAAMypB,EAAG,KACV,GAAIA,EAAI7gC,gBAAkB+R,EAAQ,GAAG/R,cAAe,CAChD,IAAM4vC,EAAex4B,EAAOypB,GAExBgP,EAAkB,GAElBD,EAAansD,QACbosD,EAAkBD,EAAansD,OAG/B8iC,IAAgB,EAAAX,aAAaY,gBAE7BqpB,GADAA,EAAkBpjD,KAAKiB,UAAUmiD,IACCC,MAAM,GAAI,GACrCvpB,IAAgB,EAAAX,aAAaC,gCACpCgqB,EAAkBE,mBAAmBF,IAGzCrtD,KAAKmtD,WAAantD,KAAKmtD,WAAWtuC,QAAQ0Q,EAAQ,GAAI89B,GAEtD,OAMhBrtD,KAAKitD,cAAe,CACxB,EAEA,YAAAhqB,YAAA,WACI,OAAOjjC,KAAKktD,SAChB,EAEA,YAAA5pB,IAAA,WACI,OAAKtjC,KAAKitD,aAGCjtD,KAAKmtD,WAFLntD,KAAKktD,SAIpB,EAEA,YAAAnqB,IAAA,SAAI9hC,GACAjB,KAAKktD,UAAYjsD,EACjBjB,KAAKitD,cAAe,CACxB,EACJ,EA3EA,GAAa,EAAAnqB,wBAAAA,EA6EA,EAAAzZ,kBAMT,SAAYnV,EAAiBzF,EAAmB4F,EAAoB5J,QAAxD,IAAAyJ,IAAAA,EAAA,QAAiB,IAAAzF,IAAAA,EAAA,QAAmB,IAAA4F,IAAAA,EAAA,QAAoB,IAAA5J,IAAAA,EAAA,GALpE,KAAAA,KAAe,EACf,KAAAyJ,IAAc,EACd,KAAAzF,MAAgB,EAChB,KAAA4F,OAAiB,EAGbrU,KAAKkU,IAAMA,EACXlU,KAAKyO,MAAQA,EACbzO,KAAKqU,OAASA,EACdrU,KAAKyK,KAAOA,CAChB,EAGS,EAAAiH,kBAMT,SACIwC,EACAzF,EACA4F,EACA5J,QAHA,IAAAyJ,IAAAA,EAAqBpS,EAAMqS,QAAQC,WACnC,IAAA3F,IAAAA,EAAuB3M,EAAMqS,QAAQC,WACrC,IAAAC,IAAAA,EAAwBvS,EAAMqS,QAAQC,WACtC,IAAA3J,IAAAA,EAAsB3I,EAAMqS,QAAQC,MATxC,KAAAF,IAAqBpS,EAAMqS,QAAQC,KACnC,KAAA3F,MAAuB3M,EAAMqS,QAAQC,KACrC,KAAAC,OAAwBvS,EAAMqS,QAAQC,KACtC,KAAA3J,KAAsB3I,EAAMqS,QAAQC,KAQhCpU,KAAKkU,IAAMA,EACXlU,KAAKyO,MAAQA,EACbzO,KAAKqU,OAASA,EACdrU,KAAKyK,KAAOA,CAChB,EAGJ,iBAgCI,WAAYib,EAAsBH,GAC9BvlB,KAAK0lB,aAAeA,EACpB1lB,KAAKulB,KAAOA,CAChB,CACJ,OAhCW,EAAAngB,MAAP,SAAa6L,EAAeu8C,QAAA,IAAAA,IAAAA,GAAA,GACxB,IAAMp6C,EAAS,IAAIkS,EAAY,EAAGxjB,EAAM0jB,SAAS8P,QAEjD,GAAqB,iBAAVrkB,EAGP,OAFAmC,EAAOsS,aAAezU,EAEfmC,EACJ,GAAqB,iBAAVnC,EAAoB,CAClC,IACMse,EADS,sBACQ2B,KAAKjgB,GACtBw8C,EAAqBD,EAAuB,EAAI,EAEtD,GAAIj+B,GAAWA,EAAQ9qB,QAAUgpD,EAS7B,OARAr6C,EAAOsS,aAAeyH,SAASoC,EAAQ,IAEhB,IAAnBA,EAAQ9qB,QACW,OAAf8qB,EAAQ,KACRnc,EAAOmS,KAAOzjB,EAAM0jB,SAASC,OAI9BrS,EAIf,MAAM,IAAIjR,MAAM,iBAAmB8O,EACvC,EAMJ,EApCA,GAAa,EAAAqU,YAAAA,EAkDb,8BAsCA,QAnCW,EAAAooC,SAAP,WACI,IAAMC,EAAsB,WAAhBphC,KAAKqhC,SAAyB,EACpCC,EAAsB,WAAhBthC,KAAKqhC,SAAyB,EACpCE,EAAsB,WAAhBvhC,KAAKqhC,SAAyB,EACpCG,EAAsB,WAAhBxhC,KAAKqhC,SAAyB,EAE1C,OACII,EAAKC,IAAS,IAALN,GACTK,EAAKC,IAAKN,GAAM,EAAK,KACrBK,EAAKC,IAAKN,GAAM,GAAM,KACtBK,EAAKC,IAAKN,GAAM,GAAM,KACtB,IACAK,EAAKC,IAAS,IAALJ,GACTG,EAAKC,IAAKJ,GAAM,EAAK,KACrB,IACAG,EAAKC,IAAMJ,GAAM,GAAM,GAAQ,IAC/BG,EAAKC,IAAKJ,GAAM,GAAM,KACtB,IACAG,EAAKC,IAAU,GAALH,EAAa,KACvBE,EAAKC,IAAKH,GAAM,EAAK,KACrB,IACAE,EAAKC,IAAKH,GAAM,GAAM,KACtBE,EAAKC,IAAKH,GAAM,GAAM,KACtBE,EAAKC,IAAS,IAALF,GACTC,EAAKC,IAAKF,GAAM,EAAK,KACrBC,EAAKC,IAAKF,GAAM,GAAM,KACtBC,EAAKC,IAAKF,GAAM,GAAM,IAE9B,EAEO,EAAAG,WAAP,WACI,IAAK,IAAIt5C,EAAI,EAAGA,EAAI,IAAKA,IACrBo5C,EAAKC,IAAIr5C,IAAMA,EAAI,GAAK,IAAM,IAAMA,EAAE/G,SAAS,GAEvD,EApCe,EAAAogD,IAAgB,GAqCnC,EAtCA,GAAa,EAAAD,KAAAA,EAwCbA,EAAKE,4FC9QL,8BAwGA,QAvGoB,EAAAz5C,OAAS,CACrB4hC,mBAAoB,SAAC3G,GACjB,+BAAyBA,EAAQ,sCAAjC,EACJ6G,kBAAmB,SAAC7G,GAChB,8BAAwBA,EAAQ,sCAAhC,EACJzlB,sBAAuB,SAACylB,GACpB,uBAAiBA,EAAQ,mCAAzB,EACJrH,qBAAsB,SAACqH,GACnB,sBAAgBA,EAAQ,mCAAxB,EACJ3pB,qBAAsB,SAAC9kB,EAAY8mC,GAC/B,wBAAkB9mC,EAAK,mBAAmB8mC,EAAY,IAAtD,EACJnD,qBAAsB,WAClB,+FACJyK,mBAAoB,SAACF,GACjB,+BAAyBA,EAAY,2BAArC,EACJ0F,mBAAoB,SAACsZ,GACjB,8CAAwCA,EAAmB,IAA3D,EACJ1F,qBAAsB,SAACF,GACnB,iCAA2BA,EAAa,IAAxC,EACJiC,0BAA2B,SACvBvpD,EACA8mC,EACAqmB,EACAC,GAEA,gBAAUptD,EAAK,mBAAmB8mC,EAAY,6BAA6BqmB,EAAkB,+BAA+BC,EAAW,GAAvI,EACJ7B,qBAAsB,SAClBzkB,EACAqmB,EACAC,GAEA,mBAAatmB,EAAY,6BAA6BqmB,EAAkB,+BAA+BC,EAAW,GAAlH,EACJ35C,gBAAiB,SAACF,GAAkB,6BAAuBA,EAAK,IAA5B,EACpCoO,4BAA6B,WACzB,uGACJC,sBAAuB,WACnB,iGACJmH,wBAAyB,WAAM,uCAC/B6M,uBAAwB,WAAM,2CAC9ByF,kCAAmC,WAC/B,mEACJC,sCAAuC,WACnC,2FACJ4F,kBAAmB,SAAC4F,GAAyB,mBAAaA,EAAY,gBAAzB,EAC7C5D,sCAAuC,WACnC,sFACJgE,eAAgB,SAACmmB,GACb,6CAAuCA,EAAc,IAArD,EACJlV,mBAAoB,SAACD,GACjB,sCAAgCA,EAAgB,IAAhD,EACJoC,qBAAsB,SAACD,GACnB,oDAA8CA,EAAgB,IAA9D,EACJ/B,wBAAyB,SAACiB,GACtB,8CAAwCA,EAAgB,IAAxD,EACJ9J,iCAAkC,WAAM,2DACxCuD,gBAAiB,WACb,qGACJE,uBAAwB,SAACvvC,EAAiB2pD,GACtC,qCAA+B3pD,EAAO,+EAA+E2pD,EAAmB,GAAxI,EACJpW,YAAa,SAACjzC,GAAe,uBAAiBA,EAAE,IAAnB,EAC7BmuC,6BAA8B,WAC1B,uHACJL,4BAA6B,WACzB,gHACJpG,uBAAwB,WAAM,2DAC9BlD,sBAAuB,WAAM,wDAC7BoD,yBAA0B,SAAC4C,GACvB,0BAAoBA,EAAQ,yCAA5B,EACJjY,uBAAwB,WACpB,iFAEQ,EAAA7tB,mBAAqB,CACjC4kD,SAAU,WAAM,8CAChBC,YAAa,WACT,4GACJC,eAAgB,WAAM,0BACtBC,gCAAiC,WAAM,mDACvCC,OAAQ,WAAM,gBACdC,OAAQ,WAAM,gBACdhlD,mBAAoB,WAAM,6DAC1BoB,qBAAsB,WAAM,iCAEhB,EAAAhH,QAAU,CACtBO,uBAAwB,WAAM,mCAC9BE,8BAA+B,WAAM,2BACrCR,gBAAiB,WAAM,4BAEX,EAAAqsC,MAAQ,CACpBC,4CAA6C,WACzC,wLAEQ,EAAA3hB,SAAW,CACvB6J,kBAAmB,WAAM,uBACzBwM,mBAAoB,WAAM,aAC1BC,sBAAuB,WAAM,sBAC7BrW,qBAAsB,WAAM,uBAC5BmD,qBAAsB,WAAM,oBAC5BgB,mBAAoB,WAAM,8BAC1BC,iBAAkB,WAAM,4BACxBC,uBAAwB,WAAM,kCAC9BsrB,kCAAmC,WAAM,gCACzCC,8BAA+B,WAAM,6BAE7C,EAxGA,GAAa,EAAA16C,QAAAA,q9BCFb,aAOA,QASA,SACA,SAYA,SACA,SACA,SAEA,gFAwEI,EAAAwE,MAAqB,IAAI,EAAA8c,YAAY,EAAG,EAAAE,SAAS8P,SASrD,QAjF2C,OA0EvC,YAAAxR,aAAA,WACI,MAAO,kBACX,EAzEgB,EAAAgrC,uCAAyC,IAAI,EAAA/2C,aACzD,EAAAzS,SAAS+b,KACT,iCACA,EAAAnK,qBAEY,EAAA63C,qCAAuC,IAAI,EAAAh3C,aACvD,EAAAzS,SAAS+b,KACT,+BACA,EAAA6qB,mBAGY,EAAAgD,cAAgB,IAAI,EAAA5X,eAChC,EAAAhyB,SAAS+b,KACT,SACA,SACIvb,EACAyxB,EACA5kB,EACAL,GAEA,IAAIc,EAAsBmkB,EAAKnS,aACzBnkB,EAAQ0R,EAAO4kB,EAAKnf,MACtB+2B,GAAe,EAEnB,GAAqB,iBAAVluC,GAAuB+kB,MAAM/kB,GAEjC,GAAqB,iBAAVA,EACd,IACImS,EAAS,EAAAkS,YAAYlgB,MAAMnE,GAC7B,MAAOG,GACL+tC,GAAe,OAGnBA,GAAe,OARf/7B,EAAS,IAAI,EAAAkS,YAAYrkB,EAAO,EAAAukB,SAAS8P,QAmB7C,OARI6Z,GACA78B,EAAQsT,cACJ9f,EACA,EAAA+f,gBAAgBC,qBAChB,EAAA9hB,QAAQyQ,OAAO46B,mBAAmBpuC,IAInCmS,CACX,IACA,SACItN,EACAmS,EACAO,EACAvX,EACAqR,GAEIrR,EAAMskB,OAAS,EAAAC,SAASC,MACxBnT,EAAQmG,eAAeD,EAAQ,QAASvX,EAAMykB,aAAe,MAE7DpT,EAAQolB,gBAAgBlf,EAAQ,QAASvX,EAAMykB,aAEvD,GACA,IAAI,EAAAJ,YAAY,EAAG,EAAAE,SAAS8P,SAIhC,IADC,IAAArd,UAAS+2C,EAAsBF,8FAIhC,IADC,IAAA72C,UAAS+2C,EAAsBD,0FAIhC,IADC,IAAA92C,UAAS+2C,EAAsB9f,4CAUpC,EAjFA,CAA2C,EAAAhrB,oBAA9B,EAAA8qC,sBAAAA,EAmFb,oFAGY,EAAAhpB,OAAc,IAiG1B,QAlGU,OAGE,YAAAipB,UAAR,SAAkBt8C,EAAaL,GAA/B,WACI,OAAOA,EAAQm9B,gBACXzvC,KACA2S,EACA,IACC3S,KAAK2O,gBACN,SAAC+gC,GACG,OAAO,EAAKwf,mBAAmBxf,EACnC,IACA,SAACA,EAAkBC,GACfr9B,EAAQsT,mBACJ5kB,EACA,EAAA6kB,gBAAgB+pB,sBAChB,EAAA5rC,QAAQyQ,OAAOwV,sBAAsBylB,GAE7C,GAER,EAKU,YAAAyf,gBAAV,SAA0BtlC,GACtB,GAAKA,EAAK1c,OAKN,MAAM,IAAIhL,MAAM,EAAA6B,QAAQyQ,OAAOm4B,0BAJ/B5sC,KAAKgmC,OAAOtvB,KAAKmT,GAEjBA,EAAK/G,UAAU9iB,KAIvB,EAEU,YAAAovD,mBAAV,SAA6BvlC,GACzB,IAAM+B,EAAY5rB,KAAKgmC,OAAOtwB,QAAQmU,GAEtC,OAAI+B,GAAa,IACb5rB,KAAKgmC,OAAOpiB,OAAOgI,EAAW,GAE9B/B,EAAK/G,eAAU9hB,GAEfhB,KAAKoV,gBAEE,EAIf,EAEU,YAAAi6C,gBAAV,SAA0BxlC,GACtB,OAAO7pB,KAAKgmC,OAAOtwB,QAAQmU,EAC/B,EAEU,YAAA9G,cAAV,SAAwBpQ,EAAaL,GACjC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAKgmC,OAAS,GAEd,IAAMH,EAAQlzB,EAAO3S,KAAKsvD,6BAE1B,GAAIpvC,MAAM8C,QAAQ6iB,GACd,IAAmB,UAAAA,EAAA,eAAO,CAArB,IAAMhc,EAAI,KACL0lC,EAAWvvD,KAAKivD,UAAUplC,EAAMvX,GAElCi9C,GACAvvD,KAAKgmC,OAAOtvB,KAAK64C,GAIjC,EAEU,YAAAnsC,eAAV,SAAyB5K,EAAqBlG,GAC1C,YAAM8Q,eAAc,UAAC5K,EAAQlG,GAE7BA,EAAQuwB,eAAerqB,EAAQxY,KAAKsvD,4BAA6BtvD,KAAKgmC,OAC1E,EAEA,YAAAjxB,WAAA,SAAW8U,GACP,OAAO7pB,KAAKovD,mBAAmBvlC,EACnC,EAEA,YAAAH,aAAA,WACI,OAAO1pB,KAAKgmC,OAAOvhC,MACvB,EAEA,YAAAklB,UAAA,SAAUnV,GACN,OAAOxU,KAAKgmC,OAAOxxB,EACvB,EAEA,YAAAkX,4BAAA,WACI,OAAO1rB,KAAK0pB,eAAiB,EAAI1pB,KAAK2pB,UAAU,QAAK3oB,CACzD,EAEA,YAAA2qB,2BAAA,WACI,OAAO3rB,KAAK0pB,eAAiB,EAAI1pB,KAAK2pB,UAAU3pB,KAAK0pB,eAAiB,QAAK1oB,CAC/E,EACJ,EApGA,CAEU,EAAAopC,8BAFY,EAAAolB,kBAAAA,EAwGtB,oFACY,EAAAC,cAAwB,EACxB,EAAAC,UAAsB,QA+HlC,QAjI+B,OAIjB,YAAAz9C,aAAV,WACI,OAAOjS,KAAK2vD,UAAUC,YAAYC,aACtC,EAEU,YAAAhjC,YAAV,WACI,GAAI7sB,KAAK4C,iBAAmB5C,KAAKiS,eAAgB,CAC7C,IAAMtC,EAAkB3P,KAAKgH,WAAW+L,gBAAgBC,eACpDhT,KAAK2vD,UAAUC,YAAYE,WAG/B,GAAIngD,EAAgBi2C,YAAa,CAC7B,IAAMA,GAAc,IAAAt5C,kBAAiBqD,EAAgBi2C,aAEjDA,IACA5lD,KAAK4C,gBAAgBI,MAAM4J,YAAc,aAAeg5C,EACxD5lD,KAAK4C,gBAAgBI,MAAMyJ,aAAe,aAAem5C,IAIzE,EAEU,YAAA9zC,kBAAV,WACI,OAAO9R,KAAK+R,oBAAsB/R,KAAKiS,eACjC,IAAI,EAAAP,kBAAkB,EAAAyC,QAAQoF,MAAO,EAAApF,QAAQoF,MAAO,EAAApF,QAAQoF,MAAO,EAAApF,QAAQoF,OAC3E,YAAMzH,kBAAiB,UACjC,EAEU,YAAAR,eAAV,WACI,IAAMy+C,EAAc,YAAMz+C,eAAc,WAWxC,OATIy+C,IACAA,EAAY3jD,aAAa,OAA0B,SAAlBpM,KAAKgwD,SAAsB,OAAS,gBACrED,EAAY/sD,MAAMmkB,SAAW,IAEP,WAAlBnnB,KAAKgwD,UACLD,EAAY3jD,aAAa,QAAS,QAInC2jD,CACX,EAEU,YAAA19C,gBAAV,SAA0B08B,GACtB,OAAO,CACX,EAEA,YAAAz+B,gBAAA,WACI,MAAO,WACX,EAEA,YAAA2C,gCAAA,WACI,MAAsB,WAAlBjT,KAAKgwD,SACEhwD,KAAKgH,WAAWkM,WAAW0xC,aAG/B,YAAM3xC,gCAA+B,UAChD,EAEA,YAAAgE,gCAAA,WACI,QAAiCjW,IAA7BhB,KAAK8E,oBACL,OAAO9E,KAAK8E,oBAGhB,QAAsD9D,IAAlDhB,KAAK2vD,UAAUM,+BACf,OAAOjwD,KAAK2vD,UAAUM,+BAG1B,GAAIjwD,KAAKkwD,aAAe,EAAG,CACvB,IAAMprD,EAAsB9E,KAAK2vD,UAAUC,YAAYzf,YACnDnwC,KAAKkwD,aACPD,+BAEF,QAA4BjvD,IAAxB8D,EACA,OAAOA,EAIf,YAAkE9D,IAA9DhB,KAAK2vD,UAAUC,YAAYK,+BACpBjwD,KAAK2vD,UAAUC,YAAYK,+BAG/B,YAAMh5C,gCAA+B,UAChD,EAEA,YAAAk2B,qCAAA,WACI,QAAsCnsC,IAAlChB,KAAKkuC,yBACL,OAAOluC,KAAKkuC,yBAGhB,QAAoDltC,IAAhDhB,KAAK2vD,UAAUQ,6BACf,OAAOnwD,KAAK2vD,UAAUQ,6BAG1B,GAAInwD,KAAKkwD,aAAe,EAAG,CACvB,IAAMjkB,EAAoBjsC,KAAK2vD,UAAUC,YAAYzf,YACjDnwC,KAAKkwD,aACPC,6BAEF,QAA0BnvD,IAAtBirC,EACA,OAAOA,EAIf,YAAgEjrC,IAA5DhB,KAAK2vD,UAAUC,YAAYO,6BACpBnwD,KAAK2vD,UAAUC,YAAYO,6BAG/B,YAAMhjB,qCAAoC,UACrD,EAEA,sBAAI,0BAAW,KAAf,WACI,OAAOntC,KAAKyvD,YAChB,kCAEA,sBAAI,uBAAQ,KAAZ,WACI,OAAOzvD,KAAK0vD,SAChB,kCAEA,sBAAI,wBAAS,KAAb,WACI,OAAO1vD,KAAKmN,MAChB,kCAEA,sBAAI,2BAAY,KAAhB,WACI,OAAO,CACX,kCACJ,EAjIA,CAA+B,EAAAqJ,WAAlB,EAAA45C,UAAAA,EAmIb,6EAoIA,QApI8B,OAuBhB,YAAAt+C,kBAAV,WACI,OAAO,IAAI,EAAAJ,kBAAkB,EAAAyC,QAAQC,KAAM,EAAAD,QAAQC,KAAM,EAAAD,QAAQC,KAAM,EAAAD,QAAQC,KACnF,EAEU,YAAAi2B,gBAAV,WACI,GAAIrqC,KAAK4C,gBAAiB,CACtB,IAAM+M,EAAkB3P,KAAKgH,WAAW+L,gBAAgBC,eACpDhT,KAAKgD,MACLhD,KAAKgH,WAAW+L,gBAAgBC,eAAehT,KAAK8S,eAGxD,GAAInD,EAAgBoS,gBAAiB,CACjC,IAAMwJ,GAAU,IAAAjf,kBAAiBqD,EAAgBoS,iBAE7CwJ,IACAvrB,KAAK4C,gBAAgBI,MAAM+e,gBAAkBwJ,IAI7D,EAEU,YAAA+jC,0BAAV,WACI,MAAO,OACX,EAEU,YAAAJ,mBAAV,SAA6Bxf,GACzB,OAAQA,GAAyB,cAAbA,OAA6C1uC,EAAlB,IAAIovD,CACvD,EAEU,YAAA9+C,eAAV,WACI,IAAM++C,EAAarwD,KAAKswD,gBAClBhM,EAActkD,KAAKgH,WAAW6/C,MAAMvC,YAEpCiM,EAAa1tD,SAASC,cAAc,OAC1CytD,EAAWnkD,aAAa,OAAQ,OAChCmkD,EAAWvtD,MAAME,QAAU,OAC3BqtD,EAAWvtD,MAAMG,cAAgB,MAEjC,IAAK,IAAIyR,EAAI,EAAGA,EAAI2X,KAAKsQ,IAAI78B,KAAK0pB,eAAgB1pB,KAAK4vD,YAAYY,kBAAmB57C,IAAK,CACvF,IAAM67C,EAAOzwD,KAAK2pB,UAAU/U,GAG5B67C,EAAmB,aAAI77C,EACvB67C,EAAgB,UACZzwD,KAAK4vD,YAAYc,mBAAqBL,EAAa,SAAW,OAElE,IAAMM,EAAeF,EAAK/qD,SAE1B,GAAIirD,EAAc,CACd,IAAM5gB,EAAS/vC,KAAK4vD,YAAYzf,YAAYv7B,GAExCm7B,EAAO6gB,cAAcrrC,OAAS,EAAAC,SAASC,MACvCkrC,EAAa3tD,MAAM8J,KAAO,OAASijC,EAAO6gB,cAAclrC,aAAe,KAEvEirC,EAAa3tD,MAAM8J,KAAO,OAASijC,EAAO6gB,cAAclrC,aAAe,IAGvE9Q,EAAI,IAAM5U,KAAK4vD,YAAYC,eAAiBvL,EAAc,IAC1DqM,EAAa3tD,MAAMwL,WAAa81C,EAAc,MAGlDiM,EAAWjtD,YAAYqtD,IAI/B,OAAOJ,EAAWlzC,SAAS5Y,OAAS,EAAI8rD,OAAavvD,CACzD,EAEU,YAAAqR,gBAAV,SAA0B08B,GACtB,OAAO,CACX,EAEA,YAAA8hB,QAAA,SAAQJ,GACJzwD,KAAKmvD,gBAAgBsB,EACzB,EAEA,YAAAK,aAAA,SAAaZ,GACT,OAAIA,GAAe,GAAKA,EAAclwD,KAAK0pB,gBAChC1pB,KAAK+U,WAAW/U,KAAK2pB,UAAUumC,GAI9C,EAEA,YAAAx6C,QAAA,SAAQoW,GACJ,OAAOA,aAAuBskC,EAAYpwD,KAAKqvD,gBAAgBvjC,IAAgB,CACnF,EAEA,YAAAilC,qBAAA,SAAqBC,GACjB,KAAOhxD,KAAK0pB,eAAiBsnC,GACzBhxD,KAAK6wD,QAAQ,IAAIT,EAEzB,EAEA,YAAA9/C,gBAAA,WACI,MAAO,UACX,EAEA,YAAAggD,cAAA,WACI,OAAOtwD,KAAK4vD,YAAYjmC,UAAU,KAAO3pB,IAC7C,EAEA,sBAAI,0BAAW,KAAf,WACI,OAAOA,KAAKmN,MAChB,kCAEA,sBAAI,2BAAY,KAAhB,WACI,OAAO,CACX,kCAhIgB,EAAAiU,cAAgB,IAAI,EAAA8oB,uBAAuB,EAAA5kC,SAAS+b,KAAM,SAC1D,EAAAytC,uCAAyC,IAAI,EAAA/2C,aACzD,EAAAzS,SAAS+b,KACT,iCACA,EAAAnK,qBAEY,EAAA63C,qCAAuC,IAAI,EAAAh3C,aACvD,EAAAzS,SAAS+b,KACT,+BACA,EAAA6qB,mBAIJ,IADC,IAAAj0B,UAASg5C,EAASnC,8FAInB,IADC,IAAA72C,UAASg5C,EAASlC,0FAkHvB,EApIA,CAA8BS,GAAjB,EAAAyB,SAAAA,EAsIb,oFA4BY,EAAA1hB,SAAoC,GAG5C,EAAAmhB,mBAA6B,EAG7B,EAAAb,eAAyB,GA4J7B,QA9L2B,OAqCvB,sBAAI,wBAAS,KAAb,WACI,IAAM7sD,EAAQhD,KAAKgN,SAASkkD,EAAMC,mBAElC,GAAInuD,GAAShD,KAAKgH,WAAW+L,gBAAgBC,eAAehQ,GACxD,OAAOA,CAIf,MAEA,SAAc/B,GACVjB,KAAKqN,SAAS6jD,EAAMC,kBAAmBlwD,EAC3C,kCAUQ,YAAAmwD,0BAAR,WACI,IAAK,IAAIx8C,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IACrC5U,KAAK2pB,UAAU/U,GAAGm8C,qBAAqB/wD,KAAKwwD,iBAEpD,EAEQ,YAAAa,sBAAR,SAA8BnB,GAC1B,IAAK,IAAIt7C,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IACrC5U,KAAK2pB,UAAU/U,GAAGk8C,aAAaZ,EAEvC,EAEU,YAAAZ,0BAAV,WACI,MAAO,MACX,EAEU,YAAAJ,mBAAV,SAA6Bxf,GACzB,OAAQA,GAAyB,aAAbA,OAA2C1uC,EAAjB,IAAIiwD,CACtD,EAEU,YAAAluC,cAAV,SAAwBpQ,EAAqBL,GACzC,YAAMyQ,cAAa,UAACpQ,EAAQL,GAE5BtS,KAAKoxD,2BACT,EAEU,YAAA9/C,eAAV,WACI,GAAItR,KAAK0pB,eAAiB,EAAG,CAGzB,IAFA,IAAI4nC,EAAuB,EAEN,MAAAtxD,KAAKuvC,SAAL,gBAAVQ,EAAM,MACFvnC,MAAM+c,OAAS,EAAAC,SAAS8P,SAC/Bg8B,GAAgBvhB,EAAOvnC,MAAMkd,cAIrC,IAAqB,UAAA1lB,KAAKuvC,SAAL,eAAe,CAA/B,IAAMQ,KAAM,MACFvnC,MAAM+c,OAAS,EAAAC,SAASC,MAC/BsqB,EAAO6gB,cAAgB,IAAI,EAAAtrC,YACvByqB,EAAOvnC,MAAMkd,aACb,EAAAF,SAASC,OAGbsqB,EAAO6gB,cAAgB,IAAI,EAAAtrC,YACtB,IAAMgsC,EAAgBvhB,EAAOvnC,MAAMkd,aACpC,EAAAF,SAAS8P,QAKrB,IAAMi8B,EAAe1uD,SAASC,cAAc,OAK5C,GAJAyuD,EAAanlD,aAAa,OAAQ,SAClCmlD,EAAavuD,MAAME,QAAU,OAC7BquD,EAAavuD,MAAMG,cAAgB,SAE/BnD,KAAK6vD,cAAe,CACpB,IAAMlgD,EAAkB3P,KAAKgH,WAAW+L,gBAAgBC,eACpDhT,KAAK8vD,WAGT,GAAIngD,EAAgBi2C,YAAa,CAC7B,IAAMA,GAAc,IAAAt5C,kBAAiBqD,EAAgBi2C,aAEjDA,IACA2L,EAAavuD,MAAMwuD,UAAY,aAAe5L,EAC9C2L,EAAavuD,MAAMyuD,WAAa,aAAe7L,IAO3D,IAFA,IAAMtB,EAActkD,KAAKgH,WAAW6/C,MAAMvC,YAEjC1vC,EAAI,EAAGA,EAAI5U,KAAK0pB,eAAgB9U,IAAK,CAC1C,IAAM88C,EAAc1xD,KAAK2pB,UAAU/U,GAAGlP,SAEtC,GAAIgsD,EAAa,CACb,GAAI98C,EAAI,IAAM5U,KAAK6vD,eAAiBvL,EAAc,EAAG,CACjD,IAAMqN,EAAe9uD,SAASC,cAAc,OAC5C6uD,EAAavlD,aAAa,cAAe,QACzCulD,EAAa3uD,MAAMyF,OAAS67C,EAAc,KAE1CiN,EAAajuD,YAAYquD,GAG7BJ,EAAajuD,YAAYouD,IAIjC,OAAOH,EAIf,EAEA,YAAA9gB,UAAA,SAAUV,GACN/vC,KAAKuvC,SAAS74B,KAAKq5B,GAEnB/vC,KAAKoxD,2BACT,EAEA,YAAAQ,aAAA,SAAa7hB,GACT,IAAMv7B,EAAQxU,KAAKuvC,SAAS75B,QAAQq6B,GAEhCv7B,GAAS,IACTxU,KAAKqxD,sBAAsB78C,GAE3BxU,KAAKuvC,SAAS3rB,OAAOpP,EAAO,GAEpC,EAEA,YAAAg8C,eAAA,WACI,OAAOxwD,KAAKuvC,SAAS9qC,MACzB,EAEA,YAAA0rC,YAAA,SAAY37B,GACR,OAAOxU,KAAKuvC,SAAS/6B,EACzB,EAEA,YAAAq9C,OAAA,SAAOC,GACH9xD,KAAKmvD,gBAAgB2C,GAErBA,EAAIf,qBAAqB/wD,KAAKwwD,iBAClC,EAEA,YAAA96C,QAAA,SAAQoW,GACJ,OAAOA,aAAuBmlC,EAAWjxD,KAAKqvD,gBAAgBvjC,IAAgB,CAClF,EAEA,YAAAxb,gBAAA,WACI,MAAO,OACX,EA1LwB,EAAAyhD,iBAAmB,IAAI,EAAAjtC,qCAC3C,EAAAxf,SAAS+b,KACT,UACA2tC,GAGY,EAAAgD,0BAA4B,IAAI,EAAAv6C,aAC5C,EAAAnS,SAAS+b,KACT,qBACA,GAEY,EAAA4wC,sBAAwB,IAAI,EAAAx6C,aAAa,EAAAnS,SAAS+b,KAAM,iBAAiB,GACzE,EAAA8vC,kBAAoB,IAAI,EAAAjnB,uBAAuB,EAAA5kC,SAAS+b,KAAM,aAC9D,EAAAytC,uCAAyC,IAAI,EAAA/2C,aACzD,EAAAzS,SAAS+b,KACT,iCACA,EAAAnK,qBAEY,EAAA63C,qCAAuC,IAAI,EAAAh3C,aACvD,EAAAzS,SAAS+b,KACT,+BACA,EAAA6qB,mBAIJ,IADC,IAAAj0B,UAASi5C,EAAMa,kDAIhB,IADC,IAAA95C,UAASi5C,EAAMc,oEAIhB,IADC,IAAA/5C,UAASi5C,EAAMe,4DAIhB,IADC,IAAAh6C,UAASi5C,EAAMC,kDAgBhB,IADC,IAAAl5C,UAASi5C,EAAMpC,8FAIhB,IADC,IAAA72C,UAASi5C,EAAMnC,0FAwIpB,EA9LA,CAA2BS,GAAd,EAAA0B,MAAAA,EAgMb,EAAAza,eAAeK,gBAAgBC,SAAS,QAASma,EAAO,EAAA5rD,SAAS+b,6jBCrqBjE,iBAKI,WAAY6wC,GACRlyD,KAAKmyD,mBAAqBD,CAC9B,CAiBJ,OAfI,YAAAE,OAAA,SAAOhlD,EAA0B6D,GAC7B,IAAIse,EAEJ,GAAIte,EAAO,CAGP,IAFA,IAAImC,EAASnC,EAE6C,OAAlDse,EAAUvvB,KAAKmyD,mBAAmBjhC,KAAKjgB,KAC3CmC,EAASA,EAAOyL,QAAQ0Q,EAAQ,GAAIvvB,KAAKqyD,eAAejlD,EAAMmiB,IAGlE,OAAOnc,EAEP,OAAOnC,CAEf,EACJ,EAxBA,GA0BA,yEAgBA,QAhB4B,OACd,YAAAohD,eAAV,SAAyBjlD,EAA0BmiB,GAC/C,IAAM+iC,EAAO,IAAIzpC,KAAKA,KAAKzjB,MAAMmqB,EAAQ,KACnC6iC,OAAwBpxD,IAAfuuB,EAAQ,GAAmBA,EAAQ,GAAG/R,cAAgB,UAErE,MAAe,YAAX40C,EACOE,EAAKC,mBAAmBnlD,EAAM,CACjColD,IAAK,UACLC,QAASL,EACTM,MAAON,EACPO,KAAM,YAGHL,EAAKC,oBAEpB,EACJ,EAhBA,CAA4BK,GAkB5B,yEAMA,QAN4B,OACd,YAAAP,eAAV,SAAyBjlD,EAA0BmiB,GAG/C,OAFa,IAAI1G,KAAKA,KAAKzjB,MAAMmqB,EAAQ,KAE7BsjC,mBAAmBzlD,EAAM,CAAE0lD,KAAM,UAAWC,OAAQ,WACpE,EACJ,EANA,CAA4BH,GAQ5B,sBAA2BxlD,EAA0BpI,GAYjD,IAXA,IASIoO,EAASpO,EAEW,MAXoB,CACxC,IAAIguD,EACA,qHAEJ,IAAIC,EACA,0FAMgB,eACpB7/C,EADgB,KACGg/C,OAAOhlD,EAAMgG,GAGpC,OAAOA,CACX,4WCrEA,YACA,SA8DA,SAAgB03C,EACZlB,EACAxxC,GAGA,IAAK,IAAMimC,KAAOuL,EAAU,CACxB,IAAMgB,EAAcz9B,SAASkxB,EAAK,IAElC,GAAIuM,GAAe,EAAG,CAClB,IAAM3pD,EAAQ2oD,EAASvL,GAEvB,GAAIp9C,GAA0B,iBAAVA,GAAsBA,EAAMuc,gBAAkBpF,EAAKoF,cACnE,OAAOotC,GAMvB,CAkCA,SAASsI,EACL5nD,EACA6D,EACAgkD,EACAC,EACAryC,GAEA,IAAMsyC,EAAO,WAGT,OAAOlkD,EAAY7D,EAAQw2C,eAAiB,CAChD,EAEA,IAAIuR,IAAJ,CAUA,IANA,IAAMC,EA8EV,SAA8BC,GAI1B,IAHA,IAAMC,EAAoB,GACtBC,EAAMC,EAAkBH,GAAO,GAE5BE,EAAMF,EAAK9uD,QACI,MAAd8uD,EAAKE,IACLD,EAAQ98C,KAAK+8C,GAGjBA,EAAMC,EAAkBH,EAAME,GAGlC,OAAOD,CACX,CA3F6BG,CAAqBR,GAC1CS,EAAK,EACLC,EAAKP,EAAiB7uD,OACtBqvD,EAAe,EAGZF,EAAKC,GAAI,CACZ,IAAME,EAAMxnC,KAAKynC,OAAOJ,EAAKC,GAAM,GACnCT,EAAWD,EAAUG,EAAiBS,IAElCV,KACAS,EAAeR,EAAiBS,GAChCH,EAAKG,EAAM,GAEXF,EAAKE,EAQb,GAJAX,EAAWD,EAAUW,GAIjB/yC,GAAc5R,EAAY7D,EAAQw2C,cAAgB/gC,EAAa,EAAK,CAGpE,IAFA,IAAI0yC,EAAMC,EAAkBP,EAAUW,GAE/BL,EAAMN,EAAS1uD,SAClB2uD,EAAWD,EAAUM,GAEjBJ,MACAS,EAAeL,EACfA,EAAMC,EAAkBP,EAAUM,GAM1CL,EAAWD,EAAUW,IAE7B,CA9JA,gCAEI,YAAwC9yD,IAAjC6G,OAAOhF,SAASoxD,YAC3B,EAEA,wBACI,IAAMC,EAAYrsD,OAAOssD,UAAUD,UAEnC,QACMA,EAAUpL,MAAM,eAAiBoL,EAAUpL,MAAM,YAAcoL,EAAUpL,MAAM,UAEzF,EAKA,8BACI,MAAO,QAAUtD,EAAOwI,KAAKN,UACjC,EAEA,uBAA4BpjC,EAAY8pC,GAChCA,GACA9pC,EAAKhnB,YAAY8wD,EAEzB,EAEA,uBAA4BrQ,EAAU3+B,GAClC,MAAsB,iBAAR2+B,EAAmBA,EAAM3+B,CAC3C,EAEA,uBAA4B2+B,EAAU3+B,GAClC,MAAsB,iBAAR2+B,EAAmBA,EAAM3+B,CAC3C,EAEA,qBAA0BnkB,EAAYmkB,GAClC,GAAqB,kBAAVnkB,EACP,OAAOA,EACJ,GAAqB,iBAAVA,EACd,OAAQA,EAAMuc,eACV,IAAK,OACD,OAAO,EACX,IAAK,QACD,OAAO,EACX,QACI,OAAO4H,EAInB,OAAOA,CACX,EAEA,uBAoBA,qBACIwkC,EACAxxC,EACAgN,GAEA,IAAKhN,EACD,OAAOgN,EAGX,IAAMylC,EAAYC,EAAmBlB,EAAUxxC,GAE/C,YAAqBpX,IAAd6pD,EAA0BA,EAAYzlC,CACjD,EAEA,4BAAiCjf,GAC7B,GAAIA,EAAO,CACP,IACMopB,EADQ,2DACQ2B,KAAK/qB,GAE3B,GAAIopB,GAAWA,EAAQ,GAAI,CACvB,IAAM8kC,EAAIlnC,SAASoC,EAAQ,GAAI,IAAM,IAKrC,MAAO,QAJGpC,SAASoC,EAAQ,GAAI,IAIV,IAHXpC,SAASoC,EAAQ,GAAI,IAGA,IAFrBpC,SAASoC,EAAQ,GAAI,IAEU,IAAM8kC,EAAI,KAI3D,OAAOluD,CACX,EA2DA,wBAA6BmF,EAAsB6D,EAAmB4R,GAClEmyC,EACI5nD,EACA6D,EACA7D,EAAQ+E,WACR,SAACrL,EAAcyuD,GACXnoD,EAAQ+E,UAAYrL,EAAKkoB,UAAU,EAAGumC,GAAO,KACjD,GACA1yC,EAER,EAQA,IAAMuzC,EAAwC,oBAAXzsD,QAAyD,QAAnB,EAAAA,OAAO2D,oBAAY,WAA/BxK,EAA+B,EAAEsgB,aAAa,iDAAkD,CACzJpE,WAAY,SAACjc,GAAU,OAAAA,CAAA,IAkC3B,SAASyyD,EAAkBH,EAAcgB,GAKrC,IAJAA,GAAW,EAIJA,EAAUhB,EAAK9uD,QAA4B,MAAlB8uD,EAAKgB,IACjC,KAAOA,EAAUhB,EAAK9uD,QAA8B,MAApB8uD,EAAKgB,OAKzC,OAAOA,CACX,CA1CA,oBAAyBjpD,EAAsB6D,EAAmB4R,GAC9DmyC,EACI5nD,EACA6D,EACA7D,EAAQI,WACR,SAAC1G,EAAcyuD,SACLe,EAAkBxvD,EAAKkoB,UAAU,EAAGumC,GAAO,MAC3CgB,EAC6C,QAA/C,EAAAH,aAAkB,EAAlBA,EAAoBp3C,WAAWs3C,UAAgB,QAAIA,EACvDlpD,EAAQI,UAAY+oD,CACxB,GACA1zC,EAER,EA+BA,wBAA6BzV,EAAsBopD,GAC/C,IAAM/W,EAAQryC,EAAQgiC,UAGtB,OAFYqQ,EAAQryC,EAAQqpD,cAEjBD,EACA5yD,EAAM2rC,mBAAmBC,iBACzBiQ,EAAQ+W,EACR5yD,EAAM2rC,mBAAmBE,YAEzB7rC,EAAM2rC,mBAAmBI,mBAExC,EAEA,wBACI,OAAOhmC,OAAO+sD,WAClB,EAEA,wBACI,OAAO/sD,OAAOgtD,WAClB,EAEA,gCAAqCvpD,GACjC,KAAOA,EAAQwpD,YACXxpD,EAAQ1C,YAAY0C,EAAQwpD,WAEpC,EAEA,6CAAkDxpD,GAC9CA,EAAQ6S,QAAU,SAAC/c,GACfA,EAAEid,iBACFjd,EAAEkd,cAAe,CACrB,CACJ,gBCrQA,SAASy2C,EAAShR,GACd,OAAgB,OAARA,GACW,iBAARA,GACP,gBAAiBA,GACjBA,EAAIzd,cAAgBhH,MAC5B,CACA,SAAS01B,EAAOx8C,EAAS,CAAC,EAAG0P,EAAM,CAAC,GAChCoX,OAAOC,KAAKrX,GAAKlX,SAASqtC,SACK,IAAhB7lC,EAAO6lC,GACd7lC,EAAO6lC,GAAOn2B,EAAIm2B,GACb0W,EAAS7sC,EAAIm2B,KAClB0W,EAASv8C,EAAO6lC,KAChB/e,OAAOC,KAAKrX,EAAIm2B,IAAM55C,OAAS,GAC/BuwD,EAAOx8C,EAAO6lC,GAAMn2B,EAAIm2B,GAC5B,GAER,+bAEA,MAAM4W,EAAc,CAChBpwD,KAAM,CAAC,EACP24C,mBAAqB,EACrB0X,sBAAwB,EACxBzjB,cAAe,CACX0jB,OAAS,EACTC,SAAU,IAEdC,cAAa,IACF,KAEXC,iBAAgB,IACL,GAEX1+C,eAAc,IACH,KAEX2+C,YAAW,KACA,CACHC,YAAc,IAGtB1yD,cAAa,KACF,CACHua,SAAU,GACVo4C,WAAY,GACZzyD,MAAO,CAAC,EACRoJ,eAAiB,EACjB0T,qBAAoB,IACT,KAInB41C,gBAAe,KACJ,CAAC,GAEZC,WAAU,IACC,KAEXC,SAAU,CACNC,KAAM,GACNC,KAAM,GACNC,SAAU,GACVp0C,KAAM,GACNq0C,OAAQ,GACRC,SAAU,GACVC,SAAU,GACVC,OAAQ,KAGhB,SAASC,IACL,MAAMC,EAA0B,oBAAbxzD,SAA2BA,SAAW,CAAC,EAE1D,OADAmyD,EAAOqB,EAAKpB,GACLoB,CACX,CAEA,MAAMC,EAAY,CACdzzD,SAAUoyD,EACVd,UAAW,CACPD,UAAW,IAEf0B,SAAU,CACNC,KAAM,GACNC,KAAM,GACNC,SAAU,GACVp0C,KAAM,GACNq0C,OAAQ,GACRC,SAAU,GACVC,SAAU,GACVC,OAAQ,IAEZI,QAAS,CACLC,eAAiB,EACjBC,YAAc,EACdC,KAAO,EACPC,OAAS,GAEbC,YAAa,WACT,OAAO52D,IACX,EACAw9C,mBAAqB,EACrB0X,sBAAwB,EACxB2B,iBAAgB,KACL,CACHC,iBAAgB,IACL,KAInBnvC,QAAU,EACVkB,OAAS,EACTkuC,OAAQ,CAAC,EACTjvD,aAAe,EACfkvD,eAAiB,EACjBC,WAAU,KACC,CAAC,GAEZC,sBAAsBC,GACQ,oBAAfrvD,YACPqvD,IACO,MAEJrvD,WAAWqvD,EAAU,GAEhCC,qBAAqBlyD,GACS,oBAAf4C,YAGXkvD,aAAa9xD,EACjB,GAEJ,SAAS,IACL,MAAMmyD,EAAwB,oBAAXxvD,OAAyBA,OAAS,CAAC,EAEtD,OADAmtD,EAAOqC,EAAKf,GACLe,CACX,CCrHA,MAAMC,UAAap3C,MACjBomB,YAAYT,GACW,iBAAVA,EACT0xB,MAAM1xB,IAEN0xB,SAAU1xB,GAAS,IAnBzB,SAAsBke,GACpB,MAAMyT,EAAQzT,EAAI0T,UAClBn4B,OAAOssB,eAAe7H,EAAK,YAAa,CACtCzgB,IAAG,IACMk0B,EAGTz0B,IAAI9hC,GACFu2D,EAAMC,UAAYx2D,CACpB,GAGJ,CAQMy2D,CAAa13D,MAEjB,EAIF,SAAS23D,EAAUC,EAAM,IACvB,MAAMC,EAAM,GAQZ,OAPAD,EAAI5mD,SAAQwrC,IACNt8B,MAAM8C,QAAQw5B,GAChBqb,EAAInhD,QAAQihD,EAAUnb,IAEtBqb,EAAInhD,KAAK8lC,EACX,IAEKqb,CACT,CACA,SAASC,EAAYF,EAAKT,GACxB,OAAOj3C,MAAM63C,UAAUpvB,OAAOqvB,KAAKJ,EAAKT,EAC1C,CA+BA,SAASc,EAAEC,EAAU5lD,GACnB,MAAMzK,EAAS,IACThF,EAAWuzD,IACjB,IAAIwB,EAAM,GAEV,IAAKtlD,GAAW4lD,aAAoBZ,EAClC,OAAOY,EAGT,IAAKA,EACH,OAAO,IAAIZ,EAAKM,GAGlB,GAAwB,iBAAbM,EAAuB,CAChC,MAAM3E,EAAO2E,EAASC,OAEtB,GAAI5E,EAAK79C,QAAQ,MAAQ,GAAK69C,EAAK79C,QAAQ,MAAQ,EAAG,CACpD,IAAI0iD,EAAW,MACa,IAAxB7E,EAAK79C,QAAQ,SAAc0iD,EAAW,MACd,IAAxB7E,EAAK79C,QAAQ,SAAc0iD,EAAW,SACd,IAAxB7E,EAAK79C,QAAQ,QAAwC,IAAxB69C,EAAK79C,QAAQ,SAAc0iD,EAAW,MACxC,IAA3B7E,EAAK79C,QAAQ,YAAiB0iD,EAAW,SACb,IAA5B7E,EAAK79C,QAAQ,aAAkB0iD,EAAW,UAC9C,MAAMC,EAAax1D,EAASC,cAAcs1D,GAC1CC,EAAW3sD,UAAY6nD,EAEvB,IAAK,IAAI3+C,EAAI,EAAGA,EAAIyjD,EAAW5C,WAAWhxD,OAAQmQ,GAAK,EACrDgjD,EAAIlhD,KAAK2hD,EAAW5C,WAAW7gD,GAEnC,MACEgjD,EA7CN,SAAaM,EAAU5lD,GACrB,GAAwB,iBAAb4lD,EACT,MAAO,CAACA,GAGV,MAAM7D,EAAI,GACJwD,EAAMvlD,EAAQgjD,iBAAiB4C,GAErC,IAAK,IAAItjD,EAAI,EAAGA,EAAIijD,EAAIpzD,OAAQmQ,GAAK,EACnCy/C,EAAE39C,KAAKmhD,EAAIjjD,IAGb,OAAOy/C,CACT,CAgCYiE,CAAIJ,EAASC,OAAQ7lD,GAAWzP,EAG1C,MAAO,GAAIq1D,EAASK,UAAYL,IAAarwD,GAAUqwD,IAAar1D,EAClE+0D,EAAIlhD,KAAKwhD,QACJ,GAAIh4C,MAAM8C,QAAQk1C,GAAW,CAClC,GAAIA,aAAoBZ,EAAM,OAAOY,EACrCN,EAAMM,CACR,CAEA,OAAO,IAAIZ,EAtEb,SAAqBM,GACnB,MAAMY,EAAc,GAEpB,IAAK,IAAI5jD,EAAI,EAAGA,EAAIgjD,EAAInzD,OAAQmQ,GAAK,GACE,IAAjC4jD,EAAY9iD,QAAQkiD,EAAIhjD,KAAY4jD,EAAY9hD,KAAKkhD,EAAIhjD,IAG/D,OAAO4jD,CACT,CA8DkBC,CAAYb,GAC9B,CAEAK,EAAES,GAAKpB,EAAKS,UA4xCZ,MAAMY,EAAY,gBAAgBtqC,MAAM,KAExC,SAASuqC,EAASxgD,GAiBhB,OAhBA,YAAyBygD,GACvB,QAAuB,IAAZA,EAAK,GAAoB,CAClC,IAAK,IAAIjkD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAChC+jD,EAAUjjD,QAAQ0C,GAAQ,IACxBA,KAAQpY,KAAK4U,GAAI5U,KAAK4U,GAAGwD,KAC3B6/C,EAAEj4D,KAAK4U,IAAItS,QAAQ8V,IAKzB,OAAOpY,IACT,CAEA,OAAOA,KAAK49C,GAAGxlC,KAASygD,EAC1B,CAGF,CAEcD,EAAS,SACVA,EAAS,QACRA,EAAS,SACPA,EAAS,WACRA,EAAS,YACZA,EAAS,SACPA,EAAS,WACRA,EAAS,YACXA,EAAS,UACTA,EAAS,UACNA,EAAS,aACTA,EAAS,aACXA,EAAS,WACNA,EAAS,cACTA,EAAS,cACXA,EAAS,YACRA,EAAS,aACRA,EAAS,cACXA,EAAS,YACRA,EAAS,aACZA,EAAS,UACTA,EAAS,UArBxB,MCh7CME,EAAU,CACdC,SDiIF,YAAqBC,GACnB,MAAM9R,EAAayQ,EAAUqB,EAAQpR,KAAIqR,GAAKA,EAAE5qC,MAAM,QAItD,OAHAruB,KAAKgR,SAAQwrC,IACXA,EAAGvnC,UAAUC,OAAOgyC,EAAW,IAE1BlnD,IACT,ECtIEk5D,YDwIF,YAAwBF,GACtB,MAAM9R,EAAayQ,EAAUqB,EAAQpR,KAAIqR,GAAKA,EAAE5qC,MAAM,QAItD,OAHAruB,KAAKgR,SAAQwrC,IACXA,EAAGvnC,UAAUJ,UAAUqyC,EAAW,IAE7BlnD,IACT,EC7IEm5D,SDwJF,YAAqBH,GACnB,MAAM9R,EAAayQ,EAAUqB,EAAQpR,KAAIqR,GAAKA,EAAE5qC,MAAM,QACtD,OAAOypC,EAAY93D,MAAMw8C,GAChB0K,EAAWve,QAAO5lC,GAAay5C,EAAGvnC,UAAU08B,SAAS5uC,KAAY0B,OAAS,IAChFA,OAAS,CACd,EC5JE20D,YD8IF,YAAwBJ,GACtB,MAAM9R,EAAayQ,EAAUqB,EAAQpR,KAAIqR,GAAKA,EAAE5qC,MAAM,QACtDruB,KAAKgR,SAAQwrC,IACX0K,EAAWl2C,SAAQjO,IACjBy5C,EAAGvnC,UAAUokD,OAAOt2D,EAAU,GAC9B,GAEN,ECpJEu2D,KD6JF,SAAcC,EAAOt4D,GACnB,GAAyB,IAArBu4D,UAAU/0D,QAAiC,iBAAV80D,EAEnC,OAAIv5D,KAAK,GAAWA,KAAK,GAAGmiD,aAAaoX,QACzC,EAIF,IAAK,IAAI3kD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EACpC,GAAyB,IAArB4kD,UAAU/0D,OAEZzE,KAAK4U,GAAGxI,aAAamtD,EAAOt4D,QAG5B,IAAK,MAAMw4D,KAAYF,EACrBv5D,KAAK4U,GAAG6kD,GAAYF,EAAME,GAC1Bz5D,KAAK4U,GAAGxI,aAAaqtD,EAAUF,EAAME,IAK3C,OAAOz5D,IACT,EClLE05D,WDoLF,SAAoBJ,GAClB,IAAK,IAAI1kD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EACpC5U,KAAK4U,GAAGqf,gBAAgBqlC,GAG1B,OAAOt5D,IACT,ECzLE4yB,UD6TF,SAAmBA,GACjB,IAAK,IAAIhe,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EACpC5U,KAAK4U,GAAG5R,MAAM4vB,UAAYA,EAG5B,OAAO5yB,IACT,EClUE25D,WDoUF,SAAoBC,GAClB,IAAK,IAAIhlD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EACpC5U,KAAK4U,GAAG5R,MAAM62D,mBAAyC,iBAAbD,EAAwB,GAAGA,MAAeA,EAGtF,OAAO55D,IACT,ECzUE49C,GD2UF,YAAeib,GACb,IAAKriC,EAAWsjC,EAAgBC,EAAUC,GAAWnB,EASrD,SAASoB,EAAgB74D,GACvB,MAAMoX,EAASpX,EAAEoX,OACjB,IAAKA,EAAQ,OACb,MAAM0hD,EAAY94D,EAAEoX,OAAO2hD,eAAiB,GAM5C,GAJID,EAAUxkD,QAAQtU,GAAK,GACzB84D,EAAUE,QAAQh5D,GAGhB62D,EAAEz/C,GAAQ6hD,GAAGP,GAAiBC,EAASxuB,MAAM/yB,EAAQ0hD,OAAgB,CACvE,MAAMI,EAAUrC,EAAEz/C,GAAQ8hD,UAE1B,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQ71D,OAAQ81D,GAAK,EACnCtC,EAAEqC,EAAQC,IAAIF,GAAGP,IAAiBC,EAASxuB,MAAM+uB,EAAQC,GAAIL,EAErE,CACF,CAEA,SAASM,EAAYp5D,GACnB,MAAM84D,EAAY94D,GAAKA,EAAEoX,QAASpX,EAAEoX,OAAO2hD,eAAsB,GAE7DD,EAAUxkD,QAAQtU,GAAK,GACzB84D,EAAUE,QAAQh5D,GAGpB24D,EAASxuB,MAAMvrC,KAAMk6D,EACvB,CAjCuB,mBAAZrB,EAAK,MACbriC,EAAWujC,EAAUC,GAAWnB,EACjCiB,OAAiB94D,GAGdg5D,IAASA,GAAU,GA8BxB,MAAMS,EAASjkC,EAAUnI,MAAM,KAC/B,IAAIqsC,EAEJ,IAAK,IAAI9lD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAAG,CACvC,MAAM4nC,EAAKx8C,KAAK4U,GAEhB,GAAKklD,EAaH,IAAKY,EAAI,EAAGA,EAAID,EAAOh2D,OAAQi2D,GAAK,EAAG,CACrC,MAAMtpC,EAAQqpC,EAAOC,GAChBle,EAAGme,oBAAmBne,EAAGme,kBAAoB,CAAC,GAC9Cne,EAAGme,kBAAkBvpC,KAAQorB,EAAGme,kBAAkBvpC,GAAS,IAChEorB,EAAGme,kBAAkBvpC,GAAO1a,KAAK,CAC/BqjD,WACAa,cAAeX,IAEjBzd,EAAGgB,iBAAiBpsB,EAAO6oC,EAAiBD,EAC9C,MArBA,IAAKU,EAAI,EAAGA,EAAID,EAAOh2D,OAAQi2D,GAAK,EAAG,CACrC,MAAMtpC,EAAQqpC,EAAOC,GAChBle,EAAGqe,gBAAere,EAAGqe,cAAgB,CAAC,GACtCre,EAAGqe,cAAczpC,KAAQorB,EAAGqe,cAAczpC,GAAS,IACxDorB,EAAGqe,cAAczpC,GAAO1a,KAAK,CAC3BqjD,WACAa,cAAeJ,IAEjBhe,EAAGgB,iBAAiBpsB,EAAOopC,EAAaR,EAC1C,CAcJ,CAEA,OAAOh6D,IACT,ECjZE86D,IDmZF,YAAgBjC,GACd,IAAKriC,EAAWsjC,EAAgBC,EAAUC,GAAWnB,EAE9B,mBAAZA,EAAK,MACbriC,EAAWujC,EAAUC,GAAWnB,EACjCiB,OAAiB94D,GAGdg5D,IAASA,GAAU,GACxB,MAAMS,EAASjkC,EAAUnI,MAAM,KAE/B,IAAK,IAAIzZ,EAAI,EAAGA,EAAI6lD,EAAOh2D,OAAQmQ,GAAK,EAAG,CACzC,MAAMwc,EAAQqpC,EAAO7lD,GAErB,IAAK,IAAI8lD,EAAI,EAAGA,EAAI16D,KAAKyE,OAAQi2D,GAAK,EAAG,CACvC,MAAMle,EAAKx8C,KAAK06D,GAChB,IAAIK,EAQJ,IANKjB,GAAkBtd,EAAGqe,cACxBE,EAAWve,EAAGqe,cAAczpC,GACnB0oC,GAAkBtd,EAAGme,oBAC9BI,EAAWve,EAAGme,kBAAkBvpC,IAG9B2pC,GAAYA,EAASt2D,OACvB,IAAK,IAAI81D,EAAIQ,EAASt2D,OAAS,EAAG81D,GAAK,EAAGA,GAAK,EAAG,CAChD,MAAMS,EAAUD,EAASR,GAErBR,GAAYiB,EAAQjB,WAAaA,GAG1BA,GAAYiB,EAAQjB,UAAYiB,EAAQjB,SAASkB,WAAaD,EAAQjB,SAASkB,YAAclB,GAFtGvd,EAAG0Y,oBAAoB9jC,EAAO4pC,EAAQJ,cAAeZ,GACrDe,EAASn3C,OAAO22C,EAAG,IAITR,IACVvd,EAAG0Y,oBAAoB9jC,EAAO4pC,EAAQJ,cAAeZ,GACrDe,EAASn3C,OAAO22C,EAAG,GAEvB,CAEJ,CACF,CAEA,OAAOv6D,IACT,EC9bEsC,QDsdF,YAAoBu2D,GAClB,MAAMhxD,EAAS,IACT4yD,EAAS5B,EAAK,GAAGxqC,MAAM,KACvB6rC,EAAYrB,EAAK,GAEvB,IAAK,IAAIjkD,EAAI,EAAGA,EAAI6lD,EAAOh2D,OAAQmQ,GAAK,EAAG,CACzC,MAAMwc,EAAQqpC,EAAO7lD,GAErB,IAAK,IAAI8lD,EAAI,EAAGA,EAAI16D,KAAKyE,OAAQi2D,GAAK,EAAG,CACvC,MAAMle,EAAKx8C,KAAK06D,GAEhB,GAAI7yD,EAAO+uD,YAAa,CACtB,MAAMsE,EAAM,IAAIrzD,EAAO+uD,YAAYxlC,EAAO,CACxC+pC,OAAQjB,EACRkB,SAAS,EACTC,YAAY,IAEd7e,EAAG2d,cAAgBtB,EAAKlwB,QAAO,CAACj/B,EAAM4xD,IAAcA,EAAY,IAChE9e,EAAG+e,cAAcL,GACjB1e,EAAG2d,cAAgB,UACZ3d,EAAG2d,aACZ,CACF,CACF,CAEA,OAAOn6D,IACT,EC/eEw7D,cDifF,SAAuBrE,GACrB,MAAMsE,EAAMz7D,KAYZ,OAJIm3D,GACFsE,EAAI7d,GAAG,iBAPT,SAAS8d,EAAat6D,GAChBA,EAAEoX,SAAWxY,OACjBm3D,EAASa,KAAKh4D,KAAMoB,GACpBq6D,EAAIX,IAAI,gBAAiBY,GAC3B,IAMO17D,IACT,EC9fE2K,WD8hBF,SAAoBgxD,GAClB,GAAI37D,KAAKyE,OAAS,EAAG,CACnB,GAAIk3D,EAAgB,CAClB,MAAMC,EAAS57D,KAAK47D,SACpB,OAAO57D,KAAK,GAAG67D,YAAcC,WAAWF,EAAO9E,iBAAiB,iBAAmBgF,WAAWF,EAAO9E,iBAAiB,eACxH,CAEA,OAAO92D,KAAK,GAAG67D,WACjB,CAEA,OAAO,IACT,ECxiBE/wD,YDwjBF,SAAqB6wD,GACnB,GAAI37D,KAAKyE,OAAS,EAAG,CACnB,GAAIk3D,EAAgB,CAClB,MAAMC,EAAS57D,KAAK47D,SACpB,OAAO57D,KAAK,GAAGoR,aAAe0qD,WAAWF,EAAO9E,iBAAiB,eAAiBgF,WAAWF,EAAO9E,iBAAiB,iBACvH,CAEA,OAAO92D,KAAK,GAAGoR,YACjB,CAEA,OAAO,IACT,EClkBEwqD,ODmnBF,WACE,MAAM/zD,EAAS,IACf,OAAI7H,KAAK,GAAW6H,EAAOgvD,iBAAiB72D,KAAK,GAAI,MAC9C,CAAC,CACV,ECtnBEmsB,ODmkBF,WACE,GAAInsB,KAAKyE,OAAS,EAAG,CACnB,MAAMoD,EAAS,IACThF,EAAWuzD,IACX5Z,EAAKx8C,KAAK,GACV+7D,EAAMvf,EAAGyF,wBACTp9C,EAAOhC,EAASgC,KAChBm3D,EAAYxf,EAAGwf,WAAan3D,EAAKm3D,WAAa,EAC9CC,EAAazf,EAAGyf,YAAcp3D,EAAKo3D,YAAc,EACjDC,EAAY1f,IAAO30C,EAASA,EAAOs0D,QAAU3f,EAAG0f,UAChDE,EAAa5f,IAAO30C,EAASA,EAAOw0D,QAAU7f,EAAG4f,WACvD,MAAO,CACLloD,IAAK6nD,EAAI7nD,IAAMgoD,EAAYF,EAC3BvxD,KAAMsxD,EAAItxD,KAAO2xD,EAAaH,EAElC,CAEA,OAAO,IACT,ECplBEK,IDunBF,SAAaC,EAAOt7D,GAClB,MAAM4G,EAAS,IACf,IAAI+M,EAEJ,GAAyB,IAArB4kD,UAAU/0D,OAAc,CAC1B,GAAqB,iBAAV83D,EAGJ,CAEL,IAAK3nD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAChC,IAAK,MAAM2iB,KAAQglC,EACjBv8D,KAAK4U,GAAG5R,MAAMu0B,GAAQglC,EAAMhlC,GAIhC,OAAOv3B,IACT,CAVE,GAAIA,KAAK,GAAI,OAAO6H,EAAOgvD,iBAAiB72D,KAAK,GAAI,MAAM82D,iBAAiByF,EAWhF,CAEA,GAAyB,IAArB/C,UAAU/0D,QAAiC,iBAAV83D,EAAoB,CAEvD,IAAK3nD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAChC5U,KAAK4U,GAAG5R,MAAMu5D,GAASt7D,EAGzB,OAAOjB,IACT,CAEA,OAAOA,IACT,ECppBEw8D,KDspBF,SAAcrF,GACZ,OAAKA,GACLn3D,KAAKgR,SAAQ,CAACwrC,EAAIhoC,KAChB2iD,EAAS5rB,MAAMiR,EAAI,CAACA,EAAIhoC,GAAO,IAE1BxU,MAJeA,IAKxB,EC3pBEuzD,KDkqBF,SAAcA,GACZ,QAAoB,IAATA,EACT,OAAOvzD,KAAK,GAAKA,KAAK,GAAG0L,UAAY,KAGvC,IAAK,IAAIkJ,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EACpC5U,KAAK4U,GAAGlJ,UAAY6nD,EAGtB,OAAOvzD,IACT,EC3qBEgF,KD6qBF,SAAcA,GACZ,QAAoB,IAATA,EACT,OAAOhF,KAAK,GAAKA,KAAK,GAAGy4B,YAAY0/B,OAAS,KAGhD,IAAK,IAAIvjD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EACpC5U,KAAK4U,GAAG6jB,YAAczzB,EAGxB,OAAOhF,IACT,ECtrBEq6D,GDwrBF,SAAYnC,GACV,MAAMrwD,EAAS,IACThF,EAAWuzD,IACX5Z,EAAKx8C,KAAK,GAChB,IAAIy8D,EACA7nD,EACJ,IAAK4nC,QAA0B,IAAb0b,EAA0B,OAAO,EAEnD,GAAwB,iBAAbA,EAAuB,CAChC,GAAI1b,EAAGjtB,QAAS,OAAOitB,EAAGjtB,QAAQ2oC,GAClC,GAAI1b,EAAGkgB,sBAAuB,OAAOlgB,EAAGkgB,sBAAsBxE,GAC9D,GAAI1b,EAAGmgB,kBAAmB,OAAOngB,EAAGmgB,kBAAkBzE,GAGtD,IAFAuE,EAAcxE,EAAEC,GAEXtjD,EAAI,EAAGA,EAAI6nD,EAAYh4D,OAAQmQ,GAAK,EACvC,GAAI6nD,EAAY7nD,KAAO4nC,EAAI,OAAO,EAGpC,OAAO,CACT,CAEA,GAAI0b,IAAar1D,EACf,OAAO25C,IAAO35C,EAGhB,GAAIq1D,IAAarwD,EACf,OAAO20C,IAAO30C,EAGhB,GAAIqwD,EAASK,UAAYL,aAAoBZ,EAAM,CAGjD,IAFAmF,EAAcvE,EAASK,SAAW,CAACL,GAAYA,EAE1CtjD,EAAI,EAAGA,EAAI6nD,EAAYh4D,OAAQmQ,GAAK,EACvC,GAAI6nD,EAAY7nD,KAAO4nC,EAAI,OAAO,EAGpC,OAAO,CACT,CAEA,OAAO,CACT,EC/tBEhoC,MDiuBF,WACE,IACII,EADAw/C,EAAQp0D,KAAK,GAGjB,GAAIo0D,EAAO,CAGT,IAFAx/C,EAAI,EAEuC,QAAnCw/C,EAAQA,EAAMwI,kBACG,IAAnBxI,EAAMmE,WAAgB3jD,GAAK,GAGjC,OAAOA,CACT,CAGF,EC/uBEioD,GDivBF,SAAYroD,GACV,QAAqB,IAAVA,EAAuB,OAAOxU,KACzC,MAAMyE,EAASzE,KAAKyE,OAEpB,GAAI+P,EAAQ/P,EAAS,EACnB,OAAOwzD,EAAE,IAGX,GAAIzjD,EAAQ,EAAG,CACb,MAAMsoD,EAAcr4D,EAAS+P,EAC7B,OAA4ByjD,EAAxB6E,EAAc,EAAY,GACrB,CAAC98D,KAAK88D,IACjB,CAEA,OAAO7E,EAAE,CAACj4D,KAAKwU,IACjB,EC/vBEynB,ODiwBF,YAAmB8gC,GACjB,IAAIC,EACJ,MAAMn6D,EAAWuzD,IAEjB,IAAK,IAAImE,EAAI,EAAGA,EAAIwC,EAAIt4D,OAAQ81D,GAAK,EAAG,CACtCyC,EAAWD,EAAIxC,GAEf,IAAK,IAAI3lD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EACpC,GAAwB,iBAAbooD,EAAuB,CAChC,MAAMC,EAAUp6D,EAASC,cAAc,OAGvC,IAFAm6D,EAAQvxD,UAAYsxD,EAEbC,EAAQnI,YACb90D,KAAK4U,GAAGtR,YAAY25D,EAAQnI,WAEhC,MAAO,GAAIkI,aAAoB1F,EAC7B,IAAK,IAAIoD,EAAI,EAAGA,EAAIsC,EAASv4D,OAAQi2D,GAAK,EACxC16D,KAAK4U,GAAGtR,YAAY05D,EAAStC,SAG/B16D,KAAK4U,GAAGtR,YAAY05D,EAG1B,CAEA,OAAOh9D,IACT,EC1xBEk9D,QDiyBF,SAAiBF,GACf,MAAMn6D,EAAWuzD,IACjB,IAAIxhD,EACA8lD,EAEJ,IAAK9lD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAChC,GAAwB,iBAAbooD,EAAuB,CAChC,MAAMC,EAAUp6D,EAASC,cAAc,OAGvC,IAFAm6D,EAAQvxD,UAAYsxD,EAEftC,EAAIuC,EAAQxH,WAAWhxD,OAAS,EAAGi2D,GAAK,EAAGA,GAAK,EACnD16D,KAAK4U,GAAG45B,aAAayuB,EAAQxH,WAAWiF,GAAI16D,KAAK4U,GAAG6gD,WAAW,GAEnE,MAAO,GAAIuH,aAAoB1F,EAC7B,IAAKoD,EAAI,EAAGA,EAAIsC,EAASv4D,OAAQi2D,GAAK,EACpC16D,KAAK4U,GAAG45B,aAAawuB,EAAStC,GAAI16D,KAAK4U,GAAG6gD,WAAW,SAGvDz1D,KAAK4U,GAAG45B,aAAawuB,EAAUh9D,KAAK4U,GAAG6gD,WAAW,IAItD,OAAOz1D,IACT,ECvzBEm9D,KD01BF,SAAcjF,GACZ,OAAIl4D,KAAKyE,OAAS,EACZyzD,EACEl4D,KAAK,GAAGo9D,oBAAsBnF,EAAEj4D,KAAK,GAAGo9D,oBAAoB/C,GAAGnC,GAC1DD,EAAE,CAACj4D,KAAK,GAAGo9D,qBAGbnF,EAAE,IAGPj4D,KAAK,GAAGo9D,mBAA2BnF,EAAE,CAACj4D,KAAK,GAAGo9D,qBAC3CnF,EAAE,IAGJA,EAAE,GACX,ECx2BEoF,QD02BF,SAAiBnF,GACf,MAAMoF,EAAU,GAChB,IAAI9gB,EAAKx8C,KAAK,GACd,IAAKw8C,EAAI,OAAOyb,EAAE,IAElB,KAAOzb,EAAG4gB,oBAAoB,CAC5B,MAAMD,EAAO3gB,EAAG4gB,mBAEZlF,EACED,EAAEkF,GAAM9C,GAAGnC,IAAWoF,EAAQ5mD,KAAKymD,GAClCG,EAAQ5mD,KAAKymD,GAEpB3gB,EAAK2gB,CACP,CAEA,OAAOlF,EAAEqF,EACX,ECz3BEC,KD23BF,SAAcrF,GACZ,GAAIl4D,KAAKyE,OAAS,EAAG,CACnB,MAAM+3C,EAAKx8C,KAAK,GAEhB,OAAIk4D,EACE1b,EAAGghB,wBAA0BvF,EAAEzb,EAAGghB,wBAAwBnD,GAAGnC,GACxDD,EAAE,CAACzb,EAAGghB,yBAGRvF,EAAE,IAGPzb,EAAGghB,uBAA+BvF,EAAE,CAACzb,EAAGghB,yBACrCvF,EAAE,GACX,CAEA,OAAOA,EAAE,GACX,EC34BEwF,QD64BF,SAAiBvF,GACf,MAAMwF,EAAU,GAChB,IAAIlhB,EAAKx8C,KAAK,GACd,IAAKw8C,EAAI,OAAOyb,EAAE,IAElB,KAAOzb,EAAGghB,wBAAwB,CAChC,MAAMD,EAAO/gB,EAAGghB,uBAEZtF,EACED,EAAEsF,GAAMlD,GAAGnC,IAAWwF,EAAQhnD,KAAK6mD,GAClCG,EAAQhnD,KAAK6mD,GAEpB/gB,EAAK+gB,CACP,CAEA,OAAOtF,EAAEyF,EACX,EC55BEvwD,ODk6BF,SAAgB+qD,GACd,MAAMoC,EAAU,GAEhB,IAAK,IAAI1lD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EACT,OAAvB5U,KAAK4U,GAAGkd,aACNomC,EACED,EAAEj4D,KAAK4U,GAAGkd,YAAYuoC,GAAGnC,IAAWoC,EAAQ5jD,KAAK1W,KAAK4U,GAAGkd,YAE7DwoC,EAAQ5jD,KAAK1W,KAAK4U,GAAGkd,aAK3B,OAAOmmC,EAAEqC,EACX,EC/6BEA,QDi7BF,SAAiBpC,GACf,MAAMoC,EAAU,GAEhB,IAAK,IAAI1lD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAAG,CACvC,IAAIzH,EAASnN,KAAK4U,GAAGkd,WAErB,KAAO3kB,GACD+qD,EACED,EAAE9qD,GAAQktD,GAAGnC,IAAWoC,EAAQ5jD,KAAKvJ,GAEzCmtD,EAAQ5jD,KAAKvJ,GAGfA,EAASA,EAAO2kB,UAEpB,CAEA,OAAOmmC,EAAEqC,EACX,ECl8BEqD,QDo8BF,SAAiBzF,GACf,IAAIyF,EAAU39D,KAEd,YAAwB,IAAbk4D,EACFD,EAAE,KAGN0F,EAAQtD,GAAGnC,KACdyF,EAAUA,EAAQrD,QAAQpC,GAAU2E,GAAG,IAGlCc,EACT,EC/8BEC,KDi9BF,SAAc1F,GACZ,MAAM2F,EAAgB,GAEtB,IAAK,IAAIjpD,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAAG,CACvC,MAAMkpD,EAAQ99D,KAAK4U,GAAG0gD,iBAAiB4C,GAEvC,IAAK,IAAIwC,EAAI,EAAGA,EAAIoD,EAAMr5D,OAAQi2D,GAAK,EACrCmD,EAAcnnD,KAAKonD,EAAMpD,GAE7B,CAEA,OAAOzC,EAAE4F,EACX,EC59BExgD,SD89BF,SAAkB66C,GAChB,MAAM76C,EAAW,GAEjB,IAAK,IAAIzI,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAAG,CACvC,MAAM6gD,EAAaz1D,KAAK4U,GAAGyI,SAE3B,IAAK,IAAIq9C,EAAI,EAAGA,EAAIjF,EAAWhxD,OAAQi2D,GAAK,EACrCxC,IAAYD,EAAExC,EAAWiF,IAAIL,GAAGnC,IACnC76C,EAAS3G,KAAK++C,EAAWiF,GAG/B,CAEA,OAAOzC,EAAE56C,EACX,EC3+BEsrB,OD6oBF,SAAgBwuB,GAEd,OAAOc,EADQH,EAAY93D,KAAMm3D,GAEnC,EC/oBEtiD,OD4+BF,WACE,IAAK,IAAID,EAAI,EAAGA,EAAI5U,KAAKyE,OAAQmQ,GAAK,EAChC5U,KAAK4U,GAAGkd,YAAY9xB,KAAK4U,GAAGkd,WAAWlpB,YAAY5I,KAAK4U,IAG9D,OAAO5U,IACT,GCh/BAs/B,OAAOC,KAAKu5B,GAAS9nD,SAAQ+sD,IAC3Bz+B,OAAOssB,eAAeqM,EAAES,GAAIqF,EAAY,CACtC98D,MAAO63D,EAAQiF,GACfC,UAAU,GACV,IAEJ,UC5BA,SAASC,EAAS9G,EAAU9Z,GAK1B,YAJc,IAAVA,IACFA,EAAQ,GAGHv1C,WAAWqvD,EAAU9Z,EAC9B,CAEA,SAASv0B,IACP,OAAOD,KAAKC,KACd,CAqBA,SAASo1C,EAAa1hB,EAAI2hB,QACX,IAATA,IACFA,EAAO,KAGT,MAAMt2D,EAAS,IACf,IAAIu2D,EACAC,EACAC,EACJ,MAAMC,EA5BR,SAA0B/hB,GACxB,MAAM30C,EAAS,IACf,IAAI7E,EAcJ,OAZI6E,EAAOgvD,mBACT7zD,EAAQ6E,EAAOgvD,iBAAiBra,EAAI,QAGjCx5C,GAASw5C,EAAGgiB,eACfx7D,EAAQw5C,EAAGgiB,cAGRx7D,IACHA,EAAQw5C,EAAGx5C,OAGNA,CACT,CAWmB,CAAiBw5C,GA+BlC,OA7BI30C,EAAO42D,iBACTJ,EAAeE,EAAS3rC,WAAa2rC,EAASG,gBAE1CL,EAAahwC,MAAM,KAAK5pB,OAAS,IACnC45D,EAAeA,EAAahwC,MAAM,MAAMu5B,KAAIyM,GAAKA,EAAEx1C,QAAQ,IAAK,OAAMmV,KAAK,OAK7EsqC,EAAkB,IAAIz2D,EAAO42D,gBAAiC,SAAjBJ,EAA0B,GAAKA,KAE5EC,EAAkBC,EAASI,cAAgBJ,EAASK,YAAcL,EAASM,aAAeN,EAASO,aAAeP,EAAS3rC,WAAa2rC,EAASzH,iBAAiB,aAAaj4C,QAAQ,aAAc,sBACrMu/C,EAASE,EAAgBzwD,WAAWwgB,MAAM,MAG/B,MAAT8vC,IAE0BE,EAAxBx2D,EAAO42D,gBAAgCH,EAAgBS,IAChC,KAAlBX,EAAO35D,OAA8Bq3D,WAAWsC,EAAO,KAC5CtC,WAAWsC,EAAO,KAG3B,MAATD,IAE0BE,EAAxBx2D,EAAO42D,gBAAgCH,EAAgBU,IAChC,KAAlBZ,EAAO35D,OAA8Bq3D,WAAWsC,EAAO,KAC5CtC,WAAWsC,EAAO,KAGjCC,GAAgB,CACzB,CAEA,SAAS,EAASvoB,GAChB,MAAoB,iBAANA,GAAwB,OAANA,GAAcA,EAAExP,aAAkE,WAAnDhH,OAAOy4B,UAAUlqD,SAASmqD,KAAKliB,GAAGwX,MAAM,GAAI,EAC7G,CAEA,SAAS2R,EAAO30C,GAEd,MAAsB,oBAAXziB,aAAwD,IAAvBA,OAAO4X,YAC1C6K,aAAgB7K,YAGlB6K,IAA2B,IAAlBA,EAAKiuC,UAAoC,KAAlBjuC,EAAKiuC,SAC9C,CAEA,SAAS,IACP,MAAM2G,EAAK5/B,OAAOk6B,UAAU/0D,QAAU,OAAIzD,EAAYw4D,UAAU,IAC1D2F,EAAW,CAAC,YAAa,cAAe,aAE9C,IAAK,IAAIvqD,EAAI,EAAGA,EAAI4kD,UAAU/0D,OAAQmQ,GAAK,EAAG,CAC5C,MAAMwqD,EAAaxqD,EAAI,GAAK4kD,UAAU/0D,QAAUmQ,OAAI5T,EAAYw4D,UAAU5kD,GAE1E,GAAIwqD,UAAoDH,EAAOG,GAAa,CAC1E,MAAMC,EAAY//B,OAAOC,KAAKD,OAAO8/B,IAAaz2B,QAAO0V,GAAO8gB,EAASzpD,QAAQ2oC,GAAO,IAExF,IAAK,IAAIihB,EAAY,EAAGC,EAAMF,EAAU56D,OAAQ66D,EAAYC,EAAKD,GAAa,EAAG,CAC/E,MAAME,EAAUH,EAAUC,GACpBG,EAAOngC,OAAOqsB,yBAAyByT,EAAYI,QAE5Cx+D,IAATy+D,GAAsBA,EAAKC,aACzB,EAASR,EAAGM,KAAa,EAASJ,EAAWI,IAC3CJ,EAAWI,GAASG,WACtBT,EAAGM,GAAWJ,EAAWI,GAEzB,EAAON,EAAGM,GAAUJ,EAAWI,KAEvB,EAASN,EAAGM,KAAa,EAASJ,EAAWI,KACvDN,EAAGM,GAAW,CAAC,EAEXJ,EAAWI,GAASG,WACtBT,EAAGM,GAAWJ,EAAWI,GAEzB,EAAON,EAAGM,GAAUJ,EAAWI,KAGjCN,EAAGM,GAAWJ,EAAWI,GAG/B,CACF,CACF,CAEA,OAAON,CACT,CAEA,SAASU,EAAepjB,EAAIqjB,EAASC,GACnCtjB,EAAGx5C,MAAM+8D,YAAYF,EAASC,EAChC,CAEA,SAASE,EAAqBC,GAC5B,IAAI,OACFpiB,EAAM,eACNqiB,EAAc,KACdC,GACEF,EACJ,MAAMp4D,EAAS,IACTu4D,GAAiBviB,EAAOwiB,UAC9B,IACIC,EADAC,EAAY,KAEhB,MAAM3G,EAAW/b,EAAO2iB,OAAOC,MAC/B5iB,EAAO6iB,UAAU19D,MAAM29D,eAAiB,OACxC94D,EAAOuvD,qBAAqBvZ,EAAO+iB,gBACnC,MAAM1zB,EAAMgzB,EAAiBE,EAAgB,OAAS,OAEhDS,EAAe,CAACv/B,EAAS9oB,IACd,SAAR00B,GAAkB5L,GAAW9oB,GAAkB,SAAR00B,GAAkB5L,GAAW9oB,EAGvEsoD,EAAU,KACdR,GAAO,IAAIz3C,MAAOk4C,UAEA,OAAdR,IACFA,EAAYD,GAGd,MAAMU,EAAWz0C,KAAKC,IAAID,KAAKsQ,KAAKyjC,EAAOC,GAAa3G,EAAU,GAAI,GAChEqH,EAAe,GAAM10C,KAAK20C,IAAIF,EAAWz0C,KAAK40C,IAAM,EAC1D,IAAIC,EAAkBhB,EAAgBa,GAAgBf,EAAiBE,GAUvE,GARIS,EAAaO,EAAiBlB,KAChCkB,EAAkBlB,GAGpBriB,EAAO6iB,UAAUW,SAAS,CACxB,CAAClB,GAAOiB,IAGNP,EAAaO,EAAiBlB,GAUhC,OATAriB,EAAO6iB,UAAU19D,MAAM6J,SAAW,SAClCgxC,EAAO6iB,UAAU19D,MAAM29D,eAAiB,GACxC74D,YAAW,KACT+1C,EAAO6iB,UAAU19D,MAAM6J,SAAW,GAClCgxC,EAAO6iB,UAAUW,SAAS,CACxB,CAAClB,GAAOiB,GACR,SAEJv5D,EAAOuvD,qBAAqBvZ,EAAO+iB,gBAIrC/iB,EAAO+iB,eAAiB/4D,EAAOqvD,sBAAsB4J,EAAQ,EAG/DA,GACF,CC1MA,IAAIQ,ECCAC,ECDAC,EF+BJ,SAASC,IAKP,OAJKH,IACHA,EA/BJ,WACE,MAAMz5D,EAAS,IACThF,EAAWuzD,IACjB,MAAO,CACLsL,aAAc7+D,EAAS++C,iBAAmB,mBAAoB/+C,EAAS++C,gBAAgB5+C,MACvF2+D,SAAU,iBAAkB95D,GAAUA,EAAO+5D,eAAiB/+D,aAAoBgF,EAAO+5D,eACzFC,gBAAiB,WACf,IAAIC,GAAkB,EAEtB,IACE,MAAMC,EAAOziC,OAAOssB,eAAe,CAAC,EAAG,UAAW,CAEhDtoB,MACEw+B,GAAkB,CACpB,IAGFj6D,EAAO21C,iBAAiB,sBAAuB,KAAMukB,EAEvD,CADE,MAAO3gE,GACT,CAEA,OAAO0gE,CACT,CAhBiB,GAiBjBE,SACS,mBAAoBn6D,EAGjC,CAIco6D,IAGLX,CACT,CGrCA,SACE1jB,GAAG6c,EAAQO,EAASkH,GAClB,MAAMC,EAAOniE,KACb,IAAKmiE,EAAKC,iBAAmBD,EAAKniB,UAAW,OAAOmiB,EACpD,GAAuB,mBAAZnH,EAAwB,OAAOmH,EAC1C,MAAME,EAASH,EAAW,UAAY,OAKtC,OAJAzH,EAAOpsC,MAAM,KAAKrd,SAAQogB,IACnB+wC,EAAKC,gBAAgBhxC,KAAQ+wC,EAAKC,gBAAgBhxC,GAAS,IAChE+wC,EAAKC,gBAAgBhxC,GAAOixC,GAAQrH,EAAQ,IAEvCmH,CACT,EAEAG,KAAK7H,EAAQO,EAASkH,GACpB,MAAMC,EAAOniE,KACb,IAAKmiE,EAAKC,iBAAmBD,EAAKniB,UAAW,OAAOmiB,EACpD,GAAuB,mBAAZnH,EAAwB,OAAOmH,EAE1C,SAASI,IACPJ,EAAKrH,IAAIL,EAAQ8H,GAEbA,EAAYC,uBACPD,EAAYC,eAGrB,IAAK,IAAIC,EAAOjJ,UAAU/0D,OAAQo0D,EAAO,IAAI34C,MAAMuiD,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E7J,EAAK6J,GAAQlJ,UAAUkJ,GAGzB1H,EAAQzvB,MAAM42B,EAAMtJ,EACtB,CAGA,OADA0J,EAAYC,eAAiBxH,EACtBmH,EAAKvkB,GAAG6c,EAAQ8H,EAAaL,EACtC,EAEAS,MAAM3H,EAASkH,GACb,MAAMC,EAAOniE,KACb,IAAKmiE,EAAKC,iBAAmBD,EAAKniB,UAAW,OAAOmiB,EACpD,GAAuB,mBAAZnH,EAAwB,OAAOmH,EAC1C,MAAME,EAASH,EAAW,UAAY,OAMtC,OAJIC,EAAKS,mBAAmBltD,QAAQslD,GAAW,GAC7CmH,EAAKS,mBAAmBP,GAAQrH,GAG3BmH,CACT,EAEAU,OAAO7H,GACL,MAAMmH,EAAOniE,KACb,IAAKmiE,EAAKC,iBAAmBD,EAAKniB,UAAW,OAAOmiB,EACpD,IAAKA,EAAKS,mBAAoB,OAAOT,EACrC,MAAM3tD,EAAQ2tD,EAAKS,mBAAmBltD,QAAQslD,GAM9C,OAJIxmD,GAAS,GACX2tD,EAAKS,mBAAmBh/C,OAAOpP,EAAO,GAGjC2tD,CACT,EAEArH,IAAIL,EAAQO,GACV,MAAMmH,EAAOniE,KACb,OAAKmiE,EAAKC,iBAAmBD,EAAKniB,UAAkBmiB,EAC/CA,EAAKC,iBACV3H,EAAOpsC,MAAM,KAAKrd,SAAQogB,SACD,IAAZ4pC,EACTmH,EAAKC,gBAAgBhxC,GAAS,GACrB+wC,EAAKC,gBAAgBhxC,IAC9B+wC,EAAKC,gBAAgBhxC,GAAOpgB,SAAQ,CAAC8xD,EAActuD,MAC7CsuD,IAAiB9H,GAAW8H,EAAaN,gBAAkBM,EAAaN,iBAAmBxH,IAC7FmH,EAAKC,gBAAgBhxC,GAAOxN,OAAOpP,EAAO,EAC5C,GAEJ,IAEK2tD,GAZ2BA,CAapC,EAEAtiB,OACE,MAAMsiB,EAAOniE,KACb,IAAKmiE,EAAKC,iBAAmBD,EAAKniB,UAAW,OAAOmiB,EACpD,IAAKA,EAAKC,gBAAiB,OAAOD,EAClC,IAAI1H,EACA/wD,EACA4I,EAEJ,IAAK,IAAIywD,EAAQvJ,UAAU/0D,OAAQo0D,EAAO,IAAI34C,MAAM6iD,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFnK,EAAKmK,GAASxJ,UAAUwJ,GA4B1B,MAzBuB,iBAAZnK,EAAK,IAAmB34C,MAAM8C,QAAQ61C,EAAK,KACpD4B,EAAS5B,EAAK,GACdnvD,EAAOmvD,EAAKvL,MAAM,EAAGuL,EAAKp0D,QAC1B6N,EAAU6vD,IAEV1H,EAAS5B,EAAK,GAAG4B,OACjB/wD,EAAOmvD,EAAK,GAAGnvD,KACf4I,EAAUumD,EAAK,GAAGvmD,SAAW6vD,GAG/Bz4D,EAAK0wD,QAAQ9nD,IACO4N,MAAM8C,QAAQy3C,GAAUA,EAASA,EAAOpsC,MAAM,MACtDrd,SAAQogB,IACd+wC,EAAKS,oBAAsBT,EAAKS,mBAAmBn+D,QACrD09D,EAAKS,mBAAmB5xD,SAAQ8xD,IAC9BA,EAAav3B,MAAMj5B,EAAS,CAAC8e,KAAU1nB,GAAM,IAI7Cy4D,EAAKC,iBAAmBD,EAAKC,gBAAgBhxC,IAC/C+wC,EAAKC,gBAAgBhxC,GAAOpgB,SAAQ8xD,IAClCA,EAAav3B,MAAMj5B,EAAS5I,EAAK,GAErC,IAEKy4D,CACT,GC9GF,GACEc,WCVa,WACb,MAAMplB,EAAS79C,KACf,IAAIwI,EACAC,EACJ,MAAMy6D,EAAMrlB,EAAOqlB,IAGjB16D,OADiC,IAAxBq1C,EAAO2iB,OAAOh4D,OAAiD,OAAxBq1C,EAAO2iB,OAAOh4D,MACtDq1C,EAAO2iB,OAAOh4D,MAEd06D,EAAI,GAAGC,YAIf16D,OADkC,IAAzBo1C,EAAO2iB,OAAO/3D,QAAmD,OAAzBo1C,EAAO2iB,OAAO/3D,OACtDo1C,EAAO2iB,OAAO/3D,OAEdy6D,EAAI,GAAGvO,aAGJ,IAAVnsD,GAAeq1C,EAAOulB,gBAA6B,IAAX36D,GAAgBo1C,EAAOwlB,eAKnE76D,EAAQA,EAAQ2kB,SAAS+1C,EAAI5G,IAAI,iBAAmB,EAAG,IAAMnvC,SAAS+1C,EAAI5G,IAAI,kBAAoB,EAAG,IACrG7zD,EAASA,EAAS0kB,SAAS+1C,EAAI5G,IAAI,gBAAkB,EAAG,IAAMnvC,SAAS+1C,EAAI5G,IAAI,mBAAqB,EAAG,IACnGgH,OAAOt9C,MAAMxd,KAAQA,EAAQ,GAC7B86D,OAAOt9C,MAAMvd,KAASA,EAAS,GACnC62B,OAAOikC,OAAO1lB,EAAQ,CACpBr1C,QACAC,SACAuS,KAAM6iC,EAAOulB,eAAiB56D,EAAQC,IAE1C,EDrBE+6D,aEVa,WACb,MAAM3lB,EAAS79C,KAEf,SAASyjE,EAAkBxrD,GACzB,OAAI4lC,EAAOulB,eACFnrD,EAIF,CACL,MAAS,SACT,aAAc,cACd,iBAAkB,eAClB,cAAe,aACf,eAAgB,gBAChB,eAAgB,cAChB,gBAAiB,iBACjB,YAAe,gBACfA,EACJ,CAEA,SAASyrD,EAA0Bp5C,EAAMgD,GACvC,OAAOwuC,WAAWxxC,EAAKwsC,iBAAiB2M,EAAkBn2C,KAAW,EACvE,CAEA,MAAMkzC,EAAS3iB,EAAO2iB,QAChB,WACJmD,EACA3oD,KAAM4oD,EACNC,aAAc52B,EAAG,SACjB62B,GACEjmB,EACEkmB,EAAYlmB,EAAOmmB,SAAWxD,EAAOwD,QAAQlnB,QAC7CmnB,EAAuBF,EAAYlmB,EAAOmmB,QAAQ9pB,OAAOz1C,OAASo5C,EAAO3D,OAAOz1C,OAChFy1C,EAASypB,EAAWtmD,SAAS,IAAIwgC,EAAO2iB,OAAO0D,cAC/CC,EAAeJ,EAAYlmB,EAAOmmB,QAAQ9pB,OAAOz1C,OAASy1C,EAAOz1C,OACvE,IAAI2/D,EAAW,GACf,MAAMC,EAAa,GACbC,EAAkB,GACxB,IAAIC,EAAe/D,EAAOgE,mBAEE,mBAAjBD,IACTA,EAAe/D,EAAOgE,mBAAmBxM,KAAKna,IAGhD,IAAI4mB,EAAcjE,EAAOkE,kBAEE,mBAAhBD,IACTA,EAAcjE,EAAOkE,kBAAkB1M,KAAKna,IAG9C,MAAM8mB,EAAyB9mB,EAAOumB,SAAS3/D,OACzCmgE,EAA2B/mB,EAAOwmB,WAAW5/D,OACnD,IAAIogE,EAAerE,EAAOqE,aACtBC,GAAiBP,EACjBQ,EAAgB,EAChBvwD,EAAQ,EAEZ,QAA0B,IAAfovD,EACT,OAG0B,iBAAjBiB,GAA6BA,EAAanvD,QAAQ,MAAQ,IACnEmvD,EAAe/I,WAAW+I,EAAahmD,QAAQ,IAAK,KAAO,IAAM+kD,GAGnE/lB,EAAOmnB,aAAeH,EAElB53B,EAAKiN,EAAOoiB,IAAI,CAClB9tD,WAAY,GACZhC,aAAc,GACdkT,UAAW,KACLw6B,EAAOoiB,IAAI,CACjB3vD,YAAa,GACbH,aAAc,GACdkT,UAAW,KAGT8gD,EAAOyE,gBAAkBzE,EAAO0E,UAClCtF,EAAe/hB,EAAO6iB,UAAW,kCAAmC,IACpEd,EAAe/hB,EAAO6iB,UAAW,iCAAkC,KAGrE,MAAMyE,EAAc3E,EAAO4E,MAAQ5E,EAAO4E,KAAKC,KAAO,GAAKxnB,EAAOunB,KAOlE,IAAIE,EALAH,GACFtnB,EAAOunB,KAAKG,WAAWpB,GAKzB,MAAMqB,EAAgD,SAAzBhF,EAAOiF,eAA4BjF,EAAOkF,aAAepmC,OAAOC,KAAKihC,EAAOkF,aAAa/8B,QAAO0V,QACnE,IAA1CmiB,EAAOkF,YAAYrnB,GAAKonB,gBACrChhE,OAAS,EAEZ,IAAK,IAAImQ,EAAI,EAAGA,EAAIuvD,EAAcvvD,GAAK,EAAG,CACxC0wD,EAAY,EACZ,MAAMK,EAAQzrB,EAAO2iB,GAAGjoD,GAMxB,GAJIuwD,GACFtnB,EAAOunB,KAAKQ,YAAYhxD,EAAG+wD,EAAOxB,EAAcV,GAGrB,SAAzBkC,EAAMrJ,IAAI,WAAd,CAEA,GAA6B,SAAzBkE,EAAOiF,cAA0B,CAC/BD,IACFtrB,EAAOtlC,GAAG5R,MAAMygE,EAAkB,UAAY,IAGhD,MAAMoC,EAAchP,iBAAiB8O,EAAM,IACrCG,EAAmBH,EAAM,GAAG3iE,MAAM4vB,UAClCmzC,EAAyBJ,EAAM,GAAG3iE,MAAM07D,gBAU9C,GARIoH,IACFH,EAAM,GAAG3iE,MAAM4vB,UAAY,QAGzBmzC,IACFJ,EAAM,GAAG3iE,MAAM07D,gBAAkB,QAG/B8B,EAAOwF,aACTV,EAAYznB,EAAOulB,eAAiBuC,EAAMh7D,YAAW,GAAQg7D,EAAM76D,aAAY,OAC1E,CAEL,MAAMtC,EAAQk7D,EAA0BmC,EAAa,SAC/Cn5D,EAAcg3D,EAA0BmC,EAAa,gBACrDv8C,EAAeo6C,EAA0BmC,EAAa,iBACtDr3D,EAAak1D,EAA0BmC,EAAa,eACpDl5D,EAAc+2D,EAA0BmC,EAAa,gBACrD1wD,EAAY0wD,EAAY/O,iBAAiB,cAE/C,GAAI3hD,GAA2B,eAAdA,EACfmwD,EAAY98D,EAAQgG,EAAa7B,MAC5B,CACL,MAAM,YACJw2D,EAAW,YACXtH,GACE8J,EAAM,GACVL,EAAY98D,EAAQkE,EAAc4c,EAAe9a,EAAa7B,GAAekvD,EAAcsH,EAC7F,CACF,CAEI2C,IACFH,EAAM,GAAG3iE,MAAM4vB,UAAYkzC,GAGzBC,IACFJ,EAAM,GAAG3iE,MAAM07D,gBAAkBqH,GAG/BvF,EAAOwF,eAAcV,EAAY/4C,KAAKynC,MAAMsR,GAClD,MACEA,GAAa1B,GAAcpD,EAAOiF,cAAgB,GAAKZ,GAAgBrE,EAAOiF,cAC1EjF,EAAOwF,eAAcV,EAAY/4C,KAAKynC,MAAMsR,IAE5CprB,EAAOtlC,KACTslC,EAAOtlC,GAAG5R,MAAMygE,EAAkB,UAAY,GAAG6B,OAIjDprB,EAAOtlC,KACTslC,EAAOtlC,GAAGqxD,gBAAkBX,GAG9BhB,EAAgB5tD,KAAK4uD,GAEjB9E,EAAOyE,gBACTH,EAAgBA,EAAgBQ,EAAY,EAAIP,EAAgB,EAAIF,EAC9C,IAAlBE,GAA6B,IAANnwD,IAASkwD,EAAgBA,EAAgBlB,EAAa,EAAIiB,GAC3E,IAANjwD,IAASkwD,EAAgBA,EAAgBlB,EAAa,EAAIiB,GAC1Dt4C,KAAK25C,IAAIpB,GAAiB,OAAUA,EAAgB,GACpDtE,EAAOwF,eAAclB,EAAgBv4C,KAAKynC,MAAM8Q,IAChDtwD,EAAQgsD,EAAO2F,gBAAmB,GAAG/B,EAAS1tD,KAAKouD,GACvDT,EAAW3tD,KAAKouD,KAEZtE,EAAOwF,eAAclB,EAAgBv4C,KAAKynC,MAAM8Q,KAC/CtwD,EAAQ+X,KAAKsQ,IAAIghB,EAAO2iB,OAAO4F,mBAAoB5xD,IAAUqpC,EAAO2iB,OAAO2F,gBAAmB,GAAG/B,EAAS1tD,KAAKouD,GACpHT,EAAW3tD,KAAKouD,GAChBA,EAAgBA,EAAgBQ,EAAYT,GAG9ChnB,EAAOmnB,aAAeM,EAAYT,EAClCE,EAAgBO,EAChB9wD,GAAS,CAlFoC,CAmF/C,CAqBA,GAnBAqpC,EAAOmnB,YAAcz4C,KAAKC,IAAIqxB,EAAOmnB,YAAapB,GAAca,EAE5Dx3B,GAAO62B,IAA+B,UAAlBtD,EAAO6F,QAAwC,cAAlB7F,EAAO6F,SAC1D1C,EAAWrH,IAAI,CACb9zD,MAAO,GAAGq1C,EAAOmnB,YAAcxE,EAAOqE,mBAItCrE,EAAO8F,gBACT3C,EAAWrH,IAAI,CACb,CAACmH,EAAkB,UAAW,GAAG5lB,EAAOmnB,YAAcxE,EAAOqE,mBAI7DM,GACFtnB,EAAOunB,KAAKmB,kBAAkBjB,EAAWlB,EAAUX,IAIhDjD,EAAOyE,eAAgB,CAC1B,MAAMuB,EAAgB,GAEtB,IAAK,IAAI5xD,EAAI,EAAGA,EAAIwvD,EAAS3/D,OAAQmQ,GAAK,EAAG,CAC3C,IAAI6xD,EAAiBrC,EAASxvD,GAC1B4rD,EAAOwF,eAAcS,EAAiBl6C,KAAKynC,MAAMyS,IAEjDrC,EAASxvD,IAAMipC,EAAOmnB,YAAcpB,GACtC4C,EAAc9vD,KAAK+vD,EAEvB,CAEArC,EAAWoC,EAEPj6C,KAAKynC,MAAMnW,EAAOmnB,YAAcpB,GAAcr3C,KAAKynC,MAAMoQ,EAASA,EAAS3/D,OAAS,IAAM,GAC5F2/D,EAAS1tD,KAAKmnC,EAAOmnB,YAAcpB,EAEvC,CAIA,GAFwB,IAApBQ,EAAS3/D,SAAc2/D,EAAW,CAAC,IAEX,IAAxB5D,EAAOqE,aAAoB,CAC7B,MAAMxmB,EAAMR,EAAOulB,gBAAkBn2B,EAAM,aAAew2B,EAAkB,eAC5EvpB,EAAOvR,QAAO,CAAC+9B,EAAGC,KACXnG,EAAO0E,SAERyB,IAAezsB,EAAOz1C,OAAS,IAKlC63D,IAAI,CACL,CAACje,GAAM,GAAGwmB,OAEd,CAEA,GAAIrE,EAAOyE,gBAAkBzE,EAAOoG,qBAAsB,CACxD,IAAIC,EAAgB,EACpBvC,EAAgBtzD,SAAQ81D,IACtBD,GAAiBC,GAAkBtG,EAAOqE,aAAerE,EAAOqE,aAAe,EAAE,IAEnFgC,GAAiBrG,EAAOqE,aACxB,MAAMkC,EAAUF,EAAgBjD,EAChCQ,EAAWA,EAASxc,KAAIof,GAClBA,EAAO,GAAWzC,EAClByC,EAAOD,EAAgBA,EAAUtC,EAC9BuC,GAEX,CAEA,GAAIxG,EAAOyG,yBAA0B,CACnC,IAAIJ,EAAgB,EAMpB,GALAvC,EAAgBtzD,SAAQ81D,IACtBD,GAAiBC,GAAkBtG,EAAOqE,aAAerE,EAAOqE,aAAe,EAAE,IAEnFgC,GAAiBrG,EAAOqE,aAEpBgC,EAAgBjD,EAAY,CAC9B,MAAMsD,GAAmBtD,EAAaiD,GAAiB,EACvDzC,EAASpzD,SAAQ,CAACg2D,EAAMG,KACtB/C,EAAS+C,GAAaH,EAAOE,CAAe,IAE9C7C,EAAWrzD,SAAQ,CAACg2D,EAAMG,KACxB9C,EAAW8C,GAAaH,EAAOE,CAAe,GAElD,CACF,CASA,GAPA5nC,OAAOikC,OAAO1lB,EAAQ,CACpB3D,SACAkqB,WACAC,aACAC,oBAGE9D,EAAOyE,gBAAkBzE,EAAO0E,UAAY1E,EAAOoG,qBAAsB,CAC3EhH,EAAe/hB,EAAO6iB,UAAW,mCAAuC0D,EAAS,GAAb,MACpExE,EAAe/hB,EAAO6iB,UAAW,iCAAqC7iB,EAAO7iC,KAAO,EAAIspD,EAAgBA,EAAgB7/D,OAAS,GAAK,EAAnE,MACnE,MAAM2iE,GAAiBvpB,EAAOumB,SAAS,GACjCiD,GAAmBxpB,EAAOwmB,WAAW,GAC3CxmB,EAAOumB,SAAWvmB,EAAOumB,SAASxc,KAAI0f,GAAKA,EAAIF,IAC/CvpB,EAAOwmB,WAAaxmB,EAAOwmB,WAAWzc,KAAI0f,GAAKA,EAAID,GACrD,CAmBA,GAjBIlD,IAAiBF,GACnBpmB,EAAOgC,KAAK,sBAGVukB,EAAS3/D,SAAWkgE,IAClB9mB,EAAO2iB,OAAO+G,eAAe1pB,EAAO2pB,gBACxC3pB,EAAOgC,KAAK,yBAGVwkB,EAAW5/D,SAAWmgE,GACxB/mB,EAAOgC,KAAK,0BAGV2gB,EAAOiH,qBACT5pB,EAAO6pB,uBAGJ3D,GAAcvD,EAAO0E,SAA8B,UAAlB1E,EAAO6F,QAAwC,SAAlB7F,EAAO6F,QAAoB,CAC5F,MAAMsB,EAAsB,GAAGnH,EAAOoH,wCAChCC,EAA6BhqB,EAAOqlB,IAAI/J,SAASwO,GAEnDxD,GAAgB3D,EAAOsH,wBACpBD,GAA4BhqB,EAAOqlB,IAAInK,SAAS4O,GAC5CE,GACThqB,EAAOqlB,IAAIhK,YAAYyO,EAE3B,CACF,EFnTEI,iBGXa,SAA0BtH,GACvC,MAAM5iB,EAAS79C,KACTgoE,EAAe,GACfjE,EAAYlmB,EAAOmmB,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,QAC1D,IACIloC,EADA4qC,EAAY,EAGK,iBAAVihB,EACT5iB,EAAOoqB,cAAcxH,IACF,IAAVA,GACT5iB,EAAOoqB,cAAcpqB,EAAO2iB,OAAOC,OAGrC,MAAMyH,EAAkB1zD,GAClBuvD,EACKlmB,EAAO3D,OAAOvR,QAAO6T,GAAMrvB,SAASqvB,EAAG2F,aAAa,2BAA4B,MAAQ3tC,IAAO,GAGjGqpC,EAAO3D,OAAO2iB,GAAGroD,GAAO,GAIjC,GAAoC,SAAhCqpC,EAAO2iB,OAAOiF,eAA4B5nB,EAAO2iB,OAAOiF,cAAgB,EAC1E,GAAI5nB,EAAO2iB,OAAOyE,gBACfpnB,EAAOsqB,eAAiB,EAAE,KAAK3L,MAAKmJ,IACnCqC,EAAatxD,KAAKivD,EAAM,SAG1B,IAAK/wD,EAAI,EAAGA,EAAI2X,KAAK67C,KAAKvqB,EAAO2iB,OAAOiF,eAAgB7wD,GAAK,EAAG,CAC9D,MAAMJ,EAAQqpC,EAAO1D,YAAcvlC,EACnC,GAAIJ,EAAQqpC,EAAO3D,OAAOz1C,SAAWs/D,EAAW,MAChDiE,EAAatxD,KAAKwxD,EAAgB1zD,GACpC,MAGFwzD,EAAatxD,KAAKwxD,EAAgBrqB,EAAO1D,cAI3C,IAAKvlC,EAAI,EAAGA,EAAIozD,EAAavjE,OAAQmQ,GAAK,EACxC,QAA+B,IAApBozD,EAAapzD,GAAoB,CAC1C,MAAMnM,EAASu/D,EAAapzD,GAAGxD,aAC/BouC,EAAY/2C,EAAS+2C,EAAY/2C,EAAS+2C,CAC5C,EAIEA,GAA2B,IAAdA,IAAiB3B,EAAO8lB,WAAWrH,IAAI,SAAU,GAAG9c,MACvE,EHpCEkoB,mBIba,WACb,MAAM7pB,EAAS79C,KACTk6C,EAAS2D,EAAO3D,OAEtB,IAAK,IAAItlC,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EACtCslC,EAAOtlC,GAAGyzD,kBAAoBxqB,EAAOulB,eAAiBlpB,EAAOtlC,GAAG0zD,WAAapuB,EAAOtlC,GAAG04B,SAE3F,EJOEi7B,qBKba,SAA8BlI,QACzB,IAAdA,IACFA,EAAYrgE,MAAQA,KAAKqgE,WAAa,GAGxC,MAAMxiB,EAAS79C,KACTwgE,EAAS3iB,EAAO2iB,QAChB,OACJtmB,EACA2pB,aAAc52B,EAAG,SACjBm3B,GACEvmB,EACJ,GAAsB,IAAlB3D,EAAOz1C,OAAc,YACkB,IAAhCy1C,EAAO,GAAGmuB,mBAAmCxqB,EAAO6pB,qBAC/D,IAAIc,GAAgBnI,EAChBpzB,IAAKu7B,EAAenI,GAExBnmB,EAAOgf,YAAYsH,EAAOiI,mBAC1B5qB,EAAO6qB,qBAAuB,GAC9B7qB,EAAOsqB,cAAgB,GAEvB,IAAK,IAAIvzD,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAAG,CACzC,MAAM+wD,EAAQzrB,EAAOtlC,GACrB,IAAI+zD,EAAchD,EAAM0C,kBAEpB7H,EAAO0E,SAAW1E,EAAOyE,iBAC3B0D,GAAezuB,EAAO,GAAGmuB,mBAG3B,MAAMO,GAAiBJ,GAAgBhI,EAAOyE,eAAiBpnB,EAAOgrB,eAAiB,GAAKF,IAAgBhD,EAAMM,gBAAkBzF,EAAOqE,cACrIiE,GAAyBN,EAAepE,EAAS,IAAM5D,EAAOyE,eAAiBpnB,EAAOgrB,eAAiB,GAAKF,IAAgBhD,EAAMM,gBAAkBzF,EAAOqE,cAC3JkE,IAAgBP,EAAeG,GAC/BK,EAAaD,EAAclrB,EAAOymB,gBAAgB1vD,IACtCm0D,GAAe,GAAKA,EAAclrB,EAAO7iC,KAAO,GAAKguD,EAAa,GAAKA,GAAcnrB,EAAO7iC,MAAQ+tD,GAAe,GAAKC,GAAcnrB,EAAO7iC,QAG7J6iC,EAAOsqB,cAAczxD,KAAKivD,GAC1B9nB,EAAO6qB,qBAAqBhyD,KAAK9B,GACjCslC,EAAO2iB,GAAGjoD,GAAGmkD,SAASyH,EAAOiI,oBAG/B9C,EAAM3E,SAAW/zB,GAAO27B,EAAgBA,EACxCjD,EAAMsD,iBAAmBh8B,GAAO67B,EAAwBA,CAC1D,CAEAjrB,EAAOsqB,cAAgB,EAAEtqB,EAAOsqB,cAClC,ELhCEe,eMfa,SAAwB7I,GACrC,MAAMxiB,EAAS79C,KAEf,QAAyB,IAAdqgE,EAA2B,CACpC,MAAM8I,EAAatrB,EAAOgmB,cAAgB,EAAI,EAE9CxD,EAAYxiB,GAAUA,EAAOwiB,WAAaxiB,EAAOwiB,UAAY8I,GAAc,CAC7E,CAEA,MAAM3I,EAAS3iB,EAAO2iB,OAChB4I,EAAiBvrB,EAAOwrB,eAAiBxrB,EAAOgrB,eACtD,IAAI,SACF7H,EAAQ,YACRsI,EAAW,MACXC,GACE1rB,EACJ,MAAM2rB,EAAeF,EACfG,EAASF,EAEQ,IAAnBH,GACFpI,EAAW,EACXsI,GAAc,EACdC,GAAQ,IAERvI,GAAYX,EAAYxiB,EAAOgrB,gBAAkBO,EACjDE,EAActI,GAAY,EAC1BuI,EAAQvI,GAAY,GAGtB1hC,OAAOikC,OAAO1lB,EAAQ,CACpBmjB,WACAsI,cACAC,WAEE/I,EAAOiH,qBAAuBjH,EAAOyE,gBAAkBzE,EAAOkJ,aAAY7rB,EAAO0qB,qBAAqBlI,GAEtGiJ,IAAgBE,GAClB3rB,EAAOgC,KAAK,yBAGV0pB,IAAUE,GACZ5rB,EAAOgC,KAAK,oBAGV2pB,IAAiBF,GAAeG,IAAWF,IAC7C1rB,EAAOgC,KAAK,YAGdhC,EAAOgC,KAAK,WAAYmhB,EAC1B,ENjCE2I,oBOhBa,WACb,MAAM9rB,EAAS79C,MACT,OACJk6C,EAAM,OACNsmB,EAAM,WACNmD,EAAU,YACVxpB,EAAW,UACXC,GACEyD,EACEkmB,EAAYlmB,EAAOmmB,SAAWxD,EAAOwD,QAAQlnB,QAEnD,IAAI8sB,EADJ1vB,EAAOgf,YAAY,GAAGsH,EAAOqJ,oBAAoBrJ,EAAOsJ,kBAAkBtJ,EAAOuJ,kBAAkBvJ,EAAOwJ,6BAA6BxJ,EAAOyJ,2BAA2BzJ,EAAO0J,2BAI9KN,EADE7F,EACYlmB,EAAO8lB,WAAW/F,KAAK,IAAI4C,EAAO0D,uCAAuC/pB,OAEzED,EAAO2iB,GAAG1iB,GAI1ByvB,EAAY7Q,SAASyH,EAAOqJ,kBAExBrJ,EAAOvkB,OAEL2tB,EAAYzQ,SAASqH,EAAO2J,qBAC9BxG,EAAWtmD,SAAS,IAAImjD,EAAO0D,mBAAmB1D,EAAO2J,iDAAiD/vB,OAAe2e,SAASyH,EAAOwJ,2BAEzIrG,EAAWtmD,SAAS,IAAImjD,EAAO0D,cAAc1D,EAAO2J,gDAAgD/vB,OAAe2e,SAASyH,EAAOwJ,4BAKvI,IAAII,EAAYR,EAAYvM,QAAQ,IAAImD,EAAO0D,cAAcrH,GAAG,GAAG9D,SAASyH,EAAOsJ,gBAE/EtJ,EAAOvkB,MAA6B,IAArBmuB,EAAU3lE,SAC3B2lE,EAAYlwB,EAAO2iB,GAAG,GACtBuN,EAAUrR,SAASyH,EAAOsJ,iBAI5B,IAAIO,EAAYT,EAAYnM,QAAQ,IAAI+C,EAAO0D,cAAcrH,GAAG,GAAG9D,SAASyH,EAAOuJ,gBAE/EvJ,EAAOvkB,MAA6B,IAArBouB,EAAU5lE,SAC3B4lE,EAAYnwB,EAAO2iB,IAAI,GACvBwN,EAAUtR,SAASyH,EAAOuJ,iBAGxBvJ,EAAOvkB,OAELmuB,EAAUjR,SAASqH,EAAO2J,qBAC5BxG,EAAWtmD,SAAS,IAAImjD,EAAO0D,mBAAmB1D,EAAO2J,iDAAiDC,EAAU9Q,KAAK,gCAAgCP,SAASyH,EAAOyJ,yBAEzKtG,EAAWtmD,SAAS,IAAImjD,EAAO0D,cAAc1D,EAAO2J,gDAAgDC,EAAU9Q,KAAK,gCAAgCP,SAASyH,EAAOyJ,yBAGjKI,EAAUlR,SAASqH,EAAO2J,qBAC5BxG,EAAWtmD,SAAS,IAAImjD,EAAO0D,mBAAmB1D,EAAO2J,iDAAiDE,EAAU/Q,KAAK,gCAAgCP,SAASyH,EAAO0J,yBAEzKvG,EAAWtmD,SAAS,IAAImjD,EAAO0D,cAAc1D,EAAO2J,gDAAgDE,EAAU/Q,KAAK,gCAAgCP,SAASyH,EAAO0J,0BAIvKrsB,EAAOysB,mBACT,EP9CEC,kBQjBa,SAA2BC,GACxC,MAAM3sB,EAAS79C,KACTqgE,EAAYxiB,EAAOgmB,aAAehmB,EAAOwiB,WAAaxiB,EAAOwiB,WAC7D,WACJgE,EAAU,SACVD,EAAQ,OACR5D,EACArmB,YAAaswB,EACbrwB,UAAWswB,EACXvD,UAAWwD,GACT9sB,EACJ,IACIspB,EADAhtB,EAAcqwB,EAGlB,QAA2B,IAAhBrwB,EAA6B,CACtC,IAAK,IAAIvlC,EAAI,EAAGA,EAAIyvD,EAAW5/D,OAAQmQ,GAAK,OACT,IAAtByvD,EAAWzvD,EAAI,GACpByrD,GAAagE,EAAWzvD,IAAMyrD,EAAYgE,EAAWzvD,EAAI,IAAMyvD,EAAWzvD,EAAI,GAAKyvD,EAAWzvD,IAAM,EACtGulC,EAAcvlC,EACLyrD,GAAagE,EAAWzvD,IAAMyrD,EAAYgE,EAAWzvD,EAAI,KAClEulC,EAAcvlC,EAAI,GAEXyrD,GAAagE,EAAWzvD,KACjCulC,EAAcvlC,GAKd4rD,EAAOoK,sBACLzwB,EAAc,QAA4B,IAAhBA,KAA6BA,EAAc,EAE7E,CAEA,GAAIiqB,EAAS1uD,QAAQ2qD,IAAc,EACjC8G,EAAY/C,EAAS1uD,QAAQ2qD,OACxB,CACL,MAAMwK,EAAOt+C,KAAKsQ,IAAI2jC,EAAO4F,mBAAoBjsB,GACjDgtB,EAAY0D,EAAOt+C,KAAKynC,OAAO7Z,EAAc0wB,GAAQrK,EAAO2F,eAC9D,CAIA,GAFIgB,GAAa/C,EAAS3/D,SAAQ0iE,EAAY/C,EAAS3/D,OAAS,GAE5D01C,IAAgBswB,EAMlB,YALItD,IAAcwD,IAChB9sB,EAAOspB,UAAYA,EACnBtpB,EAAOgC,KAAK,qBAOhB,MAAMzF,EAAYjtB,SAAS0wB,EAAO3D,OAAO2iB,GAAG1iB,GAAamf,KAAK,4BAA8Bnf,EAAa,IACzG7a,OAAOikC,OAAO1lB,EAAQ,CACpBspB,YACA/sB,YACAqwB,gBACAtwB,gBAEF0D,EAAOgC,KAAK,qBACZhC,EAAOgC,KAAK,mBAER6qB,IAAsBtwB,GACxByD,EAAOgC,KAAK,oBAGVhC,EAAOitB,aAAejtB,EAAO2iB,OAAOuK,qBACtCltB,EAAOgC,KAAK,cAEhB,ERnDEmrB,mBSjBa,SAA4B5pE,GACzC,MAAMy8C,EAAS79C,KACTwgE,EAAS3iB,EAAO2iB,OAChBmF,EAAQ,EAAEvkE,GAAGu8D,QAAQ,IAAI6C,EAAO0D,cAAc,GACpD,IACIyC,EADAsE,GAAa,EAGjB,GAAItF,EACF,IAAK,IAAI/wD,EAAI,EAAGA,EAAIipC,EAAO3D,OAAOz1C,OAAQmQ,GAAK,EAC7C,GAAIipC,EAAO3D,OAAOtlC,KAAO+wD,EAAO,CAC9BsF,GAAa,EACbtE,EAAa/xD,EACb,KACF,CAIJ,IAAI+wD,IAASsF,EAWX,OAFAptB,EAAOqtB,kBAAelqE,OACtB68C,EAAOstB,kBAAenqE,GATtB68C,EAAOqtB,aAAevF,EAElB9nB,EAAOmmB,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,QAC1Ce,EAAOstB,aAAeh+C,SAAS,EAAEw4C,GAAOrM,KAAK,2BAA4B,IAEzEzb,EAAOstB,aAAexE,EAQtBnG,EAAO4K,0BAA+CpqE,IAAxB68C,EAAOstB,cAA8BttB,EAAOstB,eAAiBttB,EAAO1D,aACpG0D,EAAOutB,qBAEX,GCnCe,SAASC,EAAepL,GACrC,IAAI,OACFpiB,EAAM,aACNytB,EAAY,UACZruB,EAAS,KACTsuB,GACEtL,EACJ,MAAM,YACJ9lB,EAAW,cACXswB,GACE5sB,EACJ,IAAI3Q,EAAM+P,EAQV,GANK/P,IAC8BA,EAA7BiN,EAAcswB,EAAqB,OAAgBtwB,EAAcswB,EAAqB,OAAkB,SAG9G5sB,EAAOgC,KAAK,aAAa0rB,KAErBD,GAAgBnxB,IAAgBswB,EAAe,CACjD,GAAY,UAARv9B,EAEF,YADA2Q,EAAOgC,KAAK,uBAAuB0rB,KAIrC1tB,EAAOgC,KAAK,wBAAwB0rB,KAExB,SAARr+B,EACF2Q,EAAOgC,KAAK,sBAAsB0rB,KAElC1tB,EAAOgC,KAAK,sBAAsB0rB,IAEtC,CACF,CC1BA,SACEjtB,QCPa,SAAiB9pC,EAAOisD,EAAO6K,EAAcE,EAAUC,GAapE,QAZc,IAAVj3D,IACFA,EAAQ,QAGI,IAAVisD,IACFA,EAAQzgE,KAAKwgE,OAAOC,YAGD,IAAjB6K,IACFA,GAAe,GAGI,iBAAV92D,GAAuC,iBAAVA,EACtC,MAAM,IAAIrS,MAAM,kFAAkFqS,aAGpG,GAAqB,iBAAVA,EAAoB,CAK7B,MAAMk3D,EAAgBv+C,SAAS3Y,EAAO,IAStC,IAFsBm3D,SAASD,GAG7B,MAAM,IAAIvpE,MAAM,sEAAsEqS,aAKxFA,EAAQk3D,CACV,CAEA,MAAM7tB,EAAS79C,KACf,IAAI2mE,EAAanyD,EACbmyD,EAAa,IAAGA,EAAa,GACjC,MAAM,OACJnG,EAAM,SACN4D,EAAQ,WACRC,EAAU,cACVoG,EAAa,YACbtwB,EACA0pB,aAAc52B,EAAG,UACjByzB,EAAS,QACT5jB,GACEe,EAEJ,GAAIA,EAAO+tB,WAAapL,EAAOqL,iCAAmC/uB,IAAY0uB,IAAaC,EACzF,OAAO,EAGT,MAAMZ,EAAOt+C,KAAKsQ,IAAIghB,EAAO2iB,OAAO4F,mBAAoBO,GACxD,IAAIQ,EAAY0D,EAAOt+C,KAAKynC,OAAO2S,EAAakE,GAAQhtB,EAAO2iB,OAAO2F,gBAClEgB,GAAa/C,EAAS3/D,SAAQ0iE,EAAY/C,EAAS3/D,OAAS,IAE3D01C,GAAeqmB,EAAOrjB,cAAgB,MAAQstB,GAAiB,IAAMa,GACxEztB,EAAOgC,KAAK,0BAGd,MAAMwgB,GAAa+D,EAAS+C,GAI5B,GAFAtpB,EAAOqrB,eAAe7I,GAElBG,EAAOoK,oBACT,IAAK,IAAIh2D,EAAI,EAAGA,EAAIyvD,EAAW5/D,OAAQmQ,GAAK,EAAG,CAC7C,MAAMk3D,GAAuBv/C,KAAKynC,MAAkB,IAAZqM,GAClC0L,EAAiBx/C,KAAKynC,MAAsB,IAAhBqQ,EAAWzvD,IACvCo3D,EAAqBz/C,KAAKynC,MAA0B,IAApBqQ,EAAWzvD,EAAI,SAEpB,IAAtByvD,EAAWzvD,EAAI,GACpBk3D,GAAuBC,GAAkBD,EAAsBE,GAAsBA,EAAqBD,GAAkB,EAC9HpF,EAAa/xD,EACJk3D,GAAuBC,GAAkBD,EAAsBE,IACxErF,EAAa/xD,EAAI,GAEVk3D,GAAuBC,IAChCpF,EAAa/xD,EAEjB,CAIF,GAAIipC,EAAOitB,aAAenE,IAAexsB,EAAa,CACpD,IAAK0D,EAAOouB,gBAAkB5L,EAAYxiB,EAAOwiB,WAAaA,EAAYxiB,EAAOgrB,eAC/E,OAAO,EAGT,IAAKhrB,EAAOquB,gBAAkB7L,EAAYxiB,EAAOwiB,WAAaA,EAAYxiB,EAAOwrB,iBAC1ElvB,GAAe,KAAOwsB,EAAY,OAAO,CAElD,CAEA,IAAI1pB,EAGJ,GAF8BA,EAA1B0pB,EAAaxsB,EAAyB,OAAgBwsB,EAAaxsB,EAAyB,OAAwB,QAEpHlN,IAAQozB,IAAcxiB,EAAOwiB,YAAcpzB,GAAOozB,IAAcxiB,EAAOwiB,UAkBzE,OAjBAxiB,EAAO0sB,kBAAkB5D,GAErBnG,EAAOkJ,YACT7rB,EAAOkqB,mBAGTlqB,EAAO8rB,sBAEe,UAAlBnJ,EAAO6F,QACTxoB,EAAOsuB,aAAa9L,GAGJ,UAAdpjB,IACFY,EAAOuuB,gBAAgBd,EAAcruB,GACrCY,EAAO2d,cAAc8P,EAAcruB,KAG9B,EAGT,GAAIujB,EAAO0E,QAAS,CAClB,MAAMmH,EAAMxuB,EAAOulB,eACbkJ,EAAIr/B,EAAMozB,GAAaA,EAE7B,GAAc,IAAVI,EAAa,CACf,MAAMsD,EAAYlmB,EAAOmmB,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,QAEtDinB,IACFlmB,EAAO6iB,UAAU19D,MAAM29D,eAAiB,OACxC9iB,EAAO0uB,mBAAoB,GAG7B7L,EAAU2L,EAAM,aAAe,aAAeC,EAE1CvI,GACF7M,uBAAsB,KACpBrZ,EAAO6iB,UAAU19D,MAAM29D,eAAiB,GACxC9iB,EAAO2uB,yBAA0B,CAAK,GAG5C,KAAO,CACL,IAAK3uB,EAAOyjB,QAAQI,aAMlB,OALA1B,EAAqB,CACnBniB,SACAqiB,eAAgBoM,EAChBnM,KAAMkM,EAAM,OAAS,SAEhB,EAGT3L,EAAUW,SAAS,CACjB,CAACgL,EAAM,OAAS,OAAQC,EACxBG,SAAU,UAEd,CAEA,OAAO,CACT,CA8BA,OA5BA5uB,EAAOoqB,cAAcxH,GACrB5iB,EAAOsuB,aAAa9L,GACpBxiB,EAAO0sB,kBAAkB5D,GACzB9oB,EAAO8rB,sBACP9rB,EAAOgC,KAAK,wBAAyB4gB,EAAO+K,GAC5C3tB,EAAOuuB,gBAAgBd,EAAcruB,GAEvB,IAAVwjB,EACF5iB,EAAO2d,cAAc8P,EAAcruB,GACzBY,EAAO+tB,YACjB/tB,EAAO+tB,WAAY,EAEd/tB,EAAO6uB,gCACV7uB,EAAO6uB,8BAAgC,SAAuBtrE,GACvDy8C,IAAUA,EAAOmC,WAClB5+C,EAAEoX,SAAWxY,OACjB69C,EAAO8lB,WAAW,GAAGzO,oBAAoB,gBAAiBrX,EAAO6uB,+BACjE7uB,EAAO8lB,WAAW,GAAGzO,oBAAoB,sBAAuBrX,EAAO6uB,+BACvE7uB,EAAO6uB,8BAAgC,YAChC7uB,EAAO6uB,8BACd7uB,EAAO2d,cAAc8P,EAAcruB,GACrC,GAGFY,EAAO8lB,WAAW,GAAGnmB,iBAAiB,gBAAiBK,EAAO6uB,+BAC9D7uB,EAAO8lB,WAAW,GAAGnmB,iBAAiB,sBAAuBK,EAAO6uB,iCAG/D,CACT,EDvLEC,YETa,SAAqBn4D,EAAOisD,EAAO6K,EAAcE,GAa9D,QAZc,IAAVh3D,IACFA,EAAQ,QAGI,IAAVisD,IACFA,EAAQzgE,KAAKwgE,OAAOC,YAGD,IAAjB6K,IACFA,GAAe,GAGI,iBAAV92D,EAAoB,CAK7B,MAAMk3D,EAAgBv+C,SAAS3Y,EAAO,IAStC,IAFsBm3D,SAASD,GAG7B,MAAM,IAAIvpE,MAAM,sEAAsEqS,aAKxFA,EAAQk3D,CACV,CAEA,MAAM7tB,EAAS79C,KACf,IAAI4sE,EAAWp4D,EAMf,OAJIqpC,EAAO2iB,OAAOvkB,OAChB2wB,GAAY/uB,EAAOgvB,cAGdhvB,EAAOS,QAAQsuB,EAAUnM,EAAO6K,EAAcE,EACvD,EFlCEsB,UGTa,SAAmBrM,EAAO6K,EAAcE,QACvC,IAAV/K,IACFA,EAAQzgE,KAAKwgE,OAAOC,YAGD,IAAjB6K,IACFA,GAAe,GAGjB,MAAMztB,EAAS79C,MACT,UACJ4rE,EAAS,QACT9uB,EAAO,OACP0jB,GACE3iB,EACJ,IAAKf,EAAS,OAAOe,EACrB,IAAIkvB,EAAWvM,EAAO2F,eAEO,SAAzB3F,EAAOiF,eAAsD,IAA1BjF,EAAO2F,gBAAwB3F,EAAOwM,qBAC3ED,EAAWxgD,KAAKC,IAAIqxB,EAAOovB,qBAAqB,WAAW,GAAO,IAGpE,MAAMC,EAAYrvB,EAAO1D,YAAcqmB,EAAO4F,mBAAqB,EAAI2G,EAEvE,GAAIvM,EAAOvkB,KAAM,CACf,GAAI2vB,GAAapL,EAAO2M,kBAAmB,OAAO,EAClDtvB,EAAOuvB,UAEPvvB,EAAOwvB,YAAcxvB,EAAO8lB,WAAW,GAAG1H,UAC5C,CAEA,OAAIuE,EAAO8M,QAAUzvB,EAAO0rB,MACnB1rB,EAAOS,QAAQ,EAAGmiB,EAAO6K,EAAcE,GAGzC3tB,EAAOS,QAAQT,EAAO1D,YAAc+yB,EAAWzM,EAAO6K,EAAcE,EAC7E,EH1BE+B,UIVa,SAAmB9M,EAAO6K,EAAcE,QACvC,IAAV/K,IACFA,EAAQzgE,KAAKwgE,OAAOC,YAGD,IAAjB6K,IACFA,GAAe,GAGjB,MAAMztB,EAAS79C,MACT,OACJwgE,EAAM,UACNoL,EAAS,SACTxH,EAAQ,WACRC,EAAU,aACVR,EAAY,QACZ/mB,GACEe,EACJ,IAAKf,EAAS,OAAOe,EAErB,GAAI2iB,EAAOvkB,KAAM,CACf,GAAI2vB,GAAapL,EAAO2M,kBAAmB,OAAO,EAClDtvB,EAAOuvB,UAEPvvB,EAAOwvB,YAAcxvB,EAAO8lB,WAAW,GAAG1H,UAC5C,CAIA,SAASuR,EAAUC,GACjB,OAAIA,EAAM,GAAWlhD,KAAKynC,MAAMznC,KAAK25C,IAAIuH,IAClClhD,KAAKynC,MAAMyZ,EACpB,CAEA,MAAM3B,EAAsB0B,EAPV3J,EAAehmB,EAAOwiB,WAAaxiB,EAAOwiB,WAQtDqN,EAAqBtJ,EAASxc,KAAI6lB,GAAOD,EAAUC,KACzD,IAAIE,EAAWvJ,EAASsJ,EAAmBh4D,QAAQo2D,GAAuB,GAE1E,QAAwB,IAAb6B,GAA4BnN,EAAO0E,QAAS,CACrD,IAAI0I,EACJxJ,EAASpzD,SAAQ,CAACg2D,EAAMG,KAClB2E,GAAuB9E,IAEzB4G,EAAgBzG,EAClB,SAG2B,IAAlByG,IACTD,EAAWvJ,EAASwJ,EAAgB,EAAIA,EAAgB,EAAIA,GAEhE,CAEA,IAAIC,EAAY,EAYhB,QAVwB,IAAbF,IACTE,EAAYxJ,EAAW3uD,QAAQi4D,GAC3BE,EAAY,IAAGA,EAAYhwB,EAAO1D,YAAc,GAEvB,SAAzBqmB,EAAOiF,eAAsD,IAA1BjF,EAAO2F,gBAAwB3F,EAAOwM,qBAC3Ea,EAAYA,EAAYhwB,EAAOovB,qBAAqB,YAAY,GAAQ,EACxEY,EAAYthD,KAAKC,IAAIqhD,EAAW,KAIhCrN,EAAO8M,QAAUzvB,EAAOyrB,YAAa,CACvC,MAAMwE,EAAYjwB,EAAO2iB,OAAOwD,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,SAAWe,EAAOmmB,QAAUnmB,EAAOmmB,QAAQ9pB,OAAOz1C,OAAS,EAAIo5C,EAAO3D,OAAOz1C,OAAS,EACvJ,OAAOo5C,EAAOS,QAAQwvB,EAAWrN,EAAO6K,EAAcE,EACxD,CAEA,OAAO3tB,EAAOS,QAAQuvB,EAAWpN,EAAO6K,EAAcE,EACxD,EJ3DEuC,WKXa,SAAoBtN,EAAO6K,EAAcE,GAUtD,YATc,IAAV/K,IACFA,EAAQzgE,KAAKwgE,OAAOC,YAGD,IAAjB6K,IACFA,GAAe,GAGFtrE,KACDs+C,QADCt+C,KACcm6C,YAAasmB,EAAO6K,EAAcE,EACjE,ELCEwC,eMZa,SAAwBvN,EAAO6K,EAAcE,EAAUyC,QACtD,IAAVxN,IACFA,EAAQzgE,KAAKwgE,OAAOC,YAGD,IAAjB6K,IACFA,GAAe,QAGC,IAAd2C,IACFA,EAAY,IAGd,MAAMpwB,EAAS79C,KACf,IAAIwU,EAAQqpC,EAAO1D,YACnB,MAAM0wB,EAAOt+C,KAAKsQ,IAAIghB,EAAO2iB,OAAO4F,mBAAoB5xD,GAClD2yD,EAAY0D,EAAOt+C,KAAKynC,OAAOx/C,EAAQq2D,GAAQhtB,EAAO2iB,OAAO2F,gBAC7D9F,EAAYxiB,EAAOgmB,aAAehmB,EAAOwiB,WAAaxiB,EAAOwiB,UAEnE,GAAIA,GAAaxiB,EAAOumB,SAAS+C,GAAY,CAG3C,MAAM+G,EAAcrwB,EAAOumB,SAAS+C,GAGhC9G,EAAY6N,GAFCrwB,EAAOumB,SAAS+C,EAAY,GAEH+G,GAAeD,IACvDz5D,GAASqpC,EAAO2iB,OAAO2F,eAE3B,KAAO,CAGL,MAAMwH,EAAW9vB,EAAOumB,SAAS+C,EAAY,GAGzC9G,EAAYsN,IAFI9vB,EAAOumB,SAAS+C,GAEOwG,GAAYM,IACrDz5D,GAASqpC,EAAO2iB,OAAO2F,eAE3B,CAIA,OAFA3xD,EAAQ+X,KAAKC,IAAIhY,EAAO,GACxBA,EAAQ+X,KAAKsQ,IAAIroB,EAAOqpC,EAAOwmB,WAAW5/D,OAAS,GAC5Co5C,EAAOS,QAAQ9pC,EAAOisD,EAAO6K,EAAcE,EACpD,EN7BEJ,oBOZa,WACb,MAAMvtB,EAAS79C,MACT,OACJwgE,EAAM,WACNmD,GACE9lB,EACE4nB,EAAyC,SAAzBjF,EAAOiF,cAA2B5nB,EAAOovB,uBAAyBzM,EAAOiF,cAC/F,IACIrrB,EADA+zB,EAAetwB,EAAOstB,aAG1B,GAAI3K,EAAOvkB,KAAM,CACf,GAAI4B,EAAO+tB,UAAW,OACtBxxB,EAAYjtB,SAAS,EAAE0wB,EAAOqtB,cAAc5R,KAAK,2BAA4B,IAEzEkH,EAAOyE,eACLkJ,EAAetwB,EAAOgvB,aAAepH,EAAgB,GAAK0I,EAAetwB,EAAO3D,OAAOz1C,OAASo5C,EAAOgvB,aAAepH,EAAgB,GACxI5nB,EAAOuvB,UACPe,EAAexK,EAAWtmD,SAAS,IAAImjD,EAAO0D,uCAAuC9pB,YAAoBomB,EAAO2J,wBAAwBtN,GAAG,GAAGroD,QAC9IypD,GAAS,KACPpgB,EAAOS,QAAQ6vB,EAAa,KAG9BtwB,EAAOS,QAAQ6vB,GAERA,EAAetwB,EAAO3D,OAAOz1C,OAASghE,GAC/C5nB,EAAOuvB,UACPe,EAAexK,EAAWtmD,SAAS,IAAImjD,EAAO0D,uCAAuC9pB,YAAoBomB,EAAO2J,wBAAwBtN,GAAG,GAAGroD,QAC9IypD,GAAS,KACPpgB,EAAOS,QAAQ6vB,EAAa,KAG9BtwB,EAAOS,QAAQ6vB,EAEnB,MACEtwB,EAAOS,QAAQ6vB,EAEnB,GCnCA,GACEC,WCFa,WACb,MAAMvwB,EAAS79C,KACT6C,EAAWuzD,KACX,OACJoK,EAAM,WACNmD,GACE9lB,EAEEwwB,EAAY1K,EAAWtmD,WAAW5Y,OAAS,EAAI,EAAEk/D,EAAWtmD,WAAW,GAAGyU,YAAc6xC,EAC9F0K,EAAUhxD,SAAS,IAAImjD,EAAO0D,cAAc1D,EAAO2J,uBAAuBt1D,SAC1E,IAAIqlC,EAASm0B,EAAUhxD,SAAS,IAAImjD,EAAO0D,cAE3C,GAAI1D,EAAO8N,uBAAwB,CACjC,MAAMC,EAAiB/N,EAAO2F,eAAiBjsB,EAAOz1C,OAAS+7D,EAAO2F,eAEtE,GAAIoI,IAAmB/N,EAAO2F,eAAgB,CAC5C,IAAK,IAAIvxD,EAAI,EAAGA,EAAI25D,EAAgB35D,GAAK,EAAG,CAC1C,MAAM45D,EAAY,EAAE3rE,EAASC,cAAc,QAAQi2D,SAAS,GAAGyH,EAAO0D,cAAc1D,EAAOiO,mBAC3FJ,EAAUpyC,OAAOuyC,EACnB,CAEAt0B,EAASm0B,EAAUhxD,SAAS,IAAImjD,EAAO0D,aACzC,CACF,CAE6B,SAAzB1D,EAAOiF,eAA6BjF,EAAOqM,eAAcrM,EAAOqM,aAAe3yB,EAAOz1C,QAC1Fo5C,EAAOgvB,aAAetgD,KAAK67C,KAAKtM,WAAW0E,EAAOqM,cAAgBrM,EAAOiF,cAAe,KACxF5nB,EAAOgvB,cAAgBrM,EAAOkO,qBAE1B7wB,EAAOgvB,aAAe3yB,EAAOz1C,SAC/Bo5C,EAAOgvB,aAAe3yB,EAAOz1C,QAG/B,MAAMkqE,EAAgB,GAChBC,EAAe,GACrB10B,EAAOsiB,MAAK,CAAChgB,EAAIhoC,KACf,MAAMmxD,EAAQ,EAAEnpB,GAEZhoC,EAAQqpC,EAAOgvB,cACjB+B,EAAal4D,KAAK8lC,GAGhBhoC,EAAQ0lC,EAAOz1C,QAAU+P,GAAS0lC,EAAOz1C,OAASo5C,EAAOgvB,cAC3D8B,EAAcj4D,KAAK8lC,GAGrBmpB,EAAMrM,KAAK,0BAA2B9kD,EAAM,IAG9C,IAAK,IAAII,EAAI,EAAGA,EAAIg6D,EAAanqE,OAAQmQ,GAAK,EAC5Cy5D,EAAUpyC,OAAO,EAAE2yC,EAAah6D,GAAGi6D,WAAU,IAAO9V,SAASyH,EAAO2J,sBAGtE,IAAK,IAAIv1D,EAAI+5D,EAAclqE,OAAS,EAAGmQ,GAAK,EAAGA,GAAK,EAClDy5D,EAAUnR,QAAQ,EAAEyR,EAAc/5D,GAAGi6D,WAAU,IAAO9V,SAASyH,EAAO2J,qBAE1E,EDrDEiD,QELa,WACb,MAAMvvB,EAAS79C,KACf69C,EAAOgC,KAAK,iBACZ,MAAM,YACJ1F,EAAW,OACXD,EAAM,aACN2yB,EAAY,eACZX,EAAc,eACdD,EAAc,SACd7H,EACAP,aAAc52B,GACZ4Q,EACJ,IAAI+uB,EACJ/uB,EAAOquB,gBAAiB,EACxBruB,EAAOouB,gBAAiB,EACxB,MACM6C,GADiB1K,EAASjqB,GACH0D,EAAOqgB,eAEhC/jB,EAAc0yB,GAChBD,EAAW1yB,EAAOz1C,OAAwB,EAAfooE,EAAmB1yB,EAC9CyyB,GAAYC,EACShvB,EAAOS,QAAQsuB,EAAU,GAAG,GAAO,IAE3B,IAATkC,GAClBjxB,EAAOsuB,cAAcl/B,GAAO4Q,EAAOwiB,UAAYxiB,EAAOwiB,WAAayO,IAE5D30B,GAAeD,EAAOz1C,OAASooE,IAExCD,GAAY1yB,EAAOz1C,OAAS01C,EAAc0yB,EAC1CD,GAAYC,EACShvB,EAAOS,QAAQsuB,EAAU,GAAG,GAAO,IAE3B,IAATkC,GAClBjxB,EAAOsuB,cAAcl/B,GAAO4Q,EAAOwiB,UAAYxiB,EAAOwiB,WAAayO,IAIvEjxB,EAAOquB,eAAiBA,EACxBruB,EAAOouB,eAAiBA,EACxBpuB,EAAOgC,KAAK,UACd,EFlCEkvB,YGNa,WACb,MACM,WACJpL,EAAU,OACVnD,EAAM,OACNtmB,GAJal6C,KAMf2jE,EAAWtmD,SAAS,IAAImjD,EAAO0D,cAAc1D,EAAO2J,wBAAwB3J,EAAO0D,cAAc1D,EAAOiO,mBAAmB55D,SAC3HqlC,EAAOwf,WAAW,0BACpB,GCee,SAASsV,EAAa59C,GACnC,MAAMysB,EAAS79C,KACT6C,EAAWuzD,IACXvuD,EAAS,IACT6B,EAAOm0C,EAAOoxB,iBACd,OACJzO,EAAM,QACN0O,EAAO,QACPpyB,GACEe,EACJ,IAAKf,EAAS,OAEd,GAAIe,EAAO+tB,WAAapL,EAAOqL,+BAC7B,QAGGhuB,EAAO+tB,WAAapL,EAAO0E,SAAW1E,EAAOvkB,MAChD4B,EAAOuvB,UAGT,IAAIhsE,EAAIgwB,EACJhwB,EAAE+tE,gBAAe/tE,EAAIA,EAAE+tE,eAC3B,IAAIC,EAAY,EAAEhuE,EAAEoX,QAEpB,GAAiC,YAA7BgoD,EAAO6O,oBACJD,EAAUzR,QAAQ9f,EAAO6iB,WAAWj8D,OAAQ,OAInD,GADAiF,EAAK4lE,aAA0B,eAAXluE,EAAEL,MACjB2I,EAAK4lE,cAAgB,UAAWluE,GAAiB,IAAZA,EAAEmuE,MAAa,OACzD,IAAK7lE,EAAK4lE,cAAgB,WAAYluE,GAAKA,EAAEN,OAAS,EAAG,OACzD,GAAI4I,EAAK8lE,WAAa9lE,EAAK+lE,QAAS,OAELjP,EAAOkP,gBAA4C,KAA1BlP,EAAOkP,gBAEnCtuE,EAAEoX,QAAUpX,EAAEoX,OAAOm3D,YAAcv+C,EAAMw+C,MAAQx+C,EAAMw+C,KAAK,KACtFR,EAAY,EAAEh+C,EAAMw+C,KAAK,KAG3B,MAAMC,EAAoBrP,EAAOqP,kBAAoBrP,EAAOqP,kBAAoB,IAAIrP,EAAOkP,iBACrFI,KAAoB1uE,EAAEoX,SAAUpX,EAAEoX,OAAOm3D,YAE/C,GAAInP,EAAOuP,YAAcD,EA9D3B,SAAwB5X,EAAU8X,GAiBhC,YAhBa,IAATA,IACFA,EAAOhwE,MAGT,SAASiwE,EAAczzB,GACrB,IAAKA,GAAMA,IAAO4Z,KAAiB5Z,IAAO,IAAa,OAAO,KAC1DA,EAAG0zB,eAAc1zB,EAAKA,EAAG0zB,cAC7B,MAAMpS,EAAQthB,EAAGmhB,QAAQzF,GAEzB,OAAK4F,GAAUthB,EAAG2zB,YAIXrS,GAASmS,EAAczzB,EAAG2zB,cAAcra,MAHtC,IAIX,CAEOma,CAAcD,EACvB,CA4C4CI,CAAeP,EAAmBT,EAAU,IAAMA,EAAUzR,QAAQkS,GAAmB,IAE/H,YADAhyB,EAAOwyB,YAAa,GAItB,GAAI7P,EAAO8P,eACJlB,EAAUzR,QAAQ6C,EAAO8P,cAAc,GAAI,OAGlDpB,EAAQqB,SAAsB,eAAXnvE,EAAEL,KAAwBK,EAAEovE,cAAc,GAAGC,MAAQrvE,EAAEqvE,MAC1EvB,EAAQwB,SAAsB,eAAXtvE,EAAEL,KAAwBK,EAAEovE,cAAc,GAAGG,MAAQvvE,EAAEuvE,MAC1E,MAAMC,EAAS1B,EAAQqB,SACjBM,EAAS3B,EAAQwB,SAEjBI,EAAqBtQ,EAAOsQ,oBAAsBtQ,EAAOuQ,sBACzDC,EAAqBxQ,EAAOwQ,oBAAsBxQ,EAAOyQ,sBAE/D,GAAIH,IAAuBF,GAAUI,GAAsBJ,GAAU/oE,EAAO46C,WAAauuB,GAAqB,CAC5G,GAA2B,YAAvBF,EAGF,OAFA1/C,EAAM/S,gBAIV,CAiBA,GAfAihB,OAAOikC,OAAO75D,EAAM,CAClB8lE,WAAW,EACXC,SAAS,EACTyB,qBAAqB,EACrBC,iBAAanwE,EACbowE,iBAAapwE,IAEfkuE,EAAQ0B,OAASA,EACjB1B,EAAQ2B,OAASA,EACjBnnE,EAAK2nE,eAAiBvoD,IACtB+0B,EAAOwyB,YAAa,EACpBxyB,EAAOolB,aACPplB,EAAOyzB,oBAAiBtwE,EACpBw/D,EAAOyN,UAAY,IAAGvkE,EAAK6nE,oBAAqB,GAErC,eAAXnwE,EAAEL,KAAuB,CAC3B,IAAIsd,GAAiB,EAEjB+wD,EAAU/U,GAAG3wD,EAAK8nE,qBACpBnzD,GAAiB,EAEa,WAA1B+wD,EAAU,GAAGha,WACf1rD,EAAK8lE,WAAY,IAIjB3sE,EAAS4uC,eAAiB,EAAE5uC,EAAS4uC,eAAe4oB,GAAG3wD,EAAK8nE,oBAAsB3uE,EAAS4uC,gBAAkB29B,EAAU,IACzHvsE,EAAS4uC,cAAc0jB,OAGzB,MAAMsc,EAAuBpzD,GAAkBw/B,EAAO6zB,gBAAkBlR,EAAOmR,0BAE1EnR,EAAOoR,gCAAiCH,GAA0BrC,EAAU,GAAGyC,mBAClFzwE,EAAEid,gBAEN,CAEIw/B,EAAO2iB,OAAOsR,UAAYj0B,EAAO2iB,OAAOsR,SAASh1B,SAAWe,EAAOi0B,UAAYj0B,EAAO+tB,YAAcpL,EAAO0E,SAC7GrnB,EAAOi0B,SAAS9C,eAGlBnxB,EAAOgC,KAAK,aAAcz+C,EAC5B,CClIe,SAAS2wE,EAAY3gD,GAClC,MAAMvuB,EAAWuzD,IACXvY,EAAS79C,KACT0J,EAAOm0C,EAAOoxB,iBACd,OACJzO,EAAM,QACN0O,EACArL,aAAc52B,EAAG,QACjB6P,GACEe,EACJ,IAAKf,EAAS,OACd,IAAI17C,EAAIgwB,EAGR,GAFIhwB,EAAE+tE,gBAAe/tE,EAAIA,EAAE+tE,gBAEtBzlE,EAAK8lE,UAKR,YAJI9lE,EAAK0nE,aAAe1nE,EAAKynE,aAC3BtzB,EAAOgC,KAAK,oBAAqBz+C,IAMrC,GAAIsI,EAAK4lE,cAA2B,cAAXluE,EAAEL,KAAsB,OACjD,MAAMixE,EAAyB,cAAX5wE,EAAEL,MAAwBK,EAAEovE,gBAAkBpvE,EAAEovE,cAAc,IAAMpvE,EAAE6wE,eAAe,IACnGxB,EAAmB,cAAXrvE,EAAEL,KAAuBixE,EAAYvB,MAAQrvE,EAAEqvE,MACvDE,EAAmB,cAAXvvE,EAAEL,KAAuBixE,EAAYrB,MAAQvvE,EAAEuvE,MAE7D,GAAIvvE,EAAE8wE,wBAGJ,OAFAhD,EAAQ0B,OAASH,OACjBvB,EAAQ2B,OAASF,GAInB,IAAK9yB,EAAO6zB,eAeV,OAdK,EAAEtwE,EAAEoX,QAAQ6hD,GAAG3wD,EAAK8nE,qBACvB3zB,EAAOwyB,YAAa,QAGlB3mE,EAAK8lE,YACPlwC,OAAOikC,OAAO2L,EAAS,CACrB0B,OAAQH,EACRI,OAAQF,EACRJ,SAAUE,EACVC,SAAUC,IAEZjnE,EAAK2nE,eAAiBvoD,MAM1B,GAAIpf,EAAK4lE,cAAgB9O,EAAO2R,sBAAwB3R,EAAOvkB,KAC7D,GAAI4B,EAAOwlB,cAET,GAAIsN,EAAQzB,EAAQ2B,QAAUhzB,EAAOwiB,WAAaxiB,EAAOwrB,gBAAkBsH,EAAQzB,EAAQ2B,QAAUhzB,EAAOwiB,WAAaxiB,EAAOgrB,eAG9H,OAFAn/D,EAAK8lE,WAAY,OACjB9lE,EAAK+lE,SAAU,QAGZ,GAAIgB,EAAQvB,EAAQ0B,QAAU/yB,EAAOwiB,WAAaxiB,EAAOwrB,gBAAkBoH,EAAQvB,EAAQ0B,QAAU/yB,EAAOwiB,WAAaxiB,EAAOgrB,eACrI,OAIJ,GAAIn/D,EAAK4lE,cAAgBzsE,EAAS4uC,eAC5BrwC,EAAEoX,SAAW3V,EAAS4uC,eAAiB,EAAErwC,EAAEoX,QAAQ6hD,GAAG3wD,EAAK8nE,mBAG7D,OAFA9nE,EAAK+lE,SAAU,OACf5xB,EAAOwyB,YAAa,GASxB,GAJI3mE,EAAKwnE,qBACPrzB,EAAOgC,KAAK,YAAaz+C,GAGvBA,EAAEovE,eAAiBpvE,EAAEovE,cAAc/rE,OAAS,EAAG,OACnDyqE,EAAQqB,SAAWE,EACnBvB,EAAQwB,SAAWC,EACnB,MAAMyB,EAAQlD,EAAQqB,SAAWrB,EAAQ0B,OACnCyB,EAAQnD,EAAQwB,SAAWxB,EAAQ2B,OACzC,GAAIhzB,EAAO2iB,OAAOyN,WAAa1hD,KAAK+lD,KAAKF,GAAS,EAAIC,GAAS,GAAKx0B,EAAO2iB,OAAOyN,UAAW,OAE7F,QAAgC,IAArBvkE,EAAKynE,YAA6B,CAC3C,IAAIoB,EAEA10B,EAAOulB,gBAAkB8L,EAAQwB,WAAaxB,EAAQ2B,QAAUhzB,EAAOwlB,cAAgB6L,EAAQqB,WAAarB,EAAQ0B,OACtHlnE,EAAKynE,aAAc,EAGfiB,EAAQA,EAAQC,EAAQA,GAAS,KACnCE,EAA4D,IAA/ChmD,KAAKimD,MAAMjmD,KAAK25C,IAAImM,GAAQ9lD,KAAK25C,IAAIkM,IAAgB7lD,KAAK40C,GACvEz3D,EAAKynE,YAActzB,EAAOulB,eAAiBmP,EAAa/R,EAAO+R,WAAa,GAAKA,EAAa/R,EAAO+R,WAG3G,CAYA,GAVI7oE,EAAKynE,aACPtzB,EAAOgC,KAAK,oBAAqBz+C,QAGH,IAArBsI,EAAK0nE,cACVlC,EAAQqB,WAAarB,EAAQ0B,QAAU1B,EAAQwB,WAAaxB,EAAQ2B,SACtEnnE,EAAK0nE,aAAc,IAInB1nE,EAAKynE,YAEP,YADAznE,EAAK8lE,WAAY,GAInB,IAAK9lE,EAAK0nE,YACR,OAGFvzB,EAAOwyB,YAAa,GAEf7P,EAAO0E,SAAW9jE,EAAEi6D,YACvBj6D,EAAEid,iBAGAmiD,EAAOiS,2BAA6BjS,EAAOkS,QAC7CtxE,EAAEuxE,kBAGCjpE,EAAK+lE,UACJjP,EAAOvkB,OAASukB,EAAO0E,SACzBrnB,EAAOuvB,UAGT1jE,EAAKkpE,eAAiB/0B,EAAOqgB,eAC7BrgB,EAAOoqB,cAAc,GAEjBpqB,EAAO+tB,WACT/tB,EAAO8lB,WAAWrhE,QAAQ,qCAG5BoH,EAAKmpE,qBAAsB,GAEvBrS,EAAOsS,aAAyC,IAA1Bj1B,EAAOouB,iBAAqD,IAA1BpuB,EAAOquB,gBACjEruB,EAAOk1B,eAAc,GAGvBl1B,EAAOgC,KAAK,kBAAmBz+C,IAGjCy8C,EAAOgC,KAAK,aAAcz+C,GAC1BsI,EAAK+lE,SAAU,EACf,IAAIX,EAAOjxB,EAAOulB,eAAiBgP,EAAQC,EAC3CnD,EAAQJ,KAAOA,EACfA,GAAQtO,EAAOwS,WACX/lC,IAAK6hC,GAAQA,GACjBjxB,EAAOyzB,eAAiBxC,EAAO,EAAI,OAAS,OAC5CplE,EAAKupE,iBAAmBnE,EAAOplE,EAAKkpE,eACpC,IAAIM,GAAsB,EACtBC,EAAkB3S,EAAO2S,gBAgC7B,GA9BI3S,EAAO2R,sBACTgB,EAAkB,GAGhBrE,EAAO,GAAKplE,EAAKupE,iBAAmBp1B,EAAOgrB,gBAC7CqK,GAAsB,EAClB1S,EAAO4S,aAAY1pE,EAAKupE,iBAAmBp1B,EAAOgrB,eAAiB,IAAMhrB,EAAOgrB,eAAiBn/D,EAAKkpE,eAAiB9D,IAASqE,IAC3HrE,EAAO,GAAKplE,EAAKupE,iBAAmBp1B,EAAOwrB,iBACpD6J,GAAsB,EAClB1S,EAAO4S,aAAY1pE,EAAKupE,iBAAmBp1B,EAAOwrB,eAAiB,GAAKxrB,EAAOwrB,eAAiB3/D,EAAKkpE,eAAiB9D,IAASqE,IAGjID,IACF9xE,EAAE8wE,yBAA0B,IAIzBr0B,EAAOouB,gBAA4C,SAA1BpuB,EAAOyzB,gBAA6B5nE,EAAKupE,iBAAmBvpE,EAAKkpE,iBAC7FlpE,EAAKupE,iBAAmBvpE,EAAKkpE,iBAG1B/0B,EAAOquB,gBAA4C,SAA1BruB,EAAOyzB,gBAA6B5nE,EAAKupE,iBAAmBvpE,EAAKkpE,iBAC7FlpE,EAAKupE,iBAAmBvpE,EAAKkpE,gBAG1B/0B,EAAOquB,gBAAmBruB,EAAOouB,iBACpCviE,EAAKupE,iBAAmBvpE,EAAKkpE,gBAI3BpS,EAAOyN,UAAY,EAAG,CACxB,KAAI1hD,KAAK25C,IAAI4I,GAAQtO,EAAOyN,WAAavkE,EAAK6nE,oBAW5C,YADA7nE,EAAKupE,iBAAmBvpE,EAAKkpE,gBAT7B,IAAKlpE,EAAK6nE,mBAMR,OALA7nE,EAAK6nE,oBAAqB,EAC1BrC,EAAQ0B,OAAS1B,EAAQqB,SACzBrB,EAAQ2B,OAAS3B,EAAQwB,SACzBhnE,EAAKupE,iBAAmBvpE,EAAKkpE,oBAC7B1D,EAAQJ,KAAOjxB,EAAOulB,eAAiB8L,EAAQqB,SAAWrB,EAAQ0B,OAAS1B,EAAQwB,SAAWxB,EAAQ2B,OAO5G,CAEKrQ,EAAO6S,eAAgB7S,EAAO0E,WAE/B1E,EAAOsR,UAAYtR,EAAOsR,SAASh1B,SAAWe,EAAOi0B,UAAYtR,EAAOiH,uBAC1E5pB,EAAO0sB,oBACP1sB,EAAO8rB,uBAGL9rB,EAAO2iB,OAAOsR,UAAYtR,EAAOsR,SAASh1B,SAAWe,EAAOi0B,UAC9Dj0B,EAAOi0B,SAASC,cAIlBl0B,EAAOqrB,eAAex/D,EAAKupE,kBAE3Bp1B,EAAOsuB,aAAaziE,EAAKupE,kBAC3B,CC7Ne,SAASK,EAAWliD,GACjC,MAAMysB,EAAS79C,KACT0J,EAAOm0C,EAAOoxB,iBACd,OACJzO,EAAM,QACN0O,EACArL,aAAc52B,EAAG,WACjBo3B,EAAU,QACVvnB,GACEe,EACJ,IAAKf,EAAS,OACd,IAAI17C,EAAIgwB,EASR,GARIhwB,EAAE+tE,gBAAe/tE,EAAIA,EAAE+tE,eAEvBzlE,EAAKwnE,qBACPrzB,EAAOgC,KAAK,WAAYz+C,GAG1BsI,EAAKwnE,qBAAsB,GAEtBxnE,EAAK8lE,UAOR,OANI9lE,EAAK+lE,SAAWjP,EAAOsS,YACzBj1B,EAAOk1B,eAAc,GAGvBrpE,EAAK+lE,SAAU,OACf/lE,EAAK0nE,aAAc,GAKjB5Q,EAAOsS,YAAcppE,EAAK+lE,SAAW/lE,EAAK8lE,aAAwC,IAA1B3xB,EAAOouB,iBAAqD,IAA1BpuB,EAAOquB,iBACnGruB,EAAOk1B,eAAc,GAIvB,MAAMQ,EAAezqD,IACf0qD,EAAWD,EAAe7pE,EAAK2nE,eAErC,GAAIxzB,EAAOwyB,WAAY,CACrB,MAAMoD,EAAWryE,EAAEwuE,MAAQxuE,EAAEsyE,cAAgBtyE,EAAEsyE,eAC/C71B,EAAOmtB,mBAAmByI,GAAYA,EAAS,IAAMryE,EAAEoX,QACvDqlC,EAAOgC,KAAK,YAAaz+C,GAErBoyE,EAAW,KAAOD,EAAe7pE,EAAKiqE,cAAgB,KACxD91B,EAAOgC,KAAK,wBAAyBz+C,EAEzC,CAOA,GALAsI,EAAKiqE,cAAgB7qD,IACrBm1C,GAAS,KACFpgB,EAAOmC,YAAWnC,EAAOwyB,YAAa,EAAI,KAG5C3mE,EAAK8lE,YAAc9lE,EAAK+lE,UAAY5xB,EAAOyzB,gBAAmC,IAAjBpC,EAAQJ,MAAcplE,EAAKupE,mBAAqBvpE,EAAKkpE,eAIrH,OAHAlpE,EAAK8lE,WAAY,EACjB9lE,EAAK+lE,SAAU,OACf/lE,EAAK0nE,aAAc,GAOrB,IAAIwC,EAQJ,GAXAlqE,EAAK8lE,WAAY,EACjB9lE,EAAK+lE,SAAU,EACf/lE,EAAK0nE,aAAc,EAIjBwC,EADEpT,EAAO6S,aACIpmC,EAAM4Q,EAAOwiB,WAAaxiB,EAAOwiB,WAEhC32D,EAAKupE,iBAGjBzS,EAAO0E,QACT,OAGF,GAAIrnB,EAAO2iB,OAAOsR,UAAYtR,EAAOsR,SAASh1B,QAI5C,YAHAe,EAAOi0B,SAASwB,WAAW,CACzBM,eAMJ,IAAIC,EAAY,EACZC,EAAYj2B,EAAOymB,gBAAgB,GAEvC,IAAK,IAAI1vD,EAAI,EAAGA,EAAIyvD,EAAW5/D,OAAQmQ,GAAKA,EAAI4rD,EAAO4F,mBAAqB,EAAI5F,EAAO2F,eAAgB,CACrG,MAAM+G,EAAYt4D,EAAI4rD,EAAO4F,mBAAqB,EAAI,EAAI5F,EAAO2F,oBAExB,IAA9B9B,EAAWzvD,EAAIs4D,GACpB0G,GAAcvP,EAAWzvD,IAAMg/D,EAAavP,EAAWzvD,EAAIs4D,KAC7D2G,EAAYj/D,EACZk/D,EAAYzP,EAAWzvD,EAAIs4D,GAAa7I,EAAWzvD,IAE5Cg/D,GAAcvP,EAAWzvD,KAClCi/D,EAAYj/D,EACZk/D,EAAYzP,EAAWA,EAAW5/D,OAAS,GAAK4/D,EAAWA,EAAW5/D,OAAS,GAEnF,CAEA,IAAIsvE,EAAmB,KACnBC,EAAkB,KAElBxT,EAAO8M,SACLzvB,EAAOyrB,YACT0K,EAAkBn2B,EAAO2iB,OAAOwD,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,SAAWe,EAAOmmB,QAAUnmB,EAAOmmB,QAAQ9pB,OAAOz1C,OAAS,EAAIo5C,EAAO3D,OAAOz1C,OAAS,EAC9Io5C,EAAO0rB,QAChBwK,EAAmB,IAKvB,MAAME,GAASL,EAAavP,EAAWwP,IAAcC,EAC/C5G,EAAY2G,EAAYrT,EAAO4F,mBAAqB,EAAI,EAAI5F,EAAO2F,eAEzE,GAAIqN,EAAWhT,EAAO0T,aAAc,CAElC,IAAK1T,EAAO2T,WAEV,YADAt2B,EAAOS,QAAQT,EAAO1D,aAIM,SAA1B0D,EAAOyzB,iBACL2C,GAASzT,EAAO4T,gBAAiBv2B,EAAOS,QAAQkiB,EAAO8M,QAAUzvB,EAAO0rB,MAAQwK,EAAmBF,EAAY3G,GAAgBrvB,EAAOS,QAAQu1B,IAGtH,SAA1Bh2B,EAAOyzB,iBACL2C,EAAQ,EAAIzT,EAAO4T,gBACrBv2B,EAAOS,QAAQu1B,EAAY3G,GACE,OAApB8G,GAA4BC,EAAQ,GAAK1nD,KAAK25C,IAAI+N,GAASzT,EAAO4T,gBAC3Ev2B,EAAOS,QAAQ01B,GAEfn2B,EAAOS,QAAQu1B,GAGrB,KAAO,CAEL,IAAKrT,EAAO6T,YAEV,YADAx2B,EAAOS,QAAQT,EAAO1D,cAIE0D,EAAOnB,YAAet7C,EAAEoX,SAAWqlC,EAAOnB,WAAWE,QAAUx7C,EAAEoX,SAAWqlC,EAAOnB,WAAWC,QAGxF,SAA1BkB,EAAOyzB,gBACTzzB,EAAOS,QAA6B,OAArBy1B,EAA4BA,EAAmBF,EAAY3G,GAG9C,SAA1BrvB,EAAOyzB,gBACTzzB,EAAOS,QAA4B,OAApB01B,EAA2BA,EAAkBH,IAErDzyE,EAAEoX,SAAWqlC,EAAOnB,WAAWE,OACxCiB,EAAOS,QAAQu1B,EAAY3G,GAE3BrvB,EAAOS,QAAQu1B,EAEnB,CACF,CChKe,SAASS,IACtB,MAAMz2B,EAAS79C,MACT,OACJwgE,EAAM,GACNhkB,GACEqB,EACJ,GAAIrB,GAAyB,IAAnBA,EAAGqf,YAAmB,OAE5B2E,EAAOkF,aACT7nB,EAAO02B,gBAIT,MAAM,eACJtI,EAAc,eACdC,EAAc,SACd9H,GACEvmB,EAEJA,EAAOouB,gBAAiB,EACxBpuB,EAAOquB,gBAAiB,EACxBruB,EAAOolB,aACPplB,EAAO2lB,eACP3lB,EAAO8rB,uBAEuB,SAAzBnJ,EAAOiF,eAA4BjF,EAAOiF,cAAgB,IAAM5nB,EAAO0rB,QAAU1rB,EAAOyrB,cAAgBzrB,EAAO2iB,OAAOyE,eACzHpnB,EAAOS,QAAQT,EAAO3D,OAAOz1C,OAAS,EAAG,GAAG,GAAO,GAEnDo5C,EAAOS,QAAQT,EAAO1D,YAAa,GAAG,GAAO,GAG3C0D,EAAO9uB,UAAY8uB,EAAO9uB,SAASylD,SAAW32B,EAAO9uB,SAAS0lD,QAChE52B,EAAO9uB,SAAS2lD,MAIlB72B,EAAOquB,eAAiBA,EACxBruB,EAAOouB,eAAiBA,EAEpBpuB,EAAO2iB,OAAO+G,eAAiBnD,IAAavmB,EAAOumB,UACrDvmB,EAAO2pB,eAEX,CC1Ce,SAAS9hC,EAAQtkC,GAC9B,MAAMy8C,EAAS79C,KACV69C,EAAOf,UAEPe,EAAOwyB,aACNxyB,EAAO2iB,OAAOmU,eAAevzE,EAAEid,iBAE/Bw/B,EAAO2iB,OAAOoU,0BAA4B/2B,EAAO+tB,YACnDxqE,EAAEuxE,kBACFvxE,EAAEyzE,6BAGR,CCZe,SAASC,IACtB,MAAMj3B,EAAS79C,MACT,UACJ0gE,EAAS,aACTmD,EAAY,QACZ/mB,GACEe,EACJ,IAAKf,EAAS,OAad,IAAIi4B,EAZJl3B,EAAOm3B,kBAAoBn3B,EAAOwiB,UAE9BxiB,EAAOulB,eACTvlB,EAAOwiB,WAAaK,EAAUtE,WAE9Bve,EAAOwiB,WAAaK,EAAUxE,UAIP,IAArBre,EAAOwiB,YAAiBxiB,EAAOwiB,UAAY,GAC/CxiB,EAAO0sB,oBACP1sB,EAAO8rB,sBAEP,MAAMP,EAAiBvrB,EAAOwrB,eAAiBxrB,EAAOgrB,eAGpDkM,EADqB,IAAnB3L,EACY,GAECvrB,EAAOwiB,UAAYxiB,EAAOgrB,gBAAkBO,EAGzD2L,IAAgBl3B,EAAOmjB,UACzBnjB,EAAOqrB,eAAerF,GAAgBhmB,EAAOwiB,UAAYxiB,EAAOwiB,WAGlExiB,EAAOgC,KAAK,eAAgBhC,EAAOwiB,WAAW,EAChD,CC3BA,IAAI4U,GAAqB,EAEzB,SAASC,IAAsB,CAE/B,MAAMza,EAAS,CAAC5c,EAAQwkB,KACtB,MAAMx/D,EAAWuzD,KACX,OACJoK,EAAM,YACN2U,EAAW,GACX34B,EAAE,UACFkkB,EAAS,OACT0U,EAAM,QACN9T,GACEzjB,EACEmc,IAAYwG,EAAOkS,OACnB2C,EAAuB,OAAXhT,EAAkB,mBAAqB,sBACnDiT,EAAejT,EAErB,GAAKf,EAAQK,MAIN,CACL,MAAME,IAAwC,eAAtBsT,EAAYx3B,QAA0B2jB,EAAQO,kBAAmBrB,EAAO+U,mBAAmB,CACjHC,SAAS,EACTxb,SAAS,GAEXxd,EAAG64B,GAAWF,EAAYx3B,MAAOE,EAAOmxB,aAAcnN,GACtDrlB,EAAG64B,GAAWF,EAAYM,KAAM53B,EAAOk0B,YAAazQ,EAAQO,gBAAkB,CAC5E2T,SAAS,EACTxb,WACEA,GACJxd,EAAG64B,GAAWF,EAAYO,IAAK73B,EAAOy1B,WAAYzR,GAE9CsT,EAAYtmB,QACdrS,EAAG64B,GAAWF,EAAYtmB,OAAQhR,EAAOy1B,WAAYzR,EAEzD,MAlBErlB,EAAG64B,GAAWF,EAAYx3B,MAAOE,EAAOmxB,cAAc,GACtDnsE,EAASwyE,GAAWF,EAAYM,KAAM53B,EAAOk0B,YAAa/X,GAC1Dn3D,EAASwyE,GAAWF,EAAYO,IAAK73B,EAAOy1B,YAAY,IAmBtD9S,EAAOmU,eAAiBnU,EAAOoU,2BACjCp4B,EAAG64B,GAAW,QAASx3B,EAAOnY,SAAS,GAGrC86B,EAAO0E,SACTxE,EAAU2U,GAAW,SAAUx3B,EAAOi3B,UAIpCtU,EAAOmV,qBACT93B,EAAOy3B,GAAcF,EAAOQ,KAAOR,EAAOS,QAAU,0CAA4C,wBAAyBvB,GAAU,GAEnIz2B,EAAOy3B,GAAc,iBAAkBhB,GAAU,EACnD,EAiCF,GACEwB,aA/BF,WACE,MAAMj4B,EAAS79C,KACT6C,EAAWuzD,KACX,OACJoK,EAAM,QACNc,GACEzjB,EACJA,EAAOmxB,aAAeA,EAAapmC,KAAKiV,GACxCA,EAAOk0B,YAAcA,EAAYnpC,KAAKiV,GACtCA,EAAOy1B,WAAaA,EAAW1qC,KAAKiV,GAEhC2iB,EAAO0E,UACTrnB,EAAOi3B,SAAWA,EAASlsC,KAAKiV,IAGlCA,EAAOnY,QAAUA,EAAQkD,KAAKiV,GAE1ByjB,EAAQK,QAAUsT,IACpBpyE,EAAS26C,iBAAiB,aAAc03B,GACxCD,GAAqB,GAGvBxa,EAAO5c,EAAQ,KACjB,EASEk4B,aAPF,WAEEtb,EADez6D,KACA,MACjB,GCzFMg2E,EAAgB,CAACn4B,EAAQ2iB,IACtB3iB,EAAOunB,MAAQ5E,EAAO4E,MAAQ5E,EAAO4E,KAAKC,KAAO,ECD1D,GACE4Q,WCaa,WACb,MAAMp4B,EAAS79C,MACT,WACJknD,EAAU,OACVsZ,EAAM,IACNvzB,EAAG,IACHi2B,EAAG,OACHkS,EAAM,QACN9T,GACEzjB,EAEEq4B,EA3BR,SAAwB52B,EAAS62B,GAC/B,MAAMC,EAAgB,GAYtB,OAXA92B,EAAQtuC,SAAQ6Y,IACM,iBAATA,EACTyV,OAAOC,KAAK1V,GAAM7Y,SAAQk2C,IACpBr9B,EAAKq9B,IACPkvB,EAAc1/D,KAAKy/D,EAASjvB,EAC9B,IAEuB,iBAATr9B,GAChBusD,EAAc1/D,KAAKy/D,EAAStsD,EAC9B,IAEKusD,CACT,CAamBC,CAAe,CAAC,cAAe7V,EAAOvjB,UAAW,CAChE,kBAAmBqkB,EAAQK,OAC1B,CACD,YAAa9jB,EAAO2iB,OAAOsR,UAAYtR,EAAOsR,SAASh1B,SACtD,CACD,WAAc0jB,EAAOkJ,YACpB,CACD,IAAOz8B,GACN,CACD,KAAQuzB,EAAO4E,MAAQ5E,EAAO4E,KAAKC,KAAO,GACzC,CACD,cAAe7E,EAAO4E,MAAQ5E,EAAO4E,KAAKC,KAAO,GAA0B,WAArB7E,EAAO4E,KAAKkR,MACjE,CACD,QAAWlB,EAAOS,SACjB,CACD,IAAOT,EAAOQ,KACb,CACD,WAAYpV,EAAO0E,SAClB,CACD,SAAY1E,EAAO0E,SAAW1E,EAAOyE,gBACpC,CACD,iBAAkBzE,EAAOiH,sBACvBjH,EAAOoH,wBACX1gB,EAAWxwC,QAAQw/D,GACnBhT,EAAInK,SAAS,IAAI7R,GAAYlzB,KAAK,MAClC6pB,EAAO04B,sBACT,EDjDEC,cEJa,WACb,MACM,IACJtT,EAAG,WACHhc,GAHalnD,KAKfkjE,EAAIhK,YAAYhS,EAAWlzB,KAAK,MALjBh0B,KAMRu2E,sBACT,GCRA,GACEz7D,MAAM,EACNmiC,UAAW,aACXoyB,kBAAmB,UACnBlyB,aAAc,EACdsjB,MAAO,IACPyE,SAAS,EACTyQ,sBAAsB,EACtBz4B,gBAAgB,EAChBw1B,QAAQ,EACR+D,gBAAgB,EAChB35B,SAAS,EACT00B,kBAAmB,wDAEnBhpE,MAAO,KACPC,OAAQ,KAERojE,gCAAgC,EAEhC3X,UAAW,KACXztC,IAAK,KAELqqD,oBAAoB,EACpBE,mBAAoB,GAEpBtH,YAAY,EAEZpD,gBAAgB,EAEhBoQ,kBAAkB,EAElBrQ,OAAQ,QAGRX,iBAAa1kE,EACb21E,gBAAiB,SAEjB9R,aAAc,EACdY,cAAe,EACfU,eAAgB,EAChBC,mBAAoB,EACpB4G,oBAAoB,EACpB/H,gBAAgB,EAChB2B,sBAAsB,EACtBpC,mBAAoB,EAEpBE,kBAAmB,EAEnBkG,qBAAqB,EACrB3D,0BAA0B,EAE1BM,eAAe,EAEfvB,cAAc,EAEdgN,WAAY,EACZT,WAAY,GACZqE,eAAe,EACfvC,aAAa,EACbF,YAAY,EACZC,gBAAiB,GACjBF,aAAc,IACdb,cAAc,EACd3B,gBAAgB,EAChBzD,UAAW,EACXwE,0BAA0B,EAC1Bd,0BAA0B,EAC1BC,+BAA+B,EAC/BO,qBAAqB,EAErB0E,mBAAmB,EAEnBzD,YAAY,EACZD,gBAAiB,IAEjB1L,qBAAqB,EAErBqL,YAAY,EAEZ6B,eAAe,EACfC,0BAA0B,EAC1BxJ,qBAAqB,EAErB0L,eAAe,EACfC,qBAAqB,EAErB96B,MAAM,EACNyyB,qBAAsB,EACtB7B,aAAc,KACdyB,wBAAwB,EACxBnB,mBAAmB,EAEnBG,QAAQ,EAERpB,gBAAgB,EAChBD,gBAAgB,EAChBqE,aAAc,KAEdP,WAAW,EACXL,eAAgB,oBAChBG,kBAAmB,KAEnB0F,kBAAkB,EAClBzN,wBAAyB,GAEzBF,uBAAwB,UAExB1D,WAAY,eACZuK,gBAAiB,+BACjB5E,iBAAkB,sBAClBG,0BAA2B,gCAC3BvB,kBAAmB,uBACnB0B,oBAAqB,yBACrBL,eAAgB,oBAChBG,wBAAyB,8BACzBF,eAAgB,oBAChBG,wBAAyB,8BACzB8M,aAAc,iBAEdjM,oBAAoB,EAEpBkM,cAAc,GCxHD,SAASC,EAAmB1W,EAAQ2W,GACjD,OAAO,SAAsBpzB,QACf,IAARA,IACFA,EAAM,CAAC,GAGT,MAAMqzB,EAAkB93C,OAAOC,KAAKwkB,GAAK,GACnCszB,EAAetzB,EAAIqzB,GAEG,iBAAjBC,GAA8C,OAAjBA,GAKpC,CAAC,aAAc,aAAc,aAAa3hE,QAAQ0hE,IAAoB,IAAiC,IAA5B5W,EAAO4W,KACpF5W,EAAO4W,GAAmB,CACxBE,MAAM,IAIJF,KAAmB5W,GAAU,YAAa6W,IAKhB,IAA5B7W,EAAO4W,KACT5W,EAAO4W,GAAmB,CACxBt6B,SAAS,IAI0B,iBAA5B0jB,EAAO4W,IAAmC,YAAa5W,EAAO4W,KACvE5W,EAAO4W,GAAiBt6B,SAAU,GAG/B0jB,EAAO4W,KAAkB5W,EAAO4W,GAAmB,CACtDt6B,SAAS,IAEX,EAAOq6B,EAAkBpzB,IAjBvB,EAAOozB,EAAkBpzB,IAXzB,EAAOozB,EAAkBpzB,EA6B7B,CACF,CClBA,MAAMwzB,EAAa,CACjBC,cAAa,EACbC,OAAM,EACNpX,UCrBF,CACEnC,aCLa,SAA4BC,QAC5B,IAATA,IACFA,EAAOn+D,KAAKojE,eAAiB,IAAM,KAGrC,MACM,OACJ5C,EACAqD,aAAc52B,EAAG,UACjBozB,EAAS,WACTsD,GALa3jE,KAQf,GAAIwgE,EAAOkW,iBACT,OAAOzpC,GAAOozB,EAAYA,EAG5B,GAAIG,EAAO0E,QACT,OAAO7E,EAGT,IAAI4S,EAAmB/U,EAAayF,EAAW,GAAIxF,GAEnD,OADIlxB,IAAKgmC,GAAoBA,GACtBA,GAAoB,CAC7B,EDlBE9G,aEPa,SAAsB9L,EAAWqX,GAC9C,MAAM75B,EAAS79C,MAEb6jE,aAAc52B,EAAG,OACjBuzB,EAAM,WACNmD,EAAU,UACVjD,EAAS,SACTM,GACEnjB,EACJ,IAwBIk3B,EAxBA4C,EAAI,EACJC,EAAI,EAGJ/5B,EAAOulB,eACTuU,EAAI1qC,GAAOozB,EAAYA,EAEvBuX,EAAIvX,EAGFG,EAAOwF,eACT2R,EAAIprD,KAAKynC,MAAM2jB,GACfC,EAAIrrD,KAAKynC,MAAM4jB,IAGbpX,EAAO0E,QACTxE,EAAU7iB,EAAOulB,eAAiB,aAAe,aAAevlB,EAAOulB,gBAAkBuU,GAAKC,EACpFpX,EAAOkW,kBACjB/S,EAAW/wC,UAAU,eAAe+kD,QAAQC,aAG9C/5B,EAAOm3B,kBAAoBn3B,EAAOwiB,UAClCxiB,EAAOwiB,UAAYxiB,EAAOulB,eAAiBuU,EAAIC,EAG/C,MAAMxO,EAAiBvrB,EAAOwrB,eAAiBxrB,EAAOgrB,eAGpDkM,EADqB,IAAnB3L,EACY,GAEC/I,EAAYxiB,EAAOgrB,gBAAkBO,EAGlD2L,IAAgB/T,GAClBnjB,EAAOqrB,eAAe7I,GAGxBxiB,EAAOgC,KAAK,eAAgBhC,EAAOwiB,UAAWqX,EAChD,EFvCE7O,aGRa,WACb,OAAQ7oE,KAAKokE,SAAS,EACxB,EHOEiF,aITa,WACb,OAAQrpE,KAAKokE,SAASpkE,KAAKokE,SAAS3/D,OAAS,EAC/C,EJQEozE,YKTa,SAAqBxX,EAAWI,EAAO6K,EAAcwM,EAAiBtM,QACjE,IAAdnL,IACFA,EAAY,QAGA,IAAVI,IACFA,EAAQzgE,KAAKwgE,OAAOC,YAGD,IAAjB6K,IACFA,GAAe,QAGO,IAApBwM,IACFA,GAAkB,GAGpB,MAAMj6B,EAAS79C,MACT,OACJwgE,EAAM,UACNE,GACE7iB,EAEJ,GAAIA,EAAO+tB,WAAapL,EAAOqL,+BAC7B,OAAO,EAGT,MAAMhD,EAAehrB,EAAOgrB,eACtBQ,EAAexrB,EAAOwrB,eAC5B,IAAI0O,EAKJ,GAJiDA,EAA7CD,GAAmBzX,EAAYwI,EAA6BA,EAAsBiP,GAAmBzX,EAAYgJ,EAA6BA,EAAiChJ,EAEnLxiB,EAAOqrB,eAAe6O,GAElBvX,EAAO0E,QAAS,CAClB,MAAMmH,EAAMxuB,EAAOulB,eAEnB,GAAc,IAAV3C,EACFC,EAAU2L,EAAM,aAAe,cAAgB0L,MAC1C,CACL,IAAKl6B,EAAOyjB,QAAQI,aAMlB,OALA1B,EAAqB,CACnBniB,SACAqiB,gBAAiB6X,EACjB5X,KAAMkM,EAAM,OAAS,SAEhB,EAGT3L,EAAUW,SAAS,CACjB,CAACgL,EAAM,OAAS,QAAS0L,EACzBtL,SAAU,UAEd,CAEA,OAAO,CACT,CA0CA,OAxCc,IAAVhM,GACF5iB,EAAOoqB,cAAc,GACrBpqB,EAAOsuB,aAAa4L,GAEhBzM,IACFztB,EAAOgC,KAAK,wBAAyB4gB,EAAO+K,GAC5C3tB,EAAOgC,KAAK,oBAGdhC,EAAOoqB,cAAcxH,GACrB5iB,EAAOsuB,aAAa4L,GAEhBzM,IACFztB,EAAOgC,KAAK,wBAAyB4gB,EAAO+K,GAC5C3tB,EAAOgC,KAAK,oBAGThC,EAAO+tB,YACV/tB,EAAO+tB,WAAY,EAEd/tB,EAAOm6B,oCACVn6B,EAAOm6B,kCAAoC,SAAuB52E,GAC3Dy8C,IAAUA,EAAOmC,WAClB5+C,EAAEoX,SAAWxY,OACjB69C,EAAO8lB,WAAW,GAAGzO,oBAAoB,gBAAiBrX,EAAOm6B,mCACjEn6B,EAAO8lB,WAAW,GAAGzO,oBAAoB,sBAAuBrX,EAAOm6B,mCACvEn6B,EAAOm6B,kCAAoC,YACpCn6B,EAAOm6B,kCAEV1M,GACFztB,EAAOgC,KAAK,iBAEhB,GAGFhC,EAAO8lB,WAAW,GAAGnmB,iBAAiB,gBAAiBK,EAAOm6B,mCAC9Dn6B,EAAO8lB,WAAW,GAAGnmB,iBAAiB,sBAAuBK,EAAOm6B,sCAIjE,CACT,GNzEEre,WOxBF,CACEsO,cCJa,SAAuBrO,EAAU8d,GAC9C,MAAM75B,EAAS79C,KAEV69C,EAAO2iB,OAAO0E,SACjBrnB,EAAO8lB,WAAWhK,WAAWC,GAG/B/b,EAAOgC,KAAK,gBAAiB+Z,EAAU8d,EACzC,EDHEtL,gBEJa,SAAyBd,EAAcruB,QAC/B,IAAjBquB,IACFA,GAAe,GAGjB,MAAMztB,EAAS79C,MACT,OACJwgE,GACE3iB,EACA2iB,EAAO0E,UAEP1E,EAAOkJ,YACT7rB,EAAOkqB,mBAGTsD,EAAe,CACbxtB,SACAytB,eACAruB,YACAsuB,KAAM,UAEV,EFhBE/P,cGLa,SAAuB8P,EAAcruB,QAC7B,IAAjBquB,IACFA,GAAe,GAGjB,MAAMztB,EAAS79C,MACT,OACJwgE,GACE3iB,EACJA,EAAO+tB,WAAY,EACfpL,EAAO0E,UACXrnB,EAAOoqB,cAAc,GACrBoD,EAAe,CACbxtB,SACAytB,eACAruB,YACAsuB,KAAM,QAEV,GVSE5F,MAAK,EACL1pB,KAAI,EACJ62B,WW5BF,CACEC,cCHa,SAAuBkF,GACpC,MAAMp6B,EAAS79C,KACf,GAAI69C,EAAOyjB,QAAQK,QAAU9jB,EAAO2iB,OAAOoW,eAAiB/4B,EAAO2iB,OAAO+G,eAAiB1pB,EAAOq6B,UAAYr6B,EAAO2iB,OAAO0E,QAAS,OACrI,MAAM1oB,EAAyC,cAApCqB,EAAO2iB,OAAO6O,kBAAoCxxB,EAAOrB,GAAKqB,EAAO6iB,UAChFlkB,EAAGx5C,MAAMm1E,OAAS,OAClB37B,EAAGx5C,MAAMm1E,OAASF,EAAS,WAAa,MAC1C,EDFEG,gBEJa,WACb,MAAMv6B,EAAS79C,KAEX69C,EAAOyjB,QAAQK,OAAS9jB,EAAO2iB,OAAO+G,eAAiB1pB,EAAOq6B,UAAYr6B,EAAO2iB,OAAO0E,UAI5FrnB,EAA2C,cAApCA,EAAO2iB,OAAO6O,kBAAoC,KAAO,aAAarsE,MAAMm1E,OAAS,GAC9F,GbuBE1d,OAAM,EACNiL,Yc9BF,CACE6O,cpBGa,WACb,MAAM12B,EAAS79C,MACT,YACJm6C,EAAW,YACX2wB,EAAW,aACX+B,EAAe,EAAC,OAChBrM,EAAM,IACN0C,GACErlB,EACE6nB,EAAclF,EAAOkF,YAC3B,IAAKA,GAAeA,GAAmD,IAApCpmC,OAAOC,KAAKmmC,GAAajhE,OAAc,OAE1E,MAAM4zE,EAAax6B,EAAOy6B,cAAc5S,EAAa7nB,EAAO2iB,OAAOmW,gBAAiB94B,EAAOrB,IAC3F,IAAK67B,GAAcx6B,EAAO06B,oBAAsBF,EAAY,OAC5D,MACMG,GADuBH,KAAc3S,EAAcA,EAAY2S,QAAcr3E,IAClC68C,EAAO46B,eAClDC,EAAc1C,EAAcn4B,EAAQ2iB,GACpCmY,EAAa3C,EAAcn4B,EAAQ26B,GACnCI,EAAapY,EAAO1jB,QAEtB47B,IAAgBC,GAClBzV,EAAIhK,YAAY,GAAGsH,EAAOoH,8BAA8BpH,EAAOoH,qCAC/D/pB,EAAO04B,yBACGmC,GAAeC,IACzBzV,EAAInK,SAAS,GAAGyH,EAAOoH,+BAEnB4Q,EAAiBpT,KAAKkR,MAAuC,WAA/BkC,EAAiBpT,KAAKkR,OAAsBkC,EAAiBpT,KAAKkR,MAA6B,WAArB9V,EAAO4E,KAAKkR,OACtHpT,EAAInK,SAAS,GAAGyH,EAAOoH,qCAGzB/pB,EAAO04B,wBAIT,CAAC,aAAc,aAAc,aAAavlE,SAAQumB,IAChD,MAAMshD,EAAmBrY,EAAOjpC,IAASipC,EAAOjpC,GAAMulB,QAChDg8B,EAAkBN,EAAiBjhD,IAASihD,EAAiBjhD,GAAMulB,QAErE+7B,IAAqBC,GACvBj7B,EAAOtmB,GAAMwhD,WAGVF,GAAoBC,GACvBj7B,EAAOtmB,GAAMyhD,QACf,IAEF,MAAMC,EAAmBT,EAAiBv7B,WAAau7B,EAAiBv7B,YAAcujB,EAAOvjB,UACvFi8B,EAAc1Y,EAAOvkB,OAASu8B,EAAiB/S,gBAAkBjF,EAAOiF,eAAiBwT,GAE3FA,GAAoBnO,GACtBjtB,EAAOs7B,kBAGT,EAAOt7B,EAAO2iB,OAAQgY,GACtB,MAAM93C,EAAYmd,EAAO2iB,OAAO1jB,QAChCxd,OAAOikC,OAAO1lB,EAAQ,CACpB6zB,eAAgB7zB,EAAO2iB,OAAOkR,eAC9BzF,eAAgBpuB,EAAO2iB,OAAOyL,eAC9BC,eAAgBruB,EAAO2iB,OAAO0L,iBAG5B0M,IAAel4C,EACjBmd,EAAOk7B,WACGH,GAAcl4C,GACxBmd,EAAOm7B,SAGTn7B,EAAO06B,kBAAoBF,EAC3Bx6B,EAAOgC,KAAK,oBAAqB24B,GAE7BU,GAAepO,IACjBjtB,EAAOkxB,cACPlxB,EAAOuwB,aACPvwB,EAAO2lB,eACP3lB,EAAOS,QAAQnE,EAAc0yB,EAAehvB,EAAOgvB,aAAc,GAAG,IAGtEhvB,EAAOgC,KAAK,aAAc24B,EAC5B,EoBhFEF,cCHa,SAAuB5S,EAAasK,EAAMoJ,GAKvD,QAJa,IAATpJ,IACFA,EAAO,WAGJtK,GAAwB,cAATsK,IAAyBoJ,EAAa,OAC1D,IAAIf,GAAa,EACjB,MAAMxwE,EAAS,IACTwxE,EAAyB,WAATrJ,EAAoBnoE,EAAOy6C,YAAc82B,EAAYzkB,aACrE2kB,EAASh6C,OAAOC,KAAKmmC,GAAa9d,KAAI2xB,IAC1C,GAAqB,iBAAVA,GAA6C,IAAvBA,EAAM7jE,QAAQ,KAAY,CACzD,MAAM8jE,EAAW1d,WAAWyd,EAAME,OAAO,IAEzC,MAAO,CACLx4E,MAFYo4E,EAAgBG,EAG5BD,QAEJ,CAEA,MAAO,CACLt4E,MAAOs4E,EACPA,QACD,IAEHD,EAAOvwB,MAAK,CAACsL,EAAGqlB,IAAMvsD,SAASknC,EAAEpzD,MAAO,IAAMksB,SAASusD,EAAEz4E,MAAO,MAEhE,IAAK,IAAI2T,EAAI,EAAGA,EAAI0kE,EAAO70E,OAAQmQ,GAAK,EAAG,CACzC,MAAM,MACJ2kE,EAAK,MACLt4E,GACEq4E,EAAO1kE,GAEE,WAATo7D,EACEnoE,EAAOovD,WAAW,eAAeh2D,QAAYsuB,UAC/C8oD,EAAakB,GAENt4E,GAASm4E,EAAYjW,cAC9BkV,EAAakB,EAEjB,CAEA,OAAOlB,GAAc,KACvB,GfVE7Q,cgBEF,CACEA,cApCF,WACE,MAAM3pB,EAAS79C,MAEbk4E,SAAUyB,EAAS,OACnBnZ,GACE3iB,GACE,mBACJ2mB,GACEhE,EAEJ,GAAIgE,EAAoB,CACtB,MAAMoV,EAAiB/7B,EAAO3D,OAAOz1C,OAAS,EACxCo1E,EAAqBh8B,EAAOwmB,WAAWuV,GAAkB/7B,EAAOymB,gBAAgBsV,GAAuC,EAArBpV,EACxG3mB,EAAOq6B,SAAWr6B,EAAO7iC,KAAO6+D,CAClC,MACEh8B,EAAOq6B,SAAsC,IAA3Br6B,EAAOumB,SAAS3/D,QAGN,IAA1B+7D,EAAOyL,iBACTpuB,EAAOouB,gBAAkBpuB,EAAOq6B,WAGJ,IAA1B1X,EAAO0L,iBACTruB,EAAOquB,gBAAkBruB,EAAOq6B,UAG9ByB,GAAaA,IAAc97B,EAAOq6B,WACpCr6B,EAAO0rB,OAAQ,GAGboQ,IAAc97B,EAAOq6B,UACvBr6B,EAAOgC,KAAKhC,EAAOq6B,SAAW,OAAS,SAE3C,GhBCElf,QAAO,EACP8gB,OiBjCF,CACEC,UCDa,SAAmBC,EAAS9xD,EAAK+xD,EAAQC,EAAOC,EAAkBhjB,GAC/E,MAAMtvD,EAAS,IACf,IAAImhB,EAEJ,SAASoxD,IACHjjB,GAAUA,GAChB,CAEkB,EAAE6iB,GAAS7sE,OAAO,WAAW,IAE3B6sE,EAAQK,UAAaF,EAsBvCC,IArBIlyD,GACFc,EAAQ,IAAInhB,EAAO8f,MACnBqB,EAAMlC,OAASszD,EACfpxD,EAAM/B,QAAUmzD,EAEZF,IACFlxD,EAAMkxD,MAAQA,GAGZD,IACFjxD,EAAMixD,OAASA,GAGb/xD,IACFc,EAAMd,IAAMA,IAGdkyD,GAMN,EDhCEtD,cEJa,WACb,MAAMj5B,EAAS79C,KAGf,SAASo6E,IACH,MAAOv8B,GAA8CA,IAAUA,EAAOmC,iBAC9Ch/C,IAAxB68C,EAAOy8B,eAA4Bz8B,EAAOy8B,cAAgB,GAE1Dz8B,EAAOy8B,eAAiBz8B,EAAO08B,aAAa91E,SAC1Co5C,EAAO2iB,OAAOuW,qBAAqBl5B,EAAO45B,SAC9C55B,EAAOgC,KAAK,gBAEhB,CAVAhC,EAAO08B,aAAe18B,EAAOqlB,IAAItF,KAAK,OAYtC,IAAK,IAAIhpD,EAAI,EAAGA,EAAIipC,EAAO08B,aAAa91E,OAAQmQ,GAAK,EAAG,CACtD,MAAMolE,EAAUn8B,EAAO08B,aAAa3lE,GACpCipC,EAAOk8B,UAAUC,EAASA,EAAQQ,YAAcR,EAAQ73B,aAAa,OAAQ63B,EAAQC,QAAUD,EAAQ73B,aAAa,UAAW63B,EAAQE,OAASF,EAAQ73B,aAAa,UAAU,EAAMi4B,EACvL,CACF,InBmBMK,EAAmB,CAAC,EAE1B,MAAMl9B,EACJjX,cACE,IAAIkW,EACAgkB,EAEJ,IAAK,IAAIiC,EAAOjJ,UAAU/0D,OAAQo0D,EAAO,IAAI34C,MAAMuiD,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E7J,EAAK6J,GAAQlJ,UAAUkJ,GAazB,GAVoB,IAAhB7J,EAAKp0D,QAAgBo0D,EAAK,GAAGvyB,aAAwE,WAAzDhH,OAAOy4B,UAAUlqD,SAASmqD,KAAKa,EAAK,IAAIvL,MAAM,GAAI,GAChGkT,EAAS3H,EAAK,IAEbrc,EAAIgkB,GAAU3H,EAGZ2H,IAAQA,EAAS,CAAC,GACvBA,EAAS,EAAO,CAAC,EAAGA,GAChBhkB,IAAOgkB,EAAOhkB,KAAIgkB,EAAOhkB,GAAKA,GAE9BgkB,EAAOhkB,IAAM,EAAEgkB,EAAOhkB,IAAI/3C,OAAS,EAAG,CACxC,MAAMi2E,EAAU,GAOhB,OANA,EAAEla,EAAOhkB,IAAIggB,MAAK4c,IAChB,MAAMuB,EAAY,EAAO,CAAC,EAAGna,EAAQ,CACnChkB,GAAI48B,IAENsB,EAAQhkE,KAAK,IAAI6mC,EAAOo9B,GAAW,IAE9BD,CACT,CAGA,MAAM78B,EAAS79C,KvCrBnB,IAAmB46E,EuCsBf/8B,EAAO8hB,YAAa,EACpB9hB,EAAOyjB,QAAUG,IACjB5jB,EAAOu3B,avCvBS,KADDwF,EuCwBW,CACxB1mB,UAAWsM,EAAOtM,cvCvBpB0mB,EAAY,CAAC,GAGVrZ,IACHA,EAnDJ,SAAoBsZ,GAClB,IAAI,UACF3mB,QACY,IAAV2mB,EAAmB,CAAC,EAAIA,EAC5B,MAAMvZ,EAAUG,IACV55D,EAAS,IACTizE,EAAWjzE,EAAOssD,UAAU2mB,SAC5BC,EAAK7mB,GAAarsD,EAAOssD,UAAUD,UACnCkhB,EAAS,CACbQ,KAAK,EACLC,SAAS,GAELmF,EAAcnzE,EAAOkvD,OAAOvuD,MAC5ByyE,EAAepzE,EAAOkvD,OAAOtuD,OAC7BotE,EAAUkF,EAAGjyB,MAAM,+BAEzB,IAAIoyB,EAAOH,EAAGjyB,MAAM,wBACpB,MAAMqyB,EAAOJ,EAAGjyB,MAAM,2BAChBsyB,GAAUF,GAAQH,EAAGjyB,MAAM,8BAC3BuyB,EAAuB,UAAbP,EAChB,IAAIQ,EAAqB,aAAbR,EAsBZ,OAlBKI,GAAQI,GAASha,EAAQK,OAFV,CAAC,YAAa,YAAa,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAExGjsD,QAAQ,GAAGslE,KAAeC,MAAmB,IAC9FC,EAAOH,EAAGjyB,MAAM,uBACXoyB,IAAMA,EAAO,CAAC,EAAG,EAAG,WACzBI,GAAQ,GAINzF,IAAYwF,IACdjG,EAAOmG,GAAK,UACZnG,EAAOS,SAAU,IAGfqF,GAAQE,GAAUD,KACpB/F,EAAOmG,GAAK,MACZnG,EAAOQ,KAAM,GAIRR,CACT,CAQmBoG,CAAWZ,IAGrBrZ,GuCkBL1jB,EAAO2jB,StC1DJA,IACHA,EAhBJ,WACE,MAAM35D,EAAS,IAOf,MAAO,CACL4zE,SANF,WACE,MAAMV,EAAKlzE,EAAOssD,UAAUD,UAAU12C,cACtC,OAAOu9D,EAAGrlE,QAAQ,WAAa,GAAKqlE,EAAGrlE,QAAQ,UAAY,GAAKqlE,EAAGrlE,QAAQ,WAAa,CAC1F,CAGY+lE,GACVC,UAAW,+CAA+C5iD,KAAKjxB,EAAOssD,UAAUD,WAEpF,CAIcynB,IAGLna,GsCuDL3jB,EAAOukB,gBAAkB,CAAC,EAC1BvkB,EAAO+kB,mBAAqB,GAC5B/kB,EAAO3B,QAAU,IAAI2B,EAAO+9B,aAExBpb,EAAOtkB,SAAWh8B,MAAM8C,QAAQw9C,EAAOtkB,UACzC2B,EAAO3B,QAAQxlC,QAAQ8pD,EAAOtkB,SAGhC,MAAMi7B,EAAmB,CAAC,EAC1Bt5B,EAAO3B,QAAQlrC,SAAQ6qE,IACrBA,EAAI,CACFh+B,SACAi+B,aAAc5E,EAAmB1W,EAAQ2W,GACzCv5B,GAAIC,EAAOD,GAAGhV,KAAKiV,GACnBykB,KAAMzkB,EAAOykB,KAAK15B,KAAKiV,GACvBid,IAAKjd,EAAOid,IAAIlyB,KAAKiV,GACrBgC,KAAMhC,EAAOgC,KAAKjX,KAAKiV,IACvB,IAGJ,MAAMk+B,EAAe,EAAO,CAAC,EAAGltD,EAAUsoD,GAiH1C,OA/GAt5B,EAAO2iB,OAAS,EAAO,CAAC,EAAGub,EAActB,EAAkBja,GAC3D3iB,EAAO46B,eAAiB,EAAO,CAAC,EAAG56B,EAAO2iB,QAC1C3iB,EAAOm+B,aAAe,EAAO,CAAC,EAAGxb,GAE7B3iB,EAAO2iB,QAAU3iB,EAAO2iB,OAAO5iB,IACjCte,OAAOC,KAAKse,EAAO2iB,OAAO5iB,IAAI5sC,SAAQirE,IACpCp+B,EAAOD,GAAGq+B,EAAWp+B,EAAO2iB,OAAO5iB,GAAGq+B,GAAW,IAIjDp+B,EAAO2iB,QAAU3iB,EAAO2iB,OAAOmC,OACjC9kB,EAAO8kB,MAAM9kB,EAAO2iB,OAAOmC,OAI7B9kB,EAAOoa,EAAI,EAEX34B,OAAOikC,OAAO1lB,EAAQ,CACpBf,QAASe,EAAO2iB,OAAO1jB,QACvBN,KAEA0K,WAAY,GAEZhN,OAAQ,IACRmqB,WAAY,GACZD,SAAU,GACVE,gBAAiB,GAGjBlB,aAAY,IACyB,eAA5BvlB,EAAO2iB,OAAOvjB,UAGvBomB,WAAU,IAC2B,aAA5BxlB,EAAO2iB,OAAOvjB,UAIvB9C,YAAa,EACbC,UAAW,EAEXkvB,aAAa,EACbC,OAAO,EAEPlJ,UAAW,EACX2U,kBAAmB,EACnBhU,SAAU,EACVkb,SAAU,EACVtQ,WAAW,EAEXK,eAAgBpuB,EAAO2iB,OAAOyL,eAC9BC,eAAgBruB,EAAO2iB,OAAO0L,eAE9BiJ,YAAa,WACX,MAAMxT,EAAQ,CAAC,aAAc,YAAa,WAAY,eAChDwa,EAAU,CAAC,cAAe,cAAe,aAY/C,OAXAt+B,EAAOu+B,iBAAmB,CACxBz+B,MAAOgkB,EAAM,GACb8T,KAAM9T,EAAM,GACZ+T,IAAK/T,EAAM,GACX9S,OAAQ8S,EAAM,IAEhB9jB,EAAOw+B,mBAAqB,CAC1B1+B,MAAOw+B,EAAQ,GACf1G,KAAM0G,EAAQ,GACdzG,IAAKyG,EAAQ,IAERt+B,EAAOyjB,QAAQK,QAAU9jB,EAAO2iB,OAAOoW,cAAgB/4B,EAAOu+B,iBAAmBv+B,EAAOw+B,kBACjG,CAfa,GAgBbpN,gBAAiB,CACfO,eAAWxuE,EACXyuE,aAASzuE,EACTkwE,yBAAqBlwE,EACrBqwE,oBAAgBrwE,EAChBmwE,iBAAanwE,EACbiyE,sBAAkBjyE,EAClB4xE,oBAAgB5xE,EAChBuwE,wBAAoBvwE,EAEpBwwE,kBAAmB3zB,EAAO2iB,OAAOgR,kBAEjCmC,cAAe7qD,IACfwzD,kBAAct7E,EAEdu7E,WAAY,GACZ1J,yBAAqB7xE,EACrBsuE,kBAActuE,EACdowE,iBAAapwE,GAGfqvE,YAAY,EAEZqB,eAAgB7zB,EAAO2iB,OAAOkR,eAC9BxC,QAAS,CACP0B,OAAQ,EACRC,OAAQ,EACRN,SAAU,EACVG,SAAU,EACV5B,KAAM,GAGRyL,aAAc,GACdD,aAAc,IAEhBz8B,EAAOgC,KAAK,WAERhC,EAAO2iB,OAAO1lD,MAChB+iC,EAAO/iC,OAIF+iC,CACT,CAEAm7B,SACE,MAAMn7B,EAAS79C,KACX69C,EAAOf,UACXe,EAAOf,SAAU,EAEbe,EAAO2iB,OAAOsS,YAChBj1B,EAAOk1B,gBAGTl1B,EAAOgC,KAAK,UACd,CAEAk5B,UACE,MAAMl7B,EAAS79C,KACV69C,EAAOf,UACZe,EAAOf,SAAU,EAEbe,EAAO2iB,OAAOsS,YAChBj1B,EAAOu6B,kBAGTv6B,EAAOgC,KAAK,WACd,CAEA28B,YAAYxb,EAAUP,GACpB,MAAM5iB,EAAS79C,KACfghE,EAAWz0C,KAAKsQ,IAAItQ,KAAKC,IAAIw0C,EAAU,GAAI,GAC3C,MAAMnkC,EAAMghB,EAAOgrB,eAEbvnC,GADMuc,EAAOwrB,eACIxsC,GAAOmkC,EAAWnkC,EACzCghB,EAAOg6B,YAAYv2C,OAA0B,IAAVm/B,EAAwB,EAAIA,GAC/D5iB,EAAO0sB,oBACP1sB,EAAO8rB,qBACT,CAEA4M,uBACE,MAAM14B,EAAS79C,KACf,IAAK69C,EAAO2iB,OAAOyW,eAAiBp5B,EAAOrB,GAAI,OAC/C,MAAMigC,EAAM5+B,EAAOrB,GAAGz5C,UAAUsrB,MAAM,KAAKsa,QAAO5lC,GACT,IAAhCA,EAAU2S,QAAQ,WAA+E,IAA5D3S,EAAU2S,QAAQmoC,EAAO2iB,OAAOoH,0BAE9E/pB,EAAOgC,KAAK,oBAAqB48B,EAAIzoD,KAAK,KAC5C,CAEA0oD,gBAAgBC,GACd,MAAM9+B,EAAS79C,KACf,OAAI69C,EAAOmC,UAAkB,GACtB28B,EAAQ55E,UAAUsrB,MAAM,KAAKsa,QAAO5lC,GACI,IAAtCA,EAAU2S,QAAQ,iBAAyE,IAAhD3S,EAAU2S,QAAQmoC,EAAO2iB,OAAO0D,cACjFlwC,KAAK,IACV,CAEAs2C,oBACE,MAAMzsB,EAAS79C,KACf,IAAK69C,EAAO2iB,OAAOyW,eAAiBp5B,EAAOrB,GAAI,OAC/C,MAAMogC,EAAU,GAChB/+B,EAAO3D,OAAOsiB,MAAKmgB,IACjB,MAAMz1B,EAAarJ,EAAO6+B,gBAAgBC,GAC1CC,EAAQlmE,KAAK,CACXimE,UACAz1B,eAEFrJ,EAAOgC,KAAK,cAAe88B,EAASz1B,EAAW,IAEjDrJ,EAAOgC,KAAK,gBAAiB+8B,EAC/B,CAEA3P,qBAAqB4P,EAAMC,QACZ,IAATD,IACFA,EAAO,gBAGK,IAAVC,IACFA,GAAQ,GAGV,MACM,OACJtc,EAAM,OACNtmB,EAAM,WACNmqB,EAAU,gBACVC,EACAtpD,KAAM4oD,EAAU,YAChBzpB,GAPan6C,KASf,IAAI+8E,EAAM,EAEV,GAAIvc,EAAOyE,eAAgB,CACzB,IACI+X,EADA1X,EAAYprB,EAAOC,GAAa8rB,gBAGpC,IAAK,IAAIrxD,EAAIulC,EAAc,EAAGvlC,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAChDslC,EAAOtlC,KAAOooE,IAChB1X,GAAaprB,EAAOtlC,GAAGqxD,gBACvB8W,GAAO,EACHzX,EAAY1B,IAAYoZ,GAAY,IAI5C,IAAK,IAAIpoE,EAAIulC,EAAc,EAAGvlC,GAAK,EAAGA,GAAK,EACrCslC,EAAOtlC,KAAOooE,IAChB1X,GAAaprB,EAAOtlC,GAAGqxD,gBACvB8W,GAAO,EACHzX,EAAY1B,IAAYoZ,GAAY,GAG9C,MAEE,GAAa,YAATH,EACF,IAAK,IAAIjoE,EAAIulC,EAAc,EAAGvlC,EAAIslC,EAAOz1C,OAAQmQ,GAAK,GAChCkoE,EAAQzY,EAAWzvD,GAAK0vD,EAAgB1vD,GAAKyvD,EAAWlqB,GAAeypB,EAAaS,EAAWzvD,GAAKyvD,EAAWlqB,GAAeypB,KAGhJmZ,GAAO,QAKX,IAAK,IAAInoE,EAAIulC,EAAc,EAAGvlC,GAAK,EAAGA,GAAK,EACrByvD,EAAWlqB,GAAekqB,EAAWzvD,GAAKgvD,IAG5DmZ,GAAO,GAMf,OAAOA,CACT,CAEAtF,SACE,MAAM55B,EAAS79C,KACf,IAAK69C,GAAUA,EAAOmC,UAAW,OACjC,MAAM,SACJokB,EAAQ,OACR5D,GACE3iB,EAWJ,SAASsuB,IACP,MAAM8Q,EAAiBp/B,EAAOgmB,cAAmC,EAApBhmB,EAAOwiB,UAAiBxiB,EAAOwiB,UACtE0X,EAAexrD,KAAKsQ,IAAItQ,KAAKC,IAAIywD,EAAgBp/B,EAAOwrB,gBAAiBxrB,EAAOgrB,gBACtFhrB,EAAOsuB,aAAa4L,GACpBl6B,EAAO0sB,oBACP1sB,EAAO8rB,qBACT,CAEA,IAAIuT,EAjBA1c,EAAOkF,aACT7nB,EAAO02B,gBAGT12B,EAAOolB,aACPplB,EAAO2lB,eACP3lB,EAAOqrB,iBACPrrB,EAAO8rB,sBAYH9rB,EAAO2iB,OAAOsR,UAAYj0B,EAAO2iB,OAAOsR,SAASh1B,SACnDqvB,IAEItuB,EAAO2iB,OAAOkJ,YAChB7rB,EAAOkqB,qBAIPmV,GADmC,SAAhCr/B,EAAO2iB,OAAOiF,eAA4B5nB,EAAO2iB,OAAOiF,cAAgB,IAAM5nB,EAAO0rB,QAAU1rB,EAAO2iB,OAAOyE,eACnGpnB,EAAOS,QAAQT,EAAO3D,OAAOz1C,OAAS,EAAG,GAAG,GAAO,GAEnDo5C,EAAOS,QAAQT,EAAO1D,YAAa,GAAG,GAAO,GAGvD+iC,GACH/Q,KAIA3L,EAAO+G,eAAiBnD,IAAavmB,EAAOumB,UAC9CvmB,EAAO2pB,gBAGT3pB,EAAOgC,KAAK,SACd,CAEAs5B,gBAAgBgE,EAAcC,QACT,IAAfA,IACFA,GAAa,GAGf,MAAMv/B,EAAS79C,KACTq9E,EAAmBx/B,EAAO2iB,OAAOvjB,UAOvC,OALKkgC,IAEHA,EAAoC,eAArBE,EAAoC,WAAa,cAG9DF,IAAiBE,GAAqC,eAAjBF,GAAkD,aAAjBA,IAI1Et/B,EAAOqlB,IAAIhK,YAAY,GAAGrb,EAAO2iB,OAAOoH,yBAAyByV,KAAoBtkB,SAAS,GAAGlb,EAAO2iB,OAAOoH,yBAAyBuV,KACxIt/B,EAAO04B,uBACP14B,EAAO2iB,OAAOvjB,UAAYkgC,EAC1Bt/B,EAAO3D,OAAOsiB,MAAKmgB,IACI,aAAjBQ,EACFR,EAAQ35E,MAAMwF,MAAQ,GAEtBm0E,EAAQ35E,MAAMyF,OAAS,EACzB,IAEFo1C,EAAOgC,KAAK,mBACRu9B,GAAYv/B,EAAO45B,UAdd55B,CAgBX,CAEAy/B,wBAAwBrgC,GACtB,MAAMY,EAAS79C,KACX69C,EAAO5Q,KAAqB,QAAdgQ,IAAwBY,EAAO5Q,KAAqB,QAAdgQ,IACxDY,EAAO5Q,IAAoB,QAAdgQ,EACbY,EAAOgmB,aAA2C,eAA5BhmB,EAAO2iB,OAAOvjB,WAA8BY,EAAO5Q,IAErE4Q,EAAO5Q,KACT4Q,EAAOqlB,IAAInK,SAAS,GAAGlb,EAAO2iB,OAAOoH,6BACrC/pB,EAAOrB,GAAGtP,IAAM,QAEhB2Q,EAAOqlB,IAAIhK,YAAY,GAAGrb,EAAO2iB,OAAOoH,6BACxC/pB,EAAOrB,GAAGtP,IAAM,OAGlB2Q,EAAO45B,SACT,CAEA8F,MAAM/gC,GACJ,MAAMqB,EAAS79C,KACf,GAAI69C,EAAO2/B,QAAS,OAAO,EAE3B,MAAMta,EAAM,EAAE1mB,GAAMqB,EAAO2iB,OAAOhkB,IAGlC,KAFAA,EAAK0mB,EAAI,IAGP,OAAO,EAGT1mB,EAAGqB,OAASA,EAEZ,MAAM4/B,EAAqB,IAClB,KAAK5/B,EAAO2iB,OAAOwW,cAAgB,IAAI7e,OAAO9pC,MAAM,KAAK2F,KAAK,OAoBvE,IAAI2vC,EAjBe,MACjB,GAAInnB,GAAMA,EAAGmzB,YAAcnzB,EAAGmzB,WAAWta,cAAe,CACtD,MAAMwC,EAAM,EAAErb,EAAGmzB,WAAWta,cAAcooB,MAI1C,OAFA5lB,EAAIx6C,SAAW8d,GAAW+nC,EAAI7lD,SAAS8d,GAEhC08B,CACT,CAEA,OAAKqL,EAAI7lD,SAIF6lD,EAAI7lD,SAASogE,KAHX,EAAEva,GAAK7lD,SAASogE,IAGgB,EAI1BC,GAEjB,GAA0B,IAAtB/Z,EAAWl/D,QAAgBo5C,EAAO2iB,OAAOiW,eAAgB,CAC3D,MACMkH,EADWvnB,IACQtzD,cAAc,OACvC6gE,EAAa,EAAEga,GACfA,EAAQ56E,UAAY86C,EAAO2iB,OAAOwW,aAClC9T,EAAIjnC,OAAO0hD,GACXza,EAAI7lD,SAAS,IAAIwgC,EAAO2iB,OAAO0D,cAAc1H,MAAKmgB,IAChDhZ,EAAW1nC,OAAO0gD,EAAQ,GAE9B,CAaA,OAXAr9C,OAAOikC,OAAO1lB,EAAQ,CACpBqlB,MACA1mB,KACAmnB,aACAjD,UAAWiD,EAAW,GACtB6Z,SAAS,EAETvwC,IAA8B,QAAzBuP,EAAGtP,IAAI1vB,eAAoD,QAAzB0lD,EAAI5G,IAAI,aAC/CuH,aAA0C,eAA5BhmB,EAAO2iB,OAAOvjB,YAAwD,QAAzBT,EAAGtP,IAAI1vB,eAAoD,QAAzB0lD,EAAI5G,IAAI,cACrGwH,SAAwC,gBAA9BH,EAAWrH,IAAI,cAEpB,CACT,CAEAxhD,KAAK0hC,GACH,MAAMqB,EAAS79C,KACf,OAAI69C,EAAOitB,cAEK,IADAjtB,EAAO0/B,MAAM/gC,KAE7BqB,EAAOgC,KAAK,cAERhC,EAAO2iB,OAAOkF,aAChB7nB,EAAO02B,gBAIT12B,EAAOo4B,aAEHp4B,EAAO2iB,OAAOvkB,MAChB4B,EAAOuwB,aAITvwB,EAAOolB,aAEPplB,EAAO2lB,eAEH3lB,EAAO2iB,OAAO+G,eAChB1pB,EAAO2pB,gBAIL3pB,EAAO2iB,OAAOsS,YAAcj1B,EAAOf,SACrCe,EAAOk1B,gBAGLl1B,EAAO2iB,OAAOsW,eAChBj5B,EAAOi5B,gBAILj5B,EAAO2iB,OAAOvkB,KAChB4B,EAAOS,QAAQT,EAAO2iB,OAAOrjB,aAAeU,EAAOgvB,aAAc,EAAGhvB,EAAO2iB,OAAOuK,oBAAoB,GAAO,GAE7GltB,EAAOS,QAAQT,EAAO2iB,OAAOrjB,aAAc,EAAGU,EAAO2iB,OAAOuK,oBAAoB,GAAO,GAIzFltB,EAAOi4B,eAEPj4B,EAAOitB,aAAc,EAErBjtB,EAAOgC,KAAK,QACZhC,EAAOgC,KAAK,cA/CmBhC,CAiDjC,CAEA+/B,QAAQC,EAAgBC,QACC,IAAnBD,IACFA,GAAiB,QAGC,IAAhBC,IACFA,GAAc,GAGhB,MAAMjgC,EAAS79C,MACT,OACJwgE,EAAM,IACN0C,EAAG,WACHS,EAAU,OACVzpB,GACE2D,EAEJ,YAA6B,IAAlBA,EAAO2iB,QAA0B3iB,EAAOmC,YAInDnC,EAAOgC,KAAK,iBAEZhC,EAAOitB,aAAc,EAErBjtB,EAAOk4B,eAEHvV,EAAOvkB,MACT4B,EAAOkxB,cAIL+O,IACFjgC,EAAO24B,gBACPtT,EAAIxJ,WAAW,SACfiK,EAAWjK,WAAW,SAElBxf,GAAUA,EAAOz1C,QACnBy1C,EAAOgf,YAAY,CAACsH,EAAOiI,kBAAmBjI,EAAOqJ,iBAAkBrJ,EAAOsJ,eAAgBtJ,EAAOuJ,gBAAgB/1C,KAAK,MAAM0lC,WAAW,SAASA,WAAW,4BAInK7b,EAAOgC,KAAK,WAEZvgB,OAAOC,KAAKse,EAAOukB,iBAAiBpxD,SAAQirE,IAC1Cp+B,EAAOid,IAAImhB,EAAU,KAGA,IAAnB4B,IACFhgC,EAAOqlB,IAAI,GAAGrlB,OAAS,KzC9lB7B,SAAqBkG,GACnB,MAAMg6B,EAASh6B,EACfzkB,OAAOC,KAAKw+C,GAAQ/sE,SAAQqtC,IAC1B,IACE0/B,EAAO1/B,GAAO,IAEhB,CADE,MAAOj9C,GACT,CAEA,WACS28E,EAAO1/B,EAEhB,CADE,MAAOj9C,GACT,IAEJ,CyCklBM48E,CAAYngC,IAGdA,EAAOmC,WAAY,GAnCV,IAqCX,CAEAi+B,sBAAsBC,GACpB,EAAOzD,EAAkByD,EAC3B,CAEWzD,8BACT,OAAOA,CACT,CAEW5rD,sBACT,OAAOA,CACT,CAEAovD,qBAAqBpC,GACdt+B,EAAOwa,UAAU6jB,cAAar+B,EAAOwa,UAAU6jB,YAAc,IAClE,MAAM1/B,EAAUqB,EAAOwa,UAAU6jB,YAEd,mBAARC,GAAsB3/B,EAAQxmC,QAAQmmE,GAAO,GACtD3/B,EAAQxlC,KAAKmlE,EAEjB,CAEAoC,WAAWp+E,GACT,OAAIqgB,MAAM8C,QAAQnjB,IAChBA,EAAOmR,SAAQmtE,GAAK5gC,EAAO6gC,cAAcD,KAClC5gC,IAGTA,EAAO6gC,cAAcv+E,GACd09C,EACT,EAIFje,OAAOC,KAAKg4C,GAAYvmE,SAAQqtE,IAC9B/+C,OAAOC,KAAKg4C,EAAW8G,IAAiBrtE,SAAQstE,IAC9C/gC,EAAOwa,UAAUumB,GAAe/G,EAAW8G,GAAgBC,EAAY,GACvE,IAEJ/gC,EAAOghC,IAAI,CoB7oBI,SAAgBte,GAC7B,IAAI,OACFpiB,EAAM,GACND,EAAE,KACFiC,GACEogB,EACJ,MAAMp4D,EAAS,IACf,IAAI22E,EAAW,KACXC,EAAiB,KAErB,MAAMC,EAAgB,KACf7gC,IAAUA,EAAOmC,WAAcnC,EAAOitB,cAC3CjrB,EAAK,gBACLA,EAAK,UAAS,EA2CV8+B,EAA2B,KAC1B9gC,IAAUA,EAAOmC,WAAcnC,EAAOitB,aAC3CjrB,EAAK,oBAAoB,EAG3BjC,EAAG,QAAQ,KACLC,EAAO2iB,OAAOtjB,qBAAmD,IAA1Br1C,EAAOw3C,eA7C7CxB,IAAUA,EAAOmC,WAAcnC,EAAOitB,cAC3C0T,EAAW,IAAIn/B,gBAAeC,IAC5Bm/B,EAAiB52E,EAAOqvD,uBAAsB,KAC5C,MAAM,MACJ1uD,EAAK,OACLC,GACEo1C,EACJ,IAAI0B,EAAW/2C,EACXg3C,EAAY/2C,EAChB62C,EAAQtuC,SAAQ4tE,IACd,IAAI,eACFn/B,EAAc,YACdC,EAAW,OACXlnC,GACEomE,EACApmE,GAAUA,IAAWqlC,EAAOrB,KAChC+C,EAAWG,EAAcA,EAAYl3C,OAASi3C,EAAe,IAAMA,GAAgBE,WACnFH,EAAYE,EAAcA,EAAYj3C,QAAUg3C,EAAe,IAAMA,GAAgBG,UAAS,IAG5FL,IAAa/2C,GAASg3C,IAAc/2C,GACtCi2E,GACF,GACA,IAEJF,EAAS1+B,QAAQjC,EAAOrB,MAyBxB30C,EAAO21C,iBAAiB,SAAUkhC,GAClC72E,EAAO21C,iBAAiB,oBAAqBmhC,GAAyB,IAExE/gC,EAAG,WAAW,KAxBR6gC,GACF52E,EAAOuvD,qBAAqBqnB,GAG1BD,GAAYA,EAASz+B,WAAalC,EAAOrB,KAC3CgiC,EAASz+B,UAAUlC,EAAOrB,IAC1BgiC,EAAW,MAoBb32E,EAAOqtD,oBAAoB,SAAUwpB,GACrC72E,EAAOqtD,oBAAoB,oBAAqBypB,EAAyB,GAE7E,EC3Ee,SAAkB1e,GAC/B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EACJ,MAAM4e,EAAY,GACZh3E,EAAS,IAETi3E,EAAS,SAAUtmE,EAAQ2iB,QACf,IAAZA,IACFA,EAAU,CAAC,GAGb,MACMqjD,EAAW,IADI32E,EAAOk3E,kBAAoBl3E,EAAOm3E,yBACrBC,IAIhC,GAAyB,IAArBA,EAAUx6E,OAEZ,YADAo7C,EAAK,iBAAkBo/B,EAAU,IAInC,MAAMC,EAAiB,WACrBr/B,EAAK,iBAAkBo/B,EAAU,GACnC,EAEIp3E,EAAOqvD,sBACTrvD,EAAOqvD,sBAAsBgoB,GAE7Br3E,EAAOC,WAAWo3E,EAAgB,EACpC,IAEFV,EAAS1+B,QAAQtnC,EAAQ,CACvB2mE,gBAA0C,IAAvBhkD,EAAQgkD,YAAoChkD,EAAQgkD,WACvEC,eAAwC,IAAtBjkD,EAAQikD,WAAmCjkD,EAAQikD,UACrEC,mBAAgD,IAA1BlkD,EAAQkkD,eAAuClkD,EAAQkkD,gBAE/ER,EAAUnoE,KAAK8nE,EACjB,EA8BA1C,EAAa,CACX0C,UAAU,EACVc,gBAAgB,EAChBC,sBAAsB,IAExB3hC,EAAG,QAjCU,KACX,GAAKC,EAAO2iB,OAAOge,SAAnB,CAEA,GAAI3gC,EAAO2iB,OAAO8e,eAAgB,CAChC,MAAME,EAAmB3hC,EAAOqlB,IAAI5I,UAEpC,IAAK,IAAI1lD,EAAI,EAAGA,EAAI4qE,EAAiB/6E,OAAQmQ,GAAK,EAChDkqE,EAAOU,EAAiB5qE,GAE5B,CAGAkqE,EAAOjhC,EAAOqlB,IAAI,GAAI,CACpBkc,UAAWvhC,EAAO2iB,OAAO+e,uBAG3BT,EAAOjhC,EAAO8lB,WAAW,GAAI,CAC3Bwb,YAAY,GAhBqB,CAiBjC,IAgBJvhC,EAAG,WAba,KACdihC,EAAU7tE,SAAQwtE,IAChBA,EAASiB,YAAY,IAEvBZ,EAAUj7D,OAAO,EAAGi7D,EAAUp6E,OAAO,GAUzC,IrBgkBA,UsB7oBe,SAASi7E,EAAQzf,GAC9B,IAkBI0f,GAlBA,OACF9hC,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EAuBJ,SAAS2f,EAAYja,EAAOnxD,GAC1B,MAAMgsD,EAAS3iB,EAAO2iB,OAAOwD,QAE7B,GAAIxD,EAAOqf,OAAShiC,EAAOmmB,QAAQ6b,MAAMrrE,GACvC,OAAOqpC,EAAOmmB,QAAQ6b,MAAMrrE,GAG9B,MAAMsrE,EAAWtf,EAAOof,YAAc,EAAEpf,EAAOof,YAAY5nB,KAAKna,EAAQ8nB,EAAOnxD,IAAU,EAAE,eAAeqpC,EAAO2iB,OAAO0D,wCAAwC1vD,MAAUmxD,WAG1K,OAFKma,EAASxmB,KAAK,4BAA4BwmB,EAASxmB,KAAK,0BAA2B9kD,GACpFgsD,EAAOqf,QAAOhiC,EAAOmmB,QAAQ6b,MAAMrrE,GAASsrE,GACzCA,CACT,CAEA,SAASrI,EAAOsI,GACd,MAAM,cACJta,EAAa,eACbU,EAAc,eACdlB,GACEpnB,EAAO2iB,QACL,gBACJwf,EAAe,eACfC,GACEpiC,EAAO2iB,OAAOwD,SAEhB7jD,KAAM+/D,EACNhhB,GAAIihB,EAAU,OACdjmC,EACAmqB,WAAY+b,EACZj0D,OAAQk0D,GACNxiC,EAAOmmB,QAENnmB,EAAO2iB,OAAO0E,SACjBrnB,EAAO0sB,oBAGT,MAAMpwB,EAAc0D,EAAO1D,aAAe,EAC1C,IAAImmC,EAEAC,EACAC,EAFqBF,EAArBziC,EAAOgmB,aAA2B,QAA0BhmB,EAAOulB,eAAiB,OAAS,MAI7F6B,GACFsb,EAAch0D,KAAKynC,MAAMyR,EAAgB,GAAKU,EAAiB8Z,EAC/DO,EAAej0D,KAAKynC,MAAMyR,EAAgB,GAAKU,EAAiB6Z,IAEhEO,EAAc9a,GAAiBU,EAAiB,GAAK8Z,EACrDO,EAAera,EAAiB6Z,GAGlC,MAAM7/D,EAAOoM,KAAKC,KAAK2tB,GAAe,GAAKqmC,EAAc,GACnDthB,EAAK3yC,KAAKsQ,KAAKsd,GAAe,GAAKomC,EAAarmC,EAAOz1C,OAAS,GAChE0nB,GAAU0xB,EAAOwmB,WAAWlkD,IAAS,IAAM09B,EAAOwmB,WAAW,IAAM,GAQzE,SAASoc,IACP5iC,EAAO2lB,eACP3lB,EAAOqrB,iBACPrrB,EAAO8rB,sBAEH9rB,EAAO6iC,MAAQ7iC,EAAO2iB,OAAOkgB,KAAK5jC,SACpCe,EAAO6iC,KAAKC,OAGd9gC,EAAK,gBACP,CAEA,GAnBAvgB,OAAOikC,OAAO1lB,EAAOmmB,QAAS,CAC5B7jD,OACA++C,KACA/yC,SACAk4C,WAAYxmB,EAAOwmB,aAejB6b,IAAiB//D,GAAQggE,IAAejhB,IAAO6gB,EAOjD,OANIliC,EAAOwmB,aAAe+b,GAAsBj0D,IAAWk0D,GACzDxiC,EAAO3D,OAAOoiB,IAAIgkB,EAAY,GAAGn0D,OAGnC0xB,EAAOqrB,sBACPrpB,EAAK,iBAIP,GAAIhC,EAAO2iB,OAAOwD,QAAQ4c,eAsBxB,OArBA/iC,EAAO2iB,OAAOwD,QAAQ4c,eAAe5oB,KAAKna,EAAQ,CAChD1xB,SACAhM,OACA++C,KACAhlB,OAAQ,WACN,MAAM2mC,EAAiB,GAEvB,IAAK,IAAIjsE,EAAIuL,EAAMvL,GAAKsqD,EAAItqD,GAAK,EAC/BisE,EAAenqE,KAAKwjC,EAAOtlC,IAG7B,OAAOisE,CACT,CARQ,UAWNhjC,EAAO2iB,OAAOwD,QAAQ8c,qBACxBL,IAEA5gC,EAAK,kBAMT,MAAMkhC,EAAiB,GACjBC,EAAgB,GAEtB,GAAIjB,EACFliC,EAAO8lB,WAAW/F,KAAK,IAAI/f,EAAO2iB,OAAO0D,cAAcrvD,cAEvD,IAAK,IAAID,EAAIsrE,EAActrE,GAAKurE,EAAYvrE,GAAK,GAC3CA,EAAIuL,GAAQvL,EAAIsqD,IAClBrhB,EAAO8lB,WAAW/F,KAAK,IAAI/f,EAAO2iB,OAAO0D,uCAAuCtvD,OAAOC,SAK7F,IAAK,IAAID,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAClCA,GAAKuL,GAAQvL,GAAKsqD,SACM,IAAfihB,GAA8BJ,EACvCiB,EAActqE,KAAK9B,IAEfA,EAAIurE,GAAYa,EAActqE,KAAK9B,GACnCA,EAAIsrE,GAAca,EAAerqE,KAAK9B,KAKhDosE,EAAchwE,SAAQwD,IACpBqpC,EAAO8lB,WAAW1nC,OAAO2jD,EAAY1lC,EAAO1lC,GAAQA,GAAO,IAE7DusE,EAAeh4B,MAAK,CAACsL,EAAGqlB,IAAMA,EAAIrlB,IAAGrjD,SAAQwD,IAC3CqpC,EAAO8lB,WAAWzG,QAAQ0iB,EAAY1lC,EAAO1lC,GAAQA,GAAO,IAE9DqpC,EAAO8lB,WAAWtmD,SAAS,iBAAiBi/C,IAAIgkB,EAAY,GAAGn0D,OAC/Ds0D,GACF,CAhKA3E,EAAa,CACX9X,QAAS,CACPlnB,SAAS,EACT5C,OAAQ,GACR2lC,OAAO,EACPD,YAAa,KACbgB,eAAgB,KAChBE,sBAAsB,EACtBd,gBAAiB,EACjBC,eAAgB,KAIpBpiC,EAAOmmB,QAAU,CACf6b,MAAO,CAAC,EACR1/D,UAAMnf,EACNk+D,QAAIl+D,EACJk5C,OAAQ,GACR/tB,OAAQ,EACRk4C,WAAY,IAwOdzmB,EAAG,cAAc,KACVC,EAAO2iB,OAAOwD,QAAQlnB,UAC3Be,EAAOmmB,QAAQ9pB,OAAS2D,EAAO2iB,OAAOwD,QAAQ9pB,OAC9C2D,EAAOqJ,WAAWxwC,KAAK,GAAGmnC,EAAO2iB,OAAOoH,iCACxC/pB,EAAO2iB,OAAOiH,qBAAsB,EACpC5pB,EAAO46B,eAAehR,qBAAsB,EAEvC5pB,EAAO2iB,OAAOrjB,cACjBs6B,IACF,IAEF75B,EAAG,gBAAgB,KACZC,EAAO2iB,OAAOwD,QAAQlnB,UAEvBe,EAAO2iB,OAAO0E,UAAYrnB,EAAO0uB,mBACnCvV,aAAa2oB,GACbA,EAAiB73E,YAAW,KAC1B2vE,GAAQ,GACP,MAEHA,IACF,IAEF75B,EAAG,sBAAsB,KAClBC,EAAO2iB,OAAOwD,QAAQlnB,SAEvBe,EAAO2iB,OAAO0E,SAChBtF,EAAe/hB,EAAO6iB,UAAW,wBAAyB,GAAG7iB,EAAOmnB,gBACtE,IAEF1lC,OAAOikC,OAAO1lB,EAAOmmB,QAAS,CAC5Bid,YAxHF,SAAqB/mC,GACnB,GAAsB,iBAAXA,GAAuB,WAAYA,EAC5C,IAAK,IAAItlC,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAClCslC,EAAOtlC,IAAIipC,EAAOmmB,QAAQ9pB,OAAOxjC,KAAKwjC,EAAOtlC,SAGnDipC,EAAOmmB,QAAQ9pB,OAAOxjC,KAAKwjC,GAG7Bu9B,GAAO,EACT,EA+GEyJ,aA7GF,SAAsBhnC,GACpB,MAAMC,EAAc0D,EAAO1D,YAC3B,IAAIqwB,EAAiBrwB,EAAc,EAC/BgnC,EAAoB,EAExB,GAAIjhE,MAAM8C,QAAQk3B,GAAS,CACzB,IAAK,IAAItlC,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAClCslC,EAAOtlC,IAAIipC,EAAOmmB,QAAQ9pB,OAAOkgB,QAAQlgB,EAAOtlC,IAGtD41D,EAAiBrwB,EAAcD,EAAOz1C,OACtC08E,EAAoBjnC,EAAOz1C,MAC7B,MACEo5C,EAAOmmB,QAAQ9pB,OAAOkgB,QAAQlgB,GAGhC,GAAI2D,EAAO2iB,OAAOwD,QAAQ6b,MAAO,CAC/B,MAAMA,EAAQhiC,EAAOmmB,QAAQ6b,MACvBuB,EAAW,CAAC,EAClB9hD,OAAOC,KAAKsgD,GAAO7uE,SAAQqwE,IACzB,MAAMC,EAAYzB,EAAMwB,GAClBE,EAAgBD,EAAUhoB,KAAK,2BAEjCioB,GACFD,EAAUhoB,KAAK,0BAA2BnsC,SAASo0D,EAAe,IAAMJ,GAG1EC,EAASj0D,SAASk0D,EAAa,IAAMF,GAAqBG,CAAS,IAErEzjC,EAAOmmB,QAAQ6b,MAAQuB,CACzB,CAEA3J,GAAO,GACP55B,EAAOS,QAAQksB,EAAgB,EACjC,EA4EEgX,YA1EF,SAAqBC,GACnB,GAAI,MAAOA,EAAyD,OACpE,IAAItnC,EAAc0D,EAAO1D,YAEzB,GAAIj6B,MAAM8C,QAAQy+D,GAChB,IAAK,IAAI7sE,EAAI6sE,EAAch9E,OAAS,EAAGmQ,GAAK,EAAGA,GAAK,EAClDipC,EAAOmmB,QAAQ9pB,OAAOt2B,OAAO69D,EAAc7sE,GAAI,GAE3CipC,EAAO2iB,OAAOwD,QAAQ6b,cACjBhiC,EAAOmmB,QAAQ6b,MAAM4B,EAAc7sE,IAGxC6sE,EAAc7sE,GAAKulC,IAAaA,GAAe,GACnDA,EAAc5tB,KAAKC,IAAI2tB,EAAa,QAGtC0D,EAAOmmB,QAAQ9pB,OAAOt2B,OAAO69D,EAAe,GAExC5jC,EAAO2iB,OAAOwD,QAAQ6b,cACjBhiC,EAAOmmB,QAAQ6b,MAAM4B,GAG1BA,EAAgBtnC,IAAaA,GAAe,GAChDA,EAAc5tB,KAAKC,IAAI2tB,EAAa,GAGtCs9B,GAAO,GACP55B,EAAOS,QAAQnE,EAAa,EAC9B,EA+CEunC,gBA7CF,WACE7jC,EAAOmmB,QAAQ9pB,OAAS,GAEpB2D,EAAO2iB,OAAOwD,QAAQ6b,QACxBhiC,EAAOmmB,QAAQ6b,MAAQ,CAAC,GAG1BpI,GAAO,GACP55B,EAAOS,QAAQ,EAAG,EACpB,EAqCEm5B,UAEJ,CCtSe,SAASl7B,EAAS0jB,GAC/B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EACJ,MAAMp9D,EAAWuzD,IACXvuD,EAAS,IAYf,SAAS85E,EAAOvwD,GACd,IAAKysB,EAAOf,QAAS,OACrB,MACE+mB,aAAc52B,GACZ4Q,EACJ,IAAIz8C,EAAIgwB,EACJhwB,EAAE+tE,gBAAe/tE,EAAIA,EAAE+tE,eAE3B,MAAMyS,EAAKxgF,EAAEygF,SAAWzgF,EAAE0gF,SACpBC,EAAalkC,EAAO2iB,OAAOzjB,SAASglC,WACpCC,EAAWD,GAAqB,KAAPH,EACzBK,EAAaF,GAAqB,KAAPH,EAC3BM,EAAqB,KAAPN,EACdO,EAAsB,KAAPP,EACfQ,EAAmB,KAAPR,EACZS,EAAqB,KAAPT,EAEpB,IAAK/jC,EAAOouB,iBAAmBpuB,EAAOulB,gBAAkB+e,GAAgBtkC,EAAOwlB,cAAgBgf,GAAeJ,GAC5G,OAAO,EAGT,IAAKpkC,EAAOquB,iBAAmBruB,EAAOulB,gBAAkB8e,GAAerkC,EAAOwlB,cAAgB+e,GAAaJ,GACzG,OAAO,EAGT,KAAI5gF,EAAEkhF,UAAYlhF,EAAEmhF,QAAUnhF,EAAEg3B,SAAWh3B,EAAEohF,SAIzC3/E,EAAS4uC,eAAiB5uC,EAAS4uC,cAAc2jB,WAA+D,UAAlDvyD,EAAS4uC,cAAc2jB,SAAS53C,eAA+E,aAAlD3a,EAAS4uC,cAAc2jB,SAAS53C,gBAA/J,CAIA,GAAIqgC,EAAO2iB,OAAOzjB,SAASC,iBAAmBglC,GAAYC,GAAcC,GAAeC,GAAgBC,GAAaC,GAAc,CAChI,IAAII,GAAS,EAEb,GAAI5kC,EAAOqlB,IAAI5I,QAAQ,IAAIzc,EAAO2iB,OAAO0D,cAAcz/D,OAAS,GAAyE,IAApEo5C,EAAOqlB,IAAI5I,QAAQ,IAAIzc,EAAO2iB,OAAOqJ,oBAAoBplE,OAC5H,OAGF,MAAMy+D,EAAMrlB,EAAOqlB,IACbwf,EAAcxf,EAAI,GAAGC,YACrBwf,EAAezf,EAAI,GAAGvO,aACtBiuB,EAAc/6E,EAAO46C,WACrBogC,EAAeh7E,EAAOy6C,YACtBwgC,EAAejlC,EAAOqlB,IAAI/2C,SAC5B8gB,IAAK61C,EAAar4E,MAAQozC,EAAOqlB,IAAI,GAAG9G,YAC5C,MAAM2mB,EAAc,CAAC,CAACD,EAAar4E,KAAMq4E,EAAa5uE,KAAM,CAAC4uE,EAAar4E,KAAOi4E,EAAaI,EAAa5uE,KAAM,CAAC4uE,EAAar4E,KAAMq4E,EAAa5uE,IAAMyuE,GAAe,CAACG,EAAar4E,KAAOi4E,EAAaI,EAAa5uE,IAAMyuE,IAE5N,IAAK,IAAI/tE,EAAI,EAAGA,EAAImuE,EAAYt+E,OAAQmQ,GAAK,EAAG,CAC9C,MAAM2kE,EAAQwJ,EAAYnuE,GAE1B,GAAI2kE,EAAM,IAAM,GAAKA,EAAM,IAAMqJ,GAAerJ,EAAM,IAAM,GAAKA,EAAM,IAAMsJ,EAAc,CACzF,GAAiB,IAAbtJ,EAAM,IAAyB,IAAbA,EAAM,GAAU,SAEtCkJ,GAAS,CACX,CACF,CAEA,IAAKA,EAAQ,MACf,CAEI5kC,EAAOulB,iBACL4e,GAAYC,GAAcC,GAAeC,KACvC/gF,EAAEid,eAAgBjd,EAAEid,iBAAsBjd,EAAE4hF,aAAc,KAG3Df,GAAcE,KAAkBl1C,IAAQ+0C,GAAYE,IAAgBj1C,IAAK4Q,EAAOivB,cAChFkV,GAAYE,KAAiBj1C,IAAQg1C,GAAcE,IAAiBl1C,IAAK4Q,EAAO0vB,eAEjFyU,GAAYC,GAAcG,GAAaC,KACrCjhF,EAAEid,eAAgBjd,EAAEid,iBAAsBjd,EAAE4hF,aAAc,IAG5Df,GAAcI,IAAaxkC,EAAOivB,aAClCkV,GAAYI,IAAWvkC,EAAO0vB,aAGpC1tB,EAAK,WAAY+hC,EA/CjB,CAiDF,CAEA,SAAS5I,IACHn7B,EAAOd,SAASD,UACpB,EAAEj6C,GAAU+6C,GAAG,UAAW+jC,GAC1B9jC,EAAOd,SAASD,SAAU,EAC5B,CAEA,SAASi8B,IACFl7B,EAAOd,SAASD,UACrB,EAAEj6C,GAAUi4D,IAAI,UAAW6mB,GAC3B9jC,EAAOd,SAASD,SAAU,EAC5B,CAvGAe,EAAOd,SAAW,CAChBD,SAAS,GAEXg/B,EAAa,CACX/+B,SAAU,CACRD,SAAS,EACTE,gBAAgB,EAChB+kC,YAAY,KAkGhBnkC,EAAG,QAAQ,KACLC,EAAO2iB,OAAOzjB,SAASD,SACzBk8B,GACF,IAEFp7B,EAAG,WAAW,KACRC,EAAOd,SAASD,SAClBi8B,GACF,IAEFz5C,OAAOikC,OAAO1lB,EAAOd,SAAU,CAC7Bi8B,SACAD,WAEJ,CC/He,SAASkK,GAAWhjB,GACjC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EACJ,MAAMp4D,EAAS,IAgBf,IAAIq7E,EAfJpH,EAAa,CACXqH,WAAY,CACVrmC,SAAS,EACTsmC,gBAAgB,EAChBC,QAAQ,EACRC,aAAa,EACbC,YAAa,EACbC,aAAc,YACdC,eAAgB,KAChBC,cAAe,QAGnB7lC,EAAOslC,WAAa,CAClBrmC,SAAS,GAGX,IACI6mC,EADAC,EAAiB96D,IAErB,MAAM+6D,EAAoB,GAkF1B,SAASC,IACFjmC,EAAOf,UACZe,EAAOkmC,cAAe,EACxB,CAEA,SAASC,IACFnmC,EAAOf,UACZe,EAAOkmC,cAAe,EACxB,CAEA,SAASE,EAAcC,GACrB,QAAIrmC,EAAO2iB,OAAO2iB,WAAWM,gBAAkBS,EAASC,MAAQtmC,EAAO2iB,OAAO2iB,WAAWM,gBAKrF5lC,EAAO2iB,OAAO2iB,WAAWO,eAAiB56D,IAAQ86D,EAAiB/lC,EAAO2iB,OAAO2iB,WAAWO,iBAQ5FQ,EAASC,OAAS,GAAKr7D,IAAQ86D,EAAiB,MAiBhDM,EAASjnC,UAAY,EACjBY,EAAO0rB,QAAS1rB,EAAO2iB,OAAOvkB,MAAU4B,EAAO+tB,YACnD/tB,EAAOivB,YACPjtB,EAAK,SAAUqkC,EAASE,MAEfvmC,EAAOyrB,cAAezrB,EAAO2iB,OAAOvkB,MAAU4B,EAAO+tB,YAChE/tB,EAAO0vB,YACP1tB,EAAK,SAAUqkC,EAASE,MAI1BR,GAAiB,IAAI/7E,EAAOghB,MAAOk4C,UAE5B,GACT,CAkBA,SAAS4gB,EAAOvwD,GACd,IAAIhwB,EAAIgwB,EACJ8hD,GAAsB,EAC1B,IAAKr1B,EAAOf,QAAS,OACrB,MAAM0jB,EAAS3iB,EAAO2iB,OAAO2iB,WAEzBtlC,EAAO2iB,OAAO0E,SAChB9jE,EAAEid,iBAGJ,IAAI7F,EAASqlC,EAAOqlB,IAMpB,GAJ8C,cAA1CrlB,EAAO2iB,OAAO2iB,WAAWK,eAC3BhrE,EAAS,EAAEqlC,EAAO2iB,OAAO2iB,WAAWK,gBAGjC3lC,EAAOkmC,eAAiBvrE,EAAO,GAAGm5B,SAASvwC,EAAEoX,UAAYgoD,EAAO4iB,eAAgB,OAAO,EACxFhiF,EAAE+tE,gBAAe/tE,EAAIA,EAAE+tE,eAE3B,IAAIgV,EAAQ,EACZ,MAAME,EAAYxmC,EAAOgmB,cAAgB,EAAI,EACvCn6D,EA9KR,SAAmBtI,GAKjB,IAAIkjF,EAAK,EACLC,EAAK,EAELC,EAAK,EACLC,EAAK,EA+DT,MA5DI,WAAYrjF,IACdmjF,EAAKnjF,EAAE+5D,QAGL,eAAgB/5D,IAClBmjF,GAAMnjF,EAAEsjF,WAAa,KAGnB,gBAAiBtjF,IACnBmjF,GAAMnjF,EAAEujF,YAAc,KAGpB,gBAAiBvjF,IACnBkjF,GAAMljF,EAAEwjF,YAAc,KAIpB,SAAUxjF,GAAKA,EAAE+8D,OAAS/8D,EAAEyjF,kBAC9BP,EAAKC,EACLA,EAAK,GAGPC,EAhCmB,GAgCdF,EACLG,EAjCmB,GAiCdF,EAED,WAAYnjF,IACdqjF,EAAKrjF,EAAE0jF,QAGL,WAAY1jF,IACdojF,EAAKpjF,EAAE2jF,QAGL3jF,EAAEkhF,WAAakC,IAEjBA,EAAKC,EACLA,EAAK,IAGFD,GAAMC,IAAOrjF,EAAE4jF,YACE,IAAhB5jF,EAAE4jF,WAEJR,GAnDgB,GAoDhBC,GApDgB,KAuDhBD,GAtDgB,IAuDhBC,GAvDgB,MA4DhBD,IAAOF,IACTA,EAAKE,EAAK,GAAK,EAAI,GAGjBC,IAAOF,IACTA,EAAKE,EAAK,GAAK,EAAI,GAGd,CACLQ,MAAOX,EACPY,MAAOX,EACPY,OAAQX,EACRY,OAAQX,EAEZ,CAgGejX,CAAUpsE,GAEvB,GAAIo/D,EAAO8iB,YACT,GAAIzlC,EAAOulB,eAAgB,CACzB,KAAI72C,KAAK25C,IAAIx8D,EAAKy7E,QAAU54D,KAAK25C,IAAIx8D,EAAK07E,SAA+C,OAAO,EAA7CjB,GAASz6E,EAAKy7E,OAASd,CAC5E,KAAO,MAAI93D,KAAK25C,IAAIx8D,EAAK07E,QAAU74D,KAAK25C,IAAIx8D,EAAKy7E,SAAmC,OAAO,EAAjChB,GAASz6E,EAAK07E,MAAuB,MAE/FjB,EAAQ53D,KAAK25C,IAAIx8D,EAAKy7E,QAAU54D,KAAK25C,IAAIx8D,EAAK07E,SAAW17E,EAAKy7E,OAASd,GAAa36E,EAAK07E,OAG3F,GAAc,IAAVjB,EAAa,OAAO,EACpB3jB,EAAO6iB,SAAQc,GAASA,GAE5B,IAAIkB,EAAYxnC,EAAOqgB,eAAiBimB,EAAQ3jB,EAAO+iB,YAavD,GAZI8B,GAAaxnC,EAAOgrB,iBAAgBwc,EAAYxnC,EAAOgrB,gBACvDwc,GAAaxnC,EAAOwrB,iBAAgBgc,EAAYxnC,EAAOwrB,gBAQ3D6J,IAAsBr1B,EAAO2iB,OAAOvkB,QAAgBopC,IAAcxnC,EAAOgrB,gBAAkBwc,IAAcxnC,EAAOwrB,gBAC5G6J,GAAuBr1B,EAAO2iB,OAAOkS,QAAQtxE,EAAEuxE,kBAE9C90B,EAAO2iB,OAAOsR,UAAaj0B,EAAO2iB,OAAOsR,SAASh1B,QAkChD,CAML,MAAMonC,EAAW,CACf5jB,KAAMx3C,IACNq7D,MAAO53D,KAAK25C,IAAIie,GAChBlnC,UAAW1wB,KAAK+4D,KAAKnB,IAEjBoB,EAAoB5B,GAAuBO,EAAS5jB,KAAOqjB,EAAoBrjB,KAAO,KAAO4jB,EAASC,OAASR,EAAoBQ,OAASD,EAASjnC,YAAc0mC,EAAoB1mC,UAE7L,IAAKsoC,EAAmB,CACtB5B,OAAsB3iF,EAElB68C,EAAO2iB,OAAOvkB,MAChB4B,EAAOuvB,UAGT,IAAInqE,EAAW46C,EAAOqgB,eAAiBimB,EAAQ3jB,EAAO+iB,YACtD,MAAM/Z,EAAe3rB,EAAOyrB,YACtBG,EAAS5rB,EAAO0rB,MAatB,GAZItmE,GAAY46C,EAAOgrB,iBAAgB5lE,EAAW46C,EAAOgrB,gBACrD5lE,GAAY46C,EAAOwrB,iBAAgBpmE,EAAW46C,EAAOwrB,gBACzDxrB,EAAOoqB,cAAc,GACrBpqB,EAAOsuB,aAAalpE,GACpB46C,EAAOqrB,iBACPrrB,EAAO0sB,oBACP1sB,EAAO8rB,wBAEFH,GAAgB3rB,EAAOyrB,cAAgBG,GAAU5rB,EAAO0rB,QAC3D1rB,EAAO8rB,sBAGL9rB,EAAO2iB,OAAOsR,SAAS0T,OAAQ,CAYjCxuB,aAAaksB,GACbA,OAAUliF,EAEN6iF,EAAkBp/E,QAAU,IAC9Bo/E,EAAkB4B,QAGpB,MAAMC,EAAY7B,EAAkBp/E,OAASo/E,EAAkBA,EAAkBp/E,OAAS,QAAKzD,EACzF2kF,EAAa9B,EAAkB,GAGrC,GAFAA,EAAkBntE,KAAKwtE,GAEnBwB,IAAcxB,EAASC,MAAQuB,EAAUvB,OAASD,EAASjnC,YAAcyoC,EAAUzoC,WAErF4mC,EAAkBjgE,OAAO,QACpB,GAAIigE,EAAkBp/E,QAAU,IAAMy/E,EAAS5jB,KAAOqlB,EAAWrlB,KAAO,KAAOqlB,EAAWxB,MAAQD,EAASC,OAAS,GAAKD,EAASC,OAAS,EAAG,CAOnJ,MAAMyB,EAAkBzB,EAAQ,EAAI,GAAM,GAC1CR,EAAsBO,EACtBL,EAAkBjgE,OAAO,GACzBs/D,EAAUjlB,GAAS,KACjBpgB,EAAOmwB,eAAenwB,EAAO2iB,OAAOC,OAAO,OAAMz/D,EAAW4kF,EAAgB,GAC3E,EACL,CAEK1C,IAIHA,EAAUjlB,GAAS,KAEjB0lB,EAAsBO,EACtBL,EAAkBjgE,OAAO,GACzBi6B,EAAOmwB,eAAenwB,EAAO2iB,OAAOC,OAAO,OAAMz/D,EAHzB,GAGoD,GAC3E,KAEP,CAOA,GAJKukF,GAAmB1lC,EAAK,SAAUz+C,GAEnCy8C,EAAO2iB,OAAOzxC,UAAY8uB,EAAO2iB,OAAOqlB,8BAA8BhoC,EAAO9uB,SAAS2uB,OAEtFz6C,IAAa46C,EAAOgrB,gBAAkB5lE,IAAa46C,EAAOwrB,eAAgB,OAAO,CACvF,CACF,KAlIgE,CAE9D,MAAM6a,EAAW,CACf5jB,KAAMx3C,IACNq7D,MAAO53D,KAAK25C,IAAIie,GAChBlnC,UAAW1wB,KAAK+4D,KAAKnB,GACrBC,IAAKhzD,GAGHyyD,EAAkBp/E,QAAU,GAC9Bo/E,EAAkB4B,QAGpB,MAAMC,EAAY7B,EAAkBp/E,OAASo/E,EAAkBA,EAAkBp/E,OAAS,QAAKzD,EAkB/F,GAjBA6iF,EAAkBntE,KAAKwtE,GAOnBwB,GACExB,EAASjnC,YAAcyoC,EAAUzoC,WAAainC,EAASC,MAAQuB,EAAUvB,OAASD,EAAS5jB,KAAOolB,EAAUplB,KAAO,MACrH2jB,EAAcC,GAGhBD,EAAcC,GAzFpB,SAAuBA,GACrB,MAAM1jB,EAAS3iB,EAAO2iB,OAAO2iB,WAE7B,GAAIe,EAASjnC,UAAY,GACvB,GAAIY,EAAO0rB,QAAU1rB,EAAO2iB,OAAOvkB,MAAQukB,EAAO4iB,eAEhD,OAAO,OAEJ,GAAIvlC,EAAOyrB,cAAgBzrB,EAAO2iB,OAAOvkB,MAAQukB,EAAO4iB,eAE7D,OAAO,EAGT,OAAO,CACT,CAgFQ0C,CAAc5B,GAChB,OAAO,CAEX,CAmGA,OADI9iF,EAAEid,eAAgBjd,EAAEid,iBAAsBjd,EAAE4hF,aAAc,GACvD,CACT,CAEA,SAASvoB,EAAO4H,GACd,IAAI7pD,EAASqlC,EAAOqlB,IAE0B,cAA1CrlB,EAAO2iB,OAAO2iB,WAAWK,eAC3BhrE,EAAS,EAAEqlC,EAAO2iB,OAAO2iB,WAAWK,eAGtChrE,EAAO6pD,GAAQ,aAAcyhB,GAC7BtrE,EAAO6pD,GAAQ,aAAc2hB,GAC7BxrE,EAAO6pD,GAAQ,QAASsf,EAC1B,CAEA,SAAS3I,IACP,OAAIn7B,EAAO2iB,OAAO0E,SAChBrnB,EAAO6iB,UAAUxL,oBAAoB,QAASysB,IACvC,IAGL9jC,EAAOslC,WAAWrmC,UACtB2d,EAAO,MACP5c,EAAOslC,WAAWrmC,SAAU,GACrB,EACT,CAEA,SAASi8B,IACP,OAAIl7B,EAAO2iB,OAAO0E,SAChBrnB,EAAO6iB,UAAUljB,iBAAiBpsB,MAAOuwD,IAClC,KAGJ9jC,EAAOslC,WAAWrmC,UACvB2d,EAAO,OACP5c,EAAOslC,WAAWrmC,SAAU,GACrB,EACT,CAEAc,EAAG,QAAQ,MACJC,EAAO2iB,OAAO2iB,WAAWrmC,SAAWe,EAAO2iB,OAAO0E,SACrD6T,IAGEl7B,EAAO2iB,OAAO2iB,WAAWrmC,SAASk8B,GAAQ,IAEhDp7B,EAAG,WAAW,KACRC,EAAO2iB,OAAO0E,SAChB8T,IAGEn7B,EAAOslC,WAAWrmC,SAASi8B,GAAS,IAE1Cz5C,OAAOikC,OAAO1lB,EAAOslC,WAAY,CAC/BnK,SACAD,WAEJ,CCrae,SAASgN,GAA0BloC,EAAQ46B,EAAgBjY,EAAQwlB,GAChF,MAAMnjF,EAAWuzD,IAmBjB,OAjBIvY,EAAO2iB,OAAOiW,gBAChBn3C,OAAOC,KAAKymD,GAAYh1E,SAAQqtC,IAC9B,IAAKmiB,EAAOniB,KAAwB,IAAhBmiB,EAAO8W,KAAe,CACxC,IAAIhsE,EAAUuyC,EAAOqlB,IAAI7lD,SAAS,IAAI2oE,EAAW3nC,MAAQ,GAEpD/yC,IACHA,EAAUzI,EAASC,cAAc,OACjCwI,EAAQvI,UAAYijF,EAAW3nC,GAC/BR,EAAOqlB,IAAIjnC,OAAO3wB,IAGpBk1D,EAAOniB,GAAO/yC,EACdmtE,EAAep6B,GAAO/yC,CACxB,KAIGk1D,CACT,CCpBe,SAASrkB,GAAW8jB,GACjC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EAmBJ,SAASgmB,EAAMzpC,GACb,IAAI0mB,EAUJ,OARI1mB,IACF0mB,EAAM,EAAE1mB,GAEJqB,EAAO2iB,OAAOqW,mBAAmC,iBAAPr6B,GAAmB0mB,EAAIz+D,OAAS,GAAoC,IAA/Bo5C,EAAOqlB,IAAItF,KAAKphB,GAAI/3C,SACrGy+D,EAAMrlB,EAAOqlB,IAAItF,KAAKphB,KAInB0mB,CACT,CAEA,SAASgjB,EAAShjB,EAAKnoC,GACrB,MAAMylC,EAAS3iB,EAAO2iB,OAAO9jB,WAEzBwmB,GAAOA,EAAIz+D,OAAS,IACtBy+D,EAAInoC,EAAW,WAAa,eAAeylC,EAAO2lB,eAC9CjjB,EAAI,IAAyB,WAAnBA,EAAI,GAAG3lD,UAAsB2lD,EAAI,GAAGnoC,SAAWA,GAEzD8iB,EAAO2iB,OAAO+G,eAAiB1pB,EAAOf,SACxComB,EAAIrlB,EAAOq6B,SAAW,WAAa,eAAe1X,EAAO4lB,WAG/D,CAEA,SAAS3O,IAEP,GAAI55B,EAAO2iB,OAAOvkB,KAAM,OACxB,MAAM,QACJoqC,EAAO,QACPC,GACEzoC,EAAOnB,WACXwpC,EAASI,EAASzoC,EAAOyrB,cAAgBzrB,EAAO2iB,OAAO8M,QACvD4Y,EAASG,EAASxoC,EAAO0rB,QAAU1rB,EAAO2iB,OAAO8M,OACnD,CAEA,SAASiZ,EAAYnlF,GACnBA,EAAEid,mBACEw/B,EAAOyrB,aAAgBzrB,EAAO2iB,OAAOvkB,MAAS4B,EAAO2iB,OAAO8M,UAChEzvB,EAAO0vB,YACP1tB,EAAK,kBACP,CAEA,SAAS2mC,EAAYplF,GACnBA,EAAEid,mBACEw/B,EAAO0rB,OAAU1rB,EAAO2iB,OAAOvkB,MAAS4B,EAAO2iB,OAAO8M,UAC1DzvB,EAAOivB,YACPjtB,EAAK,kBACP,CAEA,SAAS/kC,IACP,MAAM0lD,EAAS3iB,EAAO2iB,OAAO9jB,WAK7B,GAJAmB,EAAO2iB,OAAO9jB,WAAaqpC,GAA0BloC,EAAQA,EAAO46B,eAAe/7B,WAAYmB,EAAO2iB,OAAO9jB,WAAY,CACvHE,OAAQ,qBACRD,OAAQ,wBAEJ6jB,EAAO5jB,SAAU4jB,EAAO7jB,OAAS,OACvC,MAAM0pC,EAAUJ,EAAMzlB,EAAO5jB,QACvB0pC,EAAUL,EAAMzlB,EAAO7jB,QAEzB0pC,GAAWA,EAAQ5hF,OAAS,GAC9B4hF,EAAQzoC,GAAG,QAAS4oC,GAGlBF,GAAWA,EAAQ7hF,OAAS,GAC9B6hF,EAAQ1oC,GAAG,QAAS2oC,GAGtBjnD,OAAOikC,OAAO1lB,EAAOnB,WAAY,CAC/B2pC,UACAzpC,OAAQypC,GAAWA,EAAQ,GAC3BC,UACA3pC,OAAQ2pC,GAAWA,EAAQ,KAGxBzoC,EAAOf,UACNupC,GAASA,EAAQttB,SAASyH,EAAO4lB,WACjCE,GAASA,EAAQvtB,SAASyH,EAAO4lB,WAEzC,CAEA,SAASxI,IACP,MAAM,QACJyI,EAAO,QACPC,GACEzoC,EAAOnB,WAEP2pC,GAAWA,EAAQ5hF,SACrB4hF,EAAQvrB,IAAI,QAAS0rB,GACrBH,EAAQntB,YAAYrb,EAAO2iB,OAAO9jB,WAAWypC,gBAG3CG,GAAWA,EAAQ7hF,SACrB6hF,EAAQxrB,IAAI,QAASyrB,GACrBD,EAAQptB,YAAYrb,EAAO2iB,OAAO9jB,WAAWypC,eAEjD,CApHArK,EAAa,CACXp/B,WAAY,CACVE,OAAQ,KACRD,OAAQ,KACR8pC,aAAa,EACbN,cAAe,yBACfO,YAAa,uBACbN,UAAW,qBACXO,wBAAyB,gCAG7B9oC,EAAOnB,WAAa,CAClBE,OAAQ,KACRypC,QAAS,KACT1pC,OAAQ,KACR2pC,QAAS,MAuGX1oC,EAAG,QAAQ,MACgC,IAArCC,EAAO2iB,OAAO9jB,WAAWI,QAE3Bi8B,KAEAj+D,IACA28D,IACF,IAEF75B,EAAG,+BAA+B,KAChC65B,GAAQ,IAEV75B,EAAG,WAAW,KACZggC,GAAS,IAEXhgC,EAAG,kBAAkB,KACnB,MAAM,QACJyoC,EAAO,QACPC,GACEzoC,EAAOnB,WAEP2pC,GACFA,EAAQxoC,EAAOf,QAAU,cAAgB,YAAYe,EAAO2iB,OAAO9jB,WAAW0pC,WAG5EE,GACFA,EAAQzoC,EAAOf,QAAU,cAAgB,YAAYe,EAAO2iB,OAAO9jB,WAAW0pC,UAChF,IAEFxoC,EAAG,SAAS,CAACgpC,EAAIxlF,KACf,MAAM,QACJilF,EAAO,QACPC,GACEzoC,EAAOnB,WACLmqC,EAAWzlF,EAAEoX,OAEnB,GAAIqlC,EAAO2iB,OAAO9jB,WAAW+pC,cAAgB,EAAEI,GAAUxsB,GAAGisB,KAAa,EAAEO,GAAUxsB,GAAGgsB,GAAU,CAChG,GAAIxoC,EAAO1C,YAAc0C,EAAO2iB,OAAOrlB,YAAc0C,EAAO2iB,OAAOrlB,WAAWsB,YAAcoB,EAAO1C,WAAWqB,KAAOqqC,GAAYhpC,EAAO1C,WAAWqB,GAAG7K,SAASk1C,IAAY,OAC3K,IAAIC,EAEAT,EACFS,EAAWT,EAAQltB,SAAStb,EAAO2iB,OAAO9jB,WAAWgqC,aAC5CJ,IACTQ,EAAWR,EAAQntB,SAAStb,EAAO2iB,OAAO9jB,WAAWgqC,cAIrD7mC,GADe,IAAbinC,EACG,iBAEA,kBAGHT,GACFA,EAAQjtB,YAAYvb,EAAO2iB,OAAO9jB,WAAWgqC,aAG3CJ,GACFA,EAAQltB,YAAYvb,EAAO2iB,OAAO9jB,WAAWgqC,YAEjD,KAGF,MAMM3N,EAAU,KACdl7B,EAAOqlB,IAAInK,SAASlb,EAAO2iB,OAAO9jB,WAAWiqC,yBAC7C/I,GAAS,EAGXt+C,OAAOikC,OAAO1lB,EAAOnB,WAAY,CAC/Bs8B,OAZa,KACbn7B,EAAOqlB,IAAIhK,YAAYrb,EAAO2iB,OAAO9jB,WAAWiqC,yBAChD7rE,IACA28D,GAAQ,EAURsB,UACAtB,SACA38D,OACA8iE,WAEJ,CC/Me,SAASmJ,GAAkB/tB,GAKxC,YAJgB,IAAZA,IACFA,EAAU,IAGL,IAAIA,EAAQb,OAAOt5C,QAAQ,cAAe,QAChDA,QAAQ,KAAM,MACjB,CCJe,SAASi6B,GAAWmnB,GACjC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EACJ,MAAM+mB,EAAM,oBAsCZ,IAAIC,EArCJnL,EAAa,CACX3gC,WAAY,CACVqB,GAAI,KACJ0qC,cAAe,OACfzqC,WAAW,EACXgqC,aAAa,EACbU,aAAc,KACdC,kBAAmB,KACnBC,eAAgB,KAChBC,aAAc,KACdC,qBAAqB,EACrBxmF,KAAM,UAENymF,gBAAgB,EAChBC,mBAAoB,EACpBC,sBAAuBC,GAAUA,EACjCC,oBAAqBD,GAAUA,EAC/BE,YAAa,GAAGb,WAChBc,kBAAmB,GAAGd,kBACtBe,cAAe,GAAGf,KAClBgB,aAAc,GAAGhB,YACjBiB,WAAY,GAAGjB,UACfN,YAAa,GAAGM,WAChBkB,qBAAsB,GAAGlB,qBACzBmB,yBAA0B,GAAGnB,yBAC7BoB,eAAgB,GAAGpB,cACnBZ,UAAW,GAAGY,SACdqB,gBAAiB,GAAGrB,eACpBsB,cAAe,GAAGtB,aAClBuB,wBAAyB,GAAGvB,gBAGhCnpC,EAAO1C,WAAa,CAClBqB,GAAI,KACJ0mB,IAAK,KACL/kB,QAAS,IAGX,IAAIqqC,EAAqB,EAEzB,SAASC,IACP,OAAQ5qC,EAAO2iB,OAAOrlB,WAAWqB,KAAOqB,EAAO1C,WAAWqB,KAAOqB,EAAO1C,WAAW+nB,KAAwC,IAAjCrlB,EAAO1C,WAAW+nB,IAAIz+D,MAClH,CAEA,SAASikF,EAAeC,EAAW1lF,GACjC,MAAM,kBACJ6kF,GACEjqC,EAAO2iB,OAAOrlB,WAClBwtC,EAAU1lF,KAAY81D,SAAS,GAAG+uB,KAAqB7kF,KAAYA,KAAY81D,SAAS,GAAG+uB,KAAqB7kF,KAAYA,IAC9H,CAEA,SAASw0E,IAEP,MAAMxqC,EAAM4Q,EAAO5Q,IACbuzB,EAAS3iB,EAAO2iB,OAAOrlB,WAC7B,GAAIstC,IAAwB,OAC5B,MAAMtkB,EAAetmB,EAAOmmB,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,QAAUe,EAAOmmB,QAAQ9pB,OAAOz1C,OAASo5C,EAAO3D,OAAOz1C,OAC9Gy+D,EAAMrlB,EAAO1C,WAAW+nB,IAE9B,IAAI5hC,EACJ,MAAMsnD,EAAQ/qC,EAAO2iB,OAAOvkB,KAAO1vB,KAAK67C,MAAMjE,EAAqC,EAAtBtmB,EAAOgvB,cAAoBhvB,EAAO2iB,OAAO2F,gBAAkBtoB,EAAOumB,SAAS3/D,OAkBxI,GAhBIo5C,EAAO2iB,OAAOvkB,MAChB3a,EAAU/U,KAAK67C,MAAMvqB,EAAO1D,YAAc0D,EAAOgvB,cAAgBhvB,EAAO2iB,OAAO2F,gBAE3E7kC,EAAU6iC,EAAe,EAA0B,EAAtBtmB,EAAOgvB,eACtCvrC,GAAW6iC,EAAqC,EAAtBtmB,EAAOgvB,cAG/BvrC,EAAUsnD,EAAQ,IAAGtnD,GAAWsnD,GAChCtnD,EAAU,GAAsC,YAAjCuc,EAAO2iB,OAAOqoB,iBAA8BvnD,EAAUsnD,EAAQtnD,IAEjFA,OADqC,IAArBuc,EAAOspB,UACbtpB,EAAOspB,UAEPtpB,EAAO1D,aAAe,EAId,YAAhBqmB,EAAOz/D,MAAsB88C,EAAO1C,WAAWgD,SAAWN,EAAO1C,WAAWgD,QAAQ15C,OAAS,EAAG,CAClG,MAAM05C,EAAUN,EAAO1C,WAAWgD,QAClC,IAAI2qC,EACAhb,EACAib,EAuBJ,GArBIvoB,EAAOgnB,iBACTP,EAAa9oC,EAAQ0e,GAAG,GAAGhf,EAAOulB,eAAiB,aAAe,gBAAe,GACjFF,EAAI5G,IAAIze,EAAOulB,eAAiB,QAAU,SAAa6jB,GAAczmB,EAAOinB,mBAAqB,GAA7C,MAEhDjnB,EAAOinB,mBAAqB,QAA8BzmF,IAAzB68C,EAAO4sB,gBAC1C+d,GAAsBlnD,GAAWuc,EAAO4sB,cAAgB5sB,EAAOgvB,cAAgB,GAE3E2b,EAAqBhoB,EAAOinB,mBAAqB,EACnDe,EAAqBhoB,EAAOinB,mBAAqB,EACxCe,EAAqB,IAC9BA,EAAqB,IAIzBM,EAAav8D,KAAKC,IAAI8U,EAAUknD,EAAoB,GACpD1a,EAAYgb,GAAcv8D,KAAKsQ,IAAIshB,EAAQ15C,OAAQ+7D,EAAOinB,oBAAsB,GAChFsB,GAAYjb,EAAYgb,GAAc,GAGxC3qC,EAAQ+a,YAAY,CAAC,GAAI,QAAS,aAAc,QAAS,aAAc,SAAStR,KAAI7yB,GAAU,GAAGyrC,EAAOsnB,oBAAoB/yD,MAAUf,KAAK,MAEvIkvC,EAAIz+D,OAAS,EACf05C,EAAQqe,MAAKpe,IACX,MAAM4qC,EAAU,EAAE5qC,GACZ6qC,EAAcD,EAAQx0E,QAExBy0E,IAAgB3nD,GAClB0nD,EAAQjwB,SAASyH,EAAOsnB,mBAGtBtnB,EAAOgnB,iBACLyB,GAAeH,GAAcG,GAAenb,GAC9Ckb,EAAQjwB,SAAS,GAAGyH,EAAOsnB,0BAGzBmB,IAAgBH,GAClBJ,EAAeM,EAAS,QAGtBC,IAAgBnb,GAClB4a,EAAeM,EAAS,QAE5B,QAEG,CACL,MAAMA,EAAU7qC,EAAQ0e,GAAGv7B,GACrB2nD,EAAcD,EAAQx0E,QAG5B,GAFAw0E,EAAQjwB,SAASyH,EAAOsnB,mBAEpBtnB,EAAOgnB,eAAgB,CACzB,MAAM0B,EAAwB/qC,EAAQ0e,GAAGisB,GACnCK,EAAuBhrC,EAAQ0e,GAAGiR,GAExC,IAAK,IAAIl5D,EAAIk0E,EAAYl0E,GAAKk5D,EAAWl5D,GAAK,EAC5CupC,EAAQ0e,GAAGjoD,GAAGmkD,SAAS,GAAGyH,EAAOsnB,0BAGnC,GAAIjqC,EAAO2iB,OAAOvkB,KAChB,GAAIgtC,GAAe9qC,EAAQ15C,OAAQ,CACjC,IAAK,IAAImQ,EAAI4rD,EAAOinB,mBAAoB7yE,GAAK,EAAGA,GAAK,EACnDupC,EAAQ0e,GAAG1e,EAAQ15C,OAASmQ,GAAGmkD,SAAS,GAAGyH,EAAOsnB,0BAGpD3pC,EAAQ0e,GAAG1e,EAAQ15C,OAAS+7D,EAAOinB,mBAAqB,GAAG1uB,SAAS,GAAGyH,EAAOsnB,yBAChF,MACEY,EAAeQ,EAAuB,QACtCR,EAAeS,EAAsB,aAGvCT,EAAeQ,EAAuB,QACtCR,EAAeS,EAAsB,OAEzC,CACF,CAEA,GAAI3oB,EAAOgnB,eAAgB,CACzB,MAAM4B,EAAuB78D,KAAKsQ,IAAIshB,EAAQ15C,OAAQ+7D,EAAOinB,mBAAqB,GAC5E4B,GAAiBpC,EAAamC,EAAuBnC,GAAc,EAAI8B,EAAW9B,EAClF3G,EAAarzC,EAAM,QAAU,OACnCkR,EAAQme,IAAIze,EAAOulB,eAAiBkd,EAAa,MAAO,GAAG+I,MAC7D,CACF,CAOA,GALoB,aAAhB7oB,EAAOz/D,OACTmiE,EAAItF,KAAKmpB,GAAkBvmB,EAAOwnB,eAAehjF,KAAKw7D,EAAOknB,sBAAsBpmD,EAAU,IAC7F4hC,EAAItF,KAAKmpB,GAAkBvmB,EAAOynB,aAAajjF,KAAKw7D,EAAOonB,oBAAoBgB,KAG7D,gBAAhBpoB,EAAOz/D,KAAwB,CACjC,IAAIuoF,EAGFA,EADE9oB,EAAO+mB,oBACc1pC,EAAOulB,eAAiB,WAAa,aAErCvlB,EAAOulB,eAAiB,aAAe,WAGhE,MAAMmmB,GAASjoD,EAAU,GAAKsnD,EAC9B,IAAIY,EAAS,EACTC,EAAS,EAEgB,eAAzBH,EACFE,EAASD,EAETE,EAASF,EAGXrmB,EAAItF,KAAKmpB,GAAkBvmB,EAAO0nB,uBAAuBt1D,UAAU,6BAA6B42D,aAAkBC,MAAW9vB,WAAW9b,EAAO2iB,OAAOC,MACxJ,CAEoB,WAAhBD,EAAOz/D,MAAqBy/D,EAAO8mB,cACrCpkB,EAAI3P,KAAKiN,EAAO8mB,aAAazpC,EAAQvc,EAAU,EAAGsnD,IAClD/oC,EAAK,mBAAoBqjB,EAAI,KAE7BrjB,EAAK,mBAAoBqjB,EAAI,IAG3BrlB,EAAO2iB,OAAO+G,eAAiB1pB,EAAOf,SACxComB,EAAIrlB,EAAOq6B,SAAW,WAAa,eAAe1X,EAAO4lB,UAE7D,CAEA,SAAS1gF,IAEP,MAAM86D,EAAS3iB,EAAO2iB,OAAOrlB,WAC7B,GAAIstC,IAAwB,OAC5B,MAAMtkB,EAAetmB,EAAOmmB,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,QAAUe,EAAOmmB,QAAQ9pB,OAAOz1C,OAASo5C,EAAO3D,OAAOz1C,OAC9Gy+D,EAAMrlB,EAAO1C,WAAW+nB,IAC9B,IAAIwmB,EAAiB,GAErB,GAAoB,YAAhBlpB,EAAOz/D,KAAoB,CAC7B,IAAI4oF,EAAkB9rC,EAAO2iB,OAAOvkB,KAAO1vB,KAAK67C,MAAMjE,EAAqC,EAAtBtmB,EAAOgvB,cAAoBhvB,EAAO2iB,OAAO2F,gBAAkBtoB,EAAOumB,SAAS3/D,OAE5Io5C,EAAO2iB,OAAOsR,UAAYj0B,EAAO2iB,OAAOsR,SAASh1B,UAAYe,EAAO2iB,OAAOvkB,MAAQ0tC,EAAkBxlB,IACvGwlB,EAAkBxlB,GAGpB,IAAK,IAAIvvD,EAAI,EAAGA,EAAI+0E,EAAiB/0E,GAAK,EACpC4rD,EAAO2mB,aACTuC,GAAkBlpB,EAAO2mB,aAAanvB,KAAKna,EAAQjpC,EAAG4rD,EAAOqnB,aAE7D6B,GAAkB,IAAIlpB,EAAO0mB,wBAAwB1mB,EAAOqnB,kBAAkBrnB,EAAO0mB,iBAIzFhkB,EAAI3P,KAAKm2B,GACT7rC,EAAO1C,WAAWgD,QAAU+kB,EAAItF,KAAKmpB,GAAkBvmB,EAAOqnB,aAChE,CAEoB,aAAhBrnB,EAAOz/D,OAEP2oF,EADElpB,EAAO6mB,eACQ7mB,EAAO6mB,eAAervB,KAAKna,EAAQ2iB,EAAOwnB,aAAcxnB,EAAOynB,YAE/D,gBAAgBznB,EAAOwnB,wCAAkDxnB,EAAOynB,sBAGnG/kB,EAAI3P,KAAKm2B,IAGS,gBAAhBlpB,EAAOz/D,OAEP2oF,EADElpB,EAAO4mB,kBACQ5mB,EAAO4mB,kBAAkBpvB,KAAKna,EAAQ2iB,EAAO0nB,sBAE7C,gBAAgB1nB,EAAO0nB,gCAG1ChlB,EAAI3P,KAAKm2B,IAGS,WAAhBlpB,EAAOz/D,MACT8+C,EAAK,mBAAoBhC,EAAO1C,WAAW+nB,IAAI,GAEnD,CAEA,SAASpoD,IACP+iC,EAAO2iB,OAAOrlB,WAAa4qC,GAA0BloC,EAAQA,EAAO46B,eAAet9B,WAAY0C,EAAO2iB,OAAOrlB,WAAY,CACvHqB,GAAI,sBAEN,MAAMgkB,EAAS3iB,EAAO2iB,OAAOrlB,WAC7B,IAAKqlB,EAAOhkB,GAAI,OAChB,IAAI0mB,EAAM,EAAE1C,EAAOhkB,IACA,IAAf0mB,EAAIz+D,SAEJo5C,EAAO2iB,OAAOqW,mBAA0C,iBAAdrW,EAAOhkB,IAAmB0mB,EAAIz+D,OAAS,IACnFy+D,EAAMrlB,EAAOqlB,IAAItF,KAAK4C,EAAOhkB,IAEzB0mB,EAAIz+D,OAAS,IACfy+D,EAAMA,EAAIv6B,QAAO6T,GACX,EAAEA,GAAI8d,QAAQ,WAAW,KAAOzc,EAAOrB,OAM7B,YAAhBgkB,EAAOz/D,MAAsBy/D,EAAO/jB,WACtCymB,EAAInK,SAASyH,EAAO4nB,gBAGtBllB,EAAInK,SAASyH,EAAOunB,cAAgBvnB,EAAOz/D,MAC3CmiE,EAAInK,SAASlb,EAAOulB,eAAiB5C,EAAO6nB,gBAAkB7nB,EAAO8nB,eAEjD,YAAhB9nB,EAAOz/D,MAAsBy/D,EAAOgnB,iBACtCtkB,EAAInK,SAAS,GAAGyH,EAAOunB,gBAAgBvnB,EAAOz/D,gBAC9CynF,EAAqB,EAEjBhoB,EAAOinB,mBAAqB,IAC9BjnB,EAAOinB,mBAAqB,IAIZ,gBAAhBjnB,EAAOz/D,MAA0By/D,EAAO+mB,qBAC1CrkB,EAAInK,SAASyH,EAAO2nB,0BAGlB3nB,EAAO/jB,WACTymB,EAAItlB,GAAG,QAASmpC,GAAkBvmB,EAAOqnB,cAAc,SAAiBzmF,GACtEA,EAAEid,iBACF,IAAI7J,EAAQ,EAAExU,MAAMwU,QAAUqpC,EAAO2iB,OAAO2F,eACxCtoB,EAAO2iB,OAAOvkB,OAAMznC,GAASqpC,EAAOgvB,cACxChvB,EAAOS,QAAQ9pC,EACjB,IAGF8qB,OAAOikC,OAAO1lB,EAAO1C,WAAY,CAC/B+nB,MACA1mB,GAAI0mB,EAAI,KAGLrlB,EAAOf,SACVomB,EAAInK,SAASyH,EAAO4lB,WAExB,CAEA,SAASxI,IACP,MAAMpd,EAAS3iB,EAAO2iB,OAAOrlB,WAC7B,GAAIstC,IAAwB,OAC5B,MAAMvlB,EAAMrlB,EAAO1C,WAAW+nB,IAC9BA,EAAIhK,YAAYsH,EAAOkmB,aACvBxjB,EAAIhK,YAAYsH,EAAOunB,cAAgBvnB,EAAOz/D,MAC9CmiE,EAAIhK,YAAYrb,EAAOulB,eAAiB5C,EAAO6nB,gBAAkB7nB,EAAO8nB,eACpEzqC,EAAO1C,WAAWgD,SAAWN,EAAO1C,WAAWgD,QAAQ+a,aAAarb,EAAO1C,WAAWgD,QAAQ+a,YAAYsH,EAAOsnB,mBAEjHtnB,EAAO/jB,WACTymB,EAAIpI,IAAI,QAASisB,GAAkBvmB,EAAOqnB,aAE9C,CAEAjqC,EAAG,QAAQ,MACgC,IAArCC,EAAO2iB,OAAOrlB,WAAW2B,QAE3Bi8B,KAEAj+D,IACApV,IACA+xE,IACF,IAEF75B,EAAG,qBAAqB,MAClBC,EAAO2iB,OAAOvkB,WAEqB,IAArB4B,EAAOspB,YADvBsQ,GAGF,IAEF75B,EAAG,mBAAmB,KACfC,EAAO2iB,OAAOvkB,MACjBw7B,GACF,IAEF75B,EAAG,sBAAsB,KACnBC,EAAO2iB,OAAOvkB,OAChBv2C,IACA+xE,IACF,IAEF75B,EAAG,wBAAwB,KACpBC,EAAO2iB,OAAOvkB,OACjBv2C,IACA+xE,IACF,IAEF75B,EAAG,WAAW,KACZggC,GAAS,IAEXhgC,EAAG,kBAAkB,KACnB,MAAM,IACJslB,GACErlB,EAAO1C,WAEP+nB,GACFA,EAAIrlB,EAAOf,QAAU,cAAgB,YAAYe,EAAO2iB,OAAOrlB,WAAWirC,UAC5E,IAEFxoC,EAAG,eAAe,KAChB65B,GAAQ,IAEV75B,EAAG,SAAS,CAACgpC,EAAIxlF,KACf,MAAMylF,EAAWzlF,EAAEoX,QACb,IACJ0qD,GACErlB,EAAO1C,WAEX,GAAI0C,EAAO2iB,OAAOrlB,WAAWqB,IAAMqB,EAAO2iB,OAAOrlB,WAAWsrC,aAAevjB,GAAOA,EAAIz+D,OAAS,IAAM,EAAEoiF,GAAU1tB,SAAStb,EAAO2iB,OAAOrlB,WAAW0sC,aAAc,CAC/J,GAAIhqC,EAAOnB,aAAemB,EAAOnB,WAAWE,QAAUiqC,IAAahpC,EAAOnB,WAAWE,QAAUiB,EAAOnB,WAAWC,QAAUkqC,IAAahpC,EAAOnB,WAAWC,QAAS,OACnK,MAAMmqC,EAAW5jB,EAAI/J,SAAStb,EAAO2iB,OAAOrlB,WAAWurC,aAGrD7mC,GADe,IAAbinC,EACG,iBAEA,kBAGP5jB,EAAI9J,YAAYvb,EAAO2iB,OAAOrlB,WAAWurC,YAC3C,KAGF,MAYM3N,EAAU,KACdl7B,EAAOqlB,IAAInK,SAASlb,EAAO2iB,OAAOrlB,WAAWotC,yBAEzC1qC,EAAO1C,WAAW+nB,KACpBrlB,EAAO1C,WAAW+nB,IAAInK,SAASlb,EAAO2iB,OAAOrlB,WAAWotC,yBAG1D3K,GAAS,EAGXt+C,OAAOikC,OAAO1lB,EAAO1C,WAAY,CAC/B69B,OAvBa,KACbn7B,EAAOqlB,IAAIhK,YAAYrb,EAAO2iB,OAAOrlB,WAAWotC,yBAE5C1qC,EAAO1C,WAAW+nB,KACpBrlB,EAAO1C,WAAW+nB,IAAIhK,YAAYrb,EAAO2iB,OAAOrlB,WAAWotC,yBAG7DztE,IACApV,IACA+xE,GAAQ,EAeRsB,UACArzE,SACA+xE,SACA38D,OACA8iE,WAEJ,CCrbe,SAASxhC,GAAU6jB,GAChC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EACJ,MAAMp9D,EAAWuzD,IACjB,IAGIwzB,EACAC,EACAC,EACAC,EANAva,GAAY,EACZ0T,EAAU,KACV8G,EAAc,KA0BlB,SAAS7d,IACP,IAAKtuB,EAAO2iB,OAAOypB,UAAUztC,KAAOqB,EAAOosC,UAAUztC,GAAI,OACzD,MAAM,UACJytC,EACApmB,aAAc52B,EAAG,SACjB+zB,GACEnjB,GACE,QACJqsC,EAAO,IACPhnB,GACE+mB,EACEzpB,EAAS3iB,EAAO2iB,OAAOypB,UAC7B,IAAIE,EAAUN,EACVO,GAAUN,EAAYD,GAAY7oB,EAElC/zB,GACFm9C,GAAUA,EAENA,EAAS,GACXD,EAAUN,EAAWO,EACrBA,EAAS,IACCA,EAASP,EAAWC,IAC9BK,EAAUL,EAAYM,IAEfA,EAAS,GAClBD,EAAUN,EAAWO,EACrBA,EAAS,GACAA,EAASP,EAAWC,IAC7BK,EAAUL,EAAYM,GAGpBvsC,EAAOulB,gBACT8mB,EAAQt3D,UAAU,eAAew3D,cACjCF,EAAQ,GAAGlnF,MAAMwF,MAAQ,GAAG2hF,QAE5BD,EAAQt3D,UAAU,oBAAoBw3D,WACtCF,EAAQ,GAAGlnF,MAAMyF,OAAS,GAAG0hF,OAG3B3pB,EAAOnvB,OACT2lB,aAAaksB,GACbhgB,EAAI,GAAGlgE,MAAMqnF,QAAU,EACvBnH,EAAUp7E,YAAW,KACnBo7D,EAAI,GAAGlgE,MAAMqnF,QAAU,EACvBnnB,EAAIvJ,WAAW,IAAI,GAClB,KAEP,CAOA,SAASsJ,IACP,IAAKplB,EAAO2iB,OAAOypB,UAAUztC,KAAOqB,EAAOosC,UAAUztC,GAAI,OACzD,MAAM,UACJytC,GACEpsC,GACE,QACJqsC,EAAO,IACPhnB,GACE+mB,EACJC,EAAQ,GAAGlnF,MAAMwF,MAAQ,GACzB0hF,EAAQ,GAAGlnF,MAAMyF,OAAS,GAC1BqhF,EAAYjsC,EAAOulB,eAAiBF,EAAI,GAAGrH,YAAcqH,EAAI,GAAG9xD,aAChE24E,EAAUlsC,EAAO7iC,MAAQ6iC,EAAOmnB,YAAcnnB,EAAO2iB,OAAOgE,oBAAsB3mB,EAAO2iB,OAAOyE,eAAiBpnB,EAAOumB,SAAS,GAAK,IAGpIylB,EADuC,SAArChsC,EAAO2iB,OAAOypB,UAAUJ,SACfC,EAAYC,EAEZ58D,SAAS0wB,EAAO2iB,OAAOypB,UAAUJ,SAAU,IAGpDhsC,EAAOulB,eACT8mB,EAAQ,GAAGlnF,MAAMwF,MAAQ,GAAGqhF,MAE5BK,EAAQ,GAAGlnF,MAAMyF,OAAS,GAAGohF,MAI7B3mB,EAAI,GAAGlgE,MAAME,QADX6mF,GAAW,EACU,OAEA,GAGrBlsC,EAAO2iB,OAAOypB,UAAU54C,OAC1B6xB,EAAI,GAAGlgE,MAAMqnF,QAAU,GAGrBxsC,EAAO2iB,OAAO+G,eAAiB1pB,EAAOf,SACxCmtC,EAAU/mB,IAAIrlB,EAAOq6B,SAAW,WAAa,eAAer6B,EAAO2iB,OAAOypB,UAAU7D,UAExF,CAEA,SAASkE,EAAmBlpF,GAC1B,OAAIy8C,EAAOulB,eACS,eAAXhiE,EAAEL,MAAoC,cAAXK,EAAEL,KAAuBK,EAAEovE,cAAc,GAAG+Z,QAAUnpF,EAAEmpF,QAG1E,eAAXnpF,EAAEL,MAAoC,cAAXK,EAAEL,KAAuBK,EAAEovE,cAAc,GAAGga,QAAUppF,EAAEopF,OAC5F,CAEA,SAASC,EAAgBrpF,GACvB,MAAM,UACJ6oF,EACApmB,aAAc52B,GACZ4Q,GACE,IACJqlB,GACE+mB,EACJ,IAAIS,EACJA,GAAiBJ,EAAmBlpF,GAAK8hE,EAAI/2C,SAAS0xB,EAAOulB,eAAiB,OAAS,QAA2B,OAAjBwmB,EAAwBA,EAAeC,EAAW,KAAOC,EAAYD,GACtKa,EAAgBn+D,KAAKC,IAAID,KAAKsQ,IAAI6tD,EAAe,GAAI,GAEjDz9C,IACFy9C,EAAgB,EAAIA,GAGtB,MAAMznF,EAAW46C,EAAOgrB,gBAAkBhrB,EAAOwrB,eAAiBxrB,EAAOgrB,gBAAkB6hB,EAC3F7sC,EAAOqrB,eAAejmE,GACtB46C,EAAOsuB,aAAalpE,GACpB46C,EAAO0sB,oBACP1sB,EAAO8rB,qBACT,CAEA,SAASghB,EAAYvpF,GACnB,MAAMo/D,EAAS3iB,EAAO2iB,OAAOypB,WACvB,UACJA,EAAS,WACTtmB,GACE9lB,GACE,IACJqlB,EAAG,QACHgnB,GACED,EACJza,GAAY,EACZoa,EAAexoF,EAAEoX,SAAW0xE,EAAQ,IAAM9oF,EAAEoX,SAAW0xE,EAAUI,EAAmBlpF,GAAKA,EAAEoX,OAAOypC,wBAAwBpE,EAAOulB,eAAiB,OAAS,OAAS,KACpKhiE,EAAEid,iBACFjd,EAAEuxE,kBACFhP,EAAWhK,WAAW,KACtBuwB,EAAQvwB,WAAW,KACnB8wB,EAAgBrpF,GAChB41D,aAAagzB,GACb9mB,EAAIvJ,WAAW,GAEX6G,EAAOnvB,MACT6xB,EAAI5G,IAAI,UAAW,GAGjBze,EAAO2iB,OAAO0E,SAChBrnB,EAAO8lB,WAAWrH,IAAI,mBAAoB,QAG5Czc,EAAK,qBAAsBz+C,EAC7B,CAEA,SAASwpF,EAAWxpF,GAClB,MAAM,UACJ6oF,EAAS,WACTtmB,GACE9lB,GACE,IACJqlB,EAAG,QACHgnB,GACED,EACCza,IACDpuE,EAAEid,eAAgBjd,EAAEid,iBAAsBjd,EAAE4hF,aAAc,EAC9DyH,EAAgBrpF,GAChBuiE,EAAWhK,WAAW,GACtBuJ,EAAIvJ,WAAW,GACfuwB,EAAQvwB,WAAW,GACnB9Z,EAAK,oBAAqBz+C,GAC5B,CAEA,SAASypF,EAAUzpF,GACjB,MAAMo/D,EAAS3iB,EAAO2iB,OAAOypB,WACvB,UACJA,EAAS,WACTtmB,GACE9lB,GACE,IACJqlB,GACE+mB,EACCza,IACLA,GAAY,EAER3xB,EAAO2iB,OAAO0E,UAChBrnB,EAAO8lB,WAAWrH,IAAI,mBAAoB,IAC1CqH,EAAWhK,WAAW,KAGpB6G,EAAOnvB,OACT2lB,aAAagzB,GACbA,EAAc/rB,GAAS,KACrBiF,EAAI5G,IAAI,UAAW,GACnB4G,EAAIvJ,WAAW,IAAI,GAClB,MAGL9Z,EAAK,mBAAoBz+C,GAErBo/D,EAAOsqB,eACTjtC,EAAOmwB,iBAEX,CAEA,SAASvT,EAAO4H,GACd,MAAM,UACJ4nB,EAAS,iBACT7N,EAAgB,mBAChBC,EAAkB,OAClB7b,EAAM,QACNc,GACEzjB,EACEqlB,EAAM+mB,EAAU/mB,IACtB,IAAKA,EAAK,OACV,MAAM1qD,EAAS0qD,EAAI,GACb6nB,KAAiBzpB,EAAQO,kBAAmBrB,EAAO+U,mBAAmB,CAC1EC,SAAS,EACTxb,SAAS,GAEL6H,KAAkBP,EAAQO,kBAAmBrB,EAAO+U,mBAAmB,CAC3EC,SAAS,EACTxb,SAAS,GAEX,IAAKxhD,EAAQ,OACb,MAAMwyE,EAAyB,OAAX3oB,EAAkB,mBAAqB,sBAEtDf,EAAQK,OAKXnpD,EAAOwyE,GAAa5O,EAAiBz+B,MAAOgtC,EAAaI,GACzDvyE,EAAOwyE,GAAa5O,EAAiB3G,KAAMmV,EAAYG,GACvDvyE,EAAOwyE,GAAa5O,EAAiB1G,IAAKmV,EAAWhpB,KANrDrpD,EAAOwyE,GAAa3O,EAAmB1+B,MAAOgtC,EAAaI,GAC3DloF,EAASmoF,GAAa3O,EAAmB5G,KAAMmV,EAAYG,GAC3DloF,EAASmoF,GAAa3O,EAAmB3G,IAAKmV,EAAWhpB,GAM7D,CAYA,SAAS/mD,IACP,MAAM,UACJmvE,EACA/mB,IAAK+nB,GACHptC,EACJA,EAAO2iB,OAAOypB,UAAYlE,GAA0BloC,EAAQA,EAAO46B,eAAewR,UAAWpsC,EAAO2iB,OAAOypB,UAAW,CACpHztC,GAAI,qBAEN,MAAMgkB,EAAS3iB,EAAO2iB,OAAOypB,UAC7B,IAAKzpB,EAAOhkB,GAAI,OAChB,IAAI0mB,EAAM,EAAE1C,EAAOhkB,IAEfqB,EAAO2iB,OAAOqW,mBAA0C,iBAAdrW,EAAOhkB,IAAmB0mB,EAAIz+D,OAAS,GAA0C,IAArCwmF,EAAUrtB,KAAK4C,EAAOhkB,IAAI/3C,SAClHy+D,EAAM+nB,EAAUrtB,KAAK4C,EAAOhkB,KAG9B0mB,EAAInK,SAASlb,EAAOulB,eAAiB5C,EAAO6nB,gBAAkB7nB,EAAO8nB,eACrE,IAAI4B,EAAUhnB,EAAItF,KAAK,IAAI/f,EAAO2iB,OAAOypB,UAAUiB,aAE5B,IAAnBhB,EAAQzlF,SACVylF,EAAU,EAAE,eAAersC,EAAO2iB,OAAOypB,UAAUiB,qBACnDhoB,EAAIjnC,OAAOiuD,IAGb5qD,OAAOikC,OAAO0mB,EAAW,CACvB/mB,MACA1mB,GAAI0mB,EAAI,GACRgnB,UACAiB,OAAQjB,EAAQ,KAGd1pB,EAAO4qB,WAxCNvtC,EAAO2iB,OAAOypB,UAAUztC,IAAOqB,EAAOosC,UAAUztC,IACrDie,EAAO,MA2CHyI,GACFA,EAAIrlB,EAAOf,QAAU,cAAgB,YAAYe,EAAO2iB,OAAOypB,UAAU7D,UAE7E,CAEA,SAASxI,IACP,MAAMpd,EAAS3iB,EAAO2iB,OAAOypB,UACvB/mB,EAAMrlB,EAAOosC,UAAU/mB,IAEzBA,GACFA,EAAIhK,YAAYrb,EAAOulB,eAAiB5C,EAAO6nB,gBAAkB7nB,EAAO8nB,eAjDrEzqC,EAAO2iB,OAAOypB,UAAUztC,IAAOqB,EAAOosC,UAAUztC,IACrDie,EAAO,MAoDT,CAhUAqhB,EAAa,CACXmO,UAAW,CACTztC,GAAI,KACJqtC,SAAU,OACVx4C,MAAM,EACN+5C,WAAW,EACXN,eAAe,EACf1E,UAAW,wBACX8E,UAAW,wBACXG,uBAAwB,4BACxBhD,gBAAiB,8BACjBC,cAAe,+BAGnBzqC,EAAOosC,UAAY,CACjBztC,GAAI,KACJ2uC,OAAQ,KACRjoB,IAAK,KACLgnB,QAAS,MAgTXtsC,EAAG,QAAQ,MAC+B,IAApCC,EAAO2iB,OAAOypB,UAAUntC,QAE1Bi8B,KAEAj+D,IACAmoD,IACAkJ,IACF,IAEFvuB,EAAG,4CAA4C,KAC7CqlB,GAAY,IAEdrlB,EAAG,gBAAgB,KACjBuuB,GAAc,IAEhBvuB,EAAG,iBAAiB,CAACgpC,EAAIhtB,MA5QzB,SAAuBA,GAChB/b,EAAO2iB,OAAOypB,UAAUztC,IAAOqB,EAAOosC,UAAUztC,IACrDqB,EAAOosC,UAAUC,QAAQvwB,WAAWC,EACtC,CA0QEqO,CAAcrO,EAAS,IAEzBhc,EAAG,kBAAkB,KACnB,MAAM,IACJslB,GACErlB,EAAOosC,UAEP/mB,GACFA,EAAIrlB,EAAOf,QAAU,cAAgB,YAAYe,EAAO2iB,OAAOypB,UAAU7D,UAC3E,IAEFxoC,EAAG,WAAW,KACZggC,GAAS,IAGX,MAYM7E,EAAU,KACdl7B,EAAOqlB,IAAInK,SAASlb,EAAO2iB,OAAOypB,UAAUoB,wBAExCxtC,EAAOosC,UAAU/mB,KACnBrlB,EAAOosC,UAAU/mB,IAAInK,SAASlb,EAAO2iB,OAAOypB,UAAUoB,wBAGxDzN,GAAS,EAGXt+C,OAAOikC,OAAO1lB,EAAOosC,UAAW,CAC9BjR,OAvBa,KACbn7B,EAAOqlB,IAAIhK,YAAYrb,EAAO2iB,OAAOypB,UAAUoB,wBAE3CxtC,EAAOosC,UAAU/mB,KACnBrlB,EAAOosC,UAAU/mB,IAAIhK,YAAYrb,EAAO2iB,OAAOypB,UAAUoB,wBAG3DvwE,IACAmoD,IACAkJ,GAAc,EAed4M,UACA9V,aACAkJ,eACArxD,OACA8iE,WAEJ,CClZe,SAAS0N,GAASrrB,GAC/B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACXyP,SAAU,CACRzuC,SAAS,KAIb,MAAM0uC,EAAe,CAAChvC,EAAIwkB,KACxB,MAAM,IACJ/zB,GACE4Q,EACEqlB,EAAM,EAAE1mB,GACR6nC,EAAYp3C,GAAO,EAAI,EACvBw+C,EAAIvoB,EAAI5J,KAAK,yBAA2B,IAC9C,IAAIqe,EAAIzU,EAAI5J,KAAK,0BACbse,EAAI1U,EAAI5J,KAAK,0BACjB,MAAMiwB,EAAQrmB,EAAI5J,KAAK,8BACjB+wB,EAAUnnB,EAAI5J,KAAK,gCAyBzB,GAvBIqe,GAAKC,GACPD,EAAIA,GAAK,IACTC,EAAIA,GAAK,KACA/5B,EAAOulB,gBAChBuU,EAAI8T,EACJ7T,EAAI,MAEJA,EAAI6T,EACJ9T,EAAI,KAIJA,EADEA,EAAEjiE,QAAQ,MAAQ,EACbyX,SAASwqD,EAAG,IAAM3W,EAAWqjB,EAAhC,IAEG1M,EAAI3W,EAAWqjB,EAAlB,KAIJzM,EADEA,EAAEliE,QAAQ,MAAQ,EACbyX,SAASyqD,EAAG,IAAM5W,EAArB,IAEG4W,EAAI5W,EAAP,KAGF,MAAOqpB,EAA6C,CACtD,MAAMqB,EAAiBrB,GAAWA,EAAU,IAAM,EAAI99D,KAAK25C,IAAIlF,IAC/DkC,EAAI,GAAGlgE,MAAMqnF,QAAUqB,CACzB,CAEA,GAAI,MAAOnC,EACTrmB,EAAItwC,UAAU,eAAe+kD,MAAMC,eAC9B,CACL,MAAM+T,EAAepC,GAASA,EAAQ,IAAM,EAAIh9D,KAAK25C,IAAIlF,IACzDkC,EAAItwC,UAAU,eAAe+kD,MAAMC,iBAAiB+T,KACtD,GAGIxf,EAAe,KACnB,MAAM,IACJjJ,EAAG,OACHhpB,EAAM,SACN8mB,EAAQ,SACRoD,GACEvmB,EACJqlB,EAAI7lD,SAAS,4IAA4Im/C,MAAKhgB,IAC5JgvC,EAAahvC,EAAIwkB,EAAS,IAE5B9mB,EAAOsiB,MAAK,CAACmgB,EAAShW,KACpB,IAAIiC,EAAgB+T,EAAQ3b,SAExBnjB,EAAO2iB,OAAO2F,eAAiB,GAAqC,SAAhCtoB,EAAO2iB,OAAOiF,gBACpDmD,GAAiBr8C,KAAK67C,KAAKzB,EAAa,GAAK3F,GAAYoD,EAAS3/D,OAAS,IAG7EmkE,EAAgBr8C,KAAKsQ,IAAItQ,KAAKC,IAAIo8C,GAAgB,GAAI,GACtD,EAAE+T,GAAS/e,KAAK,4IAA4IpB,MAAKhgB,IAC/JgvC,EAAahvC,EAAIosB,EAAc,GAC/B,GACF,EAmBJhrB,EAAG,cAAc,KACVC,EAAO2iB,OAAO+qB,SAASzuC,UAC5Be,EAAO2iB,OAAOiH,qBAAsB,EACpC5pB,EAAO46B,eAAehR,qBAAsB,EAAI,IAElD7pB,EAAG,QAAQ,KACJC,EAAO2iB,OAAO+qB,SAASzuC,SAC5BqvB,GAAc,IAEhBvuB,EAAG,gBAAgB,KACZC,EAAO2iB,OAAO+qB,SAASzuC,SAC5BqvB,GAAc,IAEhBvuB,EAAG,iBAAiB,CAACguC,EAAShyB,KACvB/b,EAAO2iB,OAAO+qB,SAASzuC,SA9BR,SAAU8c,QACb,IAAbA,IACFA,EAAW/b,EAAO2iB,OAAOC,OAG3B,MAAM,IACJyC,GACErlB,EACJqlB,EAAItF,KAAK,4IAA4IpB,MAAKqvB,IACxJ,MAAMC,EAAc,EAAED,GACtB,IAAIE,EAAmB5+D,SAAS2+D,EAAYxyB,KAAK,iCAAkC,KAAOM,EACzE,IAAbA,IAAgBmyB,EAAmB,GACvCD,EAAYnyB,WAAWoyB,EAAiB,GAE5C,CAiBE9jB,CAAcrO,EAAS,GAE3B,CCnHe,SAASoyB,GAAK/rB,GAC3B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EACJ,MAAMp4D,EAAS,IACfi0E,EAAa,CACXmQ,KAAM,CACJnvC,SAAS,EACTovC,SAAU,EACV1S,SAAU,EACVngB,QAAQ,EACR8yB,eAAgB,wBAChBC,iBAAkB,yBAGtBvuC,EAAOouC,KAAO,CACZnvC,SAAS,GAEX,IAEIuvC,EACAC,EACAC,EAJAZ,EAAe,EACfa,GAAY,EAIhB,MAAMC,EAAU,CACd3M,cAAU9+E,EACV0rF,gBAAY1rF,EACZ2rF,iBAAa3rF,EACb4rF,cAAU5rF,EACV6rF,kBAAc7rF,EACdkrF,SAAU,GAENljE,EAAQ,CACZwmD,eAAWxuE,EACXyuE,aAASzuE,EACTuvE,cAAUvvE,EACV0vE,cAAU1vE,EACV8rF,UAAM9rF,EACN+rF,UAAM/rF,EACNgsF,UAAMhsF,EACNisF,UAAMjsF,EACNwH,WAAOxH,EACPyH,YAAQzH,EACR4vE,YAAQ5vE,EACR6vE,YAAQ7vE,EACRksF,aAAc,CAAC,EACfC,eAAgB,CAAC,GAEbjR,EAAW,CACfvE,OAAG32E,EACH42E,OAAG52E,EACHosF,mBAAepsF,EACfqsF,mBAAersF,EACfssF,cAAUtsF,GAEZ,IAAIuoF,EAAQ,EAkBZ,SAASgE,EAA0BnsF,GACjC,GAAIA,EAAEovE,cAAc/rE,OAAS,EAAG,OAAO,EACvC,MAAM+oF,EAAKpsF,EAAEovE,cAAc,GAAGC,MACxBgd,EAAKrsF,EAAEovE,cAAc,GAAGG,MACxB+c,EAAKtsF,EAAEovE,cAAc,GAAGC,MACxBkd,EAAKvsF,EAAEovE,cAAc,GAAGG,MAE9B,OADiBpkD,KAAK+lD,MAAMob,EAAKF,IAAO,GAAKG,EAAKF,IAAO,EAE3D,CAGA,SAASG,EAAexsF,GACtB,MAAMkgE,EAAUzjB,EAAOyjB,QACjBd,EAAS3iB,EAAO2iB,OAAOyrB,KAI7B,GAHAK,GAAqB,EACrBC,GAAmB,GAEdjrB,EAAQU,SAAU,CACrB,GAAe,eAAX5gE,EAAEL,MAAoC,eAAXK,EAAEL,MAAyBK,EAAEovE,cAAc/rE,OAAS,EACjF,OAGF6nF,GAAqB,EACrBG,EAAQoB,WAAaN,EAA0BnsF,EACjD,CAEKqrF,EAAQ3M,UAAa2M,EAAQ3M,SAASr7E,SACzCgoF,EAAQ3M,SAAW,EAAE1+E,EAAEoX,QAAQmlD,QAAQ,IAAI9f,EAAO2iB,OAAO0D,cACzB,IAA5BuoB,EAAQ3M,SAASr7E,SAAcgoF,EAAQ3M,SAAWjiC,EAAO3D,OAAO2iB,GAAGhf,EAAO1D,cAC9EsyC,EAAQG,SAAWH,EAAQ3M,SAASliB,KAAK,IAAI4C,EAAO2rB,kBAAkBtvB,GAAG,GAAGe,KAAK,kDAAkDf,GAAG,GACtI4vB,EAAQI,aAAeJ,EAAQG,SAASz/E,OAAO,IAAIqzD,EAAO2rB,kBAC1DM,EAAQP,SAAWO,EAAQI,aAAavzB,KAAK,qBAAuBkH,EAAO0rB,SAEvC,IAAhCO,EAAQI,aAAapoF,SAMvBgoF,EAAQG,UACVH,EAAQG,SAASjzB,WAAW,GAG9B6yB,GAAY,GATRC,EAAQG,cAAW5rF,CAUzB,CAEA,SAAS8sF,EAAgB1sF,GACvB,MAAMkgE,EAAUzjB,EAAOyjB,QACjBd,EAAS3iB,EAAO2iB,OAAOyrB,KACvBA,EAAOpuC,EAAOouC,KAEpB,IAAK3qB,EAAQU,SAAU,CACrB,GAAe,cAAX5gE,EAAEL,MAAmC,cAAXK,EAAEL,MAAwBK,EAAEovE,cAAc/rE,OAAS,EAC/E,OAGF8nF,GAAmB,EACnBE,EAAQsB,UAAYR,EAA0BnsF,EAChD,CAEKqrF,EAAQG,UAAwC,IAA5BH,EAAQG,SAASnoF,QAKtC68D,EAAQU,SACViqB,EAAK1C,MAAQnoF,EAAEmoF,MAAQoC,EAEvBM,EAAK1C,MAAQkD,EAAQsB,UAAYtB,EAAQoB,WAAalC,EAGpDM,EAAK1C,MAAQkD,EAAQP,WACvBD,EAAK1C,MAAQkD,EAAQP,SAAW,GAAKD,EAAK1C,MAAQkD,EAAQP,SAAW,IAAM,IAGzED,EAAK1C,MAAQ/oB,EAAOgZ,WACtByS,EAAK1C,MAAQ/oB,EAAOgZ,SAAW,GAAKhZ,EAAOgZ,SAAWyS,EAAK1C,MAAQ,IAAM,IAG3EkD,EAAQG,SAASh6D,UAAU,4BAA4Bq5D,EAAK1C,WAlB3C,kBAAXnoF,EAAEL,MAA0B6sF,EAAexsF,EAmBnD,CAEA,SAAS4sF,EAAa5sF,GACpB,MAAMg0E,EAASv3B,EAAOu3B,OAChB9T,EAAUzjB,EAAOyjB,QACjBd,EAAS3iB,EAAO2iB,OAAOyrB,KACvBA,EAAOpuC,EAAOouC,KAEpB,IAAK3qB,EAAQU,SAAU,CACrB,IAAKsqB,IAAuBC,EAC1B,OAGF,GAAe,aAAXnrF,EAAEL,MAAkC,aAAXK,EAAEL,MAAuBK,EAAE6wE,eAAextE,OAAS,IAAM2wE,EAAOS,QAC3F,OAGFyW,GAAqB,EACrBC,GAAmB,CACrB,CAEKE,EAAQG,UAAwC,IAA5BH,EAAQG,SAASnoF,SAC1CwnF,EAAK1C,MAAQh9D,KAAKC,IAAID,KAAKsQ,IAAIovD,EAAK1C,MAAOkD,EAAQP,UAAW1rB,EAAOgZ,UACrEiT,EAAQG,SAASjzB,WAAW9b,EAAO2iB,OAAOC,OAAO7tC,UAAU,4BAA4Bq5D,EAAK1C,UAC5FoC,EAAeM,EAAK1C,MACpBiD,GAAY,EACO,IAAfP,EAAK1C,QAAakD,EAAQ3M,cAAW9+E,GAC3C,CAYA,SAAS+wE,EAAY3wE,GACnB,MAAM6qF,EAAOpuC,EAAOouC,KACpB,IAAKQ,EAAQG,UAAwC,IAA5BH,EAAQG,SAASnoF,OAAc,OAExD,GADAo5C,EAAOwyB,YAAa,GACfrnD,EAAMwmD,YAAcid,EAAQ3M,SAAU,OAEtC92D,EAAMymD,UACTzmD,EAAMxgB,MAAQikF,EAAQG,SAAS,GAAG/wB,YAClC7yC,EAAMvgB,OAASgkF,EAAQG,SAAS,GAAGx7E,aACnC4X,EAAM4nD,OAAS1S,EAAauuB,EAAQI,aAAa,GAAI,MAAQ,EAC7D7jE,EAAM6nD,OAAS3S,EAAauuB,EAAQI,aAAa,GAAI,MAAQ,EAC7DJ,EAAQC,WAAaD,EAAQ3M,SAAS,GAAGjkB,YACzC4wB,EAAQE,YAAcF,EAAQ3M,SAAS,GAAG1uE,aAC1Cq7E,EAAQI,aAAalzB,WAAW,IAIlC,MAAMs0B,EAAcjlE,EAAMxgB,MAAQyjF,EAAK1C,MACjC2E,EAAellE,EAAMvgB,OAASwjF,EAAK1C,MACzC,KAAI0E,EAAcxB,EAAQC,YAAcwB,EAAezB,EAAQE,aAA/D,CAQA,GAPA3jE,EAAM8jE,KAAOvgE,KAAKsQ,IAAI4vD,EAAQC,WAAa,EAAIuB,EAAc,EAAG,GAChEjlE,EAAMgkE,MAAQhkE,EAAM8jE,KACpB9jE,EAAM+jE,KAAOxgE,KAAKsQ,IAAI4vD,EAAQE,YAAc,EAAIuB,EAAe,EAAG,GAClEllE,EAAMikE,MAAQjkE,EAAM+jE,KACpB/jE,EAAMmkE,eAAexV,EAAe,cAAXv2E,EAAEL,KAAuBK,EAAEovE,cAAc,GAAGC,MAAQrvE,EAAEqvE,MAC/EznD,EAAMmkE,eAAevV,EAAe,cAAXx2E,EAAEL,KAAuBK,EAAEovE,cAAc,GAAGG,MAAQvvE,EAAEuvE,OAE1E3nD,EAAMymD,UAAY+c,EAAW,CAChC,GAAI3uC,EAAOulB,iBAAmB72C,KAAKynC,MAAMhrC,EAAM8jE,QAAUvgE,KAAKynC,MAAMhrC,EAAM4nD,SAAW5nD,EAAMmkE,eAAexV,EAAI3uD,EAAMkkE,aAAavV,GAAKprD,KAAKynC,MAAMhrC,EAAMgkE,QAAUzgE,KAAKynC,MAAMhrC,EAAM4nD,SAAW5nD,EAAMmkE,eAAexV,EAAI3uD,EAAMkkE,aAAavV,GAEvO,YADA3uD,EAAMwmD,WAAY,GAIpB,IAAK3xB,EAAOulB,iBAAmB72C,KAAKynC,MAAMhrC,EAAM+jE,QAAUxgE,KAAKynC,MAAMhrC,EAAM6nD,SAAW7nD,EAAMmkE,eAAevV,EAAI5uD,EAAMkkE,aAAatV,GAAKrrD,KAAKynC,MAAMhrC,EAAMikE,QAAU1gE,KAAKynC,MAAMhrC,EAAM6nD,SAAW7nD,EAAMmkE,eAAevV,EAAI5uD,EAAMkkE,aAAatV,GAExO,YADA5uD,EAAMwmD,WAAY,EAGtB,CAEIpuE,EAAEi6D,YACJj6D,EAAEid,iBAGJjd,EAAEuxE,kBACF3pD,EAAMymD,SAAU,EAChBzmD,EAAMunD,SAAWvnD,EAAMmkE,eAAexV,EAAI3uD,EAAMkkE,aAAavV,EAAI3uD,EAAM4nD,OACvE5nD,EAAM0nD,SAAW1nD,EAAMmkE,eAAevV,EAAI5uD,EAAMkkE,aAAatV,EAAI5uD,EAAM6nD,OAEnE7nD,EAAMunD,SAAWvnD,EAAM8jE,OACzB9jE,EAAMunD,SAAWvnD,EAAM8jE,KAAO,GAAK9jE,EAAM8jE,KAAO9jE,EAAMunD,SAAW,IAAM,IAGrEvnD,EAAMunD,SAAWvnD,EAAMgkE,OACzBhkE,EAAMunD,SAAWvnD,EAAMgkE,KAAO,GAAKhkE,EAAMunD,SAAWvnD,EAAMgkE,KAAO,IAAM,IAGrEhkE,EAAM0nD,SAAW1nD,EAAM+jE,OACzB/jE,EAAM0nD,SAAW1nD,EAAM+jE,KAAO,GAAK/jE,EAAM+jE,KAAO/jE,EAAM0nD,SAAW,IAAM,IAGrE1nD,EAAM0nD,SAAW1nD,EAAMikE,OACzBjkE,EAAM0nD,SAAW1nD,EAAMikE,KAAO,GAAKjkE,EAAM0nD,SAAW1nD,EAAMikE,KAAO,IAAM,IAIpE/Q,EAASkR,gBAAelR,EAASkR,cAAgBpkE,EAAMmkE,eAAexV,GACtEuE,EAASmR,gBAAenR,EAASmR,cAAgBrkE,EAAMmkE,eAAevV,GACtEsE,EAASoR,WAAUpR,EAASoR,SAAWzkE,KAAKC,OACjDozD,EAASvE,GAAK3uD,EAAMmkE,eAAexV,EAAIuE,EAASkR,gBAAkBvkE,KAAKC,MAAQozD,EAASoR,UAAY,EACpGpR,EAAStE,GAAK5uD,EAAMmkE,eAAevV,EAAIsE,EAASmR,gBAAkBxkE,KAAKC,MAAQozD,EAASoR,UAAY,EAChG/gE,KAAK25C,IAAIl9C,EAAMmkE,eAAexV,EAAIuE,EAASkR,eAAiB,IAAGlR,EAASvE,EAAI,GAC5EprD,KAAK25C,IAAIl9C,EAAMmkE,eAAevV,EAAIsE,EAASmR,eAAiB,IAAGnR,EAAStE,EAAI,GAChFsE,EAASkR,cAAgBpkE,EAAMmkE,eAAexV,EAC9CuE,EAASmR,cAAgBrkE,EAAMmkE,eAAevV,EAC9CsE,EAASoR,SAAWzkE,KAAKC,MACzB2jE,EAAQI,aAAaj6D,UAAU,eAAe5J,EAAMunD,eAAevnD,EAAM0nD,gBAxDS,CAyDpF,CAsCA,SAASyd,IACP,MAAMlC,EAAOpuC,EAAOouC,KAEhBQ,EAAQ3M,UAAYjiC,EAAO4sB,gBAAkB5sB,EAAO1D,cAClDsyC,EAAQG,UACVH,EAAQG,SAASh6D,UAAU,+BAGzB65D,EAAQI,cACVJ,EAAQI,aAAaj6D,UAAU,sBAGjCq5D,EAAK1C,MAAQ,EACboC,EAAe,EACfc,EAAQ3M,cAAW9+E,EACnByrF,EAAQG,cAAW5rF,EACnByrF,EAAQI,kBAAe7rF,EAE3B,CAEA,SAASotF,EAAOhtF,GACd,MAAM6qF,EAAOpuC,EAAOouC,KACdzrB,EAAS3iB,EAAO2iB,OAAOyrB,KAmB7B,GAjBKQ,EAAQ3M,WACP1+E,GAAKA,EAAEoX,SACTi0E,EAAQ3M,SAAW,EAAE1+E,EAAEoX,QAAQmlD,QAAQ,IAAI9f,EAAO2iB,OAAO0D,eAGtDuoB,EAAQ3M,WACPjiC,EAAO2iB,OAAOwD,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,SAAWe,EAAOmmB,QACnEyoB,EAAQ3M,SAAWjiC,EAAO8lB,WAAWtmD,SAAS,IAAIwgC,EAAO2iB,OAAOqJ,oBAEhE4iB,EAAQ3M,SAAWjiC,EAAO3D,OAAO2iB,GAAGhf,EAAO1D,cAI/CsyC,EAAQG,SAAWH,EAAQ3M,SAASliB,KAAK,IAAI4C,EAAO2rB,kBAAkBtvB,GAAG,GAAGe,KAAK,kDAAkDf,GAAG,GACtI4vB,EAAQI,aAAeJ,EAAQG,SAASz/E,OAAO,IAAIqzD,EAAO2rB,oBAGvDM,EAAQG,UAAwC,IAA5BH,EAAQG,SAASnoF,SAAiBgoF,EAAQI,cAAgD,IAAhCJ,EAAQI,aAAapoF,OAAc,OAQtH,IAAI4pF,EACAC,EACAC,EACAC,EACApc,EACAC,EACAoc,EACAC,EACAC,EACAC,EACAX,EACAC,EACAW,EACAC,EACAC,EACAC,EACAtC,EACAC,EAvBA9uC,EAAO2iB,OAAO0E,UAChBrnB,EAAO6iB,UAAU19D,MAAM6J,SAAW,SAClCgxC,EAAO6iB,UAAU19D,MAAMisF,YAAc,QAGvCxC,EAAQ3M,SAAS/mB,SAAS,GAAGyH,EAAO4rB,yBAoBA,IAAzBpjE,EAAMkkE,aAAavV,GAAqBv2E,GACjDitF,EAAoB,aAAXjtF,EAAEL,KAAsBK,EAAE6wE,eAAe,GAAGxB,MAAQrvE,EAAEqvE,MAC/D6d,EAAoB,aAAXltF,EAAEL,KAAsBK,EAAE6wE,eAAe,GAAGtB,MAAQvvE,EAAEuvE,QAE/D0d,EAASrlE,EAAMkkE,aAAavV,EAC5B2W,EAAStlE,EAAMkkE,aAAatV,GAG9BqU,EAAK1C,MAAQkD,EAAQI,aAAavzB,KAAK,qBAAuBkH,EAAO0rB,SACrEP,EAAec,EAAQI,aAAavzB,KAAK,qBAAuBkH,EAAO0rB,SAEnE9qF,GACFsrF,EAAaD,EAAQ3M,SAAS,GAAGjkB,YACjC8wB,EAAcF,EAAQ3M,SAAS,GAAG1uE,aAClCm9E,EAAU9B,EAAQ3M,SAAS3zD,SAAS1hB,KAAO5C,EAAOw0D,QAClDmyB,EAAU/B,EAAQ3M,SAAS3zD,SAASjY,IAAMrM,EAAOs0D,QACjDiW,EAAQmc,EAAU7B,EAAa,EAAI2B,EACnChc,EAAQmc,EAAU7B,EAAc,EAAI2B,EACpCK,EAAalC,EAAQG,SAAS,GAAG/wB,YACjC+yB,EAAcnC,EAAQG,SAAS,GAAGx7E,aAClC68E,EAAcU,EAAa1C,EAAK1C,MAChC2E,EAAeU,EAAc3C,EAAK1C,MAClCsF,EAAgBtiE,KAAKsQ,IAAI6vD,EAAa,EAAIuB,EAAc,EAAG,GAC3Da,EAAgBviE,KAAKsQ,IAAI8vD,EAAc,EAAIuB,EAAe,EAAG,GAC7Da,GAAiBF,EACjBG,GAAiBF,EACjBL,EAAarc,EAAQ6Z,EAAK1C,MAC1BmF,EAAarc,EAAQ4Z,EAAK1C,MAEtBkF,EAAaI,IACfJ,EAAaI,GAGXJ,EAAaM,IACfN,EAAaM,GAGXL,EAAaI,IACfJ,EAAaI,GAGXJ,EAAaM,IACfN,EAAaM,KAGfP,EAAa,EACbC,EAAa,GAGfjC,EAAQI,aAAalzB,WAAW,KAAK/mC,UAAU,eAAe67D,QAAiBC,UAC/EjC,EAAQG,SAASjzB,WAAW,KAAK/mC,UAAU,4BAA4Bq5D,EAAK1C,SAC9E,CAEA,SAAS2F,IACP,MAAMjD,EAAOpuC,EAAOouC,KACdzrB,EAAS3iB,EAAO2iB,OAAOyrB,KAExBQ,EAAQ3M,WACPjiC,EAAO2iB,OAAOwD,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,SAAWe,EAAOmmB,QACnEyoB,EAAQ3M,SAAWjiC,EAAO8lB,WAAWtmD,SAAS,IAAIwgC,EAAO2iB,OAAOqJ,oBAEhE4iB,EAAQ3M,SAAWjiC,EAAO3D,OAAO2iB,GAAGhf,EAAO1D,aAG7CsyC,EAAQG,SAAWH,EAAQ3M,SAASliB,KAAK,IAAI4C,EAAO2rB,kBAAkBtvB,GAAG,GAAGe,KAAK,kDAAkDf,GAAG,GACtI4vB,EAAQI,aAAeJ,EAAQG,SAASz/E,OAAO,IAAIqzD,EAAO2rB,mBAGvDM,EAAQG,UAAwC,IAA5BH,EAAQG,SAASnoF,QAAiBgoF,EAAQI,cAAgD,IAAhCJ,EAAQI,aAAapoF,SAEpGo5C,EAAO2iB,OAAO0E,UAChBrnB,EAAO6iB,UAAU19D,MAAM6J,SAAW,GAClCgxC,EAAO6iB,UAAU19D,MAAMisF,YAAc,IAGvChD,EAAK1C,MAAQ,EACboC,EAAe,EACfc,EAAQI,aAAalzB,WAAW,KAAK/mC,UAAU,sBAC/C65D,EAAQG,SAASjzB,WAAW,KAAK/mC,UAAU,+BAC3C65D,EAAQ3M,SAAS5mB,YAAY,GAAGsH,EAAO4rB,oBACvCK,EAAQ3M,cAAW9+E,EACrB,CAGA,SAASmuF,EAAW/tF,GAClB,MAAM6qF,EAAOpuC,EAAOouC,KAEhBA,EAAK1C,OAAwB,IAAf0C,EAAK1C,MAErB2F,IAGAd,EAAOhtF,EAEX,CAEA,SAASguF,IACP,MAAM9tB,EAAUzjB,EAAOyjB,QASvB,MAAO,CACLO,kBATmD,eAA7BhkB,EAAOs3B,YAAYx3B,QAA0B2jB,EAAQO,kBAAmBhkB,EAAO2iB,OAAO+U,mBAAmB,CAC/HC,SAAS,EACTxb,SAAS,GAQTq1B,2BANgC/tB,EAAQO,iBAAkB,CAC1D2T,SAAS,EACTxb,SAAS,GAMb,CAEA,SAASs1B,IACP,MAAO,IAAIzxC,EAAO2iB,OAAO0D,YAC3B,CAEA,SAASqrB,EAAeltB,GACtB,MAAM,gBACJR,GACEutB,IACEI,EAAgBF,IACtBzxC,EAAO8lB,WAAWtB,GAAQ,eAAgBmtB,EAAe5B,EAAgB/rB,GACzEhkB,EAAO8lB,WAAWtB,GAAQ,gBAAiBmtB,EAAe1B,EAAiBjsB,GAC3EhkB,EAAO8lB,WAAWtB,GAAQ,aAAcmtB,EAAexB,EAAcnsB,EACvE,CAEA,SAAS4tB,IACHpD,IACJA,GAAkB,EAClBkD,EAAe,MACjB,CAEA,SAASG,IACFrD,IACLA,GAAkB,EAClBkD,EAAe,OACjB,CAGA,SAASvW,IACP,MAAMiT,EAAOpuC,EAAOouC,KACpB,GAAIA,EAAKnvC,QAAS,OAClBmvC,EAAKnvC,SAAU,EACf,MAAMwkB,EAAUzjB,EAAOyjB,SACjB,gBACJO,EAAe,0BACfwtB,GACED,IACEI,EAAgBF,IAElBhuB,EAAQU,UACVnkB,EAAO8lB,WAAW/lB,GAAGC,EAAOs3B,YAAYx3B,MAAO8xC,EAAgB5tB,GAC/DhkB,EAAO8lB,WAAW/lB,GAAGC,EAAOs3B,YAAYO,IAAKga,EAAiB7tB,IACxB,eAA7BhkB,EAAOs3B,YAAYx3B,QAC5BE,EAAO8lB,WAAW/lB,GAAGC,EAAOs3B,YAAYx3B,MAAO6xC,EAAe5B,EAAgB/rB,GAC9EhkB,EAAO8lB,WAAW/lB,GAAGC,EAAOs3B,YAAYM,KAAM+Z,EAAe1B,EAAiBuB,GAC9ExxC,EAAO8lB,WAAW/lB,GAAGC,EAAOs3B,YAAYO,IAAK8Z,EAAexB,EAAcnsB,GAEtEhkB,EAAOs3B,YAAYtmB,QACrBhR,EAAO8lB,WAAW/lB,GAAGC,EAAOs3B,YAAYtmB,OAAQ2gC,EAAexB,EAAcnsB,IAKjFhkB,EAAO8lB,WAAW/lB,GAAGC,EAAOs3B,YAAYM,KAAM,IAAI53B,EAAO2iB,OAAOyrB,KAAKE,iBAAkBpa,EAAasd,EACtG,CAEA,SAAStW,IACP,MAAMkT,EAAOpuC,EAAOouC,KACpB,IAAKA,EAAKnvC,QAAS,OACnB,MAAMwkB,EAAUzjB,EAAOyjB,QACvB2qB,EAAKnvC,SAAU,EACf,MAAM,gBACJ+kB,EAAe,0BACfwtB,GACED,IACEI,EAAgBF,IAElBhuB,EAAQU,UACVnkB,EAAO8lB,WAAW7I,IAAIjd,EAAOs3B,YAAYx3B,MAAO8xC,EAAgB5tB,GAChEhkB,EAAO8lB,WAAW7I,IAAIjd,EAAOs3B,YAAYO,IAAKga,EAAiB7tB,IACzB,eAA7BhkB,EAAOs3B,YAAYx3B,QAC5BE,EAAO8lB,WAAW7I,IAAIjd,EAAOs3B,YAAYx3B,MAAO6xC,EAAe5B,EAAgB/rB,GAC/EhkB,EAAO8lB,WAAW7I,IAAIjd,EAAOs3B,YAAYM,KAAM+Z,EAAe1B,EAAiBuB,GAC/ExxC,EAAO8lB,WAAW7I,IAAIjd,EAAOs3B,YAAYO,IAAK8Z,EAAexB,EAAcnsB,GAEvEhkB,EAAOs3B,YAAYtmB,QACrBhR,EAAO8lB,WAAW7I,IAAIjd,EAAOs3B,YAAYtmB,OAAQ2gC,EAAexB,EAAcnsB,IAKlFhkB,EAAO8lB,WAAW7I,IAAIjd,EAAOs3B,YAAYM,KAAM,IAAI53B,EAAO2iB,OAAOyrB,KAAKE,iBAAkBpa,EAAasd,EACvG,CA/fA/vD,OAAOssB,eAAe/N,EAAOouC,KAAM,QAAS,CAC1C3oD,IAAG,IACMimD,EAGTxmD,IAAI9hC,GACF,GAAIsoF,IAAUtoF,EAAO,CACnB,MAAM+4E,EAAUyS,EAAQG,SAAWH,EAAQG,SAAS,QAAK5rF,EACnD27E,EAAU8P,EAAQ3M,SAAW2M,EAAQ3M,SAAS,QAAK9+E,EACzD6+C,EAAK,aAAc5+C,EAAO+4E,EAAS2C,EACrC,CAEA4M,EAAQtoF,CACV,IAofF28C,EAAG,QAAQ,KACLC,EAAO2iB,OAAOyrB,KAAKnvC,SACrBk8B,GACF,IAEFp7B,EAAG,WAAW,KACZm7B,GAAS,IAEXn7B,EAAG,cAAc,CAACgpC,EAAIxlF,KACfy8C,EAAOouC,KAAKnvC,SA5YnB,SAAsB17C,GACpB,MAAMg0E,EAASv3B,EAAOu3B,OACjBqX,EAAQG,UAAwC,IAA5BH,EAAQG,SAASnoF,SACtCukB,EAAMwmD,YACN4F,EAAOS,SAAWz0E,EAAEi6D,YAAYj6D,EAAEid,iBACtC2K,EAAMwmD,WAAY,EAClBxmD,EAAMkkE,aAAavV,EAAe,eAAXv2E,EAAEL,KAAwBK,EAAEovE,cAAc,GAAGC,MAAQrvE,EAAEqvE,MAC9EznD,EAAMkkE,aAAatV,EAAe,eAAXx2E,EAAEL,KAAwBK,EAAEovE,cAAc,GAAGG,MAAQvvE,EAAEuvE,OAChF,CAqYE3B,CAAa5tE,EAAE,IAEjBw8C,EAAG,YAAY,CAACgpC,EAAIxlF,KACby8C,EAAOouC,KAAKnvC,SAxTnB,WACE,MAAMmvC,EAAOpuC,EAAOouC,KACpB,IAAKQ,EAAQG,UAAwC,IAA5BH,EAAQG,SAASnoF,OAAc,OAExD,IAAKukB,EAAMwmD,YAAcxmD,EAAMymD,QAG7B,OAFAzmD,EAAMwmD,WAAY,OAClBxmD,EAAMymD,SAAU,GAIlBzmD,EAAMwmD,WAAY,EAClBxmD,EAAMymD,SAAU,EAChB,IAAIkgB,EAAoB,IACpBC,EAAoB,IACxB,MAAMC,EAAoB3T,EAASvE,EAAIgY,EACjCG,EAAe9mE,EAAMunD,SAAWsf,EAChCE,EAAoB7T,EAAStE,EAAIgY,EACjCI,EAAehnE,EAAM0nD,SAAWqf,EAEnB,IAAf7T,EAASvE,IAASgY,EAAoBpjE,KAAK25C,KAAK4pB,EAAe9mE,EAAMunD,UAAY2L,EAASvE,IAC3E,IAAfuE,EAAStE,IAASgY,EAAoBrjE,KAAK25C,KAAK8pB,EAAehnE,EAAM0nD,UAAYwL,EAAStE,IAC9F,MAAMqY,EAAmB1jE,KAAKC,IAAImjE,EAAmBC,GACrD5mE,EAAMunD,SAAWuf,EACjB9mE,EAAM0nD,SAAWsf,EAEjB,MAAM/B,EAAcjlE,EAAMxgB,MAAQyjF,EAAK1C,MACjC2E,EAAellE,EAAMvgB,OAASwjF,EAAK1C,MACzCvgE,EAAM8jE,KAAOvgE,KAAKsQ,IAAI4vD,EAAQC,WAAa,EAAIuB,EAAc,EAAG,GAChEjlE,EAAMgkE,MAAQhkE,EAAM8jE,KACpB9jE,EAAM+jE,KAAOxgE,KAAKsQ,IAAI4vD,EAAQE,YAAc,EAAIuB,EAAe,EAAG,GAClEllE,EAAMikE,MAAQjkE,EAAM+jE,KACpB/jE,EAAMunD,SAAWhkD,KAAKC,IAAID,KAAKsQ,IAAI7T,EAAMunD,SAAUvnD,EAAMgkE,MAAOhkE,EAAM8jE,MACtE9jE,EAAM0nD,SAAWnkD,KAAKC,IAAID,KAAKsQ,IAAI7T,EAAM0nD,SAAU1nD,EAAMikE,MAAOjkE,EAAM+jE,MACtEN,EAAQI,aAAalzB,WAAWs2B,GAAkBr9D,UAAU,eAAe5J,EAAMunD,eAAevnD,EAAM0nD,gBACxG,CAuRE4C,EAAa,IAEf11B,EAAG,aAAa,CAACgpC,EAAIxlF,MACdy8C,EAAO+tB,WAAa/tB,EAAO2iB,OAAOyrB,KAAKnvC,SAAWe,EAAOouC,KAAKnvC,SAAWe,EAAO2iB,OAAOyrB,KAAK5yB,QAC/F81B,EAAW/tF,EACb,IAEFw8C,EAAG,iBAAiB,KACdC,EAAOouC,KAAKnvC,SAAWe,EAAO2iB,OAAOyrB,KAAKnvC,SAC5CqxC,GACF,IAEFvwC,EAAG,eAAe,KACZC,EAAOouC,KAAKnvC,SAAWe,EAAO2iB,OAAOyrB,KAAKnvC,SAAWe,EAAO2iB,OAAO0E,SACrEipB,GACF,IAEF7uD,OAAOikC,OAAO1lB,EAAOouC,KAAM,CACzBjT,SACAD,UACAmX,GAAI9B,EACJ+B,IAAKjB,EACL71B,OAAQ81B,GAEZ,CClmBe,SAASiB,GAAKnwB,GAC3B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EACJ6b,EAAa,CACX4E,KAAM,CACJ2P,aAAa,EACbvzC,SAAS,EACTwzC,cAAc,EACdC,mBAAoB,EACpBC,uBAAuB,EACvBC,iBAAkB,GAClBC,aAAc,cACdC,aAAc,sBACdC,YAAa,qBACbC,eAAgB,2BAGpBhzC,EAAO6iC,KAAO,CAAC,EACf,IAAIoQ,GAAwB,EACxBC,GAAqB,EAEzB,SAASC,EAAYx8E,EAAOy8E,QACF,IAApBA,IACFA,GAAkB,GAGpB,MAAMzwB,EAAS3iB,EAAO2iB,OAAOkgB,KAC7B,QAAqB,IAAVlsE,EAAuB,OAClC,GAA6B,IAAzBqpC,EAAO3D,OAAOz1C,OAAc,OAChC,MACMq7E,EADYjiC,EAAOmmB,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,QAC7Be,EAAO8lB,WAAWtmD,SAAS,IAAIwgC,EAAO2iB,OAAO0D,uCAAuC1vD,OAAaqpC,EAAO3D,OAAO2iB,GAAGroD,GACzI08E,EAAUpR,EAASliB,KAAK,IAAI4C,EAAOkwB,qBAAqBlwB,EAAOowB,qBAAqBpwB,EAAOmwB,kBAE7F7Q,EAAS3mB,SAASqH,EAAOkwB,eAAkB5Q,EAAS3mB,SAASqH,EAAOowB,cAAiB9Q,EAAS3mB,SAASqH,EAAOmwB,eAChHO,EAAQx6E,KAAKopE,EAAS,IAGD,IAAnBoR,EAAQzsF,QACZysF,EAAQ10B,MAAKwd,IACX,MAAM4S,EAAW,EAAE5S,GACnB4S,EAAS7zB,SAASyH,EAAOmwB,cACzB,MAAMQ,EAAavE,EAAStzB,KAAK,mBAC3BpxC,EAAM0kE,EAAStzB,KAAK,YACpB2gB,EAAS2S,EAAStzB,KAAK,eACvB4gB,EAAQ0S,EAAStzB,KAAK,cACtB83B,EAAaxE,EAASz/E,OAAO,WACnC0wC,EAAOk8B,UAAU6S,EAAS,GAAI1kE,GAAOipE,EAAYlX,EAAQC,GAAO,GAAO,KACrE,GAAI,MAAOr8B,GAA8CA,KAAUA,GAAWA,EAAO2iB,UAAU3iB,EAAOmC,UAAtG,CAoCA,GAlCImxC,GACFvE,EAAStwB,IAAI,mBAAoB,QAAQ60B,OACzCvE,EAASlzB,WAAW,qBAEhBugB,IACF2S,EAAStzB,KAAK,SAAU2gB,GACxB2S,EAASlzB,WAAW,gBAGlBwgB,IACF0S,EAAStzB,KAAK,QAAS4gB,GACvB0S,EAASlzB,WAAW,eAGlB03B,EAAW3sF,QACb2sF,EAAW/zE,SAAS,UAAUm/C,MAAK60B,IACjC,MAAMC,EAAU,EAAED,GAEdC,EAAQh4B,KAAK,iBACfg4B,EAAQh4B,KAAK,SAAUg4B,EAAQh4B,KAAK,gBACpCg4B,EAAQ53B,WAAW,eACrB,IAIAxxC,IACF0kE,EAAStzB,KAAK,MAAOpxC,GACrB0kE,EAASlzB,WAAW,cAIxBkzB,EAAS7zB,SAASyH,EAAOowB,aAAa13B,YAAYsH,EAAOmwB,cACzD7Q,EAASliB,KAAK,IAAI4C,EAAOqwB,kBAAkBh8E,SAEvCgpC,EAAO2iB,OAAOvkB,MAAQg1C,EAAiB,CACzC,MAAMM,EAAqBzR,EAASxmB,KAAK,2BAErCwmB,EAAS3mB,SAAStb,EAAO2iB,OAAO2J,qBAElC6mB,EADsBnzC,EAAO8lB,WAAWtmD,SAAS,6BAA6Bk0E,YAA6B1zC,EAAO2iB,OAAO2J,wBAC/F31D,SAAS,GAGnCw8E,EADwBnzC,EAAO8lB,WAAWtmD,SAAS,IAAIwgC,EAAO2iB,OAAO2J,gDAAgDonB,OACzF/8E,SAAS,EAEzC,CAEAqrC,EAAK,iBAAkBigC,EAAS,GAAI8M,EAAS,IAEzC/uC,EAAO2iB,OAAOkJ,YAChB7rB,EAAOkqB,kBAnD8G,CAoDvH,IAEFloB,EAAK,gBAAiBigC,EAAS,GAAI8M,EAAS,GAAG,GAEnD,CAEA,SAASjM,IACP,MAAM,WACJhd,EACAnD,OAAQub,EAAY,OACpB7hC,EAAM,YACNC,GACE0D,EACEkmB,EAAYlmB,EAAOmmB,SAAW+X,EAAa/X,QAAQlnB,QACnD0jB,EAASub,EAAa2E,KAC5B,IAAIjb,EAAgBsW,EAAatW,cAMjC,SAAS+rB,EAAWh9E,GAClB,GAAIuvD,GACF,GAAIJ,EAAWtmD,SAAS,IAAI0+D,EAAa7X,uCAAuC1vD,OAAW/P,OACzF,OAAO,OAEJ,GAAIy1C,EAAO1lC,GAAQ,OAAO,EAEjC,OAAO,CACT,CAEA,SAASmyD,EAAWgW,GAClB,OAAI5Y,EACK,EAAE4Y,GAASrjB,KAAK,2BAGlB,EAAEqjB,GAASnoE,OACpB,CAIA,GAxBsB,SAAlBixD,IACFA,EAAgB,GAqBbsrB,IAAoBA,GAAqB,GAE1ClzC,EAAO2iB,OAAOiH,oBAChB9D,EAAWtmD,SAAS,IAAI0+D,EAAatT,qBAAqBjM,MAAKmgB,IAE7DqU,EADcjtB,EAAY,EAAE4Y,GAASrjB,KAAK,2BAA6B,EAAEqjB,GAASnoE,QAChE,SAEf,GAAIixD,EAAgB,EACzB,IAAK,IAAI7wD,EAAIulC,EAAavlC,EAAIulC,EAAcsrB,EAAe7wD,GAAK,EAC1D48E,EAAW58E,IAAIo8E,EAAYp8E,QAGjCo8E,EAAY72C,GAGd,GAAIqmB,EAAO8vB,aACT,GAAI7qB,EAAgB,GAAKjF,EAAO+vB,oBAAsB/vB,EAAO+vB,mBAAqB,EAAG,CACnF,MAAMkB,EAASjxB,EAAO+vB,mBAChBxT,EAAMxwD,KAAK67C,KAAK3C,GAChBisB,EAAWnlE,KAAKsQ,IAAIsd,EAAc4iC,EAAMxwD,KAAKC,IAAIilE,EAAQ1U,GAAM7iC,EAAOz1C,QACtEktF,EAAWplE,KAAKC,IAAI2tB,EAAc5tB,KAAKC,IAAIuwD,EAAK0U,GAAS,GAE/D,IAAK,IAAI78E,EAAIulC,EAAc4iC,EAAKnoE,EAAI88E,EAAU98E,GAAK,EAC7C48E,EAAW58E,IAAIo8E,EAAYp8E,GAIjC,IAAK,IAAIA,EAAI+8E,EAAU/8E,EAAIulC,EAAavlC,GAAK,EACvC48E,EAAW58E,IAAIo8E,EAAYp8E,EAEnC,KAAO,CACL,MAAMw1D,EAAYzG,EAAWtmD,SAAS,IAAI0+D,EAAajS,kBACnDM,EAAU3lE,OAAS,GAAGusF,EAAYrqB,EAAWyD,IACjD,MAAMC,EAAY1G,EAAWtmD,SAAS,IAAI0+D,EAAahS,kBACnDM,EAAU5lE,OAAS,GAAGusF,EAAYrqB,EAAW0D,GACnD,CAEJ,CAEA,SAASunB,IACP,MAAM/pF,EAAS,IACf,IAAKg2C,GAAUA,EAAOmC,UAAW,OACjC,MAAM6xC,EAAiBh0C,EAAO2iB,OAAOkgB,KAAK+P,iBAAmB,EAAE5yC,EAAO2iB,OAAOkgB,KAAK+P,kBAAoB,EAAE5oF,GAClGiqF,EAAWD,EAAe,KAAOhqF,EACjCkqF,EAAqBD,EAAWjqF,EAAO46C,WAAaovC,EAAe,GAAGh2B,YACtEm2B,EAAsBF,EAAWjqF,EAAOy6C,YAAcuvC,EAAe,GAAGzgF,aACxE0xE,EAAejlC,EAAOqlB,IAAI/2C,UAE9B03C,aAAc52B,GACZ4Q,EACJ,IAAI4kC,GAAS,EACTx1C,IAAK61C,EAAar4E,MAAQozC,EAAOqlB,IAAI,GAAG9G,YAC5C,MAAM2mB,EAAc,CAAC,CAACD,EAAar4E,KAAMq4E,EAAa5uE,KAAM,CAAC4uE,EAAar4E,KAAOozC,EAAOr1C,MAAOs6E,EAAa5uE,KAAM,CAAC4uE,EAAar4E,KAAMq4E,EAAa5uE,IAAM2pC,EAAOp1C,QAAS,CAACq6E,EAAar4E,KAAOozC,EAAOr1C,MAAOs6E,EAAa5uE,IAAM2pC,EAAOp1C,SAEtO,IAAK,IAAImM,EAAI,EAAGA,EAAImuE,EAAYt+E,OAAQmQ,GAAK,EAAG,CAC9C,MAAM2kE,EAAQwJ,EAAYnuE,GAE1B,GAAI2kE,EAAM,IAAM,GAAKA,EAAM,IAAMwY,GAAsBxY,EAAM,IAAM,GAAKA,EAAM,IAAMyY,EAAqB,CACvG,GAAiB,IAAbzY,EAAM,IAAyB,IAAbA,EAAM,GAAU,SAEtCkJ,GAAS,CACX,CACF,CAEA,MAAM5gB,IAA+C,eAA7BhkB,EAAOs3B,YAAYx3B,QAA0BE,EAAOyjB,QAAQO,kBAAmBhkB,EAAO2iB,OAAO+U,mBAAmB,CACtIC,SAAS,EACTxb,SAAS,GAGPyoB,GACF9B,IACAkR,EAAe/2B,IAAI,SAAU82B,EAAmB/vB,IACtCivB,IACVA,GAAwB,EACxBe,EAAej0C,GAAG,SAAUg0C,EAAmB/vB,GAEnD,CAEAjkB,EAAG,cAAc,KACXC,EAAO2iB,OAAOkgB,KAAK5jC,SAAWe,EAAO2iB,OAAOsW,gBAC9Cj5B,EAAO2iB,OAAOsW,eAAgB,EAChC,IAEFl5B,EAAG,QAAQ,KACLC,EAAO2iB,OAAOkgB,KAAK5jC,UACjBe,EAAO2iB,OAAOkgB,KAAK2P,YACrBuB,IAEAjR,IAEJ,IAEF/iC,EAAG,UAAU,KACPC,EAAO2iB,OAAOsR,UAAYj0B,EAAO2iB,OAAOsR,SAASh1B,UAAYe,EAAO2iB,OAAOsR,SAAS0T,QACtF7E,GACF,IAEF/iC,EAAG,uDAAuD,KACpDC,EAAO2iB,OAAOkgB,KAAK5jC,UACjBe,EAAO2iB,OAAOkgB,KAAK2P,YACrBuB,IAEAjR,IAEJ,IAEF/iC,EAAG,mBAAmB,KAChBC,EAAO2iB,OAAOkgB,KAAK5jC,UACjBe,EAAO2iB,OAAOkgB,KAAK8P,wBAA0B3yC,EAAO2iB,OAAOkgB,KAAK8P,wBAA0BO,KACxFlzC,EAAO2iB,OAAOkgB,KAAK2P,YACrBuB,IAEAjR,IAGN,IAEF/iC,EAAG,iBAAiB,KACdC,EAAO2iB,OAAOkgB,KAAK5jC,UAAYe,EAAO2iB,OAAOkgB,KAAK8P,wBAChD3yC,EAAO2iB,OAAOkgB,KAAK2P,YACrBuB,IAEAjR,IAEJ,IAEF/iC,EAAG,eAAe,KAChB,MAAM,KACJ8iC,EAAI,QACJxb,EAAO,oBACPuC,EAAmB,oBACnB0K,EAAmB,gBACnBgB,GACEt1B,EAAO2iB,OAEPkgB,EAAK5jC,UAAYooB,GAAWuC,IAAwB0K,GAA2C,IAApBgB,KAC7EwN,GACF,IAEF/iC,EAAG,WAAW,KACPC,EAAOqlB,KACZrlB,EAAOqlB,IAAItF,KAAK,IAAI/f,EAAO2iB,OAAOkgB,KAAKiQ,gBAAgBz3B,YAAYrb,EAAO2iB,OAAOkgB,KAAKiQ,aAAa,IAErGrxD,OAAOikC,OAAO1lB,EAAO6iC,KAAM,CACzBC,OACAqQ,eAEJ,CCjSe,SAASiB,GAAWhyB,GACjC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EAaJ,SAASiyB,EAAava,EAAGC,GACvB,MAAMua,EAAe,WACnB,IAAIT,EACAC,EACAS,EACJ,MAAO,CAACC,EAAO5kB,KAIb,IAHAkkB,GAAY,EACZD,EAAWW,EAAM5tF,OAEVitF,EAAWC,EAAW,GAC3BS,EAAQV,EAAWC,GAAY,EAE3BU,EAAMD,IAAU3kB,EAClBkkB,EAAWS,EAEXV,EAAWU,EAIf,OAAOV,CAAQ,CAEnB,CApBqB,GA4BrB,IAAIY,EACAC,EAYJ,OAnBAvyF,KAAK23E,EAAIA,EACT33E,KAAK43E,EAAIA,EACT53E,KAAK8tE,UAAY6J,EAAElzE,OAAS,EAO5BzE,KAAKwyF,YAAc,SAAqB9E,GACtC,OAAKA,GAEL6E,EAAKJ,EAAanyF,KAAK23E,EAAG+V,GAC1B4E,EAAKC,EAAK,GAGF7E,EAAK1tF,KAAK23E,EAAE2a,KAAQtyF,KAAK43E,EAAE2a,GAAMvyF,KAAK43E,EAAE0a,KAAQtyF,KAAK23E,EAAE4a,GAAMvyF,KAAK23E,EAAE2a,IAAOtyF,KAAK43E,EAAE0a,IAN1E,CAOlB,EAEOtyF,IACT,CA+FA,SAASyyF,IACF50C,EAAO60C,WAAWC,SAEnB90C,EAAO60C,WAAWE,SACpB/0C,EAAO60C,WAAWE,YAAS5xF,SACpB68C,EAAO60C,WAAWE,OAE7B,CA7JA9W,EAAa,CACX4W,WAAY,CACVC,aAAS3xF,EACT6xF,SAAS,EACTC,GAAI,WAIRj1C,EAAO60C,WAAa,CAClBC,aAAS3xF,GAsJX48C,EAAG,cAAc,KACfC,EAAO60C,WAAWC,QAAU90C,EAAO2iB,OAAOkyB,WAAWC,OAAO,IAE9D/0C,EAAG,UAAU,KACX60C,GAAc,IAEhB70C,EAAG,UAAU,KACX60C,GAAc,IAEhB70C,EAAG,kBAAkB,KACnB60C,GAAc,IAEhB70C,EAAG,gBAAgB,CAACgpC,EAAIvmB,EAAWqX,KAC5B75B,EAAO60C,WAAWC,SACvB90C,EAAO60C,WAAWvmB,aAAa9L,EAAWqX,EAAa,IAEzD95B,EAAG,iBAAiB,CAACgpC,EAAIhtB,EAAU8d,KAC5B75B,EAAO60C,WAAWC,SACvB90C,EAAO60C,WAAWzqB,cAAcrO,EAAU8d,EAAa,IAEzDp4C,OAAOikC,OAAO1lB,EAAO60C,WAAY,CAC/BvmB,aApHF,SAAsB4mB,EAAIrb,GACxB,MAAMsb,EAAan1C,EAAO60C,WAAWC,QACrC,IAAIxpB,EACA8pB,EACJ,MAAM11C,EAASM,EAAOvX,YAEtB,SAAS4sD,EAAuBj6B,GAK9B,MAAMoH,EAAYxiB,EAAOgmB,cAAgBhmB,EAAOwiB,UAAYxiB,EAAOwiB,UAE/B,UAAhCxiB,EAAO2iB,OAAOkyB,WAAWI,KAnBjC,SAAgC75B,GACzBpb,EAAO60C,WAAWE,SACrB/0C,EAAO60C,WAAWE,OAAS/0C,EAAO2iB,OAAOvkB,KAAO,IAAIi2C,EAAar0C,EAAOwmB,WAAYpL,EAAEoL,YAAc,IAAI6tB,EAAar0C,EAAOumB,SAAUnL,EAAEmL,UAE5I,CAgBM+uB,CAAuBl6B,GAGvBg6B,GAAuBp1C,EAAO60C,WAAWE,OAAOJ,aAAanyB,IAG1D4yB,GAAuD,cAAhCp1C,EAAO2iB,OAAOkyB,WAAWI,KACnD3pB,GAAclQ,EAAEoQ,eAAiBpQ,EAAE4P,iBAAmBhrB,EAAOwrB,eAAiBxrB,EAAOgrB,gBACrFoqB,GAAuB5yB,EAAYxiB,EAAOgrB,gBAAkBM,EAAalQ,EAAE4P,gBAGzEhrB,EAAO2iB,OAAOkyB,WAAWG,UAC3BI,EAAsBh6B,EAAEoQ,eAAiB4pB,GAG3Ch6B,EAAEiQ,eAAe+pB,GACjBh6B,EAAEkT,aAAa8mB,EAAqBp1C,GACpCob,EAAEsR,oBACFtR,EAAE0Q,qBACJ,CAEA,GAAIzpD,MAAM8C,QAAQgwE,GAChB,IAAK,IAAIp+E,EAAI,EAAGA,EAAIo+E,EAAWvuF,OAAQmQ,GAAK,EACtCo+E,EAAWp+E,KAAO8iE,GAAgBsb,EAAWp+E,aAAc2oC,GAC7D21C,EAAuBF,EAAWp+E,SAG7Bo+E,aAAsBz1C,GAAUm6B,IAAiBsb,GAC1DE,EAAuBF,EAE3B,EAyEE/qB,cAvEF,SAAuBrO,EAAU8d,GAC/B,MAAMn6B,EAASM,EAAOvX,YAChB0sD,EAAan1C,EAAO60C,WAAWC,QACrC,IAAI/9E,EAEJ,SAASw+E,EAAwBn6B,GAC/BA,EAAEgP,cAAcrO,EAAU/b,GAET,IAAb+b,IACFX,EAAEmT,kBAEEnT,EAAEuH,OAAOkJ,YACXzL,GAAS,KACPhF,EAAE8O,kBAAkB,IAIxB9O,EAAE0K,WAAWnI,eAAc,KACpBw3B,IAED/5B,EAAEuH,OAAOvkB,MAAwC,UAAhC4B,EAAO2iB,OAAOkyB,WAAWI,IAC5C75B,EAAEmU,UAGJnU,EAAEuC,gBAAe,IAGvB,CAEA,GAAIt7C,MAAM8C,QAAQgwE,GAChB,IAAKp+E,EAAI,EAAGA,EAAIo+E,EAAWvuF,OAAQmQ,GAAK,EAClCo+E,EAAWp+E,KAAO8iE,GAAgBsb,EAAWp+E,aAAc2oC,GAC7D61C,EAAwBJ,EAAWp+E,SAG9Bo+E,aAAsBz1C,GAAUm6B,IAAiBsb,GAC1DI,EAAwBJ,EAE5B,GAmCF,CC7Le,SAAS32C,GAAK4jB,GAC3B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACXj/B,KAAM,CACJC,SAAS,EACTu2C,kBAAmB,sBACnBC,iBAAkB,iBAClBC,iBAAkB,aAClBC,kBAAmB,0BACnBC,iBAAkB,yBAClBC,wBAAyB,wBACzBC,kBAAmB,+BACnBC,iBAAkB,KAClBC,gCAAiC,KACjCC,2BAA4B,KAC5BC,UAAW,QACX7uF,GAAI,QAGR,IAAI8uF,EAAa,KAEjB,SAASC,EAAO7zF,GACd,MAAM8zF,EAAeF,EACO,IAAxBE,EAAazvF,SACjByvF,EAAa3gC,KAAK,IAClB2gC,EAAa3gC,KAAKnzD,GACpB,CAYA,SAAS+zF,EAAgBjxB,GACvBA,EAAI5J,KAAK,WAAY,IACvB,CAEA,SAAS86B,EAAmBlxB,GAC1BA,EAAI5J,KAAK,WAAY,KACvB,CAEA,SAAS+6B,EAAUnxB,EAAKoxB,GACtBpxB,EAAI5J,KAAK,OAAQg7B,EACnB,CAEA,SAASC,EAAqBrxB,EAAKsxB,GACjCtxB,EAAI5J,KAAK,uBAAwBk7B,EACnC,CAMA,SAASC,EAAWvxB,EAAK51C,GACvB41C,EAAI5J,KAAK,aAAchsC,EACzB,CAUA,SAASonE,EAAUxxB,GACjBA,EAAI5J,KAAK,iBAAiB,EAC5B,CAEA,SAASq7B,EAASzxB,GAChBA,EAAI5J,KAAK,iBAAiB,EAC5B,CAEA,SAASs7B,EAAkBxzF,GACzB,GAAkB,KAAdA,EAAEygF,SAAgC,KAAdzgF,EAAEygF,QAAgB,OAC1C,MAAMrhB,EAAS3iB,EAAO2iB,OAAO3jB,KACvBuyB,EAAY,EAAEhuE,EAAEoX,QAElBqlC,EAAOnB,YAAcmB,EAAOnB,WAAW2pC,SAAWjX,EAAU/U,GAAGxc,EAAOnB,WAAW2pC,WAC7ExoC,EAAO0rB,QAAU1rB,EAAO2iB,OAAOvkB,MACnC4B,EAAOivB,YAGLjvB,EAAO0rB,MACT0qB,EAAOzzB,EAAOizB,kBAEdQ,EAAOzzB,EAAO+yB,mBAId11C,EAAOnB,YAAcmB,EAAOnB,WAAW4pC,SAAWlX,EAAU/U,GAAGxc,EAAOnB,WAAW4pC,WAC7EzoC,EAAOyrB,cAAgBzrB,EAAO2iB,OAAOvkB,MACzC4B,EAAO0vB,YAGL1vB,EAAOyrB,YACT2qB,EAAOzzB,EAAOgzB,mBAEdS,EAAOzzB,EAAO8yB,mBAIdz1C,EAAO1C,YAAci0B,EAAU/U,GAAG0sB,GAAkBlpC,EAAO2iB,OAAOrlB,WAAW0sC,eAC/EzY,EAAU,GAAGjuB,OAEjB,CA8BA,SAAS0zC,IACP,OAAOh3C,EAAO1C,YAAc0C,EAAO1C,WAAWgD,SAAWN,EAAO1C,WAAWgD,QAAQ15C,MACrF,CAEA,SAASqwF,IACP,OAAOD,KAAmBh3C,EAAO2iB,OAAOrlB,WAAWsB,SACrD,CAyBA,MAAMs4C,EAAY,CAAC7xB,EAAK8xB,EAAW50F,KACjC+zF,EAAgBjxB,GAEO,WAAnBA,EAAI,GAAG3lD,UACT82E,EAAUnxB,EAAK,UACfA,EAAItlB,GAAG,UAAWg3C,IAGpBH,EAAWvxB,EAAK9iE,GA7HlB,SAAuB8iE,EAAKl0C,GAC1Bk0C,EAAI5J,KAAK,gBAAiBtqC,EAC5B,CA4HEimE,CAAc/xB,EAAK8xB,EAAU,EAGzBE,EAAc9zF,IAClB,MAAMu7E,EAAUv7E,EAAEoX,OAAOmlD,QAAQ,IAAI9f,EAAO2iB,OAAO0D,cACnD,IAAKyY,IAAY9+B,EAAO3D,OAAOi7C,SAASxY,GAAU,OAClD,MAAMyY,EAAWv3C,EAAO3D,OAAOxkC,QAAQinE,KAAa9+B,EAAO1D,YACrD1sC,EAAYowC,EAAO2iB,OAAOiH,qBAAuB5pB,EAAOsqB,eAAiBtqB,EAAOsqB,cAAcgtB,SAASxY,GACzGyY,GAAY3nF,GAChBowC,EAAOS,QAAQT,EAAO3D,OAAOxkC,QAAQinE,GAAU,EAAE,EAG7CpX,EAAa,KACjB,MAAM/E,EAAS3iB,EAAO2iB,OAAO3jB,KAEzB2jB,EAAOszB,4BACTS,EAAqB,EAAE12C,EAAO3D,QAASsmB,EAAOszB,4BAG5CtzB,EAAOuzB,WACTM,EAAU,EAAEx2C,EAAO3D,QAASsmB,EAAOuzB,WAGrC,MAAM5vB,EAAetmB,EAAO2iB,OAAOvkB,KAAO4B,EAAO3D,OAAOvR,QAAO6T,IAAOA,EAAGvnC,UAAU08B,SAASkM,EAAO2iB,OAAO2J,uBAAsB1lE,OAASo5C,EAAO3D,OAAOz1C,OAEnJ+7D,EAAOmzB,mBACT91C,EAAO3D,OAAOsiB,MAAK,CAACmgB,EAASnoE,KAC3B,MAAMsrE,EAAW,EAAEnD,GACbhW,EAAa9oB,EAAO2iB,OAAOvkB,KAAO9uB,SAAS2yD,EAASxmB,KAAK,2BAA4B,IAAM9kD,EAEjGigF,EAAW3U,EADctf,EAAOmzB,kBAAkB90E,QAAQ,gBAAiB8nD,EAAa,GAAG9nD,QAAQ,uBAAwBslD,GACrF,GAE1C,EAoFFvmB,EAAG,cAAc,KACfo2C,EAAa,EAAE,gBAAgBn2C,EAAO2iB,OAAO3jB,KAAKw2C,sEAAsE,IAE1Hz1C,EAAG,aAAa,KACTC,EAAO2iB,OAAO3jB,KAAKC,SArFb,MACX,MAAM0jB,EAAS3iB,EAAO2iB,OAAO3jB,KAC7BgB,EAAOqlB,IAAIjnC,OAAO+3D,GAElB,MAAMqB,EAAex3C,EAAOqlB,IAExB1C,EAAOqzB,iCACTU,EAAqBc,EAAc70B,EAAOqzB,iCAGxCrzB,EAAOozB,kBACTa,EAAWY,EAAc70B,EAAOozB,kBAIlC,MAAMjwB,EAAa9lB,EAAO8lB,WACpBqxB,EAAYx0B,EAAOt7D,IAAMy+D,EAAWrK,KAAK,OAAS,kBA3MjCt+C,EA2MmE,QA1M7E,IAATA,IACFA,EAAO,IAKF,IAAIs6E,OAAOt6E,GAAM6D,QAAQ,MAFb,IAAM0N,KAAKgpE,MAAM,GAAKhpE,KAAKqhC,UAAU//C,SAAS,QALnE,IAAyBmN,EA4MvB,MAAMw6E,EAAO33C,EAAO2iB,OAAOzxC,UAAY8uB,EAAO2iB,OAAOzxC,SAAS+tB,QAAU,MAAQ,SA1KlF,IAAsB53C,EAgLpB,IAAImhF,EACAC,EAjLgBphF,EA2KA8vF,EAAZrxB,EA1KJrK,KAAK,KAAMp0D,GAGjB,SAAmBg+D,EAAKsyB,GACtBtyB,EAAI5J,KAAK,YAAak8B,EACxB,CAsKEC,CAAU9xB,EAAY6xB,GAEtBjwB,IAKI1nB,EAAOnB,YAAcmB,EAAOnB,WAAW2pC,UACzCA,EAAUxoC,EAAOnB,WAAW2pC,SAG1BxoC,EAAOnB,YAAcmB,EAAOnB,WAAW4pC,UACzCA,EAAUzoC,EAAOnB,WAAW4pC,SAG1BD,GAAWA,EAAQ5hF,QACrBswF,EAAU1O,EAAS2O,EAAWx0B,EAAO+yB,kBAGnCjN,GAAWA,EAAQ7hF,QACrBswF,EAAUzO,EAAS0O,EAAWx0B,EAAO8yB,kBAInCwB,KACFj3C,EAAO1C,WAAW+nB,IAAItlB,GAAG,UAAWmpC,GAAkBlpC,EAAO2iB,OAAOrlB,WAAW0sC,aAAc+M,GAI/F/2C,EAAOqlB,IAAItlB,GAAG,QAASs3C,GAAa,EAAK,EAsCzCp6E,EAAM,IAER8iC,EAAG,kEAAkE,KAC9DC,EAAO2iB,OAAO3jB,KAAKC,SACxByoB,GAAY,IAEd3nB,EAAG,yCAAyC,KACrCC,EAAO2iB,OAAO3jB,KAAKC,SApM1B,WACE,GAAIe,EAAO2iB,OAAOvkB,MAAQ4B,EAAO2iB,OAAO8M,SAAWzvB,EAAOnB,WAAY,OACtE,MAAM,QACJ2pC,EAAO,QACPC,GACEzoC,EAAOnB,WAEP4pC,GAAWA,EAAQ7hF,OAAS,IAC1Bo5C,EAAOyrB,aACTorB,EAAUpO,GACV8N,EAAmB9N,KAEnBqO,EAASrO,GACT6N,EAAgB7N,KAIhBD,GAAWA,EAAQ5hF,OAAS,IAC1Bo5C,EAAO0rB,OACTmrB,EAAUrO,GACV+N,EAAmB/N,KAEnBsO,EAAStO,GACT8N,EAAgB9N,IAGtB,CA2KEqP,EAAkB,IAEpB93C,EAAG,oBAAoB,KAChBC,EAAO2iB,OAAO3jB,KAAKC,SApK1B,WACE,MAAM0jB,EAAS3iB,EAAO2iB,OAAO3jB,KACxBg4C,KACLh3C,EAAO1C,WAAWgD,QAAQqe,MAAKm5B,IAC7B,MAAMhN,EAAY,EAAEgN,GAEhB93C,EAAO2iB,OAAOrlB,WAAWsB,YAC3B03C,EAAgBxL,GAEX9qC,EAAO2iB,OAAOrlB,WAAWgsC,eAC5BkN,EAAU1L,EAAW,UACrB8L,EAAW9L,EAAWnoB,EAAOkzB,wBAAwB70E,QAAQ,gBAAiB8pE,EAAUn0E,QAAU,MAIlGm0E,EAAUtuB,GAAG,IAAIxc,EAAO2iB,OAAOrlB,WAAW2sC,qBAC5Ca,EAAUrvB,KAAK,eAAgB,QAE/BqvB,EAAUjvB,WAAW,eACvB,GAEJ,CAgJEk8B,EAAkB,IAEpBh4C,EAAG,WAAW,KACPC,EAAO2iB,OAAO3jB,KAAKC,SAlD1B,WAEE,IAAIupC,EACAC,EAFA0N,GAAcA,EAAWvvF,OAAS,GAAGuvF,EAAWn/E,SAIhDgpC,EAAOnB,YAAcmB,EAAOnB,WAAW2pC,UACzCA,EAAUxoC,EAAOnB,WAAW2pC,SAG1BxoC,EAAOnB,YAAcmB,EAAOnB,WAAW4pC,UACzCA,EAAUzoC,EAAOnB,WAAW4pC,SAG1BD,GACFA,EAAQvrB,IAAI,UAAW85B,GAGrBtO,GACFA,EAAQxrB,IAAI,UAAW85B,GAIrBE,KACFj3C,EAAO1C,WAAW+nB,IAAIpI,IAAI,UAAWisB,GAAkBlpC,EAAO2iB,OAAOrlB,WAAW0sC,aAAc+M,GAIhG/2C,EAAOqlB,IAAIpI,IAAI,QAASo6B,GAAa,EACvC,CAuBEtX,EAAS,GAEb,CCpUe,SAASthC,GAAQ2jB,GAC9B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACXvlB,QAAS,CACPzZ,SAAS,EACTp9C,KAAM,GACN82D,cAAc,EACdnY,IAAK,SACLw3C,WAAW,KAGf,IAAI/qB,GAAc,EACdgrB,EAAQ,CAAC,EAEb,MAAMC,EAAU/wF,GACPA,EAAK6I,WAAWgR,QAAQ,OAAQ,KAAKA,QAAQ,WAAY,IAAIA,QAAQ,OAAQ,KAAKA,QAAQ,MAAO,IAAIA,QAAQ,MAAO,IAGvHm3E,EAAgBC,IACpB,MAAMpuF,EAAS,IACf,IAAI+tD,EAGFA,EADEqgC,EACS,IAAI/0F,IAAI+0F,GAERpuF,EAAO+tD,SAGpB,MAAMsgC,EAAYtgC,EAASK,SAAS3I,MAAM,GAAGj/B,MAAM,KAAKsa,QAAOwtD,GAAiB,KAATA,IACjEvN,EAAQsN,EAAUzxF,OAGxB,MAAO,CACL45C,IAHU63C,EAAUtN,EAAQ,GAI5B3nF,MAHYi1F,EAAUtN,EAAQ,GAI/B,EAGGwN,EAAa,CAAC/3C,EAAK7pC,KACvB,MAAM3M,EAAS,IACf,IAAKijE,IAAgBjtB,EAAO2iB,OAAOjK,QAAQzZ,QAAS,OACpD,IAAI8Y,EAGFA,EADE/X,EAAO2iB,OAAO/5C,IACL,IAAIvlB,IAAI28C,EAAO2iB,OAAO/5C,KAEtB5e,EAAO+tD,SAGpB,MAAM+P,EAAQ9nB,EAAO3D,OAAO2iB,GAAGroD,GAC/B,IAAIvT,EAAQ80F,EAAQpwB,EAAMrM,KAAK,iBAE/B,GAAIzb,EAAO2iB,OAAOjK,QAAQ72D,KAAK+E,OAAS,EAAG,CACzC,IAAI/E,EAAOm+C,EAAO2iB,OAAOjK,QAAQ72D,KACH,MAA1BA,EAAKA,EAAK+E,OAAS,KAAY/E,EAAOA,EAAK4tD,MAAM,EAAG5tD,EAAK+E,OAAS,IACtExD,EAAQ,GAAGvB,KAAQ2+C,KAAOp9C,GAC5B,MAAY20D,EAASK,SAASk/B,SAAS92C,KACrCp9C,EAAQ,GAAGo9C,KAAOp9C,KAGhB48C,EAAO2iB,OAAOjK,QAAQs/B,YACxB50F,GAAS20D,EAASO,QAGpB,MAAMkgC,EAAexuF,EAAO0uD,QAAQ7xB,MAEhC2xD,GAAgBA,EAAap1F,QAAUA,IAIvC48C,EAAO2iB,OAAOjK,QAAQC,aACxB3uD,EAAO0uD,QAAQC,aAAa,CAC1Bv1D,SACC,KAAMA,GAET4G,EAAO0uD,QAAQE,UAAU,CACvBx1D,SACC,KAAMA,GACX,EAGIq1F,EAAgB,CAAC71B,EAAOx/D,EAAOqqE,KACnC,GAAIrqE,EACF,IAAK,IAAI2T,EAAI,EAAGnQ,EAASo5C,EAAO3D,OAAOz1C,OAAQmQ,EAAInQ,EAAQmQ,GAAK,EAAG,CACjE,MAAM+wD,EAAQ9nB,EAAO3D,OAAO2iB,GAAGjoD,GAG/B,GAFqBmhF,EAAQpwB,EAAMrM,KAAK,mBAEnBr4D,IAAU0kE,EAAMxM,SAAStb,EAAO2iB,OAAO2J,qBAAsB,CAChF,MAAM31D,EAAQmxD,EAAMnxD,QACpBqpC,EAAOS,QAAQ9pC,EAAOisD,EAAO6K,EAC/B,CACF,MAEAztB,EAAOS,QAAQ,EAAGmiB,EAAO6K,EAC3B,EAGIirB,EAAqB,KACzBT,EAAQE,EAAcn4C,EAAO2iB,OAAO/5C,KACpC6vE,EAAcz4C,EAAO2iB,OAAOC,MAAOq1B,EAAM70F,OAAO,EAAM,EA+BxD28C,EAAG,QAAQ,KACLC,EAAO2iB,OAAOjK,QAAQzZ,SA7Bf,MACX,MAAMj1C,EAAS,IACf,GAAKg2C,EAAO2iB,OAAOjK,QAAnB,CAEA,IAAK1uD,EAAO0uD,UAAY1uD,EAAO0uD,QAAQE,UAGrC,OAFA5Y,EAAO2iB,OAAOjK,QAAQzZ,SAAU,OAChCe,EAAO2iB,OAAOg2B,eAAe15C,SAAU,GAIzCguB,GAAc,EACdgrB,EAAQE,EAAcn4C,EAAO2iB,OAAO/5C,MAC/BqvE,EAAMz3C,KAAQy3C,EAAM70F,SACzBq1F,EAAc,EAAGR,EAAM70F,MAAO48C,EAAO2iB,OAAOuK,oBAEvCltB,EAAO2iB,OAAOjK,QAAQC,cACzB3uD,EAAO21C,iBAAiB,WAAY+4C,GAdJ,CAelC,EAaEz7E,EACF,IAEF8iC,EAAG,WAAW,KACRC,EAAO2iB,OAAOjK,QAAQzZ,SAdZ,MACd,MAAMj1C,EAAS,IAEVg2C,EAAO2iB,OAAOjK,QAAQC,cACzB3uD,EAAOqtD,oBAAoB,WAAYqhC,EACzC,EAUE3Y,EACF,IAEFhgC,EAAG,4CAA4C,KACzCktB,GACFsrB,EAAWv4C,EAAO2iB,OAAOjK,QAAQlY,IAAKR,EAAO1D,YAC/C,IAEFyD,EAAG,eAAe,KACZktB,GAAejtB,EAAO2iB,OAAO0E,SAC/BkxB,EAAWv4C,EAAO2iB,OAAOjK,QAAQlY,IAAKR,EAAO1D,YAC/C,GAEJ,CCzJe,SAASs8C,GAAex2B,GACrC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,KACZj8B,EAAI,GACJjC,GACEqiB,EACA6K,GAAc,EAClB,MAAMjoE,EAAWuzD,IACXvuD,EAAS,IACfi0E,EAAa,CACX0a,eAAgB,CACd15C,SAAS,EACT0Z,cAAc,EACdkgC,YAAY,KAIhB,MAAMC,EAAe,KACnB92C,EAAK,cACL,MAAM+2C,EAAU/zF,EAAS+yD,SAASC,KAAKh3C,QAAQ,IAAK,IAGpD,GAAI+3E,IAFoB/4C,EAAO3D,OAAO2iB,GAAGhf,EAAO1D,aAAamf,KAAK,aAEjC,CAC/B,MAAMsT,EAAW/uB,EAAO8lB,WAAWtmD,SAAS,IAAIwgC,EAAO2iB,OAAO0D,yBAAyB0yB,OAAapiF,QACpG,QAAwB,IAAbo4D,EAA0B,OACrC/uB,EAAOS,QAAQsuB,EACjB,GAGIiqB,EAAU,KACd,GAAK/rB,GAAgBjtB,EAAO2iB,OAAOg2B,eAAe15C,QAElD,GAAIe,EAAO2iB,OAAOg2B,eAAehgC,cAAgB3uD,EAAO0uD,SAAW1uD,EAAO0uD,QAAQC,aAChF3uD,EAAO0uD,QAAQC,aAAa,KAAM,KAAM,IAAI3Y,EAAO3D,OAAO2iB,GAAGhf,EAAO1D,aAAamf,KAAK,gBAAkB,IACxGzZ,EAAK,eACA,CACL,MAAM8lB,EAAQ9nB,EAAO3D,OAAO2iB,GAAGhf,EAAO1D,aAChC0b,EAAO8P,EAAMrM,KAAK,cAAgBqM,EAAMrM,KAAK,gBACnDz2D,EAAS+yD,SAASC,KAAOA,GAAQ,GACjChW,EAAK,UACP,GAiCFjC,EAAG,QAAQ,KACLC,EAAO2iB,OAAOg2B,eAAe15C,SA/BtB,MACX,IAAKe,EAAO2iB,OAAOg2B,eAAe15C,SAAWe,EAAO2iB,OAAOjK,SAAW1Y,EAAO2iB,OAAOjK,QAAQzZ,QAAS,OACrGguB,GAAc,EACd,MAAMjV,EAAOhzD,EAAS+yD,SAASC,KAAKh3C,QAAQ,IAAK,IAEjD,GAAIg3C,EAAM,CACR,MAAM4K,EAAQ,EAEd,IAAK,IAAI7rD,EAAI,EAAGnQ,EAASo5C,EAAO3D,OAAOz1C,OAAQmQ,EAAInQ,EAAQmQ,GAAK,EAAG,CACjE,MAAM+wD,EAAQ9nB,EAAO3D,OAAO2iB,GAAGjoD,GAG/B,IAFkB+wD,EAAMrM,KAAK,cAAgBqM,EAAMrM,KAAK,mBAEtCzD,IAAS8P,EAAMxM,SAAStb,EAAO2iB,OAAO2J,qBAAsB,CAC5E,MAAM31D,EAAQmxD,EAAMnxD,QACpBqpC,EAAOS,QAAQ9pC,EAAOisD,EAAO5iB,EAAO2iB,OAAOuK,oBAAoB,EACjE,CACF,CACF,CAEIltB,EAAO2iB,OAAOg2B,eAAeE,YAC/B,EAAE7uF,GAAQ+1C,GAAG,aAAc+4C,EAC7B,EAWE77E,EACF,IAEF8iC,EAAG,WAAW,KACRC,EAAO2iB,OAAOg2B,eAAe15C,SAX7Be,EAAO2iB,OAAOg2B,eAAeE,YAC/B,EAAE7uF,GAAQizD,IAAI,aAAc67B,EAY9B,IAEF/4C,EAAG,4CAA4C,KACzCktB,GACF+rB,GACF,IAEFj5C,EAAG,eAAe,KACZktB,GAAejtB,EAAO2iB,OAAO0E,SAC/B2xB,GACF,GAEJ,CC3Fe,SAASz5C,GAAS6iB,GAC/B,IAMIijB,GANA,OACFrlC,EAAM,aACNi+B,EAAY,GACZl+B,EAAE,KACFiC,GACEogB,EAkBJ,SAASyU,IACP,MAAMoiB,EAAiBj5C,EAAO3D,OAAO2iB,GAAGhf,EAAO1D,aAC/C,IAAIkD,EAAQQ,EAAO2iB,OAAOzxC,SAASsuB,MAE/By5C,EAAex9B,KAAK,0BACtBjc,EAAQy5C,EAAex9B,KAAK,yBAA2Bzb,EAAO2iB,OAAOzxC,SAASsuB,OAGhF2Z,aAAaksB,GACbA,EAAUjlB,GAAS,KACjB,IAAI84B,EAEAl5C,EAAO2iB,OAAOzxC,SAASioE,iBACrBn5C,EAAO2iB,OAAOvkB,MAChB4B,EAAOuvB,UACP2pB,EAAiBl5C,EAAO0vB,UAAU1vB,EAAO2iB,OAAOC,OAAO,GAAM,GAC7D5gB,EAAK,aACKhC,EAAOyrB,YAGPzrB,EAAO2iB,OAAOzxC,SAASkoE,gBAIjCv5C,KAHAq5C,EAAiBl5C,EAAOS,QAAQT,EAAO3D,OAAOz1C,OAAS,EAAGo5C,EAAO2iB,OAAOC,OAAO,GAAM,GACrF5gB,EAAK,cAJLk3C,EAAiBl5C,EAAO0vB,UAAU1vB,EAAO2iB,OAAOC,OAAO,GAAM,GAC7D5gB,EAAK,aAOEhC,EAAO2iB,OAAOvkB,MACvB4B,EAAOuvB,UACP2pB,EAAiBl5C,EAAOivB,UAAUjvB,EAAO2iB,OAAOC,OAAO,GAAM,GAC7D5gB,EAAK,aACKhC,EAAO0rB,MAGP1rB,EAAO2iB,OAAOzxC,SAASkoE,gBAIjCv5C,KAHAq5C,EAAiBl5C,EAAOS,QAAQ,EAAGT,EAAO2iB,OAAOC,OAAO,GAAM,GAC9D5gB,EAAK,cAJLk3C,EAAiBl5C,EAAOivB,UAAUjvB,EAAO2iB,OAAOC,OAAO,GAAM,GAC7D5gB,EAAK,cAQHhC,EAAO2iB,OAAO0E,SAAWrnB,EAAO9uB,SAASylD,UAA2C,IAAnBuiB,IAAfriB,GAEtD,GACCr3B,EACL,CAEA,SAASM,IACP,YAAuB,IAAZulC,IACPrlC,EAAO9uB,SAASylD,UACpB32B,EAAO9uB,SAASylD,SAAU,EAC1B30B,EAAK,iBACL60B,KACO,EACT,CAEA,SAASh3B,IACP,QAAKG,EAAO9uB,SAASylD,cACE,IAAZ0O,IAEPA,IACFlsB,aAAaksB,GACbA,OAAUliF,GAGZ68C,EAAO9uB,SAASylD,SAAU,EAC1B30B,EAAK,iBACE,EACT,CAEA,SAASq3C,EAAMz2B,GACR5iB,EAAO9uB,SAASylD,UACjB32B,EAAO9uB,SAAS0lD,SAChByO,GAASlsB,aAAaksB,GAC1BrlC,EAAO9uB,SAAS0lD,QAAS,EAEX,IAAVhU,GAAgB5iB,EAAO2iB,OAAOzxC,SAASooE,kBAIzC,CAAC,gBAAiB,uBAAuBnmF,SAAQogB,IAC/CysB,EAAO8lB,WAAW,GAAGnmB,iBAAiBpsB,EAAO+8D,EAAgB,KAJ/DtwC,EAAO9uB,SAAS0lD,QAAS,EACzBC,MAMJ,CAEA,SAAS0iB,IACP,MAAMv0F,EAAWuzD,IAEgB,WAA7BvzD,EAASw0F,iBAAgCx5C,EAAO9uB,SAASylD,SAC3D0iB,IAG+B,YAA7Br0F,EAASw0F,iBAAiCx5C,EAAO9uB,SAAS0lD,SAC5DC,IACA72B,EAAO9uB,SAAS0lD,QAAS,EAE7B,CAEA,SAAS0Z,EAAgB/sF,GAClBy8C,IAAUA,EAAOmC,WAAcnC,EAAO8lB,YACvCviE,EAAEoX,SAAWqlC,EAAO8lB,WAAW,KACnC,CAAC,gBAAiB,uBAAuB3yD,SAAQogB,IAC/CysB,EAAO8lB,WAAW,GAAGzO,oBAAoB9jC,EAAO+8D,EAAgB,IAElEtwC,EAAO9uB,SAAS0lD,QAAS,EAEpB52B,EAAO9uB,SAASylD,QAGnBE,IAFAh3B,IAIJ,CAEA,SAAS45C,IACHz5C,EAAO2iB,OAAOzxC,SAASwoE,qBACzB75C,KAEAmC,EAAK,iBACLq3C,KAGF,CAAC,gBAAiB,uBAAuBlmF,SAAQogB,IAC/CysB,EAAO8lB,WAAW,GAAGzO,oBAAoB9jC,EAAO+8D,EAAgB,GAEpE,CAEA,SAASqJ,IACH35C,EAAO2iB,OAAOzxC,SAASwoE,uBAI3B15C,EAAO9uB,SAAS0lD,QAAS,EACzB50B,EAAK,kBACL60B,IACF,CAtJA72B,EAAO9uB,SAAW,CAChBylD,SAAS,EACTC,QAAQ,GAEVqH,EAAa,CACX/sD,SAAU,CACR+tB,SAAS,EACTO,MAAO,IACP85C,mBAAmB,EACnBI,sBAAsB,EACtBN,iBAAiB,EACjBD,kBAAkB,EAClB15C,mBAAmB,KAwJvBM,EAAG,QAAQ,KACLC,EAAO2iB,OAAOzxC,SAAS+tB,UACzBa,IACiByY,IACR5Y,iBAAiB,mBAAoB45C,GAf5Cv5C,EAAO2iB,OAAOzxC,SAASuuB,oBACzBO,EAAOqlB,IAAItlB,GAAG,aAAc05C,GAC5Bz5C,EAAOqlB,IAAItlB,GAAG,aAAc45C,IAe9B,IAEF55C,EAAG,yBAAyB,CAACgpC,EAAInmB,EAAO+K,KAClC3tB,EAAO9uB,SAASylD,UACdhJ,IAAa3tB,EAAO2iB,OAAOzxC,SAASwoE,qBACtC15C,EAAO9uB,SAASmoE,MAAMz2B,GAEtB/iB,IAEJ,IAEFE,EAAG,mBAAmB,KAChBC,EAAO9uB,SAASylD,UACd32B,EAAO2iB,OAAOzxC,SAASwoE,qBACzB75C,IAEAw5C,IAEJ,IAEFt5C,EAAG,YAAY,KACTC,EAAO2iB,OAAO0E,SAAWrnB,EAAO9uB,SAAS0lD,SAAW52B,EAAO2iB,OAAOzxC,SAASwoE,sBAC7E7iB,GACF,IAEF92B,EAAG,WAAW,KAnCZC,EAAOqlB,IAAIpI,IAAI,aAAcw8B,GAC7Bz5C,EAAOqlB,IAAIpI,IAAI,aAAc08B,GAqCzB35C,EAAO9uB,SAASylD,SAClB92B,IAGe0Y,IACRlB,oBAAoB,mBAAoBkiC,EAAmB,IAEtE93D,OAAOikC,OAAO1lB,EAAO9uB,SAAU,CAC7BmoE,QACAxiB,MACA/2B,QACAD,QAEJ,CC9Ne,SAAS+5C,GAAMx3B,GAC5B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACX4b,OAAQ,CACN75C,OAAQ,KACR85C,sBAAsB,EACtBC,iBAAkB,EAClBC,sBAAuB,4BACvBC,qBAAsB,mBAG1B,IAAIhtB,GAAc,EACditB,GAAgB,EAKpB,SAASC,IACP,MAAMC,EAAep6C,EAAO65C,OAAO75C,OACnC,IAAKo6C,GAAgBA,EAAaj4C,UAAW,OAC7C,MAAMmrB,EAAe8sB,EAAa9sB,aAC5BD,EAAe+sB,EAAa/sB,aAClC,GAAIA,GAAgB,EAAEA,GAAc/R,SAAStb,EAAO2iB,OAAOk3B,OAAOG,uBAAwB,OAC1F,GAAI,MAAO1sB,EAAuD,OAClE,IAAIgD,EAQJ,GALEA,EADE8pB,EAAaz3B,OAAOvkB,KACP9uB,SAAS,EAAE8qE,EAAa/sB,cAAc5R,KAAK,2BAA4B,IAEvE6R,EAGbttB,EAAO2iB,OAAOvkB,KAAM,CACtB,IAAIgC,EAAeJ,EAAO1D,YAEtB0D,EAAO3D,OAAO2iB,GAAG5e,GAAckb,SAAStb,EAAO2iB,OAAO2J,uBACxDtsB,EAAOuvB,UAEPvvB,EAAOwvB,YAAcxvB,EAAO8lB,WAAW,GAAG1H,WAC1Che,EAAeJ,EAAO1D,aAGxB,MAAM0zB,EAAYhwB,EAAO3D,OAAO2iB,GAAG5e,GAAcwf,QAAQ,6BAA6B0Q,OAAkBtR,GAAG,GAAGroD,QACxG8qD,EAAYzhB,EAAO3D,OAAO2iB,GAAG5e,GAAcof,QAAQ,6BAA6B8Q,OAAkBtR,GAAG,GAAGroD,QACxE25D,OAAb,IAAdN,EAA0CvO,OAAwC,IAAdA,EAA0CuO,EAAmBvO,EAAYrhB,EAAeA,EAAe4vB,EAA0BvO,EAA8BuO,CAChP,CAEAhwB,EAAOS,QAAQ6vB,EACjB,CAEA,SAASrzD,IACP,MACE48E,OAAQQ,GACNr6C,EAAO2iB,OACX,GAAIsK,EAAa,OAAO,EACxBA,GAAc,EACd,MAAMqtB,EAAct6C,EAAOvX,YAE3B,GAAI4xD,EAAar6C,kBAAkBs6C,EACjCt6C,EAAO65C,OAAO75C,OAASq6C,EAAar6C,OACpCve,OAAOikC,OAAO1lB,EAAO65C,OAAO75C,OAAO46B,eAAgB,CACjDhR,qBAAqB,EACrB2D,qBAAqB,IAEvB9rC,OAAOikC,OAAO1lB,EAAO65C,OAAO75C,OAAO2iB,OAAQ,CACzCiH,qBAAqB,EACrB2D,qBAAqB,SAElB,GAAI,EAAS8sB,EAAar6C,QAAS,CACxC,MAAMu6C,EAAqB94D,OAAOikC,OAAO,CAAC,EAAG20B,EAAar6C,QAC1Dve,OAAOikC,OAAO60B,EAAoB,CAChC3wB,qBAAqB,EACrB2D,qBAAqB,IAEvBvtB,EAAO65C,OAAO75C,OAAS,IAAIs6C,EAAYC,GACvCL,GAAgB,CAClB,CAIA,OAFAl6C,EAAO65C,OAAO75C,OAAOqlB,IAAInK,SAASlb,EAAO2iB,OAAOk3B,OAAOI,sBACvDj6C,EAAO65C,OAAO75C,OAAOD,GAAG,MAAOo6C,IACxB,CACT,CAEA,SAASvgB,EAAOhM,GACd,MAAMwsB,EAAep6C,EAAO65C,OAAO75C,OACnC,IAAKo6C,GAAgBA,EAAaj4C,UAAW,OAC7C,MAAMylB,EAAsD,SAAtCwyB,EAAaz3B,OAAOiF,cAA2BwyB,EAAahrB,uBAAyBgrB,EAAaz3B,OAAOiF,cAE/H,IAAI4yB,EAAmB,EACvB,MAAMC,EAAmBz6C,EAAO2iB,OAAOk3B,OAAOG,sBAa9C,GAXIh6C,EAAO2iB,OAAOiF,cAAgB,IAAM5nB,EAAO2iB,OAAOyE,iBACpDozB,EAAmBx6C,EAAO2iB,OAAOiF,eAG9B5nB,EAAO2iB,OAAOk3B,OAAOC,uBACxBU,EAAmB,GAGrBA,EAAmB9rE,KAAKynC,MAAMqkC,GAC9BJ,EAAa/9C,OAAOgf,YAAYo/B,GAE5BL,EAAaz3B,OAAOvkB,MAAQg8C,EAAaz3B,OAAOwD,SAAWi0B,EAAaz3B,OAAOwD,QAAQlnB,QACzF,IAAK,IAAIloC,EAAI,EAAGA,EAAIyjF,EAAkBzjF,GAAK,EACzCqjF,EAAat0B,WAAWtmD,SAAS,6BAA6BwgC,EAAOzD,UAAYxlC,OAAOmkD,SAASu/B,QAGnG,IAAK,IAAI1jF,EAAI,EAAGA,EAAIyjF,EAAkBzjF,GAAK,EACzCqjF,EAAa/9C,OAAO2iB,GAAGhf,EAAOzD,UAAYxlC,GAAGmkD,SAASu/B,GAI1D,MAAMV,EAAmB/5C,EAAO2iB,OAAOk3B,OAAOE,iBACxCW,EAAYX,IAAqBK,EAAaz3B,OAAOvkB,KAE3D,GAAI4B,EAAOzD,YAAc69C,EAAa79C,WAAam+C,EAAW,CAC5D,IACIC,EACAv7C,EAFAw7C,EAAqBR,EAAa99C,YAItC,GAAI89C,EAAaz3B,OAAOvkB,KAAM,CACxBg8C,EAAa/9C,OAAO2iB,GAAG47B,GAAoBt/B,SAAS8+B,EAAaz3B,OAAO2J,uBAC1E8tB,EAAa7qB,UAEb6qB,EAAa5qB,YAAc4qB,EAAat0B,WAAW,GAAG1H,WACtDw8B,EAAqBR,EAAa99C,aAIpC,MAAMu+C,EAAkBT,EAAa/9C,OAAO2iB,GAAG47B,GAAoBh7B,QAAQ,6BAA6B5f,EAAOzD,eAAeyiB,GAAG,GAAGroD,QAC9HmkF,EAAkBV,EAAa/9C,OAAO2iB,GAAG47B,GAAoBp7B,QAAQ,6BAA6Bxf,EAAOzD,eAAeyiB,GAAG,GAAGroD,QAGlIgkF,OAD6B,IAApBE,EACQC,OACmB,IAApBA,EACCD,EACRC,EAAkBF,GAAuBA,EAAqBC,EACtDT,EAAaz3B,OAAO2F,eAAiB,EAAIwyB,EAAkBF,EACnEE,EAAkBF,EAAqBA,EAAqBC,EACpDC,EAEAD,EAGnBz7C,EAAYY,EAAO1D,YAAc0D,EAAO4sB,cAAgB,OAAS,MACnE,MACE+tB,EAAiB36C,EAAOzD,UACxB6C,EAAYu7C,EAAiB36C,EAAO4sB,cAAgB,OAAS,OAG3D8tB,IACFC,GAAgC,SAAdv7C,EAAuB26C,GAAoB,EAAIA,GAG/DK,EAAavvB,sBAAwBuvB,EAAavvB,qBAAqBhzD,QAAQ8iF,GAAkB,IAC/FP,EAAaz3B,OAAOyE,eAEpBuzB,EADEA,EAAiBC,EACFD,EAAiBjsE,KAAKynC,MAAMyR,EAAgB,GAAK,EAEjD+yB,EAAiBjsE,KAAKynC,MAAMyR,EAAgB,GAAK,EAE3D+yB,EAAiBC,GAAsBR,EAAaz3B,OAAO2F,eAGtE8xB,EAAa35C,QAAQk6C,EAAgB/sB,EAAU,OAAIzqE,GAEvD,CACF,CA1JA68C,EAAO65C,OAAS,CACd75C,OAAQ,MA2JVD,EAAG,cAAc,KACf,MAAM,OACJ85C,GACE75C,EAAO2iB,OACNk3B,GAAWA,EAAO75C,SACvB/iC,IACA28D,GAAO,GAAK,IAEd75B,EAAG,4CAA4C,KAC7C65B,GAAQ,IAEV75B,EAAG,iBAAiB,CAACgpC,EAAIhtB,KACvB,MAAMq+B,EAAep6C,EAAO65C,OAAO75C,OAC9Bo6C,IAAgBA,EAAaj4C,WAClCi4C,EAAahwB,cAAcrO,EAAS,IAEtChc,EAAG,iBAAiB,KAClB,MAAMq6C,EAAep6C,EAAO65C,OAAO75C,OAC9Bo6C,IAAgBA,EAAaj4C,WAE9B+3C,GACFE,EAAara,SACf,IAEFt+C,OAAOikC,OAAO1lB,EAAO65C,OAAQ,CAC3B58E,OACA28D,UAEJ,CC1Me,SAAS3F,GAAS7R,GAC/B,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,KACZj8B,EAAI,KACJyiB,GACErC,EACJ6b,EAAa,CACXhK,SAAU,CACRh1B,SAAS,EACT87C,UAAU,EACVC,cAAe,EACfC,gBAAgB,EAChBC,oBAAqB,EACrBC,sBAAuB,EACvBxT,QAAQ,EACRyT,gBAAiB,OAyOrB35D,OAAOikC,OAAO1lB,EAAQ,CACpBi0B,SAAU,CACR9C,aAvOJ,WACE,MAAM3O,EAAYxiB,EAAOqgB,eACzBrgB,EAAOsuB,aAAa9L,GACpBxiB,EAAOoqB,cAAc,GACrBpqB,EAAOoxB,gBAAgBsN,WAAW93E,OAAS,EAC3Co5C,EAAOi0B,SAASwB,WAAW,CACzBM,WAAY/1B,EAAO5Q,IAAM4Q,EAAOwiB,WAAaxiB,EAAOwiB,WAExD,EAgOI0R,YA9NJ,WACE,MACE9C,gBAAiBvlE,EAAI,QACrBwlE,GACErxB,EAE2B,IAA3Bn0C,EAAK6yE,WAAW93E,QAClBiF,EAAK6yE,WAAW7lE,KAAK,CACnBzT,SAAUisE,EAAQrxB,EAAOulB,eAAiB,SAAW,UACrD9C,KAAM52D,EAAK2nE,iBAIf3nE,EAAK6yE,WAAW7lE,KAAK,CACnBzT,SAAUisE,EAAQrxB,EAAOulB,eAAiB,WAAa,YACvD9C,KAAMx3C,KAEV,EA8MIwqD,WA5MJ,SAAoBsL,GAClB,IAAI,WACFhL,GACEgL,EACJ,MAAM,OACJpe,EAAM,WACNmD,EACAE,aAAc52B,EAAG,SACjBm3B,EACA6K,gBAAiBvlE,GACfm0C,EAGE21B,EADe1qD,IACWpf,EAAK2nE,eAErC,GAAIuC,GAAc/1B,EAAOgrB,eACvBhrB,EAAOS,QAAQT,EAAO1D,kBAIxB,GAAIy5B,GAAc/1B,EAAOwrB,eACnBxrB,EAAO3D,OAAOz1C,OAAS2/D,EAAS3/D,OAClCo5C,EAAOS,QAAQ8lB,EAAS3/D,OAAS,GAEjCo5C,EAAOS,QAAQT,EAAO3D,OAAOz1C,OAAS,OAJ1C,CAUA,GAAI+7D,EAAOsR,SAAS8mB,SAAU,CAC5B,GAAIlvF,EAAK6yE,WAAW93E,OAAS,EAAG,CAC9B,MAAMy0F,EAAgBxvF,EAAK6yE,WAAW4c,MAChCC,EAAgB1vF,EAAK6yE,WAAW4c,MAChCE,EAAWH,EAAcj2F,SAAWm2F,EAAcn2F,SAClDq9D,EAAO44B,EAAc54B,KAAO84B,EAAc94B,KAChDziB,EAAOq+B,SAAWmd,EAAW/4B,EAC7BziB,EAAOq+B,UAAY,EAEf3vD,KAAK25C,IAAIroB,EAAOq+B,UAAY1b,EAAOsR,SAASmnB,kBAC9Cp7C,EAAOq+B,SAAW,IAKhB5b,EAAO,KAAOx3C,IAAQowE,EAAc54B,KAAO,OAC7CziB,EAAOq+B,SAAW,EAEtB,MACEr+B,EAAOq+B,SAAW,EAGpBr+B,EAAOq+B,UAAY1b,EAAOsR,SAASknB,sBACnCtvF,EAAK6yE,WAAW93E,OAAS,EACzB,IAAIwrF,EAAmB,IAAOzvB,EAAOsR,SAAS+mB,cAC9C,MAAMS,EAAmBz7C,EAAOq+B,SAAW+T,EAC3C,IAAIsJ,EAAc17C,EAAOwiB,UAAYi5B,EACjCrsD,IAAKssD,GAAeA,GACxB,IACIC,EADAC,GAAW,EAEf,MAAMC,EAA2C,GAA5BntE,KAAK25C,IAAIroB,EAAOq+B,UAAiB1b,EAAOsR,SAASinB,oBACtE,IAAIY,EAEJ,GAAIJ,EAAc17C,EAAOwrB,eACnB7I,EAAOsR,SAASgnB,gBACdS,EAAc17C,EAAOwrB,gBAAkBqwB,IACzCH,EAAc17C,EAAOwrB,eAAiBqwB,GAGxCF,EAAsB37C,EAAOwrB,eAC7BowB,GAAW,EACX/vF,EAAKmpE,qBAAsB,GAE3B0mB,EAAc17C,EAAOwrB,eAGnB7I,EAAOvkB,MAAQukB,EAAOyE,iBAAgB00B,GAAe,QACpD,GAAIJ,EAAc17C,EAAOgrB,eAC1BrI,EAAOsR,SAASgnB,gBACdS,EAAc17C,EAAOgrB,eAAiB6wB,IACxCH,EAAc17C,EAAOgrB,eAAiB6wB,GAGxCF,EAAsB37C,EAAOgrB,eAC7B4wB,GAAW,EACX/vF,EAAKmpE,qBAAsB,GAE3B0mB,EAAc17C,EAAOgrB,eAGnBrI,EAAOvkB,MAAQukB,EAAOyE,iBAAgB00B,GAAe,QACpD,GAAIn5B,EAAOsR,SAAS0T,OAAQ,CACjC,IAAIpb,EAEJ,IAAK,IAAI1P,EAAI,EAAGA,EAAI0J,EAAS3/D,OAAQi2D,GAAK,EACxC,GAAI0J,EAAS1J,IAAM6+B,EAAa,CAC9BnvB,EAAY1P,EACZ,KACF,CAIA6+B,EADEhtE,KAAK25C,IAAI9B,EAASgG,GAAamvB,GAAehtE,KAAK25C,IAAI9B,EAASgG,EAAY,GAAKmvB,IAA0C,SAA1B17C,EAAOyzB,eAC5FlN,EAASgG,GAEThG,EAASgG,EAAY,GAGrCmvB,GAAeA,CACjB,CASA,GAPII,GACFr3B,EAAK,iBAAiB,KACpBzkB,EAAOuvB,SAAS,IAKI,IAApBvvB,EAAOq+B,UAOT,GALE+T,EADEhjD,EACiB1gB,KAAK25C,MAAMqzB,EAAc17C,EAAOwiB,WAAaxiB,EAAOq+B,UAEpD3vD,KAAK25C,KAAKqzB,EAAc17C,EAAOwiB,WAAaxiB,EAAOq+B,UAGpE1b,EAAOsR,SAAS0T,OAAQ,CAQ1B,MAAMoU,EAAertE,KAAK25C,KAAKj5B,GAAOssD,EAAcA,GAAe17C,EAAOwiB,WACpEw5B,EAAmBh8C,EAAOymB,gBAAgBzmB,EAAO1D,aAGrD81C,EADE2J,EAAeC,EACEr5B,EAAOC,MACjBm5B,EAAe,EAAIC,EACM,IAAfr5B,EAAOC,MAEQ,IAAfD,EAAOC,KAE9B,OACK,GAAID,EAAOsR,SAAS0T,OAEzB,YADA3nC,EAAOmwB,iBAILxN,EAAOsR,SAASgnB,gBAAkBW,GACpC57C,EAAOqrB,eAAeswB,GACtB37C,EAAOoqB,cAAcgoB,GACrBpyC,EAAOsuB,aAAaotB,GACpB17C,EAAOuuB,iBAAgB,EAAMvuB,EAAOyzB,gBACpCzzB,EAAO+tB,WAAY,EACnBjI,EAAWnI,eAAc,KAClB3d,IAAUA,EAAOmC,WAAct2C,EAAKmpE,sBACzChzB,EAAK,kBACLhC,EAAOoqB,cAAczH,EAAOC,OAC5B34D,YAAW,KACT+1C,EAAOsuB,aAAaqtB,GACpB71B,EAAWnI,eAAc,KAClB3d,IAAUA,EAAOmC,WACtBnC,EAAO2d,eAAe,GACtB,GACD,GAAE,KAEE3d,EAAOq+B,UAChBr8B,EAAK,8BACLhC,EAAOqrB,eAAeqwB,GACtB17C,EAAOoqB,cAAcgoB,GACrBpyC,EAAOsuB,aAAaotB,GACpB17C,EAAOuuB,iBAAgB,EAAMvuB,EAAOyzB,gBAE/BzzB,EAAO+tB,YACV/tB,EAAO+tB,WAAY,EACnBjI,EAAWnI,eAAc,KAClB3d,IAAUA,EAAOmC,WACtBnC,EAAO2d,eAAe,MAI1B3d,EAAOqrB,eAAeqwB,GAGxB17C,EAAO0sB,oBACP1sB,EAAO8rB,qBACT,KAAO,IAAInJ,EAAOsR,SAAS0T,OAEzB,YADA3nC,EAAOmwB,iBAEExN,EAAOsR,UAChBjyB,EAAK,6BACP,GAEK2gB,EAAOsR,SAAS8mB,UAAYplB,GAAYhT,EAAO0T,gBAClDr2B,EAAOqrB,iBACPrrB,EAAO0sB,oBACP1sB,EAAO8rB,sBAxKT,CA0KF,IASF,CCjQe,SAASmwB,GAAK75B,GAC3B,IAUI85B,EACAC,EACAC,GAZA,OACFp8C,EAAM,aACNi+B,GACE7b,EACJ6b,EAAa,CACX1W,KAAM,CACJC,KAAM,EACNiR,KAAM,YAuGVz4B,EAAOunB,KAAO,CACZG,WAjGiBpB,IACjB,MAAM,cACJsB,GACE5nB,EAAO2iB,QACL,KACJ6E,EAAI,KACJiR,GACEz4B,EAAO2iB,OAAO4E,KAClB40B,EAAeD,EAAyB10B,EACxC40B,EAAiB1tE,KAAKynC,MAAMmQ,EAAekB,GAGzC00B,EADExtE,KAAKynC,MAAMmQ,EAAekB,KAAUlB,EAAekB,EAC5BlB,EAEA53C,KAAK67C,KAAKjE,EAAekB,GAAQA,EAGtC,SAAlBI,GAAqC,QAAT6Q,IAC9ByjB,EAAyBxtE,KAAKC,IAAIutE,EAAwBt0B,EAAgBJ,GAC5E,EA+EAO,YA5EkB,CAAChxD,EAAG+wD,EAAOxB,EAAcV,KAC3C,MAAM,eACJ0C,EAAc,aACdtB,GACEhnB,EAAO2iB,QACL,KACJ6E,EAAI,KACJiR,GACEz4B,EAAO2iB,OAAO4E,KAElB,IAAI80B,EACAnqD,EACA+hB,EAEJ,GAAa,QAATwkB,GAAkBnQ,EAAiB,EAAG,CACxC,MAAMg0B,EAAa5tE,KAAKynC,MAAMp/C,GAAKuxD,EAAiBd,IAC9C+0B,EAAoBxlF,EAAIywD,EAAOc,EAAiBg0B,EAChDE,EAAgC,IAAfF,EAAmBh0B,EAAiB55C,KAAKsQ,IAAItQ,KAAK67C,MAAMjE,EAAeg2B,EAAa90B,EAAOc,GAAkBd,GAAOc,GAC3IrU,EAAMvlC,KAAKynC,MAAMomC,EAAoBC,GACrCtqD,EAASqqD,EAAoBtoC,EAAMuoC,EAAiBF,EAAah0B,EACjE+zB,EAAqBnqD,EAAS+hB,EAAMioC,EAAyB10B,EAC7DM,EAAMrJ,IAAI,CACR,gBAAiB49B,EACjBI,MAAOJ,GAEX,KAAoB,WAAT5jB,GACTvmC,EAASxjB,KAAKynC,MAAMp/C,EAAIywD,GACxBvT,EAAMl9C,EAAIm7B,EAASs1B,GAEft1B,EAASkqD,GAAkBlqD,IAAWkqD,GAAkBnoC,IAAQuT,EAAO,KACzEvT,GAAO,EAEHA,GAAOuT,IACTvT,EAAM,EACN/hB,GAAU,MAId+hB,EAAMvlC,KAAKynC,MAAMp/C,EAAIolF,GACrBjqD,EAASn7B,EAAIk9C,EAAMkoC,GAGrBr0B,EAAMrJ,IAAImH,EAAkB,cAAuB,IAAR3R,EAAY+S,GAAgB,GAAGA,MAAmB,GAAG,EAmChG0B,kBAhCwB,CAACjB,EAAWlB,EAAUX,KAC9C,MAAM,aACJoB,EAAY,eACZI,EAAc,aACde,GACEnoB,EAAO2iB,QACL,KACJ6E,GACExnB,EAAO2iB,OAAO4E,KAOlB,GANAvnB,EAAOmnB,aAAeM,EAAYT,GAAgBk1B,EAClDl8C,EAAOmnB,YAAcz4C,KAAK67C,KAAKvqB,EAAOmnB,YAAcK,GAAQR,EAC5DhnB,EAAO8lB,WAAWrH,IAAI,CACpB,CAACmH,EAAkB,UAAW,GAAG5lB,EAAOmnB,YAAcH,QAGpDI,EAAgB,CAClBb,EAASxgD,OAAO,EAAGwgD,EAAS3/D,QAC5B,MAAM+hE,EAAgB,GAEtB,IAAK,IAAI5xD,EAAI,EAAGA,EAAIwvD,EAAS3/D,OAAQmQ,GAAK,EAAG,CAC3C,IAAI6xD,EAAiBrC,EAASxvD,GAC1BoxD,IAAcS,EAAiBl6C,KAAKynC,MAAMyS,IAC1CrC,EAASxvD,GAAKipC,EAAOmnB,YAAcZ,EAAS,IAAIoC,EAAc9vD,KAAK+vD,EACzE,CAEArC,EAAS1tD,QAAQ8vD,EACnB,GAQJ,CCpHe,SAASya,GAAY/mC,GAClC,MAAM2D,EAAS79C,MACT,WACJ2jE,EAAU,OACVnD,GACE3iB,EAMJ,GAJI2iB,EAAOvkB,MACT4B,EAAOkxB,cAGa,iBAAX70B,GAAuB,WAAYA,EAC5C,IAAK,IAAItlC,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAClCslC,EAAOtlC,IAAI+uD,EAAW1nC,OAAOie,EAAOtlC,SAG1C+uD,EAAW1nC,OAAOie,GAGhBsmB,EAAOvkB,MACT4B,EAAOuwB,aAGJ5N,EAAOge,UACV3gC,EAAO45B,QAEX,CC1Be,SAASyJ,GAAahnC,GACnC,MAAM2D,EAAS79C,MACT,OACJwgE,EAAM,WACNmD,EAAU,YACVxpB,GACE0D,EAEA2iB,EAAOvkB,MACT4B,EAAOkxB,cAGT,IAAIvE,EAAiBrwB,EAAc,EAEnC,GAAsB,iBAAXD,GAAuB,WAAYA,EAAQ,CACpD,IAAK,IAAItlC,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAClCslC,EAAOtlC,IAAI+uD,EAAWzG,QAAQhjB,EAAOtlC,IAG3C41D,EAAiBrwB,EAAcD,EAAOz1C,MACxC,MACEk/D,EAAWzG,QAAQhjB,GAGjBsmB,EAAOvkB,MACT4B,EAAOuwB,aAGJ5N,EAAOge,UACV3gC,EAAO45B,SAGT55B,EAAOS,QAAQksB,EAAgB,GAAG,EACpC,CCjCe,SAAS+vB,GAAS/lF,EAAO0lC,GACtC,MAAM2D,EAAS79C,MACT,WACJ2jE,EAAU,OACVnD,EAAM,YACNrmB,GACE0D,EACJ,IAAI28C,EAAoBrgD,EAEpBqmB,EAAOvkB,OACTu+C,GAAqB38C,EAAOgvB,aAC5BhvB,EAAOkxB,cACPlxB,EAAO3D,OAASypB,EAAWtmD,SAAS,IAAImjD,EAAO0D,eAGjD,MAAMu2B,EAAa58C,EAAO3D,OAAOz1C,OAEjC,GAAI+P,GAAS,EAEX,YADAqpC,EAAOqjC,aAAahnC,GAItB,GAAI1lC,GAASimF,EAEX,YADA58C,EAAOojC,YAAY/mC,GAIrB,IAAIswB,EAAiBgwB,EAAoBhmF,EAAQgmF,EAAoB,EAAIA,EACzE,MAAME,EAAe,GAErB,IAAK,IAAI9lF,EAAI6lF,EAAa,EAAG7lF,GAAKJ,EAAOI,GAAK,EAAG,CAC/C,MAAM+lF,EAAe98C,EAAO3D,OAAO2iB,GAAGjoD,GACtC+lF,EAAa9lF,SACb6lF,EAAatgC,QAAQugC,EACvB,CAEA,GAAsB,iBAAXzgD,GAAuB,WAAYA,EAAQ,CACpD,IAAK,IAAItlC,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAClCslC,EAAOtlC,IAAI+uD,EAAW1nC,OAAOie,EAAOtlC,IAG1C41D,EAAiBgwB,EAAoBhmF,EAAQgmF,EAAoBtgD,EAAOz1C,OAAS+1F,CACnF,MACE72B,EAAW1nC,OAAOie,GAGpB,IAAK,IAAItlC,EAAI,EAAGA,EAAI8lF,EAAaj2F,OAAQmQ,GAAK,EAC5C+uD,EAAW1nC,OAAOy+D,EAAa9lF,IAG7B4rD,EAAOvkB,MACT4B,EAAOuwB,aAGJ5N,EAAOge,UACV3gC,EAAO45B,SAGLjX,EAAOvkB,KACT4B,EAAOS,QAAQksB,EAAiB3sB,EAAOgvB,aAAc,GAAG,GAExDhvB,EAAOS,QAAQksB,EAAgB,GAAG,EAEtC,CC/De,SAASgX,GAAYC,GAClC,MAAM5jC,EAAS79C,MACT,OACJwgE,EAAM,WACNmD,EAAU,YACVxpB,GACE0D,EACJ,IAAI28C,EAAoBrgD,EAEpBqmB,EAAOvkB,OACTu+C,GAAqB38C,EAAOgvB,aAC5BhvB,EAAOkxB,cACPlxB,EAAO3D,OAASypB,EAAWtmD,SAAS,IAAImjD,EAAO0D,eAGjD,IACI02B,EADApwB,EAAiBgwB,EAGrB,GAA6B,iBAAlB/Y,GAA8B,WAAYA,EAAe,CAClE,IAAK,IAAI7sE,EAAI,EAAGA,EAAI6sE,EAAch9E,OAAQmQ,GAAK,EAC7CgmF,EAAgBnZ,EAAc7sE,GAC1BipC,EAAO3D,OAAO0gD,IAAgB/8C,EAAO3D,OAAO2iB,GAAG+9B,GAAe/lF,SAC9D+lF,EAAgBpwB,IAAgBA,GAAkB,GAGxDA,EAAiBj+C,KAAKC,IAAIg+C,EAAgB,EAC5C,MACEowB,EAAgBnZ,EACZ5jC,EAAO3D,OAAO0gD,IAAgB/8C,EAAO3D,OAAO2iB,GAAG+9B,GAAe/lF,SAC9D+lF,EAAgBpwB,IAAgBA,GAAkB,GACtDA,EAAiBj+C,KAAKC,IAAIg+C,EAAgB,GAGxChK,EAAOvkB,MACT4B,EAAOuwB,aAGJ5N,EAAOge,UACV3gC,EAAO45B,SAGLjX,EAAOvkB,KACT4B,EAAOS,QAAQksB,EAAiB3sB,EAAOgvB,aAAc,GAAG,GAExDhvB,EAAOS,QAAQksB,EAAgB,GAAG,EAEtC,CC9Ce,SAASkX,KACtB,MAAM7jC,EAAS79C,KACTyhF,EAAgB,GAEtB,IAAK,IAAI7sE,EAAI,EAAGA,EAAIipC,EAAO3D,OAAOz1C,OAAQmQ,GAAK,EAC7C6sE,EAAc/qE,KAAK9B,GAGrBipC,EAAO2jC,YAAYC,EACrB,CCJe,SAASoZ,GAAa56B,GACnC,IAAI,OACFpiB,GACEoiB,EACJ3gC,OAAOikC,OAAO1lB,EAAQ,CACpBojC,YAAaA,GAAYr4C,KAAKiV,GAC9BqjC,aAAcA,GAAat4C,KAAKiV,GAChC08C,SAAUA,GAAS3xD,KAAKiV,GACxB2jC,YAAaA,GAAY54C,KAAKiV,GAC9B6jC,gBAAiBA,GAAgB94C,KAAKiV,IAE1C,CChBe,SAASi9C,GAAWt6B,GACjC,MAAM,OACJ6F,EAAM,OACNxoB,EAAM,GACND,EAAE,aACFuuB,EAAY,cACZlE,EAAa,gBACb8yB,EAAe,YACfC,EAAW,gBACXC,EAAe,gBACfC,GACE16B,EAmCJ,IAAI26B,EAlCJv9C,EAAG,cAAc,KACf,GAAIC,EAAO2iB,OAAO6F,SAAWA,EAAQ,OACrCxoB,EAAOqJ,WAAWxwC,KAAK,GAAGmnC,EAAO2iB,OAAOoH,yBAAyBvB,KAE7D20B,GAAeA,KACjBn9C,EAAOqJ,WAAWxwC,KAAK,GAAGmnC,EAAO2iB,OAAOoH,4BAG1C,MAAMwzB,EAAwBL,EAAkBA,IAAoB,CAAC,EACrEz7D,OAAOikC,OAAO1lB,EAAO2iB,OAAQ46B,GAC7B97D,OAAOikC,OAAO1lB,EAAO46B,eAAgB2iB,EAAsB,IAE7Dx9C,EAAG,gBAAgB,KACbC,EAAO2iB,OAAO6F,SAAWA,GAC7B8F,GAAc,IAEhBvuB,EAAG,iBAAiB,CAACgpC,EAAIhtB,KACnB/b,EAAO2iB,OAAO6F,SAAWA,GAC7B4B,EAAcrO,EAAS,IAEzBhc,EAAG,iBAAiB,KAClB,GAAIC,EAAO2iB,OAAO6F,SAAWA,GAEzB40B,EAAiB,CACnB,IAAKC,IAAoBA,IAAkBG,aAAc,OAEzDx9C,EAAO3D,OAAOsiB,MAAKmgB,IACA9+B,EAAOoa,EAAE0kB,GACjB/e,KAAK,gHAAgH/oD,QAAQ,IAGxIomF,GACF,KAGFr9C,EAAG,iBAAiB,KACdC,EAAO2iB,OAAO6F,SAAWA,IAExBxoB,EAAO3D,OAAOz1C,SACjB02F,GAAyB,GAG3BjkC,uBAAsB,KAChBikC,GAA0Bt9C,EAAO3D,QAAU2D,EAAO3D,OAAOz1C,SAC3D0nE,IACAgvB,GAAyB,EAC3B,IACA,GAEN,CC7De,SAASG,GAAaC,EAAczb,GACjD,OAAIyb,EAAaC,YACR1b,EAASliB,KAAK29B,EAAaC,aAAal/B,IAAI,CACjD,sBAAuB,SACvB,8BAA+B,WAI5BwjB,CACT,CCTe,SAAS2b,GAA2Bx7B,GACjD,IAAI,OACFpiB,EAAM,SACN+b,EAAQ,YACR4hC,EAAW,UACXE,GACEz7B,EACJ,MAAM,OACJ/lB,EAAM,YACNC,EAAW,WACXwpB,GACE9lB,EAEJ,GAAIA,EAAO2iB,OAAOkW,kBAAiC,IAAb9c,EAAgB,CACpD,IACI+hC,EADAC,GAAiB,EAInBD,EADED,EACqBF,EAActhD,EAAO0jB,KAAK49B,GAAethD,EAEzCshD,EAActhD,EAAO2iB,GAAG1iB,GAAayjB,KAAK49B,GAAethD,EAAO2iB,GAAG1iB,GAG5FwhD,EAAqBngC,eAAc,KACjC,GAAIogC,EAAgB,OACpB,IAAK/9C,GAAUA,EAAOmC,UAAW,OACjC47C,GAAiB,EACjB/9C,EAAO+tB,WAAY,EACnB,MAAMiwB,EAAgB,CAAC,sBAAuB,iBAE9C,IAAK,IAAIjnF,EAAI,EAAGA,EAAIinF,EAAcp3F,OAAQmQ,GAAK,EAC7C+uD,EAAWrhE,QAAQu5F,EAAcjnF,GACnC,GAEJ,CACF,CChCe,SAASknF,GAAW77B,GACjC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACXigB,WAAY,CACVC,WAAW,EACXR,YAAa,QA4CjBV,GAAW,CACTz0B,OAAQ,OACRxoB,SACAD,KACAuuB,aA5CmB,KACnB,MAAM,OACJjyB,GACE2D,EACE2iB,EAAS3iB,EAAO2iB,OAAOu7B,WAE7B,IAAK,IAAInnF,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAAG,CACzC,MAAMkrE,EAAWjiC,EAAO3D,OAAO2iB,GAAGjoD,GAElC,IAAIqnF,GADWnc,EAAS,GAAGzX,kBAEtBxqB,EAAO2iB,OAAOkW,mBAAkBulB,GAAMp+C,EAAOwiB,WAClD,IAAI67B,EAAK,EAEJr+C,EAAOulB,iBACV84B,EAAKD,EACLA,EAAK,GAGP,MAAME,EAAet+C,EAAO2iB,OAAOu7B,WAAWC,UAAYzvE,KAAKC,IAAI,EAAID,KAAK25C,IAAI4Z,EAAS,GAAG9e,UAAW,GAAK,EAAIz0C,KAAKsQ,IAAItQ,KAAKC,IAAIszD,EAAS,GAAG9e,UAAW,GAAI,GAC3Is6B,GAAa96B,EAAQsf,GAC7BxjB,IAAI,CACZ+tB,QAAS8R,IACRvpE,UAAU,eAAeqpE,QAASC,YACvC,GAsBAj0B,cAnBoBrO,IACpB,MAAM,YACJ4hC,GACE39C,EAAO2iB,OAAOu7B,YACUP,EAAc39C,EAAO3D,OAAO0jB,KAAK49B,GAAe39C,EAAO3D,QAC/Dyf,WAAWC,GAC/B6hC,GAA2B,CACzB59C,SACA+b,WACA4hC,cACAE,WAAW,GACX,EASFX,gBAAiB,KAAM,CACrBt1B,cAAe,EACfU,eAAgB,EAChBsB,qBAAqB,EACrB5C,aAAc,EACd6R,kBAAmB74B,EAAO2iB,OAAO0E,WAGvC,CCpEe,SAASk3B,GAAWn8B,GACjC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACXugB,WAAY,CACVhB,cAAc,EACdiB,QAAQ,EACRC,aAAc,GACdC,YAAa,OAIjB,MAAMC,EAAqB,CAAC3c,EAAU9e,EAAUoC,KAC9C,IAAIs5B,EAAet5B,EAAe0c,EAASliB,KAAK,6BAA+BkiB,EAASliB,KAAK,4BACzF++B,EAAcv5B,EAAe0c,EAASliB,KAAK,8BAAgCkiB,EAASliB,KAAK,+BAEjE,IAAxB8+B,EAAaj4F,SACfi4F,EAAe,EAAE,mCAAmCt5B,EAAe,OAAS,iBAC5E0c,EAAS7jD,OAAOygE,IAGS,IAAvBC,EAAYl4F,SACdk4F,EAAc,EAAE,mCAAmCv5B,EAAe,QAAU,oBAC5E0c,EAAS7jD,OAAO0gE,IAGdD,EAAaj4F,SAAQi4F,EAAa,GAAG15F,MAAMqnF,QAAU99D,KAAKC,KAAKw0C,EAAU,IACzE27B,EAAYl4F,SAAQk4F,EAAY,GAAG35F,MAAMqnF,QAAU99D,KAAKC,IAAIw0C,EAAU,GAAE,EAgJ9E85B,GAAW,CACTz0B,OAAQ,OACRxoB,SACAD,KACAuuB,aAxImB,KACnB,MAAM,IACJjJ,EAAG,WACHS,EAAU,OACVzpB,EACA1xC,MAAOk6E,EACPj6E,OAAQk6E,EACR9e,aAAc52B,EACdjyB,KAAM4oD,EAAU,QAChBpC,GACE3jB,EACE2iB,EAAS3iB,EAAO2iB,OAAO67B,WACvBj5B,EAAevlB,EAAOulB,eACtBW,EAAYlmB,EAAOmmB,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,QAC1D,IACI8/C,EADAC,EAAgB,EAGhBr8B,EAAO87B,SACLl5B,GACFw5B,EAAgBj5B,EAAW/F,KAAK,uBAEH,IAAzBg/B,EAAcn4F,SAChBm4F,EAAgB,EAAE,0CAClBj5B,EAAW1nC,OAAO2gE,IAGpBA,EAActgC,IAAI,CAChB7zD,OAAQ,GAAGi6E,UAGbka,EAAgB15B,EAAItF,KAAK,uBAEI,IAAzBg/B,EAAcn4F,SAChBm4F,EAAgB,EAAE,0CAClB15B,EAAIjnC,OAAO2gE,MAKjB,IAAK,IAAIhoF,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAAG,CACzC,MAAMkrE,EAAW5lC,EAAO2iB,GAAGjoD,GAC3B,IAAI+xD,EAAa/xD,EAEbmvD,IACF4C,EAAax5C,SAAS2yD,EAASxmB,KAAK,2BAA4B,KAGlE,IAAIwjC,EAA0B,GAAbn2B,EACb4uB,EAAQhpE,KAAKynC,MAAM8oC,EAAa,KAEhC7vD,IACF6vD,GAAcA,EACdvH,EAAQhpE,KAAKynC,OAAO8oC,EAAa,MAGnC,MAAM97B,EAAWz0C,KAAKC,IAAID,KAAKsQ,IAAIijD,EAAS,GAAG9e,SAAU,IAAK,GAC9D,IAAIi7B,EAAK,EACLC,EAAK,EACLa,EAAK,EAELp2B,EAAa,GAAM,GACrBs1B,EAAc,GAAR1G,EAAY3xB,EAClBm5B,EAAK,IACKp2B,EAAa,GAAK,GAAM,GAClCs1B,EAAK,EACLc,EAAc,GAARxH,EAAY3xB,IACR+C,EAAa,GAAK,GAAM,GAClCs1B,EAAKr4B,EAAqB,EAAR2xB,EAAY3xB,EAC9Bm5B,EAAKn5B,IACK+C,EAAa,GAAK,GAAM,IAClCs1B,GAAMr4B,EACNm5B,EAAK,EAAIn5B,EAA0B,EAAbA,EAAiB2xB,GAGrCtoD,IACFgvD,GAAMA,GAGH74B,IACH84B,EAAKD,EACLA,EAAK,GAGP,MAAMrpE,EAAY,WAAWwwC,EAAe,GAAK05B,iBAA0B15B,EAAe05B,EAAa,qBAAqBb,QAASC,QAASa,OAE1I/7B,GAAY,GAAKA,GAAY,IAC/B67B,EAA6B,GAAbl2B,EAA6B,GAAX3F,EAC9B/zB,IAAK4vD,EAA8B,IAAbl2B,EAA6B,GAAX3F,IAG9C8e,EAASltD,UAAUA,GAEf4tC,EAAO66B,cACToB,EAAmB3c,EAAU9e,EAAUoC,EAE3C,CAOA,GALAO,EAAWrH,IAAI,CACb,2BAA4B,YAAYsH,EAAa,MACrD,mBAAoB,YAAYA,EAAa,QAG3CpD,EAAO87B,OACT,GAAIl5B,EACFw5B,EAAchqE,UAAU,oBAAoB8vD,EAAc,EAAIliB,EAAO+7B,oBAAoB7Z,EAAc,2CAA2CliB,EAAOg8B,oBACpJ,CACL,MAAMQ,EAAczwE,KAAK25C,IAAI22B,GAA4D,GAA3CtwE,KAAKynC,MAAMznC,KAAK25C,IAAI22B,GAAiB,IAC7E1zB,EAAa,KAAO58C,KAAK0wE,IAAkB,EAAdD,EAAkBzwE,KAAK40C,GAAK,KAAO,EAAI50C,KAAK20C,IAAkB,EAAd87B,EAAkBzwE,KAAK40C,GAAK,KAAO,GAChH+7B,EAAS18B,EAAOg8B,YAChBW,EAAS38B,EAAOg8B,YAAcrzB,EAC9Bh9C,EAASq0C,EAAO+7B,aACtBK,EAAchqE,UAAU,WAAWsqE,SAAcC,uBAA4Bxa,EAAe,EAAIx2D,SAAcw2D,EAAe,EAAIwa,uBACnI,CAGF,MAAMC,EAAU57B,EAAQia,UAAYja,EAAQka,WAAa9X,EAAa,EAAI,EAC1ED,EAAW/wC,UAAU,qBAAqBwqE,gBAAsBv/C,EAAOulB,eAAiB,EAAIy5B,iBAA6Bh/C,EAAOulB,gBAAkBy5B,EAAgB,SAClKl5B,EAAW,GAAG3gE,MAAM+8D,YAAY,4BAA6B,GAAGq9B,MAAY,EAoB5En1B,cAjBoBrO,IACpB,MAAM,IACJsJ,EAAG,OACHhpB,GACE2D,EACJ3D,EAAOyf,WAAWC,GAAUgE,KAAK,gHAAgHjE,WAAWC,GAExJ/b,EAAO2iB,OAAO67B,WAAWC,SAAWz+C,EAAOulB,gBAC7CF,EAAItF,KAAK,uBAAuBjE,WAAWC,EAC7C,EASAqhC,gBAnJsB,KAEtB,MAAM73B,EAAevlB,EAAOulB,eAC5BvlB,EAAO3D,OAAOsiB,MAAKmgB,IACjB,MAAM3b,EAAWz0C,KAAKC,IAAID,KAAKsQ,IAAI8/C,EAAQ3b,SAAU,IAAK,GAC1Dy7B,EAAmB,EAAE9f,GAAU3b,EAAUoC,EAAa,GACtD,EA8IF83B,gBAAiB,IAAMr9C,EAAO2iB,OAAO67B,WACrCrB,YAAa,KAAM,EACnBD,gBAAiB,KAAM,CACrBt1B,cAAe,EACfU,eAAgB,EAChBsB,qBAAqB,EACrB0L,gBAAiB,EACjBtO,aAAc,EACdI,gBAAgB,EAChByR,kBAAkB,KAGxB,CClMe,SAAS2mB,GAAa78B,EAAQsf,EAAU3f,GACrD,MAAMm9B,EAAc,uBAAsBn9B,EAAO,IAAIA,IAAS,IACxDo9B,EAAmB/8B,EAAOg7B,YAAc1b,EAASliB,KAAK4C,EAAOg7B,aAAe1b,EAClF,IAAI0d,EAAYD,EAAiBlgF,SAAS,IAAIigF,KAO9C,OALKE,EAAU/4F,SACb+4F,EAAY,EAAE,kCAAkCr9B,EAAO,IAAIA,IAAS,cACpEo9B,EAAiBthE,OAAOuhE,IAGnBA,CACT,CCPe,SAASC,GAAWx9B,GACjC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACX4hB,WAAY,CACVrC,cAAc,EACdsC,eAAe,EACfnC,YAAa,QAIjB,MAAMiB,EAAqB,CAAC3c,EAAU9e,EAAUR,KAC9C,IAAIk8B,EAAe7+C,EAAOulB,eAAiB0c,EAASliB,KAAK,6BAA+BkiB,EAASliB,KAAK,4BAClG++B,EAAc9+C,EAAOulB,eAAiB0c,EAASliB,KAAK,8BAAgCkiB,EAASliB,KAAK,+BAE1E,IAAxB8+B,EAAaj4F,SACfi4F,EAAeW,GAAa78B,EAAQsf,EAAUjiC,EAAOulB,eAAiB,OAAS,QAGtD,IAAvBu5B,EAAYl4F,SACdk4F,EAAcU,GAAa78B,EAAQsf,EAAUjiC,EAAOulB,eAAiB,QAAU,WAG7Es5B,EAAaj4F,SAAQi4F,EAAa,GAAG15F,MAAMqnF,QAAU99D,KAAKC,KAAKw0C,EAAU,IACzE27B,EAAYl4F,SAAQk4F,EAAY,GAAG35F,MAAMqnF,QAAU99D,KAAKC,IAAIw0C,EAAU,GAAE,EA0E9E85B,GAAW,CACTz0B,OAAQ,OACRxoB,SACAD,KACAuuB,aA5DmB,KACnB,MAAM,OACJjyB,EACA2pB,aAAc52B,GACZ4Q,EACE2iB,EAAS3iB,EAAO2iB,OAAOk9B,WAE7B,IAAK,IAAI9oF,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAAG,CACzC,MAAMkrE,EAAW5lC,EAAO2iB,GAAGjoD,GAC3B,IAAIosD,EAAW8e,EAAS,GAAG9e,SAEvBnjB,EAAO2iB,OAAOk9B,WAAWC,gBAC3B38B,EAAWz0C,KAAKC,IAAID,KAAKsQ,IAAIijD,EAAS,GAAG9e,SAAU,IAAK,IAG1D,MAAM70C,EAAS2zD,EAAS,GAAGzX,kBAE3B,IAAIu1B,GADY,IAAM58B,EAElB68B,EAAU,EACV5B,EAAKp+C,EAAO2iB,OAAO0E,SAAW/4C,EAAS0xB,EAAOwiB,WAAal0C,EAC3D+vE,EAAK,EAEJr+C,EAAOulB,eAKDn2B,IACT2wD,GAAWA,IALX1B,EAAKD,EACLA,EAAK,EACL4B,GAAWD,EACXA,EAAU,GAKZ9d,EAAS,GAAG98E,MAAM+pB,QAAUR,KAAK25C,IAAI35C,KAAKgpE,MAAMv0B,IAAa9mB,EAAOz1C,OAEhE+7D,EAAO66B,cACToB,EAAmB3c,EAAU9e,EAAUR,GAGzC,MAAM5tC,EAAY,eAAeqpE,QAASC,qBAAsB2B,iBAAuBD,QACrEtC,GAAa96B,EAAQsf,GAC7BltD,UAAUA,EACtB,GAqBAq1C,cAlBoBrO,IACpB,MAAM,YACJ4hC,GACE39C,EAAO2iB,OAAOk9B,YACUlC,EAAc39C,EAAO3D,OAAO0jB,KAAK49B,GAAe39C,EAAO3D,QAC/Dyf,WAAWC,GAAUgE,KAAK,gHAAgHjE,WAAWC,GACzK6hC,GAA2B,CACzB59C,SACA+b,WACA4hC,eACA,EASFP,gBA7EsB,KAEtB,MAAMz6B,EAAS3iB,EAAO2iB,OAAOk9B,WAC7B7/C,EAAO3D,OAAOsiB,MAAKmgB,IACjB,MAAMmD,EAAW,EAAEnD,GACnB,IAAI3b,EAAW8e,EAAS,GAAG9e,SAEvBnjB,EAAO2iB,OAAOk9B,WAAWC,gBAC3B38B,EAAWz0C,KAAKC,IAAID,KAAKsQ,IAAI8/C,EAAQ3b,SAAU,IAAK,IAGtDy7B,EAAmB3c,EAAU9e,EAAUR,EAAO,GAC9C,EAkEF06B,gBAAiB,IAAMr9C,EAAO2iB,OAAOk9B,WACrC1C,YAAa,KAAM,EACnBD,gBAAiB,KAAM,CACrBt1B,cAAe,EACfU,eAAgB,EAChBsB,qBAAqB,EACrB5C,aAAc,EACd6R,kBAAmB74B,EAAO2iB,OAAO0E,WAGvC,CCxHe,SAAS44B,GAAgB79B,GACtC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACXiiB,gBAAiB,CACfC,OAAQ,GACRC,QAAS,EACTC,MAAO,IACP3U,MAAO,EACP4U,SAAU,EACV9C,cAAc,EACdG,YAAa,QA4EjBV,GAAW,CACTz0B,OAAQ,YACRxoB,SACAD,KACAuuB,aA5EmB,KACnB,MACE3jE,MAAOk6E,EACPj6E,OAAQk6E,EAAY,OACpBzoC,EAAM,gBACNoqB,GACEzmB,EACE2iB,EAAS3iB,EAAO2iB,OAAOu9B,gBACvB36B,EAAevlB,EAAOulB,eACtBxwC,EAAYirB,EAAOwiB,UACnB+9B,EAASh7B,EAA4Bsf,EAAc,EAA1B9vD,EAA2C+vD,EAAe,EAA3B/vD,EACxDorE,EAAS56B,EAAe5C,EAAOw9B,QAAUx9B,EAAOw9B,OAChD39B,EAAYG,EAAO09B,MAEzB,IAAK,IAAItpF,EAAI,EAAGnQ,EAASy1C,EAAOz1C,OAAQmQ,EAAInQ,EAAQmQ,GAAK,EAAG,CAC1D,MAAMkrE,EAAW5lC,EAAO2iB,GAAGjoD,GACrB0wD,EAAYhB,EAAgB1vD,GAE5BypF,GAAgBD,EADFte,EAAS,GAAGzX,kBACa/C,EAAY,GAAKA,EACxDg5B,EAA8C,mBAApB99B,EAAO29B,SAA0B39B,EAAO29B,SAASE,GAAgBA,EAAe79B,EAAO29B,SACvH,IAAIP,EAAUx6B,EAAe46B,EAASM,EAAmB,EACrDT,EAAUz6B,EAAe,EAAI46B,EAASM,EAEtCC,GAAcl+B,EAAY9zC,KAAK25C,IAAIo4B,GACnCL,EAAUz9B,EAAOy9B,QAEE,iBAAZA,IAAkD,IAA1BA,EAAQvoF,QAAQ,OACjDuoF,EAAUniC,WAAW0E,EAAOy9B,SAAW,IAAM34B,GAG/C,IAAIopB,EAAatrB,EAAe,EAAI66B,EAAUK,EAC1C7P,EAAarrB,EAAe66B,EAAUK,EAAmB,EACzD/U,EAAQ,GAAK,EAAI/oB,EAAO+oB,OAASh9D,KAAK25C,IAAIo4B,GAE1C/xE,KAAK25C,IAAIuoB,GAAc,OAAOA,EAAa,GAC3CliE,KAAK25C,IAAIwoB,GAAc,OAAOA,EAAa,GAC3CniE,KAAK25C,IAAIq4B,GAAc,OAAOA,EAAa,GAC3ChyE,KAAK25C,IAAI03B,GAAW,OAAOA,EAAU,GACrCrxE,KAAK25C,IAAI23B,GAAW,OAAOA,EAAU,GACrCtxE,KAAK25C,IAAIqjB,GAAS,OAAOA,EAAQ,GACrC,MAAMiV,EAAiB,eAAe/P,OAAgBC,OAAgB6P,iBAA0BV,iBAAuBD,eAAqBrU,KAK5I,GAJkB+R,GAAa96B,EAAQsf,GAC7BltD,UAAU4rE,GACpB1e,EAAS,GAAG98E,MAAM+pB,OAAmD,EAAzCR,KAAK25C,IAAI35C,KAAKgpE,MAAM+I,IAE5C99B,EAAO66B,aAAc,CAEvB,IAAIoD,EAAkBr7B,EAAe0c,EAASliB,KAAK,6BAA+BkiB,EAASliB,KAAK,4BAC5F8gC,EAAiBt7B,EAAe0c,EAASliB,KAAK,8BAAgCkiB,EAASliB,KAAK,+BAEjE,IAA3B6gC,EAAgBh6F,SAClBg6F,EAAkBpB,GAAa78B,EAAQsf,EAAU1c,EAAe,OAAS,QAG7C,IAA1Bs7B,EAAej6F,SACjBi6F,EAAiBrB,GAAa78B,EAAQsf,EAAU1c,EAAe,QAAU,WAGvEq7B,EAAgBh6F,SAAQg6F,EAAgB,GAAGz7F,MAAMqnF,QAAUiU,EAAmB,EAAIA,EAAmB,GACrGI,EAAej6F,SAAQi6F,EAAe,GAAG17F,MAAMqnF,SAAWiU,EAAmB,GAAKA,EAAmB,EAC3G,CACF,GAgBAr2B,cAboBrO,IACpB,MAAM,YACJ4hC,GACE39C,EAAO2iB,OAAOu9B,iBACUvC,EAAc39C,EAAO3D,OAAO0jB,KAAK49B,GAAe39C,EAAO3D,QAC/Dyf,WAAWC,GAAUgE,KAAK,gHAAgHjE,WAAWC,EAAS,EASlLohC,YAAa,KAAM,EACnBD,gBAAiB,KAAM,CACrBtzB,qBAAqB,KAG3B,CCpGe,SAASk3B,GAAe1+B,GACrC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACX8iB,eAAgB,CACdpD,YAAa,KACbqD,cAAe,EACfC,mBAAmB,EACnBC,mBAAoB,EACpB/D,aAAa,EACbz9B,KAAM,CACJ8C,UAAW,CAAC,EAAG,EAAG,GAClB29B,OAAQ,CAAC,EAAG,EAAG,GACf3T,QAAS,EACTd,MAAO,GAETpsB,KAAM,CACJkD,UAAW,CAAC,EAAG,EAAG,GAClB29B,OAAQ,CAAC,EAAG,EAAG,GACf3T,QAAS,EACTd,MAAO,MAKb,MAAMyV,EAAoB/9F,GACH,iBAAVA,EAA2BA,EAC/B,GAAGA,MA4GZ65F,GAAW,CACTz0B,OAAQ,WACRxoB,SACAD,KACAuuB,aA7GmB,KACnB,MAAM,OACJjyB,EAAM,WACNypB,EAAU,gBACVW,GACEzmB,EACE2iB,EAAS3iB,EAAO2iB,OAAOo+B,gBAE3BG,mBAAoB51B,GAClB3I,EACEy+B,EAAmBphD,EAAO2iB,OAAOyE,eAEvC,GAAIg6B,EAAkB,CACpB,MAAMh0E,EAASq5C,EAAgB,GAAK,EAAIzmB,EAAO2iB,OAAOgE,oBAAsB,EAC5Eb,EAAW/wC,UAAU,yBAAyB3H,QAChD,CAEA,IAAK,IAAIrW,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAAG,CACzC,MAAMkrE,EAAW5lC,EAAO2iB,GAAGjoD,GACrBg0D,EAAgBkX,EAAS,GAAG9e,SAC5BA,EAAWz0C,KAAKsQ,IAAItQ,KAAKC,IAAIszD,EAAS,GAAG9e,UAAWR,EAAOq+B,eAAgBr+B,EAAOq+B,eACxF,IAAI51B,EAAmBjI,EAElBi+B,IACHh2B,EAAmB18C,KAAKsQ,IAAItQ,KAAKC,IAAIszD,EAAS,GAAG7W,kBAAmBzI,EAAOq+B,eAAgBr+B,EAAOq+B,gBAGpG,MAAM1yE,EAAS2zD,EAAS,GAAGzX,kBACrBiE,EAAI,CAACzuB,EAAO2iB,OAAO0E,SAAW/4C,EAAS0xB,EAAOwiB,WAAal0C,EAAQ,EAAG,GACtE+yE,EAAI,CAAC,EAAG,EAAG,GACjB,IAAIC,GAAS,EAERthD,EAAOulB,iBACVkJ,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAK,GAGT,IAAI5iE,EAAO,CACT22D,UAAW,CAAC,EAAG,EAAG,GAClB29B,OAAQ,CAAC,EAAG,EAAG,GACfzU,MAAO,EACPc,QAAS,GAGPrpB,EAAW,GACbt3D,EAAO82D,EAAOrD,KACdgiC,GAAS,GACAn+B,EAAW,IACpBt3D,EAAO82D,EAAOjD,KACd4hC,GAAS,GAIX7yB,EAAEt7D,SAAQ,CAAC/P,EAAOuT,KAChB83D,EAAE93D,GAAS,QAAQvT,UAAc+9F,EAAkBt1F,EAAK22D,UAAU7rD,SAAa+X,KAAK25C,IAAIlF,EAAWmI,MAAe,IAGpH+1B,EAAEluF,SAAQ,CAAC/P,EAAOuT,KAChB0qF,EAAE1qF,GAAS9K,EAAKs0F,OAAOxpF,GAAS+X,KAAK25C,IAAIlF,EAAWmI,EAAW,IAEjE2W,EAAS,GAAG98E,MAAM+pB,QAAUR,KAAK25C,IAAI35C,KAAKgpE,MAAM3sB,IAAkB1uB,EAAOz1C,OACzE,MAAM26F,EAAkB9yB,EAAEt4C,KAAK,MACzBqrE,EAAe,WAAWH,EAAE,kBAAkBA,EAAE,kBAAkBA,EAAE,SACpEI,EAAcr2B,EAAmB,EAAI,SAAS,GAAK,EAAIv/D,EAAK6/E,OAAStgB,EAAmBE,KAAgB,SAAS,GAAK,EAAIz/D,EAAK6/E,OAAStgB,EAAmBE,KAC3Jo2B,EAAgBt2B,EAAmB,EAAI,GAAK,EAAIv/D,EAAK2gF,SAAWphB,EAAmBE,EAAa,GAAK,EAAIz/D,EAAK2gF,SAAWphB,EAAmBE,EAC5Iv2C,EAAY,eAAewsE,MAAoBC,KAAgBC,IAErE,GAAIH,GAAUz1F,EAAK4yF,SAAW6C,EAAQ,CACpC,IAAI3B,EAAY1d,EAASziE,SAAS,wBAMlC,GAJyB,IAArBmgF,EAAU/4F,QAAgBiF,EAAK4yF,SACjCkB,EAAYH,GAAa78B,EAAQsf,IAG/B0d,EAAU/4F,OAAQ,CACpB,MAAM+6F,EAAgBh/B,EAAOs+B,kBAAoB99B,GAAY,EAAIR,EAAOq+B,eAAiB79B,EACzFw8B,EAAU,GAAGx6F,MAAMqnF,QAAU99D,KAAKsQ,IAAItQ,KAAKC,IAAID,KAAK25C,IAAIs5B,GAAgB,GAAI,EAC9E,CACF,CAEA,MAAMpwB,EAAYksB,GAAa96B,EAAQsf,GACvC1Q,EAAUx8C,UAAUA,GAAW0pC,IAAI,CACjC+tB,QAASkV,IAGP71F,EAAKssD,QACPoZ,EAAU9S,IAAI,mBAAoB5yD,EAAKssD,OAE3C,GAsBAiS,cAnBoBrO,IACpB,MAAM,YACJ4hC,GACE39C,EAAO2iB,OAAOo+B,gBACUpD,EAAc39C,EAAO3D,OAAO0jB,KAAK49B,GAAe39C,EAAO3D,QAC/Dyf,WAAWC,GAAUgE,KAAK,wBAAwBjE,WAAWC,GACjF6hC,GAA2B,CACzB59C,SACA+b,WACA4hC,cACAE,WAAW,GACX,EASFV,YAAa,IAAMn9C,EAAO2iB,OAAOo+B,eAAe5D,YAChDD,gBAAiB,KAAM,CACrBtzB,qBAAqB,EACrBiP,kBAAmB74B,EAAO2iB,OAAO0E,WAGvC,CCtJe,SAASu6B,GAAYx/B,GAClC,IAAI,OACFpiB,EAAM,aACNi+B,EAAY,GACZl+B,GACEqiB,EACJ6b,EAAa,CACX4jB,YAAa,CACXrE,cAAc,EACdG,YAAa,KACbwC,QAAQ,KAqGZlD,GAAW,CACTz0B,OAAQ,QACRxoB,SACAD,KACAuuB,aArGmB,KACnB,MAAM,OACJjyB,EAAM,YACNC,GACE0D,EACE2iB,EAAS3iB,EAAO2iB,OAAOk/B,aACvB,eACJ9sB,EAAc,UACdpD,GACE3xB,EAAOoxB,gBACLgE,EAAmBp1B,EAAOwiB,UAEhC,IAAK,IAAIzrD,EAAI,EAAGA,EAAIslC,EAAOz1C,OAAQmQ,GAAK,EAAG,CACzC,MAAMkrE,EAAW5lC,EAAO2iB,GAAGjoD,GACrBg0D,EAAgBkX,EAAS,GAAG9e,SAC5BA,EAAWz0C,KAAKsQ,IAAItQ,KAAKC,IAAIo8C,GAAgB,GAAI,GACvD,IAAIz8C,EAAS2zD,EAAS,GAAGzX,kBAErBxqB,EAAO2iB,OAAOyE,iBAAmBpnB,EAAO2iB,OAAO0E,SACjDrnB,EAAO8lB,WAAW/wC,UAAU,cAAcirB,EAAOgrB,qBAG/ChrB,EAAO2iB,OAAOyE,gBAAkBpnB,EAAO2iB,OAAO0E,UAChD/4C,GAAU+tB,EAAO,GAAGmuB,mBAGtB,IAAIs3B,EAAK9hD,EAAO2iB,OAAO0E,SAAW/4C,EAAS0xB,EAAOwiB,WAAal0C,EAC3DyzE,EAAK,EACT,MAAMC,GAAM,IAAMtzE,KAAK25C,IAAIlF,GAC3B,IAAIuoB,EAAQ,EACRyU,GAAU,EAAIh9B,EACd8+B,EAAQ,EAAyB,IAArBvzE,KAAK25C,IAAIlF,GACzB,MAAM2F,EAAa9oB,EAAOmmB,SAAWnmB,EAAO2iB,OAAOwD,QAAQlnB,QAAUe,EAAOmmB,QAAQ7jD,KAAOvL,EAAIA,EACzFmrF,GAAiBp5B,IAAexsB,GAAewsB,IAAexsB,EAAc,IAAM6mB,EAAW,GAAKA,EAAW,IAAMwO,GAAa3xB,EAAO2iB,OAAO0E,UAAY+N,EAAmBL,EAC7KotB,GAAiBr5B,IAAexsB,GAAewsB,IAAexsB,EAAc,IAAM6mB,EAAW,GAAKA,GAAY,IAAMwO,GAAa3xB,EAAO2iB,OAAO0E,UAAY+N,EAAmBL,EAEpL,GAAImtB,GAAiBC,EAAe,CAClC,MAAMC,GAAe,EAAI1zE,KAAK25C,KAAK35C,KAAK25C,IAAIlF,GAAY,IAAO,MAAS,GACxEg9B,IAAW,GAAKh9B,EAAWi/B,EAC3B1W,IAAU,GAAM0W,EAChBH,GAAS,GAAKG,EACdL,GAAS,GAAKK,EAAc1zE,KAAK25C,IAAIlF,GAAhC,GACP,CAYA,GARE2+B,EAFE3+B,EAAW,EAER,QAAQ2+B,UAAWG,EAAQvzE,KAAK25C,IAAIlF,QAChCA,EAAW,EAEf,QAAQ2+B,WAAYG,EAAQvzE,KAAK25C,IAAIlF,QAErC,GAAG2+B,OAGL9hD,EAAOulB,eAAgB,CAC1B,MAAM88B,EAAQN,EACdA,EAAKD,EACLA,EAAKO,CACP,CAEA,MAAMZ,EAAct+B,EAAW,EAAI,IAAG,GAAK,EAAIuoB,GAASvoB,GAAa,IAAG,GAAK,EAAIuoB,GAASvoB,GACpFpuC,EAAY,yBACF+sE,MAAOC,MAAOC,yBAClBr/B,EAAOw9B,OAASA,EAAS,wBAC3BsB,aAGV,GAAI9+B,EAAO66B,aAAc,CAEvB,IAAImC,EAAY1d,EAASliB,KAAK,wBAEL,IAArB4/B,EAAU/4F,SACZ+4F,EAAYH,GAAa78B,EAAQsf,IAG/B0d,EAAU/4F,SAAQ+4F,EAAU,GAAGx6F,MAAMqnF,QAAU99D,KAAKsQ,IAAItQ,KAAKC,KAAKD,KAAK25C,IAAIlF,GAAY,IAAO,GAAK,GAAI,GAC7G,CAEA8e,EAAS,GAAG98E,MAAM+pB,QAAUR,KAAK25C,IAAI35C,KAAKgpE,MAAM3sB,IAAkB1uB,EAAOz1C,OACvD62F,GAAa96B,EAAQsf,GAC7BltD,UAAUA,EACtB,GAqBAq1C,cAlBoBrO,IACpB,MAAM,YACJ4hC,GACE39C,EAAO2iB,OAAOk/B,aACUlE,EAAc39C,EAAO3D,OAAO0jB,KAAK49B,GAAe39C,EAAO3D,QAC/Dyf,WAAWC,GAAUgE,KAAK,wBAAwBjE,WAAWC,GACjF6hC,GAA2B,CACzB59C,SACA+b,WACA4hC,eACA,EASFR,YAAa,KAAM,EACnBD,gBAAiB,KAAM,CACrBtzB,qBAAqB,EACrBiP,kBAAmB74B,EAAO2iB,OAAO0E,WAGvC,IC9HIi7B,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBr/F,IAAjBs/F,EACH,OAAOA,EAAa1gG,QAGrB,IAAIC,EAASsgG,EAAyBE,GAAY,CAGjDzgG,QAAS,CAAC,GAOX,OAHA2gG,EAAoBF,GAAUroC,KAAKn4D,EAAOD,QAASC,EAAQA,EAAOD,QAASwgG,GAGpEvgG,EAAOD,OACf,QCrBAwgG,EAAoBI,EAAI,CAAC5gG,EAAS6gG,KACjC,IAAI,IAAIpiD,KAAOoiD,EACXL,EAAoBtqD,EAAE2qD,EAAYpiD,KAAS+hD,EAAoBtqD,EAAEl2C,EAASy+C,IAC5E/e,OAAOssB,eAAehsD,EAASy+C,EAAK,CAAEqhB,YAAY,EAAMp8B,IAAKm9D,EAAWpiD,IAE1E,ECND+hD,EAAoBtqD,EAAI,CAACiO,EAAKxsB,IAAU+H,OAAOy4B,UAAU9f,eAAe+f,KAAKjU,EAAKxsB,GCClF6oE,EAAoBlB,EAAKt/F,IACH,oBAAX8gG,QAA0BA,OAAOC,aAC1CrhE,OAAOssB,eAAehsD,EAAS8gG,OAAOC,YAAa,CAAE1/F,MAAO,WAE7Dq+B,OAAOssB,eAAehsD,EAAS,aAAc,CAAEqB,OAAO,GAAO,ECFpCm/F,EAAoB","sources":["webpack://AdaptiveCards/webpack/universalModuleDefinition","webpack://AdaptiveCards/./src/activity-request.ts","webpack://AdaptiveCards/./src/adaptive-applet.ts","webpack://AdaptiveCards/./src/adaptivecards.ts","webpack://AdaptiveCards/./src/card-elements.ts","webpack://AdaptiveCards/./src/card-object.ts","webpack://AdaptiveCards/./src/carousel.ts","webpack://AdaptiveCards/./src/channel-adapter.ts","webpack://AdaptiveCards/./src/controls/collection.ts","webpack://AdaptiveCards/./src/controls/constants.ts","webpack://AdaptiveCards/./src/controls/index.ts","webpack://AdaptiveCards/./src/controls/menu-item.ts","webpack://AdaptiveCards/./src/controls/popup-control.ts","webpack://AdaptiveCards/./src/controls/popup-menu.ts","webpack://AdaptiveCards/./src/enums.ts","webpack://AdaptiveCards/./src/host-capabilities.ts","webpack://AdaptiveCards/./src/host-config.ts","webpack://AdaptiveCards/./src/registry.ts","webpack://AdaptiveCards/./src/serialization.ts","webpack://AdaptiveCards/./src/shared.ts","webpack://AdaptiveCards/./src/strings.ts","webpack://AdaptiveCards/./src/table.ts","webpack://AdaptiveCards/./src/text-formatters.ts","webpack://AdaptiveCards/./src/utils.ts","webpack://AdaptiveCards/./node_modules/ssr-window/ssr-window.esm.js","webpack://AdaptiveCards/./node_modules/dom7/dom7.esm.js","webpack://AdaptiveCards/./node_modules/swiper/shared/dom.js","webpack://AdaptiveCards/./node_modules/swiper/shared/utils.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-support.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-device.js","webpack://AdaptiveCards/./node_modules/swiper/shared/get-browser.js","webpack://AdaptiveCards/./node_modules/swiper/core/events-emitter.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSize.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlides.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateAutoHeight.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesOffset.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesProgress.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateProgress.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateSlidesClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateActiveIndex.js","webpack://AdaptiveCards/./node_modules/swiper/core/update/updateClickedSlide.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionEmit.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideTo.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToLoop.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideNext.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slidePrev.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideReset.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToClosest.js","webpack://AdaptiveCards/./node_modules/swiper/core/slide/slideToClickedSlide.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopCreate.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopFix.js","webpack://AdaptiveCards/./node_modules/swiper/core/loop/loopDestroy.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchStart.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchMove.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onTouchEnd.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onResize.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onClick.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/onScroll.js","webpack://AdaptiveCards/./node_modules/swiper/core/events/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/setBreakpoint.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/addClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/classes/removeClasses.js","webpack://AdaptiveCards/./node_modules/swiper/core/defaults.js","webpack://AdaptiveCards/./node_modules/swiper/core/moduleExtendParams.js","webpack://AdaptiveCards/./node_modules/swiper/core/core.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/getTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/setTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/minTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/maxTranslate.js","webpack://AdaptiveCards/./node_modules/swiper/core/translate/translateTo.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/setTransition.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionStart.js","webpack://AdaptiveCards/./node_modules/swiper/core/transition/transitionEnd.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/setGrabCursor.js","webpack://AdaptiveCards/./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/breakpoints/getBreakpoint.js","webpack://AdaptiveCards/./node_modules/swiper/core/check-overflow/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/index.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/loadImage.js","webpack://AdaptiveCards/./node_modules/swiper/core/images/preloadImages.js","webpack://AdaptiveCards/./node_modules/swiper/core/modules/resize/resize.js","webpack://AdaptiveCards/./node_modules/swiper/core/modules/observer/observer.js","webpack://AdaptiveCards/./node_modules/swiper/modules/virtual/virtual.js","webpack://AdaptiveCards/./node_modules/swiper/modules/keyboard/keyboard.js","webpack://AdaptiveCards/./node_modules/swiper/modules/mousewheel/mousewheel.js","webpack://AdaptiveCards/./node_modules/swiper/shared/create-element-if-not-defined.js","webpack://AdaptiveCards/./node_modules/swiper/modules/navigation/navigation.js","webpack://AdaptiveCards/./node_modules/swiper/shared/classes-to-selector.js","webpack://AdaptiveCards/./node_modules/swiper/modules/pagination/pagination.js","webpack://AdaptiveCards/./node_modules/swiper/modules/scrollbar/scrollbar.js","webpack://AdaptiveCards/./node_modules/swiper/modules/parallax/parallax.js","webpack://AdaptiveCards/./node_modules/swiper/modules/zoom/zoom.js","webpack://AdaptiveCards/./node_modules/swiper/modules/lazy/lazy.js","webpack://AdaptiveCards/./node_modules/swiper/modules/controller/controller.js","webpack://AdaptiveCards/./node_modules/swiper/modules/a11y/a11y.js","webpack://AdaptiveCards/./node_modules/swiper/modules/history/history.js","webpack://AdaptiveCards/./node_modules/swiper/modules/hash-navigation/hash-navigation.js","webpack://AdaptiveCards/./node_modules/swiper/modules/autoplay/autoplay.js","webpack://AdaptiveCards/./node_modules/swiper/modules/thumbs/thumbs.js","webpack://AdaptiveCards/./node_modules/swiper/modules/free-mode/free-mode.js","webpack://AdaptiveCards/./node_modules/swiper/modules/grid/grid.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/appendSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/prependSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/addSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/removeSlide.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/methods/removeAllSlides.js","webpack://AdaptiveCards/./node_modules/swiper/modules/manipulation/manipulation.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-init.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-target.js","webpack://AdaptiveCards/./node_modules/swiper/shared/effect-virtual-transition-end.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-fade/effect-fade.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-cube/effect-cube.js","webpack://AdaptiveCards/./node_modules/swiper/shared/create-shadow.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-flip/effect-flip.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-coverflow/effect-coverflow.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-creative/effect-creative.js","webpack://AdaptiveCards/./node_modules/swiper/modules/effect-cards/effect-cards.js","webpack://AdaptiveCards/webpack/bootstrap","webpack://AdaptiveCards/webpack/runtime/define property getters","webpack://AdaptiveCards/webpack/runtime/hasOwnProperty shorthand","webpack://AdaptiveCards/webpack/runtime/make namespace object","webpack://AdaptiveCards/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AdaptiveCards\"] = factory();\n\telse\n\t\troot[\"AdaptiveCards\"] = factory();\n})(this, function() {\nreturn ","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    Authentication,\n    AuthCardButton,\n    ExecuteAction,\n    TokenExchangeResource\n} from \"./card-elements\";\n\nexport enum ActivityRequestTrigger {\n    Automatic = \"automatic\",\n    Manual = \"manual\"\n}\n\nexport interface IActivityRequest {\n    readonly action: ExecuteAction;\n    readonly trigger: ActivityRequestTrigger;\n    readonly attemptNumber: number;\n    readonly consecutiveRefreshes: number;\n\n    authCode?: string;\n    authToken?: string;\n\n    retryAsync(): void;\n}\n\nexport class ActivityRequestError {\n    constructor(readonly code?: string, readonly message?: string) {}\n}\n\nexport abstract class ActivityResponse {\n    constructor(readonly request: IActivityRequest) {}\n}\n\nexport class SuccessResponse extends ActivityResponse {\n    constructor(readonly request: IActivityRequest, readonly rawContent?: string) {\n        super(request);\n    }\n}\n\nexport class ErrorResponse extends ActivityResponse {\n    constructor(readonly request: IActivityRequest, readonly error: ActivityRequestError) {\n        super(request);\n    }\n}\n\nexport class LoginRequestResponse extends ActivityResponse {\n    private _auth: Authentication;\n    readonly signinButton?: AuthCardButton;\n\n    constructor(readonly request: IActivityRequest, auth: Authentication) {\n        super(request);\n        this._auth = auth;\n\n        for (const button of this._auth.buttons) {\n            if (button.type === \"signin\" && button.value !== undefined) {\n                try {\n                    new URL(button.value);\n\n                    this.signinButton = button;\n\n                    break;\n                } catch (e) {\n                    // Ignore parsing error\n                }\n            }\n        }\n    }\n\n    get tokenExchangeResource(): TokenExchangeResource | undefined {\n        return this._auth.tokenExchangeResource;\n    }\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Utils from \"./utils\";\nimport { GlobalSettings } from \"./shared\";\nimport { ChannelAdapter } from \"./channel-adapter\";\nimport {\n    ActivityResponse,\n    IActivityRequest,\n    ActivityRequestTrigger,\n    SuccessResponse,\n    ErrorResponse,\n    LoginRequestResponse\n} from \"./activity-request\";\nimport { Strings } from \"./strings\";\nimport {\n    SubmitAction,\n    ExecuteAction,\n    SerializationContext,\n    AdaptiveCard,\n    Action,\n    Input,\n    TokenExchangeResource,\n    AuthCardButton\n} from \"./card-elements\";\nimport { Versions } from \"./serialization\";\nimport { HostConfig } from \"./host-config\";\n\nfunction logEvent(level: Enums.LogLevel, message?: any, ...optionalParams: any[]) {\n    if (GlobalSettings.applets.logEnabled) {\n        if (GlobalSettings.applets.onLogEvent) {\n            GlobalSettings.applets.onLogEvent(level, message, optionalParams);\n        } else {\n            /* eslint-disable no-console */\n            switch (level) {\n                case Enums.LogLevel.Warning:\n                    console.warn(message, optionalParams);\n                    break;\n                case Enums.LogLevel.Error:\n                    console.error(message, optionalParams);\n                    break;\n                default:\n                    console.log(message, optionalParams);\n                    break;\n            }\n            /* eslint-enable no-console */\n        }\n    }\n}\n\nclass ActivityRequest implements IActivityRequest {\n    constructor(\n        readonly action: ExecuteAction,\n        readonly trigger: ActivityRequestTrigger,\n        readonly consecutiveRefreshes: number\n    ) {}\n\n    authCode?: string;\n    authToken?: string;\n    attemptNumber: number = 0;\n\n    onSend: (sender: ActivityRequest) => void;\n\n    // eslint-disable-next-line @typescript-eslint/require-await\n    async retryAsync(): Promise<void> {\n        if (this.onSend) {\n            this.onSend(this);\n        }\n    }\n}\n\nexport class AdaptiveApplet {\n    private static readonly _submitMagicCodeActionId = \"submitMagicCode\";\n    private static readonly _cancelMagicCodeAuthActionId = \"cancelMagicCodeAuth\";\n\n    private _card?: AdaptiveCard;\n    private _cardPayload: any;\n    private _allowAutomaticCardUpdate: boolean = false;\n    private _refreshButtonHostElement: HTMLElement;\n    private _cardHostElement: HTMLElement;\n    private _progressOverlay?: HTMLElement;\n\n    private displayCard(card: AdaptiveCard) {\n        if (card.renderedElement) {\n            Utils.clearElementChildren(this._cardHostElement);\n\n            this._refreshButtonHostElement.style.display = \"none\";\n\n            this._cardHostElement.appendChild(card.renderedElement);\n        } else {\n            throw new Error(\"displayCard: undefined card.\");\n        }\n    }\n\n    private showManualRefreshButton(refreshAction: ExecuteAction) {\n        const displayBuiltInManualRefreshButton = this.onShowManualRefreshButton\n            ? this.onShowManualRefreshButton(this)\n            : true;\n\n        if (displayBuiltInManualRefreshButton) {\n            this._refreshButtonHostElement.style.display = \"none\";\n\n            let renderedRefreshButton: HTMLElement | undefined = undefined;\n\n            if (this.onRenderManualRefreshButton) {\n                renderedRefreshButton = this.onRenderManualRefreshButton(this);\n            } else {\n                let message = Strings.runtime.refreshThisCard();\n\n                if (GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Automatic) {\n                    let autoRefreshPausedMessage = Strings.runtime.automaticRefreshPaused();\n\n                    if (autoRefreshPausedMessage[autoRefreshPausedMessage.length - 1] !== \" \") {\n                        autoRefreshPausedMessage += \" \";\n                    }\n\n                    message = Strings.runtime.clckToRestartAutomaticRefresh();\n                }\n\n                const cardPayload = {\n                    type: \"AdaptiveCard\",\n                    version: \"1.2\",\n                    body: [\n                        {\n                            type: \"RichTextBlock\",\n                            horizontalAlignment: \"right\",\n                            inlines: [\n                                {\n                                    type: \"TextRun\",\n                                    text: message,\n                                    selectAction: {\n                                        type: \"Action.Submit\",\n                                        id: \"refreshCard\"\n                                    }\n                                }\n                            ]\n                        }\n                    ]\n                };\n\n                const card = new AdaptiveCard();\n                card.parse(cardPayload, new SerializationContext(Versions.v1_2));\n                card.onExecuteAction = (action: Action) => {\n                    if (action.id === \"refreshCard\") {\n                        Utils.clearElementChildren(this._refreshButtonHostElement);\n\n                        this.internalExecuteAction(\n                            refreshAction,\n                            ActivityRequestTrigger.Automatic,\n                            0\n                        );\n                    }\n                };\n\n                renderedRefreshButton = card.render();\n            }\n\n            if (renderedRefreshButton) {\n                Utils.clearElementChildren(this._refreshButtonHostElement);\n\n                this._refreshButtonHostElement.appendChild(renderedRefreshButton);\n\n                this._refreshButtonHostElement.style.removeProperty(\"display\");\n            }\n        }\n    }\n\n    private createActivityRequest(\n        action: ExecuteAction,\n        trigger: ActivityRequestTrigger,\n        consecutiveRefreshes: number\n    ): ActivityRequest | undefined {\n        if (this.card) {\n            const request = new ActivityRequest(action, trigger, consecutiveRefreshes);\n            request.onSend = (sender: ActivityRequest) => {\n                sender.attemptNumber++;\n\n                void this.internalSendActivityRequestAsync(request);\n            };\n\n            const cancel = this.onPrepareActivityRequest\n                ? !this.onPrepareActivityRequest(this, request, action)\n                : false;\n\n            return cancel ? undefined : request;\n        } else {\n            throw new Error(\"createActivityRequest: no card has been set.\");\n        }\n    }\n\n    private createMagicCodeInputCard(attemptNumber: number): AdaptiveCard {\n        const payload = {\n            type: \"AdaptiveCard\",\n            version: \"1.0\",\n            body: [\n                {\n                    type: \"TextBlock\",\n                    color: \"attention\",\n                    text: attemptNumber === 1 ? undefined : \"That didn't work... let's try again.\",\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"TextBlock\",\n                    text: 'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"Input.Text\",\n                    id: \"magicCode\",\n                    placeholder: \"Enter magic code\"\n                },\n                {\n                    type: \"ActionSet\",\n                    horizontalAlignment: \"center\",\n                    actions: [\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._submitMagicCodeActionId,\n                            title: \"Submit\"\n                        },\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._cancelMagicCodeAuthActionId,\n                            title: \"Cancel\"\n                        }\n                    ]\n                }\n            ]\n        };\n\n        const card = new AdaptiveCard();\n        card.parse(payload);\n\n        return card;\n    }\n\n    private cancelAutomaticRefresh() {\n        if (this._allowAutomaticCardUpdate) {\n            logEvent(\n                Enums.LogLevel.Warning,\n                \"Automatic card refresh has been cancelled as a result of the user interacting with the card.\"\n            );\n        }\n\n        this._allowAutomaticCardUpdate = false;\n    }\n\n    private createSerializationContext(): SerializationContext {\n        return this.onCreateSerializationContext\n            ? this.onCreateSerializationContext(this)\n            : new SerializationContext();\n    }\n\n    private internalSetCard(payload: any, consecutiveRefreshes: number) {\n        if (typeof payload === \"object\" && payload[\"type\"] === \"AdaptiveCard\") {\n            this._cardPayload = payload;\n        }\n\n        if (this._cardPayload) {\n            try {\n                const card = new AdaptiveCard();\n\n                if (this.hostConfig) {\n                    card.hostConfig = this.hostConfig;\n                }\n\n                const serializationContext = this.createSerializationContext();\n\n                card.parse(this._cardPayload, serializationContext);\n\n                const doChangeCard = this.onCardChanging\n                    ? this.onCardChanging(this, this._cardPayload)\n                    : true;\n\n                if (doChangeCard) {\n                    this._card = card;\n\n                    if (\n                        this._card.authentication &&\n                        this._card.authentication.tokenExchangeResource &&\n                        this.onPrefetchSSOToken\n                    ) {\n                        this.onPrefetchSSOToken(\n                            this,\n                            this._card.authentication.tokenExchangeResource\n                        );\n                    }\n\n                    this._card.onExecuteAction = (action: Action) => {\n                        // If the user takes an action, cancel any pending automatic refresh\n                        this.cancelAutomaticRefresh();\n\n                        this.internalExecuteAction(action, ActivityRequestTrigger.Manual, 0);\n                    };\n                    this._card.onInputValueChanged = (_input: Input) => {\n                        // If the user modifies an input, cancel any pending automatic refresh\n                        this.cancelAutomaticRefresh();\n                    };\n\n                    this._card.render();\n\n                    if (this._card.renderedElement) {\n                        this.displayCard(this._card);\n\n                        if (this.onCardChanged) {\n                            this.onCardChanged(this);\n                        }\n\n                        if (this._card.refresh) {\n                            if (\n                                GlobalSettings.applets.refresh.mode ===\n                                    Enums.RefreshMode.Automatic &&\n                                consecutiveRefreshes <\n                                    GlobalSettings.applets.refresh\n                                        .maximumConsecutiveAutomaticRefreshes\n                            ) {\n                                if (\n                                    GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes <=\n                                    0\n                                ) {\n                                    logEvent(\n                                        Enums.LogLevel.Info,\n                                        \"Triggering automatic card refresh number \" +\n                                            (consecutiveRefreshes + 1)\n                                    );\n\n                                    this.internalExecuteAction(\n                                        this._card.refresh.action,\n                                        ActivityRequestTrigger.Automatic,\n                                        consecutiveRefreshes + 1\n                                    );\n                                } else {\n                                    logEvent(\n                                        Enums.LogLevel.Info,\n                                        \"Scheduling automatic card refresh number \" +\n                                            (consecutiveRefreshes + 1) +\n                                            \" in \" +\n                                            GlobalSettings.applets.refresh\n                                                .timeBetweenAutomaticRefreshes +\n                                            \"ms\"\n                                    );\n\n                                    const action = this._card.refresh.action;\n\n                                    this._allowAutomaticCardUpdate = true;\n\n                                    window.setTimeout(() => {\n                                        if (this._allowAutomaticCardUpdate) {\n                                            this.internalExecuteAction(\n                                                action,\n                                                ActivityRequestTrigger.Automatic,\n                                                consecutiveRefreshes + 1\n                                            );\n                                        }\n                                    }, GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes);\n                                }\n                            } else if (\n                                GlobalSettings.applets.refresh.mode !== Enums.RefreshMode.Disabled\n                            ) {\n                                if (consecutiveRefreshes > 0) {\n                                    logEvent(\n                                        Enums.LogLevel.Warning,\n                                        \"Stopping automatic refreshes after \" +\n                                            consecutiveRefreshes +\n                                            \" consecutive refreshes.\"\n                                    );\n                                } else {\n                                    logEvent(\n                                        Enums.LogLevel.Warning,\n                                        \"The card has a refresh section, but automatic refreshes are disabled.\"\n                                    );\n                                }\n\n                                if (\n                                    GlobalSettings.applets.refresh\n                                        .allowManualRefreshesAfterAutomaticRefreshes ||\n                                    GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Manual\n                                ) {\n                                    logEvent(Enums.LogLevel.Info, \"Showing manual refresh button.\");\n\n                                    this.showManualRefreshButton(this._card.refresh.action);\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                // Ignore all errors\n                logEvent(Enums.LogLevel.Error, \"setCard: \" + error);\n            }\n        }\n    }\n\n    private internalExecuteAction(\n        action: Action,\n        trigger: ActivityRequestTrigger,\n        consecutiveRefreshes: number\n    ) {\n        if (action instanceof ExecuteAction) {\n            if (this.channelAdapter) {\n                const request = this.createActivityRequest(action, trigger, consecutiveRefreshes);\n\n                if (request) {\n                    void request.retryAsync();\n                }\n            } else {\n                throw new Error(\"internalExecuteAction: No channel adapter set.\");\n            }\n        }\n\n        if (this.onAction) {\n            this.onAction(this, action);\n        }\n    }\n\n    private createProgressOverlay(request: ActivityRequest): HTMLElement | undefined {\n        if (!this._progressOverlay) {\n            if (this.onCreateProgressOverlay) {\n                this._progressOverlay = this.onCreateProgressOverlay(this, request);\n            } else {\n                this._progressOverlay = document.createElement(\"div\");\n                this._progressOverlay.className = \"aaf-progress-overlay\";\n\n                const spinner = document.createElement(\"div\");\n                spinner.className = \"aaf-spinner\";\n                spinner.style.width = \"28px\";\n                spinner.style.height = \"28px\";\n\n                this._progressOverlay.appendChild(spinner);\n            }\n        }\n\n        return this._progressOverlay;\n    }\n\n    private removeProgressOverlay(request: IActivityRequest) {\n        if (this.onRemoveProgressOverlay) {\n            this.onRemoveProgressOverlay(this, request);\n        }\n\n        if (this._progressOverlay !== undefined) {\n            this.renderedElement.removeChild(this._progressOverlay);\n\n            this._progressOverlay = undefined;\n        }\n    }\n\n    private activityRequestSucceeded(\n        response: SuccessResponse,\n        parsedContent: string | AdaptiveCard | undefined\n    ) {\n        if (this.onActivityRequestSucceeded) {\n            this.onActivityRequestSucceeded(this, response, parsedContent);\n        }\n    }\n\n    private activityRequestFailed(response: ErrorResponse): number {\n        return this.onActivityRequestFailed\n            ? this.onActivityRequestFailed(this, response)\n            : GlobalSettings.applets.defaultTimeBetweenRetryAttempts;\n    }\n\n    private showAuthCodeInputDialog(request: ActivityRequest) {\n        const showBuiltInAuthCodeInputCard = this.onShowAuthCodeInputDialog\n            ? this.onShowAuthCodeInputDialog(this, request)\n            : true;\n\n        if (showBuiltInAuthCodeInputCard) {\n            const authCodeInputCard = this.createMagicCodeInputCard(request.attemptNumber);\n            authCodeInputCard.render();\n            authCodeInputCard.onExecuteAction = (submitMagicCodeAction: Action) => {\n                if (this.card && submitMagicCodeAction instanceof SubmitAction) {\n                    switch (submitMagicCodeAction.id) {\n                        case AdaptiveApplet._submitMagicCodeActionId:\n                            let authCode: string | undefined = undefined;\n\n                            if (\n                                submitMagicCodeAction.data &&\n                                typeof (<any>submitMagicCodeAction.data)[\"magicCode\"] === \"string\"\n                            ) {\n                                authCode = (<any>submitMagicCodeAction.data)[\"magicCode\"];\n                            }\n\n                            if (authCode) {\n                                this.displayCard(this.card);\n\n                                request.authCode = authCode;\n                                void request.retryAsync();\n                            } else {\n                                alert(\"Please enter the magic code you received.\");\n                            }\n\n                            break;\n                        case AdaptiveApplet._cancelMagicCodeAuthActionId:\n                            logEvent(Enums.LogLevel.Warning, \"Authentication cancelled by user.\");\n\n                            this.displayCard(this.card);\n\n                            break;\n                        default:\n                            logEvent(\n                                Enums.LogLevel.Error,\n                                \"Unexpected action taken from magic code input card (id = \" +\n                                    submitMagicCodeAction.id +\n                                    \")\"\n                            );\n\n                            alert(Strings.magicCodeInputCard.somethingWentWrong());\n\n                            break;\n                    }\n                }\n            };\n\n            this.displayCard(authCodeInputCard);\n        }\n    }\n\n    private async internalSendActivityRequestAsync(request: ActivityRequest) {\n        if (!this.channelAdapter) {\n            throw new Error(\"internalSendActivityRequestAsync: channelAdapter is not set.\");\n        }\n\n        const overlay = this.createProgressOverlay(request);\n\n        if (overlay !== undefined) {\n            this.renderedElement.appendChild(overlay);\n        }\n\n        let done = false;\n\n        while (!done) {\n            let response: ActivityResponse | undefined = undefined;\n\n            if (request.attemptNumber === 1) {\n                logEvent(\n                    Enums.LogLevel.Info,\n                    \"Sending activity request to channel (attempt \" + request.attemptNumber + \")\"\n                );\n            } else {\n                logEvent(\n                    Enums.LogLevel.Info,\n                    \"Re-sending activity request to channel (attempt \" + request.attemptNumber + \")\"\n                );\n            }\n\n            try {\n                response = await this.channelAdapter.sendRequestAsync(request);\n            } catch (error) {\n                logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error);\n\n                this.removeProgressOverlay(request);\n\n                done = true;\n            }\n\n            if (response) {\n                if (response instanceof SuccessResponse) {\n                    this.removeProgressOverlay(request);\n\n                    if (response.rawContent === undefined) {\n                        throw new Error(\n                            \"internalSendActivityRequestAsync: Action.Execute result is undefined\"\n                        );\n                    }\n\n                    let parsedContent = response.rawContent;\n\n                    try {\n                        parsedContent = JSON.parse(response.rawContent);\n                    } catch {\n                        // Leave parseContent as is\n                    }\n\n                    if (typeof parsedContent === \"string\") {\n                        logEvent(\n                            Enums.LogLevel.Info,\n                            \"The activity request returned a string after \" +\n                                request.attemptNumber +\n                                \" attempt(s).\"\n                        );\n\n                        this.activityRequestSucceeded(response, parsedContent);\n                    } else if (\n                        typeof parsedContent === \"object\" &&\n                        parsedContent[\"type\"] === \"AdaptiveCard\"\n                    ) {\n                        logEvent(\n                            Enums.LogLevel.Info,\n                            \"The activity request returned an Adaptive Card after \" +\n                                request.attemptNumber +\n                                \" attempt(s).\"\n                        );\n\n                        this.internalSetCard(parsedContent, request.consecutiveRefreshes);\n                        this.activityRequestSucceeded(response, this.card);\n                    } else {\n                        throw new Error(\n                            \"internalSendActivityRequestAsync: Action.Execute result is of unsupported type (\" +\n                                typeof response.rawContent +\n                                \")\"\n                        );\n                    }\n\n                    done = true;\n                } else if (response instanceof ErrorResponse) {\n                    const retryIn: number = this.activityRequestFailed(response);\n\n                    if (\n                        retryIn >= 0 &&\n                        request.attemptNumber < GlobalSettings.applets.maximumRetryAttempts\n                    ) {\n                        logEvent(\n                            Enums.LogLevel.Warning,\n                            `Activity request failed: ${response.error.message}. Retrying in ${retryIn}ms`\n                        );\n\n                        request.attemptNumber++;\n\n                        await new Promise<void>((resolve, _reject) => {\n                            window.setTimeout(() => {\n                                resolve();\n                            }, retryIn);\n                        });\n                    } else {\n                        logEvent(\n                            Enums.LogLevel.Error,\n                            `Activity request failed: ${response.error.message}. Giving up after ${request.attemptNumber} attempt(s)`\n                        );\n\n                        this.removeProgressOverlay(request);\n\n                        done = true;\n                    }\n                } else if (response instanceof LoginRequestResponse) {\n                    logEvent(\n                        Enums.LogLevel.Info,\n                        \"The activity request returned a LoginRequestResponse after \" +\n                            request.attemptNumber +\n                            \" attempt(s).\"\n                    );\n\n                    if (request.attemptNumber <= GlobalSettings.applets.maximumRetryAttempts) {\n                        let attemptOAuth = true;\n\n                        if (response.tokenExchangeResource && this.onSSOTokenNeeded) {\n                            // Attempt to use SSO. The host will return true if it can handle SSO, in which case\n                            // we bypass OAuth\n                            attemptOAuth = !this.onSSOTokenNeeded(\n                                this,\n                                request,\n                                response.tokenExchangeResource\n                            );\n                        }\n\n                        if (attemptOAuth) {\n                            // Attempt to use OAuth\n                            this.removeProgressOverlay(request);\n\n                            if (response.signinButton === undefined) {\n                                throw new Error(\n                                    \"internalSendActivityRequestAsync: the login request doesn't contain a valid signin URL.\"\n                                );\n                            }\n\n                            logEvent(\n                                Enums.LogLevel.Info,\n                                \"Login required at \" + response.signinButton.value\n                            );\n\n                            if (this.onShowSigninPrompt) {\n                                // Bypass the built-in auth prompt if the host app handles it\n                                this.onShowSigninPrompt(this, request, response.signinButton);\n                            } else {\n                                this.showAuthCodeInputDialog(request);\n\n                                const left =\n                                    window.screenX +\n                                    (window.outerWidth - GlobalSettings.applets.authPromptWidth) /\n                                        2;\n                                const top =\n                                    window.screenY +\n                                    (window.outerHeight - GlobalSettings.applets.authPromptHeight) /\n                                        2;\n\n                                window.open(\n                                    response.signinButton.value,\n                                    response.signinButton.title\n                                        ? response.signinButton.title\n                                        : \"Sign in\",\n                                    `width=${GlobalSettings.applets.authPromptWidth},height=${GlobalSettings.applets.authPromptHeight},left=${left},top=${top}`\n                                );\n                            }\n                        }\n                    } else {\n                        logEvent(\n                            Enums.LogLevel.Error,\n                            \"Authentication failed. Giving up after \" +\n                                request.attemptNumber +\n                                \" attempt(s)\"\n                        );\n\n                        alert(Strings.magicCodeInputCard.authenticationFailed());\n                    }\n\n                    // Exit the loop. After a LoginRequestResponse, the host app is responsible for retrying the request\n                    break;\n                } else {\n                    throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                }\n            }\n        }\n    }\n\n    readonly renderedElement: HTMLElement;\n\n    hostConfig?: HostConfig;\n    channelAdapter?: ChannelAdapter;\n\n    onCardChanging?: (sender: AdaptiveApplet, card: any) => boolean;\n    onCardChanged?: (sender: AdaptiveApplet) => void;\n    onPrefetchSSOToken?: (\n        sender: AdaptiveApplet,\n        tokenExchangeResource: TokenExchangeResource\n    ) => void;\n    onSSOTokenNeeded?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        tokenExchangeResource: TokenExchangeResource\n    ) => boolean;\n    onPrepareActivityRequest?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        action: ExecuteAction\n    ) => boolean;\n    onActivityRequestSucceeded?: (\n        sender: AdaptiveApplet,\n        response: SuccessResponse,\n        parsedContent: string | AdaptiveCard | undefined\n    ) => void;\n    onActivityRequestFailed?: (sender: AdaptiveApplet, response: ErrorResponse) => number;\n    onCreateSerializationContext?: (sender: AdaptiveApplet) => SerializationContext;\n    onCreateProgressOverlay?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest\n    ) => HTMLElement | undefined;\n    onRemoveProgressOverlay?: (sender: AdaptiveApplet, request: IActivityRequest) => void;\n    onRenderManualRefreshButton?: (sender: AdaptiveApplet) => HTMLElement | undefined;\n    onAction?: (sender: AdaptiveApplet, action: Action) => void;\n    onShowManualRefreshButton?: (sender: AdaptiveApplet) => boolean;\n    onShowAuthCodeInputDialog?: (sender: AdaptiveApplet, request: IActivityRequest) => boolean;\n    onShowSigninPrompt?: (\n        sender: AdaptiveApplet,\n        request: IActivityRequest,\n        signinButton: AuthCardButton\n    ) => void;\n\n    constructor() {\n        this.renderedElement = document.createElement(\"div\");\n        this.renderedElement.className = \"aaf-cardHost\";\n        this.renderedElement.style.position = \"relative\";\n        this.renderedElement.style.display = \"flex\";\n        this.renderedElement.style.flexDirection = \"column\";\n\n        this._cardHostElement = document.createElement(\"div\");\n\n        this._refreshButtonHostElement = document.createElement(\"div\");\n        this._refreshButtonHostElement.className = \"aaf-refreshButtonHost\";\n        this._refreshButtonHostElement.style.display = \"none\";\n\n        this.renderedElement.appendChild(this._cardHostElement);\n        this.renderedElement.appendChild(this._refreshButtonHostElement);\n    }\n\n    refreshCard() {\n        if (this._card && this._card.refresh) {\n            this.internalExecuteAction(this._card.refresh.action, ActivityRequestTrigger.Manual, 0);\n        }\n    }\n\n    setCard(payload: any) {\n        this.internalSetCard(payload, 0);\n    }\n\n    get card(): AdaptiveCard | undefined {\n        return this._card;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport * from \"./strings\";\nexport * from \"./enums\";\nexport * from \"./shared\";\nexport * from \"./utils\";\nexport * from \"./serialization\";\nexport * from \"./host-capabilities\";\nexport * from \"./host-config\";\nexport * from \"./registry\";\nexport * from \"./card-object\";\nexport * from \"./card-elements\";\nexport * from \"./carousel\";\nexport * from \"./table\";\nexport * from \"./channel-adapter\";\nexport * from \"./activity-request\";\nexport * from \"./adaptive-applet\";\n\nexport { IAdaptiveCard, ICardElement } from \"./schema\";\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport { CarouselEvent } from \"./carousel\";\nimport {\n    PaddingDefinition,\n    GlobalSettings,\n    SizeAndUnit,\n    SpacingDefinition,\n    ISeparationDefinition,\n    Dictionary,\n    StringWithSubstitutions,\n    ContentTypes,\n    IInput,\n    IResourceInformation\n} from \"./shared\";\nimport * as Utils from \"./utils\";\nimport {\n    HostConfig,\n    defaultHostConfig,\n    BaseTextDefinition,\n    FontTypeDefinition,\n    ColorSetDefinition,\n    TextColorDefinition,\n    ContainerStyleDefinition,\n    TextStyleDefinition\n} from \"./host-config\";\nimport * as TextFormatters from \"./text-formatters\";\nimport { CardObject, ValidationResults } from \"./card-object\";\nimport {\n    Versions,\n    Version,\n    property,\n    BaseSerializationContext,\n    SerializableObject,\n    SerializableObjectSchema,\n    StringProperty,\n    BoolProperty,\n    ValueSetProperty,\n    EnumProperty,\n    SerializableObjectCollectionProperty,\n    SerializableObjectProperty,\n    PixelSizeProperty,\n    NumProperty,\n    PropertyBag,\n    CustomProperty,\n    PropertyDefinition,\n    StringArrayProperty\n} from \"./serialization\";\nimport { CardObjectRegistry, GlobalRegistry } from \"./registry\";\nimport { Strings } from \"./strings\";\nimport { MenuItem, PopupMenu } from \"./controls\";\n\n\nfunction clearElement(element: HTMLElement) : void {\n    const trustedHtml = (typeof window === 'undefined') ? \"\" : (window.trustedTypes?.emptyHTML ?? \"\");\n    element.innerHTML = trustedHtml as string;\n}\n\nexport function renderSeparation(\n    hostConfig: HostConfig,\n    separationDefinition: ISeparationDefinition,\n    orientation: Enums.Orientation\n): HTMLElement | undefined {\n    if (\n        separationDefinition.spacing > 0 ||\n        (separationDefinition.lineThickness && separationDefinition.lineThickness > 0)\n    ) {\n        const separator = document.createElement(\"div\");\n        separator.className = hostConfig.makeCssClassName(\n            \"ac-\" +\n                (orientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\") +\n                \"-separator\"\n        );\n        separator.setAttribute(\"aria-hidden\", \"true\");\n\n        const color = separationDefinition.lineColor\n            ? Utils.stringToCssColor(separationDefinition.lineColor)\n            : \"\";\n\n        if (orientation === Enums.Orientation.Horizontal) {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingTop = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginBottom = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderBottom =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            } else {\n                separator.style.height = separationDefinition.spacing + \"px\";\n            }\n        } else {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingLeft = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginRight = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderRight =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            } else {\n                separator.style.width = separationDefinition.spacing + \"px\";\n            }\n        }\n\n        separator.style.overflow = \"hidden\";\n        separator.style.flex = \"0 0 auto\";\n\n        return separator;\n    } else {\n        return undefined;\n    }\n}\n\nexport type CardElementHeight = \"auto\" | \"stretch\";\n\nexport abstract class CardElement extends CardObject {\n    //#region Schema\n\n    static readonly langProperty = new StringProperty(\n        Versions.v1_1,\n        \"lang\",\n        true,\n        /^[a-z]{2,3}$/gi\n    );\n    static readonly isVisibleProperty = new BoolProperty(Versions.v1_2, \"isVisible\", true);\n    static readonly separatorProperty = new BoolProperty(Versions.v1_0, \"separator\", false);\n    static readonly heightProperty = new ValueSetProperty(\n        Versions.v1_1,\n        \"height\",\n        [{ value: \"auto\" }, { value: \"stretch\" }],\n        \"auto\"\n    );\n    static readonly horizontalAlignmentProperty = new EnumProperty(\n        Versions.v1_0,\n        \"horizontalAlignment\",\n        Enums.HorizontalAlignment\n    );\n    static readonly spacingProperty = new EnumProperty(\n        Versions.v1_0,\n        \"spacing\",\n        Enums.Spacing,\n        Enums.Spacing.Default\n    );\n\n    @property(CardElement.horizontalAlignmentProperty)\n    horizontalAlignment?: Enums.HorizontalAlignment;\n\n    @property(CardElement.spacingProperty)\n    spacing: Enums.Spacing;\n\n    @property(CardElement.separatorProperty)\n    separator: boolean;\n\n    @property(CardElement.heightProperty)\n    height: CardElementHeight;\n\n    @property(CardElement.langProperty)\n    get lang(): string | undefined {\n        const lang = this.getValue(CardElement.langProperty);\n\n        if (lang) {\n            return lang;\n        } else {\n            if (this.parent) {\n                return this.parent.lang;\n            } else {\n                return undefined;\n            }\n        }\n    }\n\n    set lang(value: string | undefined) {\n        this.setValue(CardElement.langProperty, value);\n    }\n\n    @property(CardElement.isVisibleProperty)\n    get isVisible(): boolean {\n        return this.getValue(CardElement.isVisibleProperty);\n    }\n\n    set isVisible(value: boolean) {\n        // If the element is going to be hidden, reset any changes that were due\n        // to overflow truncation (this ensures that if the element is later\n        // un-hidden it has the right content)\n        if (GlobalSettings.useAdvancedCardBottomTruncation && !value) {\n            this.undoOverflowTruncation();\n        }\n\n        if (this.isVisible !== value) {\n            this.setValue(CardElement.isVisibleProperty, value);\n\n            this.updateRenderedElementVisibility();\n\n            if (this._renderedElement) {\n                raiseElementVisibilityChangedEvent(this);\n            }\n        }\n\n        if (this._renderedElement) {\n            this._renderedElement.setAttribute(\"aria-expanded\", value.toString());\n        }\n    }\n\n    //#endregion\n\n    private _hostConfig?: HostConfig;\n    private _separatorElement?: HTMLElement;\n    private _truncatedDueToOverflow: boolean = false;\n    private _defaultRenderedElementDisplayMode?: string;\n    private _padding?: PaddingDefinition;\n\n    private internalRenderSeparator(): HTMLElement | undefined {\n        const renderedSeparator = renderSeparation(\n            this.hostConfig,\n            {\n                spacing: this.hostConfig.getEffectiveSpacing(this.spacing),\n                lineThickness: this.separator ? this.hostConfig.separator.lineThickness : undefined,\n                lineColor: this.separator ? this.hostConfig.separator.lineColor : undefined\n            },\n            this.separatorOrientation\n        );\n\n        if (\n            GlobalSettings.alwaysBleedSeparators &&\n            renderedSeparator &&\n            this.separatorOrientation === Enums.Orientation.Horizontal\n        ) {\n            // Adjust separator's margins if the option to always bleed separators is turned on\n            const parentContainer = this.getParentContainer();\n\n            if (parentContainer && parentContainer.getEffectivePadding()) {\n                const parentPhysicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                    parentContainer.getEffectivePadding()\n                );\n\n                renderedSeparator.style.marginLeft = \"-\" + parentPhysicalPadding.left + \"px\";\n                renderedSeparator.style.marginRight = \"-\" + parentPhysicalPadding.right + \"px\";\n            }\n        }\n\n        return renderedSeparator;\n    }\n\n    private updateRenderedElementVisibility() {\n        const displayMode =\n            this.isDesignMode() || this.isVisible\n                ? this._defaultRenderedElementDisplayMode\n                : \"none\";\n\n        if (this._renderedElement) {\n            if (displayMode) {\n                this._renderedElement.style.display = displayMode;\n            } else {\n                this._renderedElement.style.removeProperty(\"display\");\n            }\n        }\n\n        if (this._separatorElement) {\n            if (this.parent && this.parent.isFirstElement(this)) {\n                this._separatorElement.style.display = \"none\";\n            } else {\n                if (displayMode) {\n                    this._separatorElement.style.display = displayMode;\n                } else {\n                    this._separatorElement.style.removeProperty(\"display\");\n                }\n            }\n        }\n    }\n\n    private hideElementDueToOverflow() {\n        if (this._renderedElement && this.isVisible) {\n            this._renderedElement.style.visibility = \"hidden\";\n\n            this.isVisible = false;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    }\n\n    private showElementHiddenDueToOverflow() {\n        if (this._renderedElement && !this.isVisible) {\n            this._renderedElement.style.removeProperty(\"visibility\");\n\n            this.isVisible = true;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    }\n\n    // Marked private to emulate internal access\n    private handleOverflow(maxHeight: number) {\n        if (this.isVisible || this.isHiddenDueToOverflow()) {\n            const handled = this.truncateOverflow(maxHeight);\n\n            // Even if we were unable to truncate the element to fit this time,\n            // it still could have been previously truncated\n            this._truncatedDueToOverflow = handled || this._truncatedDueToOverflow;\n\n            if (!handled) {\n                this.hideElementDueToOverflow();\n            } else if (handled && !this.isVisible) {\n                this.showElementHiddenDueToOverflow();\n            }\n        }\n    }\n\n    // Marked private to emulate internal access\n    private resetOverflow(): boolean {\n        let sizeChanged = false;\n\n        if (this._truncatedDueToOverflow) {\n            this.undoOverflowTruncation();\n            this._truncatedDueToOverflow = false;\n            sizeChanged = true;\n        }\n\n        if (this.isHiddenDueToOverflow()) {\n            this.showElementHiddenDueToOverflow();\n        }\n\n        return sizeChanged;\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext();\n    }\n\n    protected createPlaceholderElement(): HTMLElement {\n        const styleDefinition = this.getEffectiveStyleDefinition();\n        const foregroundCssColor = Utils.stringToCssColor(\n            styleDefinition.foregroundColors.default.subtle\n        );\n\n        const element = document.createElement(\"div\");\n        element.style.border = \"1px dashed \" + foregroundCssColor;\n        element.style.padding = \"4px\";\n        element.style.minHeight = \"32px\";\n        element.style.fontSize = \"10px\";\n\n        if (foregroundCssColor) {\n            element.style.color = foregroundCssColor;\n        }\n\n        element.innerText = \"Empty \" + this.getJsonTypeName();\n\n        return element;\n    }\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        if (this.height === \"auto\") {\n            renderedElement.style.flex = \"0 0 auto\";\n        } else {\n            renderedElement.style.flex = \"1 1 auto\";\n        }\n    }\n\n    /*\n     * Called when mouse enters or leaves the card.\n     * Inputs elements need to update their visual state in such events like showing or hiding borders etc.\n     * It calls Input.updateVisualState(eventType) for all inputs.\n     * This method on input (updateVisualState) is supposed to be called from card level on mouse events.\n     */\n    protected updateInputsVisualState(hover: boolean) {\n        const allInputs: Input[] = this.getAllInputs();\n        const inputEventType = !!hover ? InputEventType.MouseEnterOnCard : InputEventType.MouseLeaveOnCard;\n        allInputs.forEach((input) => input.updateVisualState(inputEventType));\n    }\n\n    protected isDisplayed(): boolean {\n        return (\n            this._renderedElement !== undefined &&\n            this.isVisible &&\n            this._renderedElement.offsetHeight > 0\n        );\n    }\n\n    protected abstract internalRender(): HTMLElement | undefined;\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        return this.internalRender();\n    }\n\n    protected applyPadding() {\n        if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n            if (GlobalSettings.alwaysBleedSeparators && !this.isBleeding()) {\n                const padding = new PaddingDefinition();\n\n                this.getImmediateSurroundingPadding(padding);\n\n                const physicalPadding =\n                    this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n                this.separatorElement.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n            } else {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    /*\n     * Called when this element overflows the bottom of the card.\n     * maxHeight will be the amount of space still available on the card (0 if\n     * the element is fully off the card).\n     */\n    protected truncateOverflow(_maxHeight: number): boolean {\n        // Child implementations should return true if the element handled\n        // the truncation request such that its content fits within maxHeight,\n        // false if the element should fall back to being hidden\n        return false;\n    }\n\n    /*\n     * This should reverse any changes performed in truncateOverflow().\n     */\n    protected undoOverflowTruncation() {\n        return;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition();\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        return false;\n    }\n\n    protected getHasBorder(): boolean {\n        return false;\n    }\n\n    protected getPadding(): PaddingDefinition | undefined {\n        return this._padding;\n    }\n\n    protected setPadding(value: PaddingDefinition | undefined) {\n        this._padding = value;\n    }\n\n    protected shouldSerialize(context: SerializationContext): boolean {\n        return context.elementRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    }\n\n    protected get useDefaultSizing(): boolean {\n        return true;\n    }\n\n    protected get separatorOrientation(): Enums.Orientation {\n        return Enums.Orientation.Horizontal;\n    }\n\n    protected get defaultStyle(): string {\n        return Enums.ContainerStyle.Default;\n    }\n\n    customCssSelector?: string;\n\n    parse(source: any, context?: SerializationContext) {\n        super.parse(source, context ? context : new SerializationContext());\n    }\n\n    asString(): string | undefined {\n        return \"\";\n    }\n\n    isBleeding(): boolean {\n        return false;\n    }\n\n    getEffectiveStyle(): string {\n        if (this.parent) {\n            return this.parent.getEffectiveStyle();\n        }\n\n        return this.defaultStyle;\n    }\n\n    getEffectiveStyleDefinition(): ContainerStyleDefinition {\n        return this.hostConfig.containerStyles.getStyleByName(this.getEffectiveStyle());\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.parent) {\n            return this.parent.getEffectiveTextStyleDefinition();\n        }\n\n        return this.hostConfig.textStyles.default;\n    }\n\n    getForbiddenActionTypes(): ActionType[] {\n        return [];\n    }\n\n    getImmediateSurroundingPadding(\n        result: PaddingDefinition,\n        processTop: boolean = true,\n        processRight: boolean = true,\n        processBottom: boolean = true,\n        processLeft: boolean = true\n    ) {\n        if (this.parent) {\n            let doProcessTop = processTop && this.parent.isTopElement(this);\n            let doProcessRight = processRight && this.parent.isRightMostElement(this);\n            let doProcessBottom = processBottom && this.parent.isBottomElement(this);\n            let doProcessLeft = processLeft && this.parent.isLeftMostElement(this);\n\n            const effectivePadding = this.parent.getEffectivePadding();\n\n            if (effectivePadding) {\n                if (doProcessTop && effectivePadding.top !== Enums.Spacing.None) {\n                    result.top = effectivePadding.top;\n\n                    doProcessTop = false;\n                }\n\n                if (doProcessRight && effectivePadding.right !== Enums.Spacing.None) {\n                    result.right = effectivePadding.right;\n\n                    doProcessRight = false;\n                }\n\n                if (doProcessBottom && effectivePadding.bottom !== Enums.Spacing.None) {\n                    result.bottom = effectivePadding.bottom;\n\n                    doProcessBottom = false;\n                }\n\n                if (doProcessLeft && effectivePadding.left !== Enums.Spacing.None) {\n                    result.left = effectivePadding.left;\n\n                    doProcessLeft = false;\n                }\n            }\n\n            if (doProcessTop || doProcessRight || doProcessBottom || doProcessLeft) {\n                this.parent.getImmediateSurroundingPadding(\n                    result,\n                    doProcessTop,\n                    doProcessRight,\n                    doProcessBottom,\n                    doProcessLeft\n                );\n            }\n        }\n    }\n\n    getActionCount(): number {\n        return 0;\n    }\n\n    getActionAt(index: number): Action | undefined {\n        throw new Error(Strings.errors.indexOutOfRange(index));\n    }\n\n    indexOfAction(action: Action): number {\n        for (let i = 0; i < this.getActionCount(); i++) {\n            if (this.getActionAt(i) === action) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    remove(): boolean {\n        if (this.parent && this.parent instanceof CardElementContainer) {\n            return this.parent.removeItem(this);\n        }\n\n        return false;\n    }\n\n    render(): HTMLElement | undefined {\n        this._renderedElement = this.overrideInternalRender();\n        this._separatorElement = this.internalRenderSeparator();\n\n        if (this._renderedElement) {\n            if (this.id) {\n                this._renderedElement.id = this.id;\n            }\n\n            if (this.customCssSelector) {\n                this._renderedElement.classList.add(this.customCssSelector);\n            }\n\n            this._renderedElement.style.boxSizing = \"border-box\";\n            this._defaultRenderedElementDisplayMode = this._renderedElement.style.display\n                ? this._renderedElement.style.display\n                : undefined;\n\n            this.adjustRenderedElementSize(this._renderedElement);\n            this.updateLayout(false);\n        } else if (this.isDesignMode()) {\n            this._renderedElement = this.createPlaceholderElement();\n        }\n\n        return this._renderedElement;\n    }\n\n    updateLayout(_processChildren: boolean = true) {\n        this.updateRenderedElementVisibility();\n        this.applyPadding();\n    }\n\n    updateActionsEnabledState() {\n        const allActions = this.getRootElement().getAllActions();\n\n        for (let action of allActions) {\n            action.updateEnabledState();\n        }\n    }\n\n    indexOf(_cardElement: CardElement): number {\n        return -1;\n    }\n\n    isDesignMode(): boolean {\n        const rootElement = this.getRootElement();\n\n        return rootElement instanceof AdaptiveCard && rootElement.designMode;\n    }\n\n    isFirstElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isLastElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isAtTheVeryLeft(): boolean {\n        return this.parent\n            ? this.parent.isLeftMostElement(this) && this.parent.isAtTheVeryLeft()\n            : true;\n    }\n\n    isAtTheVeryRight(): boolean {\n        return this.parent\n            ? this.parent.isRightMostElement(this) && this.parent.isAtTheVeryRight()\n            : true;\n    }\n\n    isAtTheVeryTop(): boolean {\n        return this.parent\n            ? this.parent.isFirstElement(this) && this.parent.isAtTheVeryTop()\n            : true;\n    }\n\n    isAtTheVeryBottom(): boolean {\n        return this.parent\n            ? this.parent.isLastElement(this) && this.parent.isAtTheVeryBottom()\n            : true;\n    }\n\n    isBleedingAtTop(): boolean {\n        return false;\n    }\n\n    isBleedingAtBottom(): boolean {\n        return false;\n    }\n\n    isLeftMostElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isRightMostElement(_element: CardElement): boolean {\n        return true;\n    }\n\n    isTopElement(element: CardElement): boolean {\n        return this.isFirstElement(element);\n    }\n\n    isBottomElement(element: CardElement): boolean {\n        return this.isLastElement(element);\n    }\n\n    isHiddenDueToOverflow(): boolean {\n        return (\n            this._renderedElement !== undefined &&\n            this._renderedElement.style.visibility === \"hidden\"\n        );\n    }\n\n    getRootElement(): CardElement {\n        return this.getRootObject() as CardElement;\n    }\n\n    getParentContainer(): Container | undefined {\n        let currentElement = this.parent;\n\n        while (currentElement) {\n            if (currentElement instanceof Container) {\n                return currentElement;\n            }\n\n            currentElement = currentElement.parent;\n        }\n\n        return undefined;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [];\n    }\n\n    getAllActions(): Action[] {\n        const result: Action[] = [];\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            let action = this.getActionAt(i);\n\n            if (action) {\n                result.push(action);\n            }\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return [];\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        return this.id === id ? this : undefined;\n    }\n\n    getActionById(_id: string): Action | undefined {\n        return undefined;\n    }\n    \n    getElementByIdFromAction(id: string): CardElement | undefined {\n        let result = undefined;\n        for (let i = 0; i < this.getActionCount(); i++) {\n            const action = this.getActionAt(i);\n\n            if (action instanceof ShowCardAction) {\n                result = action.card.getElementById(id);\n\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n\n    getEffectivePadding(): PaddingDefinition {\n        const padding = this.getPadding();\n\n        return padding ? padding : this.getDefaultPadding();\n    }\n\n    getEffectiveHorizontalAlignment(): Enums.HorizontalAlignment {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n\n        if (this.parent) {\n            return this.parent.getEffectiveHorizontalAlignment();\n        }\n\n        return Enums.HorizontalAlignment.Left;\n    }\n\n    get hostConfig(): HostConfig {\n        if (this._hostConfig) {\n            return this._hostConfig;\n        } else {\n            if (this.parent) {\n                return this.parent.hostConfig;\n            } else {\n                return defaultHostConfig;\n            }\n        }\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get index(): number {\n        if (this.parent) {\n            return this.parent.indexOf(this);\n        } else {\n            return 0;\n        }\n    }\n\n    get isInteractive(): boolean {\n        return false;\n    }\n\n    get isStandalone(): boolean {\n        return true;\n    }\n\n    get isInline(): boolean {\n        return false;\n    }\n\n    get hasVisibleSeparator(): boolean {\n        if (this.parent && this.separatorElement) {\n            return !this.parent.isFirstElement(this) && (this.isVisible || this.isDesignMode());\n        } else {\n            return false;\n        }\n    }\n\n    get separatorElement(): HTMLElement | undefined {\n        return this._separatorElement;\n    }\n\n    get parent(): CardElement | undefined {\n        return <CardElement>this._parent;\n    }\n}\n\nexport class ActionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: SerializationContext\n    ): Action | undefined {\n        const parent = <CardElement>sender;\n\n        return context.parseAction(\n            parent,\n            source[this.name],\n            this.forbiddenActionTypes,\n            parent.isDesignMode()\n        );\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: Action | undefined,\n        context: SerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            value ? value.toJSON(context) : undefined,\n            undefined,\n            true\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly forbiddenActionTypes: string[] = []\n    ) {\n        super(targetVersion, name, undefined);\n    }\n}\n\nexport abstract class BaseTextBlock extends CardElement {\n    //#region Schema\n\n    static readonly textProperty = new StringProperty(Versions.v1_0, \"text\", true);\n    static readonly sizeProperty = new EnumProperty(Versions.v1_0, \"size\", Enums.TextSize);\n    static readonly weightProperty = new EnumProperty(Versions.v1_0, \"weight\", Enums.TextWeight);\n    static readonly colorProperty = new EnumProperty(Versions.v1_0, \"color\", Enums.TextColor);\n    static readonly isSubtleProperty = new BoolProperty(Versions.v1_0, \"isSubtle\");\n    static readonly fontTypeProperty = new EnumProperty(Versions.v1_2, \"fontType\", Enums.FontType);\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // selectAction is declared on BaseTextBlock but is only exposed on TextRun,\n        // so the property is removed from the BaseTextBlock schema.\n        schema.remove(BaseTextBlock.selectActionProperty);\n    }\n\n    @property(BaseTextBlock.sizeProperty)\n    size?: Enums.TextSize;\n\n    @property(BaseTextBlock.weightProperty)\n    weight?: Enums.TextWeight;\n\n    @property(BaseTextBlock.colorProperty)\n    color?: Enums.TextColor;\n\n    @property(BaseTextBlock.fontTypeProperty)\n    fontType?: Enums.FontType;\n\n    @property(BaseTextBlock.isSubtleProperty)\n    isSubtle?: boolean;\n\n    @property(BaseTextBlock.textProperty)\n    get text(): string | undefined {\n        return this.getValue(BaseTextBlock.textProperty);\n    }\n\n    set text(value: string | undefined) {\n        this.setText(value);\n    }\n\n    @property(BaseTextBlock.selectActionProperty)\n    selectAction?: Action;\n\n    //#endregion\n\n    protected getFontSize(fontType: FontTypeDefinition): number {\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                return fontType.fontSizes.small;\n            case Enums.TextSize.Medium:\n                return fontType.fontSizes.medium;\n            case Enums.TextSize.Large:\n                return fontType.fontSizes.large;\n            case Enums.TextSize.ExtraLarge:\n                return fontType.fontSizes.extraLarge;\n            default:\n                return fontType.fontSizes.default;\n        }\n    }\n\n    protected getColorDefinition(\n        colorSet: ColorSetDefinition,\n        color: Enums.TextColor\n    ): TextColorDefinition {\n        switch (color) {\n            case Enums.TextColor.Accent:\n                return colorSet.accent;\n            case Enums.TextColor.Dark:\n                return colorSet.dark;\n            case Enums.TextColor.Light:\n                return colorSet.light;\n            case Enums.TextColor.Good:\n                return colorSet.good;\n            case Enums.TextColor.Warning:\n                return colorSet.warning;\n            case Enums.TextColor.Attention:\n                return colorSet.attention;\n            default:\n                return colorSet.default;\n        }\n    }\n\n    protected setText(value: string | undefined) {\n        this.setValue(BaseTextBlock.textProperty, value);\n    }\n\n    ariaHidden: boolean = false;\n\n    constructor(text?: string) {\n        super();\n\n        if (text) {\n            this.text = text;\n        }\n    }\n\n    init(textDefinition: BaseTextDefinition) {\n        this.size = textDefinition.size;\n        this.weight = textDefinition.weight;\n        this.color = textDefinition.color;\n        this.isSubtle = textDefinition.isSubtle;\n    }\n\n    asString(): string | undefined {\n        return this.text;\n    }\n\n    applyStylesTo(targetElement: HTMLElement) {\n        const fontType = this.hostConfig.getFontTypeDefinition(this.effectiveFontType);\n\n        if (fontType.fontFamily) {\n            targetElement.style.fontFamily = fontType.fontFamily;\n        }\n\n        let fontSize: number;\n\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                fontSize = fontType.fontSizes.small;\n                break;\n            case Enums.TextSize.Medium:\n                fontSize = fontType.fontSizes.medium;\n                break;\n            case Enums.TextSize.Large:\n                fontSize = fontType.fontSizes.large;\n                break;\n            case Enums.TextSize.ExtraLarge:\n                fontSize = fontType.fontSizes.extraLarge;\n                break;\n            default:\n                fontSize = fontType.fontSizes.default;\n                break;\n        }\n\n        targetElement.style.fontSize = fontSize + \"px\";\n\n        const colorDefinition = this.getColorDefinition(\n            this.getEffectiveStyleDefinition().foregroundColors,\n            this.effectiveColor\n        );\n\n        const targetColor = Utils.stringToCssColor(\n            this.effectiveIsSubtle ? colorDefinition.subtle : colorDefinition.default\n        );\n        if (targetColor) {\n            targetElement.style.color = targetColor;\n        }\n\n        let fontWeight: number;\n\n        switch (this.effectiveWeight) {\n            case Enums.TextWeight.Lighter:\n                fontWeight = fontType.fontWeights.lighter;\n                break;\n            case Enums.TextWeight.Bolder:\n                fontWeight = fontType.fontWeights.bolder;\n                break;\n            default:\n                fontWeight = fontType.fontWeights.default;\n                break;\n        }\n\n        targetElement.style.fontWeight = fontWeight.toString();\n\n        if (this.ariaHidden) {\n            targetElement.setAttribute(\"aria-hidden\", \"true\");\n        }\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n\n        return result;\n    }\n\n    get effectiveColor(): Enums.TextColor {\n        return this.color !== undefined ? this.color : this.getEffectiveTextStyleDefinition().color;\n    }\n\n    get effectiveFontType(): Enums.FontType {\n        return this.fontType !== undefined\n            ? this.fontType\n            : this.getEffectiveTextStyleDefinition().fontType;\n    }\n\n    get effectiveIsSubtle(): boolean {\n        return this.isSubtle !== undefined\n            ? this.isSubtle\n            : this.getEffectiveTextStyleDefinition().isSubtle;\n    }\n\n    get effectiveSize(): Enums.TextSize {\n        return this.size !== undefined ? this.size : this.getEffectiveTextStyleDefinition().size;\n    }\n\n    get effectiveWeight(): Enums.TextWeight {\n        return this.weight !== undefined\n            ? this.weight\n            : this.getEffectiveTextStyleDefinition().weight;\n    }\n}\n\nexport type TextBlockStyle = \"default\" | \"heading\" | \"columnHeader\";\n\nexport class TextBlock extends BaseTextBlock {\n    //#region Schema\n\n    static readonly wrapProperty = new BoolProperty(Versions.v1_0, \"wrap\", false);\n    static readonly maxLinesProperty = new NumProperty(Versions.v1_0, \"maxLines\");\n    static readonly styleProperty = new ValueSetProperty(Versions.v1_5, \"style\", [\n        { value: \"default\" },\n        { value: \"columnHeader\" },\n        { value: \"heading\" }\n    ]);\n\n    @property(TextBlock.wrapProperty)\n    wrap: boolean = false;\n\n    @property(TextBlock.maxLinesProperty)\n    maxLines?: number;\n\n    @property(TextBlock.styleProperty)\n    style?: TextBlockStyle;\n\n    //#endregion\n\n    private _computedLineHeight: number;\n    private _originalInnerHtml: string;\n    private _processedText?: string;\n    private _treatAsPlainText: boolean = true;\n\n    private restoreOriginalContent() {\n        if (this.renderedElement !== undefined) {\n            if (this.maxLines && this.maxLines > 0) {\n                this.renderedElement.style.maxHeight =\n                    this._computedLineHeight * this.maxLines + \"px\";\n            }\n\n            const originalHtml = TextBlock._ttRoundtripPolicy?.createHTML(this._originalInnerHtml) ?? this._originalInnerHtml;\n            this.renderedElement.innerHTML = originalHtml as string;\n        }\n    }\n\n    private truncateIfSupported(maxHeight: number): boolean {\n        if (this.renderedElement !== undefined) {\n            // For now, only truncate TextBlocks that contain just a single\n            // paragraph -- since the maxLines calculation doesn't take into\n            // account Markdown lists\n            const children = this.renderedElement.children;\n            const isTextOnly = !children.length;\n            const truncationSupported =\n                isTextOnly ||\n                (children.length === 1 && (<HTMLElement>children[0]).tagName.toLowerCase() === \"p\" && !(<HTMLElement>children[0]).children.length);\n\n            if (truncationSupported) {\n                const element = isTextOnly ? this.renderedElement : <HTMLElement>children[0];\n\n                Utils.truncateText(element, maxHeight, this._computedLineHeight);\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    // Markdown processing is handled outside of Adaptive Cards. It's up to the host to ensure that markdown is safely\n    // processed.\n    private static readonly _ttMarkdownPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\n        \"adaptivecards#markdownPassthroughPolicy\",\n        { createHTML: (value) => value }\n    );\n\n    // When \"advanced\" truncation is enabled (see GlobalSettings.useAdvancedCardBottomTruncation and\n    // GlobalSettings.useAdvancedTextBlockTruncation), we store the original pre-truncation content in\n    // _originalInnerHtml so that we can restore/recalculate truncation later if space availability has changed (see\n    // TextBlock.restoreOriginalContent())\n    private static readonly _ttRoundtripPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\n        \"adaptivecards#restoreContentsPolicy\",\n        { createHTML: (value) => value }\n    );\n\n    protected setText(value: string) {\n        super.setText(value);\n\n        this._processedText = undefined;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._processedText = undefined;\n\n        if (this.text) {\n            const preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            const hostConfig = this.hostConfig;\n\n            let element: HTMLElement;\n\n            if (this.forElementId) {\n                const labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n\n                element = labelElement;\n            } else {\n                element = document.createElement(\"div\");\n            }\n\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textBlock\"));\n            element.style.overflow = \"hidden\";\n\n            this.applyStylesTo(element);\n\n            if (this.style === \"heading\") {\n                element.setAttribute(\"role\", \"heading\");\n\n                const headingLevel = this.hostConfig.textBlock.headingLevel;\n\n                if (headingLevel !== undefined && headingLevel > 0) {\n                    element.setAttribute(\"aria-level\", headingLevel.toString());\n                }\n            }\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                element.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(element);\n\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n\n            if (!this._processedText) {\n                this._treatAsPlainText = true;\n\n                let formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n\n                if (this.useMarkdown && formattedText) {\n                    if (GlobalSettings.allowMarkForTextHighlighting) {\n                        formattedText = formattedText\n                            .replace(/<mark>/g, \"===\")\n                            .replace(/<\\/mark>/g, \"/==/\");\n                    }\n\n                    const markdownProcessingResult = AdaptiveCard.applyMarkdown(formattedText);\n\n                    if (\n                        markdownProcessingResult.didProcess &&\n                        markdownProcessingResult.outputHtml\n                    ) {\n                        this._processedText = markdownProcessingResult.outputHtml;\n                        this._treatAsPlainText = false;\n\n                        // Only process <mark> tag if markdown processing was applied because\n                        // markdown processing is also responsible for sanitizing the input string\n                        if (GlobalSettings.allowMarkForTextHighlighting && this._processedText) {\n                            let markStyle: string = \"\";\n                            const effectiveStyle = this.getEffectiveStyleDefinition();\n\n                            if (effectiveStyle.highlightBackgroundColor) {\n                                markStyle +=\n                                    \"background-color: \" +\n                                    effectiveStyle.highlightBackgroundColor +\n                                    \";\";\n                            }\n\n                            if (effectiveStyle.highlightForegroundColor) {\n                                markStyle +=\n                                    \"color: \" + effectiveStyle.highlightForegroundColor + \";\";\n                            }\n\n                            if (markStyle) {\n                                markStyle = 'style=\"' + markStyle + '\"';\n                            }\n\n                            this._processedText = this._processedText\n                                .replace(/===/g, \"<mark \" + markStyle + \">\")\n                                .replace(/\\/==\\//g, \"</mark>\");\n                        }\n                    } else {\n                        this._processedText = formattedText;\n                        this._treatAsPlainText = true;\n                    }\n                } else {\n                    this._processedText = formattedText;\n                    this._treatAsPlainText = true;\n                }\n            }\n\n            if (!this._processedText) {\n                this._processedText = \"\";\n            }\n\n            if (this._treatAsPlainText) {\n                element.innerText = this._processedText;\n            } else {\n                const processedHtml =\n                    TextBlock._ttMarkdownPolicy?.createHTML(this._processedText) ??\n                    this._processedText;\n                element.innerHTML = processedHtml as string;\n            }\n\n            if (element.firstElementChild instanceof HTMLElement) {\n                const firstElementChild = element.firstElementChild;\n                firstElementChild.style.marginTop = \"0px\";\n                firstElementChild.style.width = \"100%\";\n\n                if (!this.wrap) {\n                    firstElementChild.style.overflow = \"hidden\";\n                    firstElementChild.style.textOverflow = \"ellipsis\";\n                }\n            }\n\n            if (element.lastElementChild instanceof HTMLElement) {\n                element.lastElementChild.style.marginBottom = \"0px\";\n            }\n\n            const anchors = element.getElementsByTagName(\"a\");\n\n            for (const anchor of Array.from(anchors)) {\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n                anchor.target = \"_blank\";\n                anchor.onclick = (e: MouseEvent) => {\n                    if (raiseAnchorClickedEvent(this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                    }\n                };\n                anchor.oncontextmenu = (e: MouseEvent) => {\n                    if (raiseAnchorClickedEvent(this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        return false;\n                    }\n\n                    return true;\n                };\n            }\n\n            if (this.wrap) {\n                element.style.wordWrap = \"break-word\";\n\n                if (this.maxLines && this.maxLines > 0) {\n                    element.style.overflow = \"hidden\";\n\n                    if (Utils.isInternetExplorer() || !GlobalSettings.useWebkitLineClamp) {\n                        element.style.maxHeight = this._computedLineHeight * this.maxLines + \"px\";\n                    } else {\n                        // While non standard, --webkit-line-clamp works in every browser (except IE)\n                        // and is a great solution to support the maxLines feature with ellipsis\n                        // truncation. With --webkit-line-clamp there is need to use explicit line heights\n                        element.style.removeProperty(\"line-height\");\n                        element.style.display = \"-webkit-box\";\n                        element.style.webkitBoxOrient = \"vertical\";\n                        element.style.webkitLineClamp = this.maxLines.toString();\n                    }\n                }\n            } else {\n                element.style.whiteSpace = \"nowrap\";\n                element.style.textOverflow = \"ellipsis\";\n            }\n\n            if (\n                GlobalSettings.useAdvancedTextBlockTruncation ||\n                GlobalSettings.useAdvancedCardBottomTruncation\n            ) {\n                this._originalInnerHtml = element.innerHTML;\n            }\n\n            return element;\n        } else {\n            return undefined;\n        }\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        if (maxHeight >= this._computedLineHeight) {\n            return this.truncateIfSupported(maxHeight);\n        }\n\n        return false;\n    }\n\n    protected undoOverflowTruncation() {\n        this.restoreOriginalContent();\n\n        if (GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines) {\n            const maxHeight = this._computedLineHeight * this.maxLines;\n\n            this.truncateIfSupported(maxHeight);\n        }\n    }\n\n    useMarkdown: boolean = true;\n    forElementId?: string;\n\n    applyStylesTo(targetElement: HTMLElement) {\n        super.applyStylesTo(targetElement);\n\n        switch (this.getEffectiveHorizontalAlignment()) {\n            case Enums.HorizontalAlignment.Center:\n                targetElement.style.textAlign = \"center\";\n                break;\n            case Enums.HorizontalAlignment.Right:\n                targetElement.style.textAlign = \"end\";\n                break;\n            default:\n                targetElement.style.textAlign = \"start\";\n                break;\n        }\n\n        const lineHeights = this.hostConfig.lineHeights;\n\n        if (lineHeights) {\n            switch (this.effectiveSize) {\n                case Enums.TextSize.Small:\n                    this._computedLineHeight = lineHeights.small;\n                    break;\n                case Enums.TextSize.Medium:\n                    this._computedLineHeight = lineHeights.medium;\n                    break;\n                case Enums.TextSize.Large:\n                    this._computedLineHeight = lineHeights.large;\n                    break;\n                case Enums.TextSize.ExtraLarge:\n                    this._computedLineHeight = lineHeights.extraLarge;\n                    break;\n                default:\n                    this._computedLineHeight = lineHeights.default;\n                    break;\n            }\n        } else {\n            // Looks like 1.33 is the magic number to compute line-height\n            // from font size.\n            this._computedLineHeight =\n                this.getFontSize(this.hostConfig.getFontTypeDefinition(this.effectiveFontType)) *\n                1.33;\n        }\n\n        targetElement.style.lineHeight = this._computedLineHeight + \"px\";\n    }\n\n    getJsonTypeName(): string {\n        return \"TextBlock\";\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.style) {\n            return this.hostConfig.textStyles.getStyleByName(this.style);\n        }\n\n        return super.getEffectiveTextStyleDefinition();\n    }\n\n    updateLayout(processChildren: boolean = false) {\n        super.updateLayout(processChildren);\n\n        if (GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines && this.isDisplayed()) {\n            // Reset the element's innerHTML in case the available room for\n            // content has increased\n            this.restoreOriginalContent();\n            this.truncateIfSupported(this._computedLineHeight * this.maxLines);\n        }\n    }\n}\n\nexport class TextRun extends BaseTextBlock {\n    //#region Schema\n\n    static readonly italicProperty = new BoolProperty(Versions.v1_2, \"italic\", false);\n    static readonly strikethroughProperty = new BoolProperty(Versions.v1_2, \"strikethrough\", false);\n    static readonly highlightProperty = new BoolProperty(Versions.v1_2, \"highlight\", false);\n    static readonly underlineProperty = new BoolProperty(Versions.v1_3, \"underline\", false);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.add(BaseTextBlock.selectActionProperty);\n    }\n\n    @property(TextRun.italicProperty)\n    italic: boolean = false;\n\n    @property(TextRun.strikethroughProperty)\n    strikethrough: boolean = false;\n\n    @property(TextRun.highlightProperty)\n    highlight: boolean = false;\n\n    @property(TextRun.underlineProperty)\n    underline: boolean = false;\n\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this.text) {\n            const preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            const hostConfig = this.hostConfig;\n\n            let formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n\n            if (!formattedText) {\n                formattedText = \"\";\n            }\n\n            const element = document.createElement(\"span\");\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textRun\"));\n\n            this.applyStylesTo(element);\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                const anchor = document.createElement(\"a\");\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n\n                const href = this.selectAction.getHref();\n\n                anchor.href = href ? href : \"\";\n                anchor.target = \"_blank\";\n                anchor.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(anchor);\n\n                anchor.innerText = formattedText;\n\n                element.appendChild(anchor);\n            } else {\n                element.innerText = formattedText;\n            }\n\n            return element;\n        } else {\n            return undefined;\n        }\n    }\n\n    applyStylesTo(targetElement: HTMLElement) {\n        super.applyStylesTo(targetElement);\n\n        if (this.italic) {\n            targetElement.style.fontStyle = \"italic\";\n        }\n\n        if (this.strikethrough) {\n            targetElement.style.textDecoration = \"line-through\";\n        }\n\n        if (this.highlight) {\n            const colorDefinition = this.getColorDefinition(\n                this.getEffectiveStyleDefinition().foregroundColors,\n                this.effectiveColor\n            );\n\n            const backgroundColor = Utils.stringToCssColor(\n                this.effectiveIsSubtle\n                    ? colorDefinition.highlightColors.subtle\n                    : colorDefinition.highlightColors.default\n            );\n            if (backgroundColor) {\n                targetElement.style.backgroundColor = backgroundColor;\n            }\n        }\n\n        if (this.underline) {\n            targetElement.style.textDecoration = \"underline\";\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"TextRun\";\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n\n    get isInline(): boolean {\n        return true;\n    }\n}\n\nexport class RichTextBlock extends CardElement {\n    private _inlines: CardElement[] = [];\n\n    private internalAddInline(inline: CardElement, forceAdd: boolean = false) {\n        if (!inline.isInline) {\n            throw new Error(Strings.errors.elementCannotBeUsedAsInline());\n        }\n\n        const doAdd: boolean = inline.parent === undefined || forceAdd;\n\n        if (!doAdd && inline.parent !== this) {\n            throw new Error(Strings.errors.inlineAlreadyParented());\n        } else {\n            inline.setParent(this);\n\n            this._inlines.push(inline);\n        }\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._inlines = [];\n\n        if (Array.isArray(source[\"inlines\"])) {\n            for (const jsonInline of source[\"inlines\"]) {\n                let inline: CardElement | undefined;\n\n                if (typeof jsonInline === \"string\") {\n                    const textRun = new TextRun();\n                    textRun.text = jsonInline;\n\n                    inline = textRun;\n                } else {\n                    // No fallback for inlines in 1.2\n                    inline = context.parseElement(this, jsonInline, [], false);\n                }\n\n                if (inline) {\n                    this.internalAddInline(inline, true);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        if (this._inlines.length > 0) {\n            const jsonInlines: any[] = [];\n\n            for (const inline of this._inlines) {\n                jsonInlines.push(inline.toJSON(context));\n            }\n\n            context.serializeValue(target, \"inlines\", jsonInlines);\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this._inlines.length > 0) {\n            let element: HTMLElement;\n\n            if (this.forElementId) {\n                const labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n\n                element = labelElement;\n            } else {\n                element = document.createElement(\"div\");\n            }\n\n            element.className = this.hostConfig.makeCssClassName(\"ac-richTextBlock\");\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.textAlign = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.textAlign = \"end\";\n                    break;\n                default:\n                    element.style.textAlign = \"start\";\n                    break;\n            }\n\n            let renderedInlines: number = 0;\n\n            for (const inline of this._inlines) {\n                const renderedInline = inline.render();\n\n                if (renderedInline) {\n                    element.appendChild(renderedInline);\n\n                    renderedInlines++;\n                }\n            }\n\n            if (renderedInlines > 0) {\n                return element;\n            }\n        }\n\n        return undefined;\n    }\n\n    forElementId?: string;\n\n    asString(): string | undefined {\n        let result = \"\";\n\n        for (const inline of this._inlines) {\n            result += inline.asString();\n        }\n\n        return result;\n    }\n\n    getJsonTypeName(): string {\n        return \"RichTextBlock\";\n    }\n\n    getInlineCount(): number {\n        return this._inlines.length;\n    }\n\n    getInlineAt(index: number): CardElement {\n        if (index >= 0 && index < this._inlines.length) {\n            return this._inlines[index];\n        } else {\n            throw new Error(Strings.errors.indexOutOfRange(index));\n        }\n    }\n\n    addInline(inline: CardElement | string) {\n        if (typeof inline === \"string\") {\n            this.internalAddInline(new TextRun(inline));\n        } else {\n            this.internalAddInline(inline);\n        }\n    }\n\n    removeInline(inline: CardElement): boolean {\n        const index = this._inlines.indexOf(inline);\n\n        if (index >= 0) {\n            this._inlines[index].setParent(undefined);\n            this._inlines.splice(index, 1);\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\nexport class Fact extends SerializableObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n\n    // For historic reasons, the \"title\" schema property is exposed as \"name\" in the OM.\n    @property(Fact.titleProperty)\n    name?: string;\n\n    @property(Fact.valueProperty)\n    value?: string;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"Fact\";\n    }\n\n    constructor(name?: string, value?: string) {\n        super();\n\n        this.name = name;\n        this.value = value;\n    }\n}\n\nexport class FactSet extends CardElement {\n    //#region Schema\n\n    static readonly factsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"facts\",\n        Fact\n    );\n\n    @property(FactSet.factsProperty)\n    facts: Fact[];\n\n    //#endregion\n\n    protected get useDefaultSizing(): boolean {\n        return false;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n        const hostConfig = this.hostConfig;\n\n        if (this.facts.length > 0) {\n            element = document.createElement(\"table\");\n            element.style.borderWidth = \"0px\";\n            element.style.borderSpacing = \"0px\";\n            element.style.borderStyle = \"none\";\n            element.style.borderCollapse = \"collapse\";\n            element.style.display = \"block\";\n            element.style.overflow = \"hidden\";\n            element.classList.add(hostConfig.makeCssClassName(\"ac-factset\"));\n            element.setAttribute(\"role\", \"presentation\");\n\n            for (let i = 0; i < this.facts.length; i++) {\n                const trElement = document.createElement(\"tr\");\n\n                if (i > 0) {\n                    trElement.style.marginTop = hostConfig.factSet.spacing + \"px\";\n                }\n\n                // Title column\n                let tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-title\"));\n\n                if (hostConfig.factSet.title.maxWidth) {\n                    tdElement.style.maxWidth = hostConfig.factSet.title.maxWidth + \"px\";\n                }\n\n                tdElement.style.verticalAlign = \"top\";\n\n                let textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text =\n                    !this.facts[i].name && this.isDesignMode() ? \"Title\" : this.facts[i].name;\n                textBlock.size = hostConfig.factSet.title.size;\n                textBlock.color = hostConfig.factSet.title.color;\n                textBlock.isSubtle = hostConfig.factSet.title.isSubtle;\n                textBlock.weight = hostConfig.factSet.title.weight;\n                textBlock.wrap = hostConfig.factSet.title.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n\n                // Spacer column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.width = \"10px\";\n\n                Utils.appendChild(trElement, tdElement);\n\n                // Value column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.style.verticalAlign = \"top\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-value\"));\n\n                textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text = this.facts[i].value;\n                textBlock.size = hostConfig.factSet.value.size;\n                textBlock.color = hostConfig.factSet.value.color;\n                textBlock.isSubtle = hostConfig.factSet.value.isSubtle;\n                textBlock.weight = hostConfig.factSet.value.weight;\n                textBlock.wrap = hostConfig.factSet.value.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n                Utils.appendChild(element, trElement);\n            }\n        }\n\n        return element;\n    }\n\n    getJsonTypeName(): string {\n        return \"FactSet\";\n    }\n}\n\nclass ImageDimensionProperty extends PropertyDefinition {\n    getInternalName(): string {\n        return this.internalName;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        let result: number | undefined = undefined;\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n\n        let isValid = false;\n\n        if (typeof sourceValue === \"string\") {\n            try {\n                const size = SizeAndUnit.parse(sourceValue, true);\n\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n\n                    isValid = true;\n                }\n            } catch {\n                // Swallow the exception\n            }\n\n            // If the source value isn't valid per this property definition,\n            // check its validity per the fallback property, if specified\n            if (!isValid && this.fallbackProperty) {\n                isValid = this.fallbackProperty.isValidValue(sourceValue, context);\n            }\n        }\n\n        if (!isValid) {\n            context.logParseEvent(\n                sender,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidPropertyValue(sourceValue, this.name)\n            );\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly internalName: string,\n        readonly fallbackProperty?: ValueSetProperty\n    ) {\n        super(targetVersion, name);\n    }\n}\n\nexport class Image extends CardElement {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n    static readonly altTextProperty = new StringProperty(Versions.v1_0, \"altText\");\n    static readonly backgroundColorProperty = new StringProperty(Versions.v1_1, \"backgroundColor\");\n    static readonly styleProperty = new EnumProperty(\n        Versions.v1_0,\n        \"style\",\n        Enums.ImageStyle,\n        Enums.ImageStyle.Default\n    );\n    static readonly sizeProperty = new EnumProperty(\n        Versions.v1_0,\n        \"size\",\n        Enums.Size,\n        Enums.Size.Auto\n    );\n    static readonly pixelWidthProperty = new ImageDimensionProperty(\n        Versions.v1_1,\n        \"width\",\n        \"pixelWidth\"\n    );\n    static readonly pixelHeightProperty = new ImageDimensionProperty(\n        Versions.v1_1,\n        \"height\",\n        \"pixelHeight\",\n        CardElement.heightProperty\n    );\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    static readonly shouldForceLoadProperty = new BoolProperty(Versions.v1_6, \"forceLoad\", false);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.remove(CardElement.heightProperty);\n    }\n\n    public renderedImageElement?: HTMLElement;\n\n    @property(Image.urlProperty)\n    url?: string;\n\n    @property(Image.altTextProperty)\n    altText?: string;\n\n    @property(Image.backgroundColorProperty)\n    backgroundColor?: string;\n\n    @property(Image.sizeProperty)\n    size: Enums.Size = Enums.Size.Auto;\n\n    @property(Image.styleProperty)\n    style: Enums.ImageStyle = Enums.ImageStyle.Default;\n\n    @property(Image.pixelWidthProperty)\n    pixelWidth?: number;\n\n    @property(Image.pixelHeightProperty)\n    pixelHeight?: number;\n\n    @property(Image.selectActionProperty)\n    selectAction?: Action;\n\n    @property(Image.shouldForceLoadProperty)\n    forceLoad: boolean;\n\n    //#endregion\n\n    private applySize(element: HTMLElement) {\n        if (this.pixelWidth || this.pixelHeight) {\n            if (this.pixelWidth) {\n                element.style.width = this.pixelWidth + \"px\";\n            }\n\n            if (this.pixelHeight) {\n                element.style.height = this.pixelHeight + \"px\";\n            }\n        } else {\n            if (this.maxHeight) {\n                // If the image is constrained in height, we set its height property and\n                // auto and stretch are ignored (default to medium). THis is necessary for\n                // ImageSet which uses a maximum image height as opposed to the cards width\n                // as a constraining dimension\n                switch (this.size) {\n                    case Enums.Size.Small:\n                        element.style.height = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.height = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    default:\n                        element.style.height = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n\n                element.style.maxHeight = this.maxHeight + \"px\";\n            } else {\n                switch (this.size) {\n                    case Enums.Size.Stretch:\n                        element.style.width = \"100%\";\n                        break;\n                    case Enums.Size.Auto:\n                        element.style.maxWidth = \"100%\";\n                        break;\n                    case Enums.Size.Small:\n                        element.style.width = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.width = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    case Enums.Size.Medium:\n                        element.style.width = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n\n                element.style.maxHeight = \"100%\";\n            }\n        }\n    }\n\n    protected get useDefaultSizing() {\n        return false;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n\n        if (this.url) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.alignItems = \"flex-start\";\n\n            // Cache hostConfig to avoid walking the parent hierarchy multiple times\n            const hostConfig = this.hostConfig;\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n\n            const imageElement = document.createElement(\"img\");\n\n            this.renderedImageElement = imageElement;\n\n            imageElement.onload = (_e: Event) => {\n                raiseImageLoadedEvent(this);\n            };\n            imageElement.onerror = (_e: Event) => {\n                if (this.renderedElement) {\n                    const card = this.getRootElement() as AdaptiveCard;\n\n                    clearElement(this.renderedElement);\n\n                    if (card && card.designMode) {\n                        const errorElement = document.createElement(\"div\");\n                        errorElement.style.display = \"flex\";\n                        errorElement.style.alignItems = \"center\";\n                        errorElement.style.justifyContent = \"center\";\n                        errorElement.style.backgroundColor = \"#EEEEEE\";\n                        errorElement.style.color = \"black\";\n                        errorElement.innerText = \":-(\";\n                        errorElement.style.padding = \"10px\";\n\n                        this.applySize(errorElement);\n\n                        this.renderedElement.appendChild(errorElement);\n                    }\n                }\n\n                raiseImageLoadedEvent(this);\n            };\n            imageElement.style.minWidth = \"0\";\n            imageElement.classList.add(hostConfig.makeCssClassName(\"ac-image\"));\n\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                imageElement.onkeypress = (e) => {\n                    if (\n                        this.selectAction &&\n                        this.selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")\n                    ) {\n                        // enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                imageElement.onclick = (e) => {\n                    if (this.selectAction && this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this.selectAction.execute();\n                    }\n                };\n\n                this.selectAction.setupElementForAccessibility(imageElement);\n\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    imageElement.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n\n            this.applySize(imageElement);\n\n            if (this.style === Enums.ImageStyle.Person) {\n                imageElement.style.borderRadius = \"50%\";\n                imageElement.style.backgroundPosition = \"50% 50%\";\n                imageElement.style.backgroundRepeat = \"no-repeat\";\n            }\n\n            const backgroundColor = Utils.stringToCssColor(this.backgroundColor);\n            if (backgroundColor) {\n                imageElement.style.backgroundColor = backgroundColor;\n            }\n\n            this.setImageSource(imageElement);    \n\n            const altTextProperty = this.preProcessPropertyValue(Image.altTextProperty);\n            if (altTextProperty) {\n                imageElement.alt = <string>altTextProperty;\n            }\n\n            element.appendChild(imageElement);\n        }\n\n        return element;\n    }\n\n    maxHeight?: number;\n\n    getJsonTypeName(): string {\n        return \"Image\";\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n\n        return result;\n    }\n\n    getActionById(id: string) {\n        let result = super.getActionById(id);\n\n        if (!result && this.selectAction) {\n            result = this.selectAction.getActionById(id);\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this.url ? [{ url: this.url, mimeType: \"image\" }] : [];\n    }\n\n    private setImageSource(imageElement: HTMLImageElement): void {\n        const imageForceLoader: ImageForceLoader = new ImageForceLoader(this.forceLoad, this.url);\n        imageForceLoader.configureImage(this);\n        imageElement.src = <string>this.preProcessPropertyValue(Image.urlProperty);\n        imageForceLoader.resetImage(this);\n    } \n}\n\n// configures Image element to fetch a new image data from url source instead of relying on cache\n// currently rudimentary refreshing scheme is used\n// by attaching unique query string to url, we bypass the cache usage\nclass ImageForceLoader{\n    private uniqueHash : string;\n    public readonly urlWithForceLoadOption : string;\n    constructor(\n        readonly doForceLoad: boolean,\n        readonly url : string | undefined,\n    )\n    {\n        if (url && url.length && doForceLoad) {\n            // we can do better by appending unique key such as uuid instead of epoch\n            // however the current usage is for front-end ui and networking,  \n            // since ui is running in single main thread, this is sufficient mechanism\n            // without needing to depend on external library for our small use cases.\n            this.uniqueHash = '?' + Date.now();\n            this.urlWithForceLoadOption = url + this.uniqueHash;\n        }\n    }\n\n    public configureImage(image: Image): void {\n        if (this.urlWithForceLoadOption && this.urlWithForceLoadOption.length) {\n            image.url = this.urlWithForceLoadOption;\n        }\n    }\n\n    public resetImage(image: Image): void {\n        image.url = this.url;\n    }\n}\n\nexport abstract class CardElementContainer extends CardElement {\n    //#region Schema\n\n    static readonly selectActionProperty = new ActionProperty(Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        if (!this.isSelectable) {\n            schema.remove(CardElementContainer.selectActionProperty);\n        }\n    }\n\n    @property(CardElementContainer.selectActionProperty)\n    protected _selectAction?: Action;\n\n    //#endregion\n\n    protected isElementAllowed(element: CardElement) {\n        return this.hostConfig.supportsInteractivity || !element.isInteractive;\n    }\n\n    protected applyPadding() {\n        super.applyPadding();\n\n        if (!this.renderedElement) {\n            return;\n        }\n\n        let physicalPadding = new SpacingDefinition();\n\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                this.getEffectivePadding()\n            );\n        }\n\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n\n        this.renderedElement.style.marginRight = \"0\";\n        this.renderedElement.style.marginLeft = \"0\";\n    }\n\n    protected get isSelectable(): boolean {\n        return false;\n    }\n\n    protected forbiddenChildElements(): string[] {\n        return [];\n    }\n\n    abstract getItemCount(): number;\n    abstract getItemAt(index: number): CardElement;\n    abstract getFirstVisibleRenderedItem(): CardElement | undefined;\n    abstract getLastVisibleRenderedItem(): CardElement | undefined;\n    abstract removeItem(item: CardElement): boolean;\n\n    allowVerticalOverflow: boolean = false;\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).releaseDOMResources();\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            const item = this.getItemAt(i);\n\n            if (!this.hostConfig.supportsInteractivity && item.isInteractive) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InteractivityNotAllowed,\n                    Strings.errors.interactivityNotAllowed()\n                );\n            }\n\n            if (!this.isElementAllowed(item)) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InteractivityNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(item.getJsonTypeName())\n                );\n            }\n\n            item.internalValidateProperties(context);\n        }\n\n        if (this._selectAction) {\n            this._selectAction.internalValidateProperties(context);\n        }\n    }\n\n    render(): HTMLElement | undefined {\n        const element = super.render();\n\n        if (element) {\n            const hostConfig = this.hostConfig;\n\n            if (this.allowVerticalOverflow) {\n                element.style.overflowX = \"hidden\";\n                element.style.overflowY = \"auto\";\n            }\n\n            if (\n                element &&\n                this.isSelectable &&\n                this._selectAction &&\n                hostConfig.supportsInteractivity\n            ) {\n                element.onclick = (e) => {\n                    if (this._selectAction && this._selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this._selectAction.execute();\n                    }\n                };\n\n                element.onkeypress = (e) => {\n                    if (\n                        this._selectAction &&\n                        this._selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")\n                    ) {\n                        // Enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n\n                        this._selectAction.execute();\n                    }\n                };\n\n                this._selectAction.setupElementForAccessibility(element);\n\n                if (this._selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n        }\n\n        return element;\n    }\n\n    updateLayout(processChildren: boolean = true) {\n        super.updateLayout(processChildren);\n\n        if (processChildren) {\n            for (let i = 0; i < this.getItemCount(); i++) {\n                this.getItemAt(i).updateLayout();\n            }\n        }\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result: Input[] = [];\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getAllInputs(processActions));\n        }\n\n        return result;\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getAllActions());\n        }\n\n        if (this._selectAction) {\n            result.push(this._selectAction);\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result: IResourceInformation[] = [];\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            result.push(...this.getItemAt(i).getResourceInformation());\n        }\n\n        return result;\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            for (let i = 0; i < this.getItemCount(); i++) {\n                result = this.getItemAt(i).getElementById(id);\n\n                if (result) {\n                    break;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        let target: CardObject | undefined = undefined;\n\n        for (let i = 0; i < this.getItemCount(); i++) {\n            // recur through child elements\n            target = this.getItemAt(i).findDOMNodeOwner(node);\n\n            if (target) {\n                return target;\n            }\n        }\n\n        // If not found in children, check the actions\n        for (let i = 0; i < this.getActionCount(); i++) {\n            target = this.getActionAt(i)?.findDOMNodeOwner(node);\n\n            if (target) {\n                return target;\n            }\n        }\n\n        // if not found in children or actions, defer to parent implementation\n        return super.findDOMNodeOwner(node);\n    }\n}\n\nexport class ImageSet extends CardElementContainer {\n    //#region Schema\n\n    static readonly imagesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"images\",\n        Image,\n        (sender: SerializableObject, item: Image) => {\n            item.setParent(<CardElement>sender);\n        }\n    );\n\n    static readonly imageSizeProperty = new EnumProperty(\n        Versions.v1_0,\n        \"imageSize\",\n        Enums.ImageSize,\n        Enums.ImageSize.Medium\n    );\n\n    static readonly imagePresentationStyle = new EnumProperty(\n        Versions.v1_6,\n        \"style\",\n        Enums.ImageSetPresentationStyle,\n        Enums.ImageSetPresentationStyle.Default\n    );\n\n    static readonly pixelOffset = new NumProperty(\n        Versions.v1_6,\n        \"offset\",\n        0,\n        undefined\n    );\n\n    @property(ImageSet.imagesProperty)\n    private _images: Image[] = [];\n\n    @property(ImageSet.imageSizeProperty)\n    imageSize: Enums.ImageSize = Enums.ImageSize.Medium;\n\n    @property(ImageSet.imagePresentationStyle)\n    presentationStyle: Enums.ImageSetPresentationStyle = Enums.ImageSetPresentationStyle.Default;\n\n    @property(ImageSet.pixelOffset)\n    pixelOffset: number = 0;\n\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        let element: HTMLElement | undefined = undefined;\n\n        if (this._images.length > 0) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.flexWrap = \"wrap\";\n\n            for (const image of this._images) {\n                switch (this.imageSize) {\n                    case Enums.ImageSize.Small:\n                        image.size = Enums.Size.Small;\n                        break;\n                    case Enums.ImageSize.Large:\n                        image.size = Enums.Size.Large;\n                        break;\n                    default:\n                        image.size = Enums.Size.Medium;\n                        break;\n                }\n\n                image.maxHeight = this.hostConfig.imageSet.maxImageHeight;\n\n                const renderedImage = image.render();\n\n                if (renderedImage) {\n                    renderedImage.style.display = \"inline-flex\";\n                    renderedImage.style.margin = \"0px\";\n                    if (this.presentationStyle == Enums.ImageSetPresentationStyle.Default) {\n                        renderedImage.style.marginRight = \"10px\";\n                    }\n\n                    Utils.appendChild(element, renderedImage);\n                }\n            }\n            if (this.presentationStyle == Enums.ImageSetPresentationStyle.Stacked) {\n                this.applyStackedPresentationStyle();\n            }\n        }\n        \n\n        return element;\n    }\n\n    applyStackedPresentationStyle() {\n        if (this._images[0].renderedImageElement) {\n            let dimension = StackedImageConfigurator.parseNumericPixelDimension(this._images[0].renderedImageElement.style.height);\n            let bgColor = this.getEffectiveBackgroundColor();\n            if (dimension) {\n                let stackedImageConfigurator = new StackedImageConfigurator(this.pixelOffset, \n                    dimension, bgColor);\n                stackedImageConfigurator.configureImagesArrayAsStackedLayout(this._images);\n            }\n        }\n    }\n\n    getEffectiveBackgroundColor() : string | undefined {\n        let parentContainer = this.getParentContainer();\n        let style = parentContainer?.getEffectiveStyle();\n\n        const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n            style,\n            this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n        );\n\n        return Utils.stringToCssColor(styleDefinition.backgroundColor);\n    }\n\n    getItemCount(): number {\n        return this._images.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._images[index];\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        return this._images && this._images.length > 0 ? this._images[0] : undefined;\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        return this._images && this._images.length > 0\n            ? this._images[this._images.length - 1]\n            : undefined;\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof Image) {\n            const itemIndex = this._images.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._images.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getJsonTypeName(): string {\n        return \"ImageSet\";\n    }\n\n    addImage(image: Image) {\n        if (!image.parent) {\n            this._images.push(image);\n\n            image.setParent(this);\n        } else {\n            throw new Error(\"This image already belongs to another ImageSet\");\n        }\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof Image ? this._images.indexOf(cardElement) : -1;\n    }\n}\n\nclass StackedImageConfigurator {\n    private sign45 = 0.7071;\n    private maxImageCounts: number = 2;\n    private offset: number = 0;\n    private normalizationConstant: number = 0;\n    private border: number = 5;\n    private dimension: number = 0;\n    private style: string;\n\n    constructor(offset: number, dimension: number, style: string | undefined) {\n        this.dimension = dimension;\n        this.normalizationConstant = (dimension * this.sign45 - 0.5 * dimension) * 2;\n        // offset determines how far images are placed from each other\n        // at zero, images are separated only by the border\n        // there is no restriction on how far they are apart in positive values, their actual\n        // positioning is limited by maximum size imposed by Image renderer\n        // a negative value can decrease upto the diameter of the image since a value less than the diameter\n        // put the images past each other, and the use of such value is not reasonable request\n        // users should change image positions in such case.\n        this.offset = this.sign45 * (Math.max(offset, -dimension) - this.normalizationConstant);\n        this.style = style ? style : \"\";\n    }\n\n    private moveImageRight(element: HTMLElement) {\n        element.style.marginLeft = this.offset + \"px\";\n    }\n\n    private moveImageUp(element: HTMLElement) {\n        element.style.marginBottom = this.offset + this.dimension+ \"px\";\n    }\n\n    private moveImageDown(element: HTMLElement) {\n        element.style.marginTop = this.offset + this.dimension + \"px\";\n    }\n\n    private makeImageRound(element: HTMLElement) {\n        element.style.borderRadius = \"50%\";\n        element.style.backgroundPosition = \"50% 50%\";\n        element.style.backgroundRepeat = \"no-repeat\";\n    }\n\n    private applyBorder(element: HTMLElement) {\n        element.style.height = (this.dimension + this.border * 2) + \"px\";\n        element.style.border = this.border + \"px\" + \" solid \" + this.style;\n    }\n\n    private configureImageForBottomLeft(element: HTMLElement) {\n        this.moveImageDown(element);\n        this.makeImageRound(element); \n        this.applyBorder(element);\n        element.style.zIndex = \"2\";\n    }\n\n    private configureImageForTopRight(element: HTMLElement) {\n        this.moveImageUp(element);\n        this.moveImageRight(element);\n        this.makeImageRound(element); \n        element.style.zIndex = \"1\";\n    }\n\n    // stacked layout is applied when there are two images in ImageSet,\n    // first image in the ImageSet is put bottom left of ImageSet,\n    // second image is placed top right diagonally to the first image at 45 angle\n    // first image is placed over the second image should the overlap to occur.\n    public configureImagesArrayAsStackedLayout(elements: Array<Image>) {\n        if (elements.length == 1) {\n            if (elements[0].renderedImageElement) {\n                this.makeImageRound(elements[0].renderedImageElement); \n            }\n        }\n        else if (elements.length <= this.maxImageCounts) {\n            if (elements[0].renderedImageElement && elements[1].renderedImageElement) {\n                this.configureImageForBottomLeft(elements[0].renderedImageElement);\n                this.configureImageForTopRight(elements[1].renderedImageElement);\n            }\n        }\n    }\n\n    public static parseNumericPixelDimension(dimension: string): number | undefined  {\n        if (dimension?.substring(dimension.length - 2) == 'px') {\n            return parseInt(dimension.substring(0, dimension.length - 2));\n        }\n        return undefined;\n    }\n}\n\nexport abstract class ContentSource extends SerializableObject {\n    //#region Schema\n\n    static readonly mimeTypeProperty = new StringProperty(Versions.v1_1, \"mimeType\");\n    static readonly urlProperty = new StringProperty(Versions.v1_1, \"url\");\n\n    @property(ContentSource.mimeTypeProperty)\n    mimeType?: string;\n\n    @property(ContentSource.urlProperty)\n    url?: string;\n\n    //#endregion\n\n    constructor(url?: string, mimeType?: string) {\n        super();\n\n        this.url = url;\n        this.mimeType = mimeType;\n    }\n\n    isValid(): boolean {\n        return this.mimeType && this.url ? true : false;\n    }\n}\n\nexport class CaptionSource extends ContentSource {\n    //#region Schema\n\n    static readonly labelProperty = new StringProperty(Versions.v1_6, \"label\");\n\n    @property(CaptionSource.labelProperty)\n    label?: string;\n\n    //#endregion\n\n    constructor(url?: string, mimeType?: string, label?: string) {\n        super(url, mimeType);\n\n        this.label = label;\n    }\n\n    protected getSchemaKey(): string {\n        return \"CaptionSource\";\n    }\n\n    render(): HTMLElement | undefined {\n        let result: HTMLTrackElement | undefined = undefined;\n\n        if (this.isValid()) {\n            result = document.createElement(\"track\");\n            result.src = this.url!;\n            result.kind = \"captions\";\n            result.label = this.label!;\n        }\n\n        return result;\n    }\n}\n\nexport class MediaSource extends ContentSource {\n    protected getSchemaKey(): string {\n        return \"MediaSource\";\n    }\n\n    render(): HTMLElement | undefined {\n        let result: HTMLSourceElement | undefined = undefined;\n\n        if (this.isValid()) {\n            result = document.createElement(\"source\");\n            result.src = this.url!;\n            result.type = this.mimeType!;\n        }\n\n        return result;\n    }\n}\n\nexport abstract class MediaPlayer {\n    private _posterUrl?: string;\n\n    abstract canPlay(): boolean;\n    abstract render(): HTMLElement;\n    abstract fetchVideoDetails(): Promise<void>;\n\n    play() {\n        // Do nothing in base implementation\n    }\n\n    get posterUrl(): string | undefined {\n        return this._posterUrl;\n    }\n\n    protected set posterUrl(value: string | undefined) {\n        this._posterUrl = value;\n    }\n\n    get selectedMediaType(): string | undefined {\n        return undefined;\n    }\n}\n\nexport class HTML5MediaPlayer extends MediaPlayer {\n    private _selectedMediaType?: string;\n    private _selectedSources: MediaSource[] = [];\n    private _captionSources: CaptionSource[] = [];\n    private _mediaElement?: HTMLMediaElement;\n\n    private processSources() {\n        this._selectedSources = [];\n        this._captionSources = [];\n        this._selectedMediaType = undefined;\n\n        for (const source of this.owner.sources) {\n            const mimeComponents = source.mimeType ? source.mimeType.split(\"/\") : [];\n\n            if (mimeComponents.length === 2) {\n                if (!this._selectedMediaType) {\n                    const index = HTML5MediaPlayer.supportedMediaTypes.indexOf(mimeComponents[0]);\n\n                    if (index >= 0) {\n                        this._selectedMediaType = HTML5MediaPlayer.supportedMediaTypes[index];\n                    }\n                }\n                if (mimeComponents[0] === this._selectedMediaType) {\n                    this._selectedSources.push(source);\n                }\n            }\n        }\n\n        this._captionSources.push(...this.owner.captionSources);\n    }\n\n    static readonly supportedMediaTypes = [\"audio\", \"video\"];\n\n    constructor(readonly owner: Media) {\n        super();\n\n        this.processSources();\n    }\n\n    canPlay(): boolean {\n        return this._selectedSources.length > 0;\n    }\n\n    async fetchVideoDetails() {\n        // Nothing to fetch for the HTML5 media player\n    }\n\n    render(): HTMLElement {\n        if (this._selectedMediaType === \"video\") {\n            this._mediaElement = document.createElement(\"video\");\n        } else {\n            this._mediaElement = document.createElement(\"audio\");\n        }\n\n        this._mediaElement.setAttribute(\n            \"aria-label\",\n            this.owner.altText ? this.owner.altText : Strings.defaults.mediaPlayerAriaLabel()\n        );\n        this._mediaElement.setAttribute(\"webkit-playsinline\", \"\");\n        this._mediaElement.setAttribute(\"playsinline\", \"\");\n        // We enable crossorigin for cases where the caption file has a different domain than\n        // the video file. If the caption file lives in a different domain than the video file\n        // and crossorigin is not set, then the caption file will fail to load.\n        this._mediaElement.setAttribute(\"crossorigin\", \"\");\n        this._mediaElement.autoplay = true;\n        this._mediaElement.controls = true;\n\n        if (Utils.isMobileOS()) {\n            this._mediaElement.muted = true;\n        }\n\n        this._mediaElement.preload = \"none\";\n        this._mediaElement.style.width = \"100%\";\n\n        for (const source of this.owner.sources) {\n            const renderedSource = source.render();\n\n            Utils.appendChild(this._mediaElement, renderedSource);\n        }\n\n        for (const captionSource of this.owner.captionSources) {\n            if (captionSource.mimeType == \"vtt\") {\n                const renderedCaptionSource = captionSource.render();\n\n                Utils.appendChild(this._mediaElement, renderedCaptionSource);\n            }\n        }\n\n        return this._mediaElement;\n    }\n\n    play() {\n        if (this._mediaElement) {\n            this._mediaElement.play();\n        }\n    }\n\n    get selectedMediaType(): string | undefined {\n        return this._selectedMediaType;\n    }\n}\n\nexport abstract class CustomMediaPlayer extends MediaPlayer {\n    constructor(matches: RegExpExecArray) {\n        super();\n    }\n}\n\nexport abstract class IFrameMediaMediaPlayer extends CustomMediaPlayer {\n    private _videoId?: string;\n\n    constructor(matches: RegExpExecArray, readonly iFrameTitle?: string) {\n        super(matches);\n\n        if (matches.length >= 2) {\n            this._videoId = matches[1];\n        }\n    }\n\n    abstract getEmbedVideoUrl(): string;\n\n    canPlay(): boolean {\n        return this._videoId !== undefined;\n    }\n\n    render(): HTMLElement {\n        let container = document.createElement(\"div\");\n        container.style.position = \"relative\";\n        container.style.width = \"100%\";\n        container.style.height = \"0\";\n        container.style.paddingBottom = \"56.25%\";\n\n        let iFrame = document.createElement(\"iframe\");\n        iFrame.style.position = \"absolute\";\n        iFrame.style.top = \"0\";\n        iFrame.style.left = \"0\";\n        iFrame.style.width = \"100%\";\n        iFrame.style.height = \"100%\";\n        iFrame.src = this.getEmbedVideoUrl();\n        iFrame.frameBorder = \"0\";\n\n        if (this.iFrameTitle) {\n            iFrame.title = this.iFrameTitle;\n        }\n\n        iFrame.allow =\n            \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n        iFrame.allowFullscreen = true;\n\n        container.appendChild(iFrame);\n\n        return container;\n    }\n\n    get videoId(): string | undefined {\n        return this._videoId;\n    }\n}\n\nexport class VimeoPlayer extends IFrameMediaMediaPlayer {\n    async fetchVideoDetails(): Promise<void> {\n        const oEmbedUrl = `https://vimeo.com/api/oembed.json?url=${this.getEmbedVideoUrl()}`;\n\n        let response = await fetch(oEmbedUrl);\n\n        if (response.ok) {\n            let json = await response.json();\n\n            this.posterUrl = json[\"thumbnail_url\"];\n        }\n    }\n\n    getEmbedVideoUrl(): string {\n        return `https://player.vimeo.com/video/${this.videoId}?autoplay=1`;\n    }\n}\n\nexport class DailymotionPlayer extends IFrameMediaMediaPlayer {\n    async fetchVideoDetails(): Promise<void> {\n        const apiUrl = `https://api.dailymotion.com/video/${this.videoId}?fields=thumbnail_720_url`;\n\n        let response = await fetch(apiUrl);\n\n        if (response.ok) {\n            let json = await response.json();\n\n            this.posterUrl = json[\"thumbnail_720_url\"];\n        }\n    }\n\n    getEmbedVideoUrl(): string {\n        return `https://www.dailymotion.com/embed/video/${this.videoId}?autoplay=1`;\n    }\n}\n\nexport class YouTubePlayer extends IFrameMediaMediaPlayer {\n    private _startTimeIndex?: number;\n\n    constructor(matches: RegExpExecArray, readonly iFrameTitle?: string) {\n        super(matches, iFrameTitle);\n\n        if (matches.length >= 3 && matches[2] !== undefined) {\n            this._startTimeIndex = parseInt(matches[2]);\n        }\n    }\n\n    async fetchVideoDetails(): Promise<void> {\n        this.posterUrl = this.videoId\n            ? `https://img.youtube.com/vi/${this.videoId}/maxresdefault.jpg`\n            : undefined;\n    }\n\n    getEmbedVideoUrl(): string {\n        let url = `https://www.youtube.com/embed/${this.videoId}?autoplay=1`;\n\n        if (this._startTimeIndex !== undefined) {\n            url += `&start=${this._startTimeIndex}`;\n        }\n\n        return url;\n    }\n}\n\nexport interface ICustomMediaPlayer {\n    urlPatterns: RegExp[];\n    createMediaPlayer: (matches: RegExpExecArray) => CustomMediaPlayer;\n}\n\nexport class Media extends CardElement {\n    static customMediaPlayers: ICustomMediaPlayer[] = [\n        {\n            urlPatterns: [\n                /^(?:https?:\\/\\/)?(?:www.)?youtube.com\\/watch\\?(?=.*v=([\\w\\d-_]+))(?=(?:.*t=(\\d+))?).*/gi,\n                /^(?:https?:\\/\\/)?youtu.be\\/([\\w\\d-_]+)(?:\\?t=(\\d+))?/gi\n            ],\n            createMediaPlayer: (matches) =>\n                new YouTubePlayer(matches, Strings.defaults.youTubeVideoPlayer())\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?vimeo.com\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: (matches) =>\n                new VimeoPlayer(matches, Strings.defaults.vimeoVideoPlayer())\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?(?:www.)?dailymotion.com\\/video\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: (matches) =>\n                new DailymotionPlayer(matches, Strings.defaults.dailymotionVideoPlayer())\n        }\n    ];\n\n    //#region Schema\n\n    static readonly sourcesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_1,\n        \"sources\",\n        MediaSource\n    );\n    static readonly captionSourcesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_6,\n        \"captionSources\",\n        CaptionSource\n    );\n    static readonly posterProperty = new StringProperty(Versions.v1_1, \"poster\");\n    static readonly altTextProperty = new StringProperty(Versions.v1_1, \"altText\");\n\n    @property(Media.sourcesProperty)\n    sources: MediaSource[] = [];\n\n    @property(Media.captionSourcesProperty)\n    captionSources: CaptionSource[] = [];\n\n    @property(Media.posterProperty)\n    poster?: string;\n\n    @property(Media.altTextProperty)\n    altText?: string;\n\n    //#endregion\n\n    private _mediaPlayer: MediaPlayer;\n\n    private createMediaPlayer(): MediaPlayer {\n        for (let provider of Media.customMediaPlayers) {\n            for (let source of this.sources) {\n                if (source.url) {\n                    for (let pattern of provider.urlPatterns) {\n                        let matches = pattern.exec(source.url);\n\n                        if (matches !== null) {\n                            return provider.createMediaPlayer(matches);\n                        }\n                    }\n                }\n            }\n        }\n\n        return new HTML5MediaPlayer(this);\n    }\n\n    private handlePlayButtonInvoke(event: UIEvent): void {\n        if (this.hostConfig.media.allowInlinePlayback) {\n            event.preventDefault();\n            event.cancelBubble = true;\n\n            if (this.renderedElement) {\n                const mediaPlayerElement = this._mediaPlayer.render();\n                clearElement(this.renderedElement);\n                this.renderedElement.appendChild(mediaPlayerElement);\n\n                this._mediaPlayer.play();\n\n                mediaPlayerElement.focus();\n            }\n        } else {\n            if (Media.onPlay) {\n                event.preventDefault();\n                event.cancelBubble = true;\n\n                Media.onPlay(this);\n            }\n        }\n    }\n\n    private async displayPoster() {\n        if (this.renderedElement) {\n            const playButtonArrowWidth = 12;\n            const playButtonArrowHeight = 15;\n\n            const posterRootElement = document.createElement(\"div\");\n            posterRootElement.className = this.hostConfig.makeCssClassName(\"ac-media-poster\");\n            posterRootElement.setAttribute(\"role\", \"contentinfo\");\n            posterRootElement.setAttribute(\n                \"aria-label\",\n                this.altText ? this.altText : Strings.defaults.mediaPlayerAriaLabel()\n            );\n            posterRootElement.style.position = \"relative\";\n            posterRootElement.style.display = \"flex\";\n\n            let posterUrl = this.poster ? this.poster : this._mediaPlayer.posterUrl;\n\n            if (!posterUrl) {\n                posterUrl = this.hostConfig.media.defaultPoster;\n            }\n\n            if (posterUrl) {\n                const posterImageElement = document.createElement(\"img\");\n                posterImageElement.style.width = \"100%\";\n                posterImageElement.style.height = \"100%\";\n                posterImageElement.setAttribute(\"role\", \"presentation\");\n\n                posterImageElement.onerror = (_e: Event) => {\n                    if (posterImageElement.parentNode) {\n                        posterImageElement.parentNode.removeChild(posterImageElement);\n                    }\n\n                    posterRootElement.classList.add(\"empty\");\n                    posterRootElement.style.minHeight = \"150px\";\n                };\n\n                posterImageElement.src = posterUrl;\n\n                posterRootElement.appendChild(posterImageElement);\n            } else {\n                posterRootElement.classList.add(\"empty\");\n                posterRootElement.style.minHeight = \"150px\";\n            }\n\n            if (this.hostConfig.supportsInteractivity && this._mediaPlayer.canPlay()) {\n                const playButtonOuterElement = document.createElement(\"div\");\n                playButtonOuterElement.tabIndex = 0;\n                playButtonOuterElement.setAttribute(\"role\", \"button\");\n                playButtonOuterElement.setAttribute(\n                    \"aria-label\",\n                    Strings.defaults.mediaPlayerPlayMedia()\n                );\n                playButtonOuterElement.className =\n                    this.hostConfig.makeCssClassName(\"ac-media-playButton\");\n                playButtonOuterElement.style.display = \"flex\";\n                playButtonOuterElement.style.alignItems = \"center\";\n                playButtonOuterElement.style.justifyContent = \"center\";\n                playButtonOuterElement.onclick = (e) => {\n                    this.handlePlayButtonInvoke(e);\n                };\n\n                playButtonOuterElement.onkeypress = (e: KeyboardEvent) => {\n                    if (e.code === \"Enter\" || e.code === \"Space\") {\n                        // space or enter\n                        this.handlePlayButtonInvoke(e);\n                    }\n                };\n\n                const playButtonInnerElement = document.createElement(\"div\");\n                playButtonInnerElement.className = this.hostConfig.makeCssClassName(\n                    \"ac-media-playButton-arrow\"\n                );\n                playButtonInnerElement.style.width = playButtonArrowWidth + \"px\";\n                playButtonInnerElement.style.height = playButtonArrowHeight + \"px\";\n                playButtonInnerElement.style.borderTopWidth = playButtonArrowHeight / 2 + \"px\";\n                playButtonInnerElement.style.borderBottomWidth = playButtonArrowHeight / 2 + \"px\";\n                playButtonInnerElement.style.borderLeftWidth = playButtonArrowWidth + \"px\";\n                playButtonInnerElement.style.borderRightWidth = \"0\";\n                playButtonInnerElement.style.borderStyle = \"solid\";\n                playButtonInnerElement.style.borderTopColor = \"transparent\";\n                playButtonInnerElement.style.borderRightColor = \"transparent\";\n                playButtonInnerElement.style.borderBottomColor = \"transparent\";\n                playButtonInnerElement.style.transform =\n                    \"translate(\" + playButtonArrowWidth / 10 + \"px,0px)\";\n\n                playButtonOuterElement.appendChild(playButtonInnerElement);\n\n                const playButtonContainer = document.createElement(\"div\");\n                playButtonContainer.style.position = \"absolute\";\n                playButtonContainer.style.left = \"0\";\n                playButtonContainer.style.top = \"0\";\n                playButtonContainer.style.width = \"100%\";\n                playButtonContainer.style.height = \"100%\";\n                playButtonContainer.style.display = \"flex\";\n                playButtonContainer.style.justifyContent = \"center\";\n                playButtonContainer.style.alignItems = \"center\";\n\n                playButtonContainer.appendChild(playButtonOuterElement);\n                posterRootElement.appendChild(playButtonContainer);\n            }\n\n            clearElement(this.renderedElement);\n            this.renderedElement.appendChild(posterRootElement);\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = <HTMLElement>document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-media\");\n\n        return element;\n    }\n\n    static onPlay?: (sender: Media) => void;\n\n    render(): HTMLElement | undefined {\n        let result = super.render();\n\n        if (result) {\n            this._mediaPlayer = this.createMediaPlayer();\n\n            this._mediaPlayer.fetchVideoDetails().then(() => this.displayPoster());\n        }\n\n        return result;\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this.displayPoster();\n    }\n\n    getJsonTypeName(): string {\n        return \"Media\";\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        const result: IResourceInformation[] = [];\n\n        if (this._mediaPlayer) {\n            const posterUrl = this.poster ? this.poster : this.hostConfig.media.defaultPoster;\n\n            if (posterUrl) {\n                result.push({ url: posterUrl, mimeType: \"image\" });\n            }\n        }\n\n        for (const mediaSource of this.sources) {\n            if (mediaSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `mediaSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: mediaSource.url!,\n                    mimeType: mediaSource.mimeType!\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n\n        for (const captionSource of this.captionSources) {\n            if (captionSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `captionSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: captionSource.url!,\n                    mimeType: captionSource.mimeType!\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n\n        return result;\n    }\n\n    get selectedMediaType(): string | undefined {\n        return this._mediaPlayer.selectedMediaType;\n    }\n}\n\nenum InputEventType {\n    InitialRender,\n    MouseEnterOnCard,\n    MouseLeaveOnCard,\n    FocusLeave\n}\n\nexport abstract class Input extends CardElement implements IInput {\n    \n    //#region Schema\n    static readonly labelProperty = new StringProperty(Versions.v1_3, \"label\", true);\n    static readonly isRequiredProperty = new BoolProperty(Versions.v1_3, \"isRequired\", false);\n    static readonly errorMessageProperty = new StringProperty(Versions.v1_3, \"errorMessage\", true);\n    static readonly inputStyleProperty = new EnumProperty(\n        Versions.v1_6,\n        \"inputStyle\",\n        Enums.InputStyle,\n        Enums.InputStyle.Default,\n        [\n            { value: Enums.InputStyle.RevealOnHover },\n            { value: Enums.InputStyle.Default }\n        ]\n    );\n    static readonly labelWidthProperty = new CustomProperty<SizeAndUnit | undefined>(\n        Versions.v1_6,\n        \"labelWidth\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: SizeAndUnit | undefined = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidLabelWidth = false;\n            \n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, Enums.SizeUnit.Weight);\n                if (result.physicalSize < 0 || result.physicalSize > 100) {\n                    invalidLabelWidth = true;\n                }\n            }\n            else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n                } catch (e) {\n                    invalidLabelWidth = true;\n                }\n            } else {\n                invalidLabelWidth = true;\n            }\n\n            if (invalidLabelWidth) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidInputLabelWidth()\n                );\n                result = undefined;\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: SizeAndUnit | undefined,\n            context: BaseSerializationContext\n        ) => {\n            if (value instanceof SizeAndUnit) {\n                if (value.unit === Enums.SizeUnit.Pixel) {\n                    context.serializeValue(target, \"labelWidth\", value.physicalSize + \"px\");\n                } else {\n                    context.serializeNumber(target, \"labelWidth\", value.physicalSize);\n                }\n            }\n        },\n        undefined\n    );\n\n    static readonly labelPositionProperty = new EnumProperty(\n        Versions.v1_6,\n        \"labelPosition\",\n        Enums.InputLabelPosition,\n        Enums.InputLabelPosition.Above,\n        [\n            { value: Enums.InputLabelPosition.Inline },\n            { value: Enums.InputLabelPosition.Above }\n        ]\n    );\n\n    @property(Input.labelProperty)\n    label?: string;\n\n    @property(Input.isRequiredProperty)\n    isRequired: boolean;\n\n    @property(Input.errorMessageProperty)\n    errorMessage?: string;\n\n    @property(Input.inputStyleProperty)\n    inputStyle: Enums.InputStyle = Enums.InputStyle.Default;\n    \n    @property(Input.labelWidthProperty)\n    labelWidth?: SizeAndUnit;\n\n    @property(Input.labelPositionProperty)\n    labelPosition?: Enums.InputLabelPosition;\n\n    //#endregion\n\n    private _outerContainerElement: HTMLElement;\n    private _inputControlContainerElement: HTMLElement;\n    private _renderedErrorMessageElement?: HTMLElement;\n    private _renderedLabelElement?: HTMLElement;\n    private _renderedInputControlElement?: HTMLElement;\n    private _oldValue: any;\n\n    protected getAllLabelIds(): string[] {\n        const labelIds: string[] = [];\n\n        if (this.labelledBy) {\n            labelIds.push(this.labelledBy);\n        }\n\n        if (this._renderedLabelElement) {\n            labelIds.push(this._renderedLabelElement.id);\n        }\n\n        if (this._renderedErrorMessageElement) {\n            labelIds.push(this._renderedErrorMessageElement.id);\n        }\n\n        return labelIds;\n    }\n\n    protected updateInputControlAriaLabelledBy() {\n        if (this._renderedInputControlElement) {\n            const labelIds: string[] = this.getAllLabelIds();\n\n            if (labelIds.length > 0) {\n                this._renderedInputControlElement.setAttribute(\n                    \"aria-labelledby\",\n                    labelIds.join(\" \")\n                );\n            } else {\n                this._renderedInputControlElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    }\n\n    protected get isNullable(): boolean {\n        return true;\n    }\n\n    protected get renderedInputControlElement(): HTMLElement | undefined {\n        return this._renderedInputControlElement;\n    }\n\n    protected get inputControlContainerElement(): HTMLElement {\n        return this._inputControlContainerElement;\n    }\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        const hostConfig = this.hostConfig;\n\n        this._outerContainerElement = document.createElement(\"div\");\n        this._outerContainerElement.style.display = \"flex\";\n        if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n            this._outerContainerElement.style.flexDirection = \"row\";\n        } else {\n            this._outerContainerElement.style.flexDirection = \"column\";\n        }\n\n        const renderedInputControlId = Utils.generateUniqueId();\n\n        if (this.label) {\n            const labelRichTextBlock = new RichTextBlock();\n            labelRichTextBlock.setParent(this);\n            labelRichTextBlock.forElementId = renderedInputControlId;\n\n            const labelInline = new TextRun(this.label);\n            labelRichTextBlock.addInline(labelInline);\n\n            if (this.isRequired) {\n                labelInline.init(hostConfig.inputs.label.requiredInputs);\n\n                const isRequiredCueInline = new TextRun(\n                    hostConfig.inputs.label.requiredInputs.suffix\n                );\n                isRequiredCueInline.color = hostConfig.inputs.label.requiredInputs.suffixColor;\n                isRequiredCueInline.ariaHidden = true;\n\n                labelRichTextBlock.addInline(isRequiredCueInline);\n            } else {\n                labelInline.init(hostConfig.inputs.label.optionalInputs);\n            }\n\n            this._renderedLabelElement = labelRichTextBlock.render();\n\n            if (this._renderedLabelElement) {\n                this._renderedLabelElement.id = Utils.generateUniqueId();\n                if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n                    // For inline label position: label should be in center of the div and no extra spacing needed\n                    this._renderedLabelElement.style.alignSelf = \"center\";\n                } else {\n                    this._renderedLabelElement.style.marginBottom =\n                        hostConfig.getEffectiveSpacing(hostConfig.inputs.label.inputSpacing) + \"px\";\n                }\n                this._outerContainerElement.appendChild(this._renderedLabelElement);\n            }\n        }\n\n        this._inputControlContainerElement = document.createElement(\"div\");\n        this._inputControlContainerElement.className =\n            hostConfig.makeCssClassName(\"ac-input-container\");\n        this._inputControlContainerElement.style.display = \"flex\";\n\n        if (this.height === \"stretch\") {\n            this._inputControlContainerElement.style.alignItems = \"stretch\";\n            this._inputControlContainerElement.style.flex = \"1 1 auto\";\n        }\n\n        this._renderedInputControlElement = this.internalRender();\n\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.id = renderedInputControlId;\n            this._renderedInputControlElement.style.minWidth = \"0px\";\n\n            if (this.isNullable && this.isRequired) {\n                this._renderedInputControlElement.setAttribute(\"aria-required\", \"true\");\n                this._renderedInputControlElement.classList.add(\n                    hostConfig.makeCssClassName(\"ac-input-required\")\n                );\n            }\n\n            this._inputControlContainerElement.appendChild(this._renderedInputControlElement);\n            this._outerContainerElement.appendChild(this._inputControlContainerElement);\n\n            if (this._renderedLabelElement && this.labelPosition === Enums.InputLabelPosition.Inline) {\n                if (!this.labelWidth) {\n                    const defaultLabelWidth = hostConfig.inputs.label.width;\n                    this._renderedLabelElement.style.width = defaultLabelWidth.toString() + \"%\";\n                    this._renderedInputControlElement.style.width = (100 - defaultLabelWidth) + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Weight) {\n                    const labelWidthInPercent = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPercent.toString() + \"%\";\n                    this._renderedInputControlElement.style.width = (100 - labelWidthInPercent).toString() + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Pixel) {\n                    const labelWidthInPixel = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPixel.toString() + \"px\";\n                }\n            }\n\n            this.updateVisualState(InputEventType.InitialRender);\n            if (this._renderedInputControlElement) {\n                this._renderedInputControlElement.onblur = (ev: MouseEvent) => {\n                    this.updateVisualState(InputEventType.FocusLeave);\n                };\n            }\n            this.updateInputControlAriaLabelledBy();\n\n            return this._outerContainerElement;\n        }\n\n        this.resetDirtyState();\n\n        return undefined;\n    }\n\n    protected valueChanged() {\n        this.getRootElement().updateActionsEnabledState();\n\n        if (this.isValid()) {\n            this.resetValidationFailureCue();\n        }\n\n        if (this.onValueChanged) {\n            this.onValueChanged(this);\n        }\n\n        raiseInputValueChangedEvent(this);\n    }\n\n    protected resetValidationFailureCue() {\n        if (this.renderedInputControlElement) {\n            this.renderedInputControlElement.classList.remove(\n                this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n            );\n\n            this.updateInputControlAriaLabelledBy();\n\n            if (this._renderedErrorMessageElement) {\n                this._outerContainerElement.removeChild(this._renderedErrorMessageElement);\n\n                this._renderedErrorMessageElement = undefined;\n            }\n        }\n    }\n\n    protected showValidationErrorMessage() {\n        if (\n            this.renderedElement &&\n            this.errorMessage &&\n            GlobalSettings.displayInputValidationErrors\n        ) {\n            const errorMessageTextBlock = new TextBlock();\n            errorMessageTextBlock.setParent(this);\n            errorMessageTextBlock.text = this.errorMessage;\n            errorMessageTextBlock.wrap = true;\n            errorMessageTextBlock.init(this.hostConfig.inputs.errorMessage);\n\n            this._renderedErrorMessageElement = errorMessageTextBlock.render();\n\n            if (this._renderedErrorMessageElement) {\n                this._renderedErrorMessageElement.id = Utils.generateUniqueId();\n                this._outerContainerElement.appendChild(this._renderedErrorMessageElement);\n\n                this.updateInputControlAriaLabelledBy();\n            }\n        }\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this._renderedInputControlElement || this.inputStyle !== Enums.InputStyle.RevealOnHover) {\n            return;\n        }\n        if (eventType === InputEventType.InitialRender) {\n            // on initial render, we will show input fields as read only view\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onrender\"));\n        }\n        else if (eventType === InputEventType.MouseEnterOnCard) {\n            // on hover on the card, we will reveal the inputs by showing borders etc\n            // ac-inputStyle-revealOnHover-onhover class is also used to identify if mouse is hovering on the card\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        } else if (eventType === InputEventType.MouseLeaveOnCard) {\n            this._renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        }\n    }\n\n    onValueChanged: (sender: Input) => void;\n\n    labelledBy?: string;\n\n    abstract isSet(): boolean;\n\n    focus() {\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.focus();\n        }\n    }\n\n    isValid(): boolean {\n        return true;\n    }\n\n    isDirty(): boolean {\n        return this.value !== this._oldValue;\n    }\n\n    resetDirtyState() {\n        this._oldValue = this.value;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.id) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.inputsMustHaveUniqueId()\n            );\n        }\n\n        if (this.isRequired) {\n            if (!this.label) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.RequiredInputsShouldHaveLabel,\n                    \"Required inputs should have a label\"\n                );\n            }\n\n            if (!this.errorMessage) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.RequiredInputsShouldHaveErrorMessage,\n                    \"Required inputs should have an error message\"\n                );\n            }\n        }\n    }\n\n    validateValue(): boolean {\n        this.resetValidationFailureCue();\n\n        const result = this.isRequired ? this.isSet() && this.isValid() : this.isValid();\n\n        if (!result && this.renderedInputControlElement) {\n            this.renderedInputControlElement.classList.add(\n                this.hostConfig.makeCssClassName(\"ac-input-validation-failed\")\n            );\n\n            this.showValidationErrorMessage();\n        }\n\n        return result;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [this];\n    }\n\n    render(): HTMLElement | undefined {\n        let result = super.render();\n\n        this.resetDirtyState();\n\n        return result;\n    }\n\n    abstract get value(): any;\n\n    get isInteractive(): boolean {\n        return true;\n    }\n}\n\nexport class TextInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly maxLengthProperty = new NumProperty(Versions.v1_0, \"maxLength\");\n    static readonly isMultilineProperty = new BoolProperty(Versions.v1_0, \"isMultiline\", false);\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly styleProperty = new EnumProperty(\n        Versions.v1_0,\n        \"style\",\n        Enums.InputTextStyle,\n        Enums.InputTextStyle.Text,\n        [\n            { value: Enums.InputTextStyle.Text },\n            { value: Enums.InputTextStyle.Tel },\n            { value: Enums.InputTextStyle.Url },\n            { value: Enums.InputTextStyle.Email },\n            { value: Enums.InputTextStyle.Password, targetVersion: Versions.v1_5 }\n        ]\n    );\n    static readonly inlineActionProperty = new ActionProperty(Versions.v1_0, \"inlineAction\", [\n        \"Action.ShowCard\"\n    ]);\n    static readonly regexProperty = new StringProperty(Versions.v1_3, \"regex\", true);\n\n    @property(TextInput.valueProperty)\n    defaultValue?: string;\n\n    @property(TextInput.maxLengthProperty)\n    maxLength?: number;\n\n    @property(TextInput.isMultilineProperty)\n    isMultiline: boolean = false;\n\n    @property(TextInput.placeholderProperty)\n    placeholder?: string;\n\n    @property(TextInput.styleProperty)\n    style: Enums.InputTextStyle = Enums.InputTextStyle.Text;\n\n    @property(TextInput.inlineActionProperty)\n    inlineAction?: Action;\n\n    @property(TextInput.regexProperty)\n    regex?: string;\n\n    //#endregion\n\n    private setupInput(input: HTMLInputElement | HTMLTextAreaElement) {\n        input.style.flex = \"1 1 auto\";\n\n        input.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.placeholder) {\n            input.placeholder = this.placeholder;\n            input.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        if (this.defaultValue) {\n            input.value = this.defaultValue;\n        }\n\n        if (this.maxLength && this.maxLength > 0) {\n            input.maxLength = this.maxLength;\n        }\n\n        input.oninput = () => {\n            this.valueChanged();\n        };\n        input.onkeypress = (e: KeyboardEvent) => {\n            // Ctrl+Enter pressed\n            if (\n                e.ctrlKey &&\n                e.code === \"Enter\" &&\n                this.inlineAction &&\n                this.inlineAction.isEffectivelyEnabled()\n            ) {\n                this.inlineAction.execute();\n            }\n        };\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        let result: HTMLInputElement | HTMLTextAreaElement;\n\n        if (this.isMultiline && this.style !== Enums.InputTextStyle.Password) {\n            result = document.createElement(\"textarea\");\n            result.className = this.hostConfig.makeCssClassName(\n                \"ac-input\",\n                \"ac-textInput\",\n                \"ac-multiline\"\n            );\n\n            if (this.height === \"stretch\") {\n                result.style.height = \"initial\";\n            }\n        } else {\n            result = document.createElement(\"input\");\n            result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\");\n            result.type = Enums.InputTextStyle[this.style].toLowerCase();\n        }\n\n        this.setupInput(result);\n\n        return result;\n    }\n\n    protected overrideInternalRender(): HTMLElement | undefined {\n        const renderedInputControl = super.overrideInternalRender();\n\n        if (this.inlineAction) {\n            const button = document.createElement(\"button\");\n            button.className = this.hostConfig.makeCssClassName(\n                this.inlineAction.isEffectivelyEnabled()\n                    ? \"ac-inlineActionButton\"\n                    : \"ac-inlineActionButton-disabled\"\n            );\n\n            button.onclick = (e) => {\n                if (this.inlineAction && this.inlineAction.isEffectivelyEnabled()) {\n                    e.preventDefault();\n                    e.cancelBubble = true;\n\n                    this.inlineAction.execute();\n                }\n            };\n\n            if (this.inlineAction.iconUrl) {\n                button.classList.add(\"iconOnly\");\n\n                const icon = document.createElement(\"img\");\n                icon.style.height = \"100%\";\n                icon.setAttribute(\"role\", \"presentation\");\n\n                // The below trick is necessary as a workaround in Chrome where the icon is initially displayed\n                // at its native size then resized to 100% of the button's height. This cfreates an unpleasant\n                // flicker. On top of that, Chrome's flex implementation fails to prperly re-layout the button\n                // after the image has loaded and been gicven its final size. The below trick also fixes that.\n                icon.style.display = \"none\";\n                icon.onload = () => {\n                    icon.style.removeProperty(\"display\");\n                };\n                icon.onerror = () => {\n                    button.removeChild(icon);\n                    button.classList.remove(\"iconOnly\");\n                    button.classList.add(\"textOnly\");\n                    button.textContent =\n                        this.inlineAction && this.inlineAction.title\n                            ? this.inlineAction.title\n                            : Strings.defaults.inlineActionTitle();\n                };\n\n                icon.src = this.inlineAction.iconUrl;\n\n                button.appendChild(icon);\n                button.title = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : Strings.defaults.inlineActionTitle();\n            } else {\n                button.classList.add(\"textOnly\");\n                button.textContent = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : Strings.defaults.inlineActionTitle();\n            }\n\n            this.inlineAction.setupElementForAccessibility(button, true);\n\n            button.style.marginLeft = \"8px\";\n\n            this.inputControlContainerElement.appendChild(button);\n        }\n\n        return renderedInputControl;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!(this.inlineAction || this.isMultiline)) {\n            super.updateVisualState(eventType);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Text\";\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        if (this.inlineAction) {\n            result.push(this.inlineAction);\n        }\n\n        return result;\n    }\n\n    getActionById(id: string) {\n        let result = super.getActionById(id);\n\n        if (!result && this.inlineAction) {\n            result = this.inlineAction.getActionById(id);\n        }\n\n        return result;\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return true;\n        }\n\n        if (this.regex) {\n            return new RegExp(this.regex, \"g\").test(this.value);\n        }\n\n        return true;\n    }\n\n    get value(): string | undefined {\n        if (this.renderedInputControlElement) {\n            if (this.isMultiline) {\n                return (<HTMLTextAreaElement>this.renderedInputControlElement).value;\n            } else {\n                return (<HTMLInputElement>this.renderedInputControlElement).value;\n            }\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport class ToggleInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueOnProperty = new StringProperty(\n        Versions.v1_0,\n        \"valueOn\",\n        true,\n        undefined,\n        \"true\",\n        (sender: SerializableObject) => {\n            return \"true\";\n        }\n    );\n    static readonly valueOffProperty = new StringProperty(\n        Versions.v1_0,\n        \"valueOff\",\n        true,\n        undefined,\n        \"false\",\n        (sender: SerializableObject) => {\n            return \"false\";\n        }\n    );\n    static readonly wrapProperty = new BoolProperty(Versions.v1_2, \"wrap\", false);\n\n    @property(ToggleInput.valueProperty)\n    defaultValue?: string;\n\n    @property(ToggleInput.titleProperty)\n    title?: string;\n\n    @property(ToggleInput.valueOnProperty)\n    valueOn: string = \"true\";\n\n    @property(ToggleInput.valueOffProperty)\n    valueOff: string = \"false\";\n\n    @property(ToggleInput.wrapProperty)\n    wrap: boolean = false;\n\n    //#endregion\n\n    private _checkboxInputElement: HTMLInputElement;\n    private _checkboxInputLabelElement: HTMLElement | undefined;\n    private _oldCheckboxValue: boolean;\n\n    protected updateInputControlAriaLabelledBy() {\n        if (this._checkboxInputElement) {\n            let joinedLabelIds = this.getAllLabelIds().join(\" \");\n\n            if (this._checkboxInputLabelElement && this._checkboxInputLabelElement.id) {\n                joinedLabelIds += \" \" + this._checkboxInputLabelElement.id;\n            }\n\n            if (joinedLabelIds) {\n                this._checkboxInputElement.setAttribute(\"aria-labelledby\", joinedLabelIds);\n            } else {\n                this._checkboxInputElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-toggleInput\");\n        element.style.width = \"100%\";\n        element.style.display = \"flex\";\n        element.style.alignItems = \"center\";\n\n        this._checkboxInputElement = document.createElement(\"input\");\n        this._checkboxInputElement.id = Utils.generateUniqueId();\n        this._checkboxInputElement.type = \"checkbox\";\n        this._checkboxInputElement.style.display = \"inline-block\";\n        this._checkboxInputElement.style.verticalAlign = \"middle\";\n        this._checkboxInputElement.style.margin = \"0\";\n        this._checkboxInputElement.style.flex = \"0 0 auto\";\n\n        if (this.title) {\n            this._checkboxInputElement.setAttribute(\"aria-label\", this.title);\n        }\n\n        if (this.isRequired) {\n            this._checkboxInputElement.setAttribute(\"aria-required\", \"true\");\n        }\n\n        this._checkboxInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue === this.valueOn) {\n            this._checkboxInputElement.checked = true;\n        }\n\n        this._oldCheckboxValue = this._checkboxInputElement.checked;\n\n        this._checkboxInputElement.onchange = () => {\n            this.valueChanged();\n        };\n\n        Utils.appendChild(element, this._checkboxInputElement);\n\n        if (this.title || this.isDesignMode()) {\n            const label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = this._checkboxInputElement.id;\n            label.hostConfig = this.hostConfig;\n            label.text = !this.title ? this.getJsonTypeName() : this.title;\n            label.useMarkdown = GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n\n            this._checkboxInputLabelElement = label.render();\n\n            if (this._checkboxInputLabelElement) {\n                this._checkboxInputLabelElement.id = Utils.generateUniqueId();\n                this._checkboxInputLabelElement.style.display = \"inline-block\";\n                this._checkboxInputLabelElement.style.flex = \"1 1 auto\";\n                this._checkboxInputLabelElement.style.marginLeft = \"6px\";\n                this._checkboxInputLabelElement.style.verticalAlign = \"middle\";\n\n                const spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n\n                Utils.appendChild(element, spacerElement);\n                Utils.appendChild(element, this._checkboxInputLabelElement);\n            }\n        }\n\n        return element;\n    }\n\n    protected get isNullable(): boolean {\n        return false;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Toggle\";\n    }\n\n    focus() {\n        if (this._checkboxInputElement) {\n            this._checkboxInputElement.focus();\n        }\n    }\n\n    isSet(): boolean {\n        if (this.isRequired) {\n            return this.value === this.valueOn;\n        }\n\n        return this.value ? true : false;\n    }\n\n    isDirty(): boolean {\n        return this._checkboxInputElement\n            ? this._checkboxInputElement.checked !== this._oldCheckboxValue\n            : false;\n    }\n\n    get value(): string | undefined {\n        if (this._checkboxInputElement) {\n            return this._checkboxInputElement.checked ? this.valueOn : this.valueOff;\n        } else {\n            return undefined;\n        }\n    }\n}\n\nexport class Choice extends SerializableObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n\n    @property(Choice.titleProperty)\n    title?: string;\n\n    @property(Choice.valueProperty)\n    value?: string;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"Choice\";\n    }\n\n    constructor(title?: string, value?: string) {\n        super();\n\n        this.title = title;\n        this.value = value;\n    }\n}\n\nexport class ChoiceSetInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly choicesProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"choices\",\n        Choice\n    );\n    static readonly styleProperty = new ValueSetProperty(\n        Versions.v1_0,\n        \"style\",\n        [\n            { value: \"compact\" },\n            { value: \"expanded\" },\n            { value: \"filtered\", targetVersion: Versions.v1_5 }\n        ],\n        \"compact\"\n    );\n    static readonly isMultiSelectProperty = new BoolProperty(Versions.v1_0, \"isMultiSelect\", false);\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly wrapProperty = new BoolProperty(Versions.v1_2, \"wrap\", false);\n\n    @property(ChoiceSetInput.valueProperty)\n    defaultValue?: string;\n\n    @property(ChoiceSetInput.styleProperty)\n    style?: \"compact\" | \"expanded\" | \"filtered\";\n\n    get isCompact(): boolean {\n        return !this.style || this.style === \"compact\";\n    }\n\n    set isCompact(value: boolean) {\n        this.style = value ? undefined : \"expanded\";\n    }\n\n    @property(ChoiceSetInput.isMultiSelectProperty)\n    isMultiSelect: boolean = false;\n\n    @property(ChoiceSetInput.placeholderProperty)\n    placeholder?: string;\n\n    @property(ChoiceSetInput.wrapProperty)\n    wrap: boolean = false;\n\n    @property(ChoiceSetInput.choicesProperty)\n    choices: Choice[] = [];\n\n    //#endregion\n\n    private static _uniqueCategoryCounter = 0;\n\n    private static getUniqueCategoryName(): string {\n        const uniqueCategoryName = \"__ac-category\" + ChoiceSetInput._uniqueCategoryCounter;\n\n        ChoiceSetInput._uniqueCategoryCounter++;\n\n        return uniqueCategoryName;\n    }\n\n    private _uniqueCategoryName: string;\n    private _selectElement: HTMLSelectElement | undefined;\n    private _textInput: HTMLInputElement | undefined;\n    private _toggleInputs: HTMLInputElement[] | undefined;\n    private _labels: Array<HTMLElement | undefined>;\n\n    private createPlaceholderOptionWhenValueDoesNotExist(): HTMLElement | undefined {\n        if (!this.value) {\n            const placeholderOption = document.createElement(\"option\");\n            placeholderOption.selected = true;\n            placeholderOption.disabled = true;\n            placeholderOption.hidden = true;\n            placeholderOption.value = \"\";\n\n            if (this.placeholder) {\n                placeholderOption.text = this.placeholder;\n            }\n            return placeholderOption;\n        }\n        return undefined;\n    }\n\n    // Make sure `aria-current` is applied to the currently-selected item\n    private internalApplyAriaCurrent(): void {\n        if (this._selectElement) {\n            const options = this._selectElement.options;\n\n            if (options) {\n                for (const option of Array.from(options)) {\n                    if (option.selected) {\n                        option.setAttribute(\"aria-current\", \"true\");\n                    } else {\n                        option.removeAttribute(\"aria-current\");\n                    }\n                }\n            }\n        }\n    }\n\n    private renderCompoundInput(\n        cssClassName: string,\n        type: \"checkbox\" | \"radio\",\n        defaultValues: string[] | undefined\n    ): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", cssClassName);\n        element.style.width = \"100%\";\n\n        element.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        this._toggleInputs = [];\n        this._labels = [];\n\n        for (const choice of this.choices) {\n            const input = document.createElement(\"input\");\n            input.id = Utils.generateUniqueId();\n            input.type = type;\n            input.style.margin = \"0\";\n            input.style.display = \"inline-block\";\n            input.style.verticalAlign = \"middle\";\n            input.style.flex = \"0 0 auto\";\n            input.name = this.id ? this.id : this._uniqueCategoryName;\n\n            if (this.isRequired) {\n                input.setAttribute(\"aria-required\", \"true\");\n            }\n\n            input.tabIndex = this.isDesignMode() ? -1 : 0;\n\n            if (choice.value) {\n                input.value = choice.value;\n            }\n\n            if (choice.title) {\n                input.setAttribute(\"aria-label\", choice.title);\n            }\n\n            if (defaultValues && choice.value) {\n                if (defaultValues.indexOf(choice.value) >= 0) {\n                    input.checked = true;\n                }\n            }\n\n            input.onchange = () => {\n                this.valueChanged();\n            };\n\n            this._toggleInputs.push(input);\n\n            const compoundInput = document.createElement(\"div\");\n            compoundInput.style.display = \"flex\";\n            compoundInput.style.alignItems = \"center\";\n\n            Utils.appendChild(compoundInput, input);\n\n            const label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = input.id;\n            label.hostConfig = this.hostConfig;\n            label.text = choice.title ? choice.title : \"Choice \" + this._toggleInputs.length;\n            label.useMarkdown = GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n\n            const labelElement = label.render();\n\n            this._labels.push(labelElement);\n\n            if (labelElement) {\n                labelElement.id = Utils.generateUniqueId();\n                labelElement.style.display = \"inline-block\";\n                labelElement.style.flex = \"1 1 auto\";\n                labelElement.style.marginLeft = \"6px\";\n                labelElement.style.verticalAlign = \"middle\";\n\n                const spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n\n                Utils.appendChild(compoundInput, spacerElement);\n                Utils.appendChild(compoundInput, labelElement);\n            }\n\n            Utils.appendChild(element, compoundInput);\n        }\n\n        return element;\n    }\n\n    protected updateInputControlAriaLabelledBy() {\n        if (\n            (this.isMultiSelect || this.style === \"expanded\") &&\n            this._toggleInputs &&\n            this._labels\n        ) {\n            const labelIds: string[] = this.getAllLabelIds();\n\n            for (let i = 0; i < this._toggleInputs.length; i++) {\n                let joinedLabelIds = labelIds.join(\" \");\n                const label = this._labels[i];\n\n                if (label && label.id) {\n                    joinedLabelIds += \" \" + label.id;\n                }\n\n                if (joinedLabelIds) {\n                    this._toggleInputs[i].setAttribute(\"aria-labelledby\", joinedLabelIds);\n                } else {\n                    this._toggleInputs[i].removeAttribute(\"aria-labelledby\");\n                }\n            }\n        } else {\n            super.updateInputControlAriaLabelledBy();\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._uniqueCategoryName = ChoiceSetInput.getUniqueCategoryName();\n\n        if (this.isMultiSelect) {\n            // Render as a list of toggle inputs\n            return this.renderCompoundInput(\n                \"ac-choiceSetInput-multiSelect\",\n                \"checkbox\",\n                this.defaultValue\n                    ? this.defaultValue.split(this.hostConfig.choiceSetInputValueSeparator)\n                    : undefined\n            );\n        } else {\n            if (this.style === \"expanded\") {\n                // Render as a series of radio buttons\n                return this.renderCompoundInput(\n                    \"ac-choiceSetInput-expanded\",\n                    \"radio\",\n                    this.defaultValue ? [this.defaultValue] : undefined\n                );\n            } else if (this.style === \"filtered\") {\n                // Render as a text input coupled with a datalist\n                const inputContainer = document.createElement(\"div\");\n                inputContainer.style.width = \"100%\";\n\n                this._textInput = document.createElement(\"input\");\n                this._textInput.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-multichoiceInput\",\n                    \"ac-choiceSetInput-filtered\"\n                );\n                this._textInput.type = \"text\";\n                this._textInput.style.width = \"100%\";\n                this._textInput.oninput = () => {\n                    this.valueChanged();\n\n                    if (this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (this.value) {\n                            this._textInput.removeAttribute(\"placeholder\");\n                            this._textInput.removeAttribute(\"aria-label\");\n                        } else if (this.placeholder) {\n                            this._textInput.placeholder = this.placeholder;\n                            this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                        }\n                    }\n                };\n\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                const dataList = document.createElement(\"datalist\");\n                dataList.id = Utils.generateUniqueId();\n\n                for (const choice of this.choices) {\n                    const option = document.createElement(\"option\");\n                    // To fix https://stackoverflow.com/questions/29882361/show-datalist-labels-but-submit-the-actual-value\n                    // value is mapped to choice.title other than choice.value\n                    if (choice.title) {\n                        option.value = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                    dataList.appendChild(option);\n                }\n\n                this._textInput.setAttribute(\"list\", dataList.id);\n\n                inputContainer.append(this._textInput, dataList);\n\n                return inputContainer;\n            } else {\n                // Render as a combo box\n                this._selectElement = document.createElement(\"select\");\n                this._selectElement.className = this.hostConfig.makeCssClassName(\n                    \"ac-input\",\n                    \"ac-multichoiceInput\",\n                    \"ac-choiceSetInput-compact\"\n                );\n                this._selectElement.style.width = \"100%\";\n\n                this._selectElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                const placeholderOption = this.createPlaceholderOptionWhenValueDoesNotExist();\n\n                Utils.appendChild(this._selectElement, placeholderOption);\n\n                for (const choice of this.choices) {\n                    const option = document.createElement(\"option\");\n                    option.value = choice.value!;\n\n                    if (choice.title) {\n                        option.text = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n\n                    if (choice.value === this.defaultValue) {\n                        option.selected = true;\n                    }\n\n                    Utils.appendChild(this._selectElement, option);\n                }\n\n                this._selectElement.onchange = () => {\n                    this.internalApplyAriaCurrent();\n                    this.valueChanged();\n                };\n\n                this.internalApplyAriaCurrent();\n\n                return this._selectElement;\n            }\n        }\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        if (!this.isMultiSelect && this.isCompact) {\n            super.updateVisualState(eventType);\n\n            if (this._selectElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n                const hideDropDownPicker = shouldHideInputAdornersForRevealOnHover(this._selectElement, eventType);\n                \n                if (hideDropDownPicker) {\n                    this._selectElement.style.appearance = \"none\";\n                    this._selectElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                } else {\n                    this._selectElement.style.appearance = \"auto\";\n                    this._selectElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                }\n            }\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.ChoiceSet\";\n    }\n\n    focus() {\n        if (this._toggleInputs && (this.isMultiSelect || this.style === \"expanded\")) {\n            if (this._toggleInputs.length > 0) {\n                this._toggleInputs[0].focus();\n            }\n        } else if (this._textInput) {\n            this._textInput.focus();\n        } else {\n            super.focus();\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this.choices.length === 0) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.CollectionCantBeEmpty,\n                Strings.errors.choiceSetMustHaveAtLeastOneChoice()\n            );\n        }\n\n        for (const choice of this.choices) {\n            if (!choice.title || !choice.value) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.PropertyCantBeNull,\n                    Strings.errors.choiceSetChoicesMustHaveTitleAndValue()\n                );\n            }\n        }\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (this._textInput) {\n            if (this.value === \"\" || this.value === this.placeholder) {\n                return true;\n            }\n            for (const choice of this.choices) {\n                if (this.value === choice.value) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        return super.isValid();\n    }\n\n    get value(): string | undefined {\n        if (!this.isMultiSelect) {\n            if (this._selectElement) {\n                return this._selectElement.selectedIndex > 0\n                    ? this._selectElement.value\n                    : undefined;\n            } else if (this._textInput) {\n                for (const choice of this.choices) {\n                    if (choice.title && this._textInput.value === choice.title) {\n                        return choice.value;\n                    }\n                }\n                return this._textInput.value;\n            } else if (this._toggleInputs && this._toggleInputs.length > 0) {\n                for (const toggleInput of this._toggleInputs) {\n                    if (toggleInput.checked) {\n                        return toggleInput.value;\n                    }\n                }\n            }\n\n            return undefined;\n        } else {\n            if (!this._toggleInputs || this._toggleInputs.length === 0) {\n                return undefined;\n            }\n\n            let result: string = \"\";\n\n            for (const toggleInput of this._toggleInputs) {\n                if (toggleInput.checked) {\n                    if (result !== \"\") {\n                        result += this.hostConfig.choiceSetInputValueSeparator;\n                    }\n\n                    result += toggleInput.value;\n                }\n            }\n\n            return result ? result : undefined;\n        }\n    }\n}\n\nexport class NumberInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new NumProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new NumProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new NumProperty(Versions.v1_0, \"max\");\n\n    @property(NumberInput.valueProperty)\n    defaultValue?: number;\n\n    @property(NumberInput.minProperty)\n    min?: number;\n\n    @property(NumberInput.maxProperty)\n    max?: number;\n\n    @property(NumberInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _numberInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._numberInputElement = document.createElement(\"input\");\n        this._numberInputElement.setAttribute(\"type\", \"number\");\n\n        if (this.min !== undefined) {\n            this._numberInputElement.setAttribute(\"min\", this.min.toString());\n        }\n\n        if (this.max !== undefined) {\n            this._numberInputElement.setAttribute(\"max\", this.max.toString());\n        }\n\n        this._numberInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-numberInput\"\n        );\n        this._numberInputElement.style.width = \"100%\";\n\n        this._numberInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue !== undefined) {\n            this._numberInputElement.valueAsNumber = this.defaultValue;\n        }\n\n        if (this.placeholder) {\n            this._numberInputElement.placeholder = this.placeholder;\n            this._numberInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._numberInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        return this._numberInputElement;\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Number\";\n    }\n\n    isSet(): boolean {\n        return this.value !== undefined && !isNaN(this.value);\n    }\n\n    isValid(): boolean {\n        if (this.value === undefined) {\n            return !this.isRequired;\n        }\n\n        let result = true;\n\n        if (this.min !== undefined) {\n            result = result && this.value >= this.min;\n        }\n\n        if (this.max !== undefined) {\n            result = result && this.value <= this.max;\n        }\n\n        return result;\n    }\n\n    get value(): number | undefined {\n        return this._numberInputElement ? this._numberInputElement.valueAsNumber : undefined;\n    }\n\n    set value(value: number | undefined) {\n        if (value && this._numberInputElement) {\n            this._numberInputElement.value = value.toString();\n        }\n    }\n}\n\nexport class DateInput extends Input {\n    //#region Schema\n\n    static readonly valueProperty = new StringProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new StringProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new StringProperty(Versions.v1_0, \"max\");\n\n    @property(DateInput.valueProperty)\n    defaultValue?: string;\n\n    @property(DateInput.minProperty)\n    min?: string;\n\n    @property(DateInput.maxProperty)\n    max?: string;\n\n    @property(DateInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _dateInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._dateInputElement = document.createElement(\"input\");\n        this._dateInputElement.setAttribute(\"type\", \"date\");\n\n        if (this.min) {\n            this._dateInputElement.setAttribute(\"min\", this.min);\n        }\n\n        if (this.max) {\n            this._dateInputElement.setAttribute(\"max\", this.max);\n        }\n\n        if (this.placeholder) {\n            this._dateInputElement.placeholder = this.placeholder;\n            this._dateInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._dateInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        this._dateInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-dateInput\"\n        );\n        this._dateInputElement.style.width = \"100%\";\n\n        this._dateInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        if (this.defaultValue) {\n            this._dateInputElement.value = this.defaultValue;\n        }\n\n        return this._dateInputElement;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        super.updateVisualState(eventType);\n\n        if (this._dateInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            const hideDatePicker = shouldHideInputAdornersForRevealOnHover(this._dateInputElement, eventType);\n            updateInputAdornersVisibility(this._dateInputElement, hideDatePicker  /*hide*/);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Date\";\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n\n        const valueAsDate = new Date(this.value);\n\n        let result = true;\n\n        if (this.min) {\n            const minDate = new Date(this.min);\n\n            result = result && valueAsDate >= minDate;\n        }\n\n        if (this.max) {\n            const maxDate = new Date(this.max);\n\n            result = result && valueAsDate <= maxDate;\n        }\n\n        return result;\n    }\n\n    get value(): string | undefined {\n        return this._dateInputElement ? this._dateInputElement.value : undefined;\n    }\n}\n\nexport class TimeProperty extends CustomProperty<string | undefined> {\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(\n            targetVersion,\n            name,\n            (\n                sender: SerializableObject,\n                prop: PropertyDefinition,\n                source: PropertyBag,\n                context: BaseSerializationContext\n            ) => {\n                const value = source[prop.name];\n\n                if (typeof value === \"string\" && value && /^[0-9]{2}:[0-9]{2}$/.test(value)) {\n                    return value;\n                }\n\n                return undefined;\n            },\n            (\n                sender: SerializableObject,\n                prop: PropertyDefinition,\n                target: PropertyBag,\n                value: string | undefined,\n                context: BaseSerializationContext\n            ) => {\n                context.serializeValue(target, prop.name, value);\n            }\n        );\n    }\n}\n\nexport class TimeInput extends Input {\n    private static convertTimeStringToDate(timeString: string): Date {\n        return new Date(\"1973-09-04T\" + timeString + \":00Z\");\n    }\n\n    //#region Schema\n\n    static readonly valueProperty = new TimeProperty(Versions.v1_0, \"value\");\n    static readonly placeholderProperty = new StringProperty(Versions.v1_0, \"placeholder\");\n    static readonly minProperty = new TimeProperty(Versions.v1_0, \"min\");\n    static readonly maxProperty = new TimeProperty(Versions.v1_0, \"max\");\n\n    @property(TimeInput.valueProperty)\n    defaultValue?: string;\n\n    @property(TimeInput.minProperty)\n    min?: string;\n\n    @property(TimeInput.maxProperty)\n    max?: string;\n\n    @property(TimeInput.placeholderProperty)\n    placeholder?: string;\n\n    //#endregion\n\n    private _timeInputElement: HTMLInputElement;\n\n    protected internalRender(): HTMLElement | undefined {\n        this._timeInputElement = document.createElement(\"input\");\n        this._timeInputElement.setAttribute(\"type\", \"time\");\n\n        if (this.min) {\n            this._timeInputElement.setAttribute(\"min\", this.min);\n        }\n\n        if (this.max) {\n            this._timeInputElement.setAttribute(\"max\", this.max);\n        }\n\n        this._timeInputElement.className = this.hostConfig.makeCssClassName(\n            \"ac-input\",\n            \"ac-timeInput\"\n        );\n        this._timeInputElement.style.width = \"100%\";\n        this._timeInputElement.oninput = () => {\n            this.valueChanged();\n        };\n\n        if (this.placeholder) {\n            this._timeInputElement.placeholder = this.placeholder;\n            this._timeInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n\n        this._timeInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        if (this.defaultValue) {\n            this._timeInputElement.value = this.defaultValue;\n        }\n\n        return this._timeInputElement;\n    }\n\n    updateVisualState(eventType: InputEventType): void {\n        super.updateVisualState(eventType);\n\n        if (this._timeInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            const hideTimePicker = shouldHideInputAdornersForRevealOnHover(this._timeInputElement, eventType);\n            updateInputAdornersVisibility(this._timeInputElement, hideTimePicker /*hide*/);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Input.Time\";\n    }\n\n    isSet(): boolean {\n        return this.value ? true : false;\n    }\n\n    isValid(): boolean {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n\n        const valueAsDate = TimeInput.convertTimeStringToDate(this.value);\n\n        let result = true;\n\n        if (this.min) {\n            const minDate = TimeInput.convertTimeStringToDate(this.min);\n\n            result = result && valueAsDate >= minDate;\n        }\n\n        if (this.max) {\n            const maxDate = TimeInput.convertTimeStringToDate(this.max);\n\n            result = result && valueAsDate <= maxDate;\n        }\n\n        return result;\n    }\n\n    get value(): string | undefined {\n        return this._timeInputElement ? this._timeInputElement.value : undefined;\n    }\n}\n\nexport const enum ActionButtonState {\n    Normal,\n    Expanded,\n    Subdued\n}\n\nexport type ActionType = { new (): Action };\n\nexport abstract class Action extends CardObject {\n    //#region Schema\n\n    static readonly titleProperty = new StringProperty(Versions.v1_0, \"title\");\n    static readonly iconUrlProperty = new StringProperty(Versions.v1_1, \"iconUrl\");\n    static readonly styleProperty = new ValueSetProperty(\n        Versions.v1_2,\n        \"style\",\n        [\n            { value: Enums.ActionStyle.Default },\n            { value: Enums.ActionStyle.Positive },\n            { value: Enums.ActionStyle.Destructive }\n        ],\n        Enums.ActionStyle.Default\n    );\n    static readonly modeProperty = new ValueSetProperty(\n        Versions.v1_5,\n        \"mode\",\n        [{ value: Enums.ActionMode.Primary }, { value: Enums.ActionMode.Secondary }],\n        Enums.ActionMode.Primary\n    );\n    static readonly tooltipProperty = new StringProperty(Versions.v1_5, \"tooltip\");\n    static readonly isEnabledProperty = new BoolProperty(Versions.v1_5, \"isEnabled\", true);\n\n    @property(Action.titleProperty)\n    title?: string;\n\n    @property(Action.iconUrlProperty)\n    iconUrl?: string;\n\n    @property(Action.styleProperty)\n    style: string = Enums.ActionStyle.Default;\n\n    @property(Action.modeProperty)\n    mode: string = Enums.ActionMode.Primary;\n\n    @property(Action.tooltipProperty)\n    tooltip?: string;\n\n    @property(Action.isEnabledProperty)\n    isEnabled: boolean;\n\n    //#endregion\n\n    private renderButtonContent() {\n        if (this.renderedElement) {\n            // Cache hostConfig for perf\n            const hostConfig = this.hostConfig;\n\n            const titleElement = document.createElement(\"div\");\n            titleElement.style.overflow = \"hidden\";\n            titleElement.style.textOverflow = \"ellipsis\";\n\n            if (\n                !(\n                    hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle ||\n                    hostConfig.actions.allowTitleToWrap\n                )\n            ) {\n                titleElement.style.whiteSpace = \"nowrap\";\n            }\n\n            if (this.title) {\n                titleElement.innerText = this.title;\n            }\n\n            if (!this.iconUrl) {\n                this.renderedElement.classList.add(\"noIcon\");\n                this.renderedElement.appendChild(titleElement);\n            } else {\n                const iconElement = document.createElement(\"img\");\n                iconElement.src = this.iconUrl;\n                iconElement.style.width = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.height = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.flex = \"0 0 auto\";\n\n                if (hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle) {\n                    this.renderedElement.classList.add(\"iconAbove\");\n                    this.renderedElement.style.flexDirection = \"column\";\n\n                    if (this.title) {\n                        iconElement.style.marginBottom = \"6px\";\n                    }\n                } else {\n                    this.renderedElement.classList.add(\"iconLeft\");\n\n                    iconElement.style.maxHeight = \"100%\";\n\n                    if (this.title) {\n                        iconElement.style.marginRight = \"6px\";\n                    }\n                }\n\n                this.renderedElement.appendChild(iconElement);\n                this.renderedElement.appendChild(titleElement);\n            }\n        }\n    }\n\n    private getParentContainer(): Container | undefined {\n        if (this.parent instanceof Container) {\n            return this.parent;\n        }\n\n        return this.parent ? this.parent.getParentContainer() : undefined;\n    }\n\n    private _state: ActionButtonState = ActionButtonState.Normal;\n    private _actionCollection?: ActionCollection; // hold the reference to its action collection\n    private _isFocusable: boolean = true;\n\n    isDesignMode(): boolean {\n        const rootElement = this.getRootObject();\n\n        return rootElement instanceof CardElement && rootElement.isDesignMode();\n    }\n\n    protected updateCssClasses() {\n        if (this.parent && this.renderedElement) {\n            const hostConfig = this.parent.hostConfig;\n\n            this.renderedElement.className = hostConfig.makeCssClassName(\n                this.isEffectivelyEnabled() ? \"ac-pushButton\" : \"ac-pushButton-disabled\"\n            );\n\n            const parentContainer = this.getParentContainer();\n\n            if (parentContainer) {\n                const parentContainerStyle = parentContainer.getEffectiveStyle();\n\n                if (parentContainerStyle) {\n                    this.renderedElement.classList.add(\"style-\" + parentContainerStyle);\n                }\n            }\n\n            this.renderedElement.tabIndex = !this.isDesignMode() && this.isFocusable ? 0 : -1;\n\n            switch (this._state) {\n                case ActionButtonState.Normal:\n                    // No additional classes needed\n                    break;\n\n                case ActionButtonState.Expanded:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"expanded\"));\n                    break;\n                case ActionButtonState.Subdued:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"subdued\"));\n                    break;\n            }\n\n            if (this.style && this.isEffectivelyEnabled()) {\n                if (this.style === Enums.ActionStyle.Positive) {\n                    this.renderedElement.classList.add(\n                        ...hostConfig.makeCssClassNames(\"primary\", \"style-positive\")\n                    );\n                } else {\n                    this.renderedElement.classList.add(\n                        ...hostConfig.makeCssClassNames(\"style-\" + this.style.toLowerCase())\n                    );\n                }\n            }\n        }\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext();\n    }\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        return {};\n    }\n\n    protected internalPrepareForExecution(_inputs: Dictionary<Input> | undefined) {\n        // Do nothing in base implementation\n    }\n\n    protected internalValidateInputs(referencedInputs: Dictionary<Input> | undefined): Input[] {\n        const result: Input[] = [];\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                if (!input.validateValue()) {\n                    result.push(input);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected shouldSerialize(context: SerializationContext): boolean {\n        return context.actionRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    }\n\n    protected raiseExecuteActionEvent() {\n        if (this.onExecute) {\n            this.onExecute(this);\n        }\n\n        raiseExecuteActionEvent(this);\n    }\n\n    protected internalAfterExecute() {\n        let rootObject = this.getRootObject();\n\n        if (rootObject instanceof CardElement) {\n            rootObject.updateActionsEnabledState();\n        }\n    }\n\n    onExecute: (sender: Action) => void;\n\n    getHref(): string | undefined {\n        return \"\";\n    }\n\n    getAriaRole(): string {\n        return \"button\";\n    }\n\n    setupElementForAccessibility(element: HTMLElement, promoteTooltipToLabel: boolean = false) {\n        element.tabIndex = this.isEffectivelyEnabled() && !this.isDesignMode() ? 0 : -1;\n\n        element.setAttribute(\"role\", this.getAriaRole());\n\n        if (element instanceof HTMLButtonElement) {\n            element.disabled = !this.isEffectivelyEnabled();\n        }\n\n        if (!this.isEffectivelyEnabled()) {\n            element.setAttribute(\"aria-disabled\", \"true\");\n        } else {\n            element.removeAttribute(\"aria-disabled\");\n            element.classList.add(this.hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n\n        if (this.title) {\n            element.setAttribute(\"aria-label\", this.title);\n            element.title = this.title;\n        } else {\n            element.removeAttribute(\"aria-label\");\n            element.removeAttribute(\"title\");\n        }\n\n        if (this.tooltip) {\t\t\t\n            if (promoteTooltipToLabel && !this.title) {\n                element.setAttribute(\"aria-label\", this.tooltip);\n            }\n            element.title = this.tooltip;\n        }\n    }\n\n    parse(source: any, context?: SerializationContext) {\n        return super.parse(source, context ? context : new SerializationContext());\n    }\n\n    render() {\n        const buttonElement = document.createElement(\"button\");\n        buttonElement.type = \"button\";\n        buttonElement.style.display = \"flex\";\n        buttonElement.style.alignItems = \"center\";\n        buttonElement.style.justifyContent = \"center\";\n        buttonElement.onclick = (e) => {\n            if (this.isEffectivelyEnabled()) {\n                e.preventDefault();\n                e.cancelBubble = true;\n\n                this.execute();\n            }\n        };\n\n        this._renderedElement = buttonElement;\n\n        this.renderButtonContent();\n        this.updateCssClasses();\n        this.setupElementForAccessibility(buttonElement);\n    }\n\n    execute() {\n        if (this._actionCollection) {\n            this._actionCollection.actionExecuted(this);\n        }\n\n        this.raiseExecuteActionEvent();\n        this.internalAfterExecute();\n    }\n\n    prepareForExecution(): boolean {\n        const referencedInputs = this.getReferencedInputs();\n        const invalidInputs = this.internalValidateInputs(referencedInputs);\n\n        if (invalidInputs.length > 0) {\n            invalidInputs[0].focus();\n\n            return false;\n        }\n\n        this.internalPrepareForExecution(referencedInputs);\n\n        return true;\n    }\n\n    remove(): boolean {\n        if (this._actionCollection) {\n            return this._actionCollection.removeAction(this);\n        }\n\n        return false;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return [];\n    }\n\n    getAllActions(): Action[] {\n        return [this];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this.iconUrl ? [{ url: this.iconUrl, mimeType: \"image\" }] : [];\n    }\n\n    getActionById(id: string): Action | undefined {\n        return this.id === id ? this : undefined;\n    }\n\n    getReferencedInputs(): Dictionary<Input> | undefined {\n        return this.internalGetReferencedInputs();\n    }\n\n    /**\n     * Validates the inputs associated with this action.\n     *\n     * @returns A list of inputs that failed validation, or an empty array if no input failed validation.\n     */\n    validateInputs(): Input[] {\n        return this.internalValidateInputs(this.getReferencedInputs());\n    }\n\n    updateEnabledState() {\n        // Do nothing in base implementation\n    }\n\n    isEffectivelyEnabled(): boolean {\n        return this.isEnabled;\n    }\n\n    get isPrimary(): boolean {\n        return this.style === Enums.ActionStyle.Positive;\n    }\n\n    set isPrimary(value: boolean) {\n        if (value) {\n            this.style = Enums.ActionStyle.Positive;\n        } else {\n            if (this.style === Enums.ActionStyle.Positive) {\n                this.style = Enums.ActionStyle.Default;\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this.parent ? this.parent.hostConfig : defaultHostConfig;\n    }\n\n    get parent(): CardElement | undefined {\n        return <CardElement>this._parent;\n    }\n\n    get state(): ActionButtonState {\n        return this._state;\n    }\n\n    set state(value: ActionButtonState) {\n        if (this._state !== value) {\n            this._state = value;\n\n            this.updateCssClasses();\n        }\n    }\n\n    get isFocusable(): boolean {\n        return this._isFocusable;\n    }\n\n    set isFocusable(value: boolean) {\n        if (this._isFocusable !== value) {\n            this._isFocusable = value;\n\n            this.updateCssClasses();\n        }\n    }\n}\n\nexport abstract class SubmitActionBase extends Action {\n    //#region Schema\n\n    static readonly dataProperty = new PropertyDefinition(Versions.v1_0, \"data\");\n    static readonly associatedInputsProperty = new CustomProperty(\n        Versions.v1_3,\n        \"associatedInputs\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const value = source[prop.name];\n\n            if (value !== undefined && typeof value === \"string\") {\n                return value.toLowerCase() === \"none\" ? \"none\" : \"auto\";\n            }\n\n            return undefined;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: string | undefined,\n            context: BaseSerializationContext\n        ) => {\n            context.serializeValue(target, prop.name, value);\n        }\n    );\n    static readonly disabledUnlessAssociatedInputsChangeProperty = new BoolProperty(\n        Versions.v1_6,\n        \"disabledUnlessAssociatedInputsChange\",\n        false\n    );\n\n    @property(SubmitActionBase.dataProperty)\n    private _originalData?: PropertyBag;\n\n    @property(SubmitActionBase.associatedInputsProperty)\n    associatedInputs?: \"auto\" | \"none\";\n\n    @property(SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty)\n    disabledUnlessAssociatedInputsChange: boolean = false;\n\n    //#endregion\n\n    private _isPrepared: boolean = false;\n    private _processedData?: PropertyBag;\n    private _areReferencedInputsDirty: boolean = false;\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        const result: Dictionary<Input> = {};\n\n        if (this.associatedInputs !== \"none\") {\n            let current: CardElement | undefined = this.parent;\n            let inputs: Input[] = [];\n\n            while (current) {\n                inputs.push(...current.getAllInputs(false));\n\n                current = current.parent;\n            }\n\n            for (const input of inputs) {\n                if (input.id) {\n                    result[input.id] = input;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    protected internalPrepareForExecution(inputs: Dictionary<Input> | undefined) {\n        if (this._originalData) {\n            this._processedData = JSON.parse(JSON.stringify(this._originalData));\n        } else {\n            this._processedData = {};\n        }\n\n        if (this._processedData && inputs) {\n            for (const key of Object.keys(inputs)) {\n                const input = inputs[key];\n\n                if (input.id && input.isSet()) {\n                    this._processedData[input.id] =\n                        typeof input.value === \"string\" ? input.value : input.value.toString();\n                }\n            }\n        }\n\n        this._isPrepared = true;\n    }\n\n    protected internalAfterExecute() {\n        if (GlobalSettings.resetInputsDirtyStateAfterActionExecution) {\n            this.resetReferencedInputsDirtyState();\n        }\n    }\n\n    resetReferencedInputsDirtyState() {\n        let referencedInputs = this.getReferencedInputs();\n\n        this._areReferencedInputsDirty = false;\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                input.resetDirtyState();\n            }\n        }\n    }\n\n    updateEnabledState() {\n        this._areReferencedInputsDirty = false;\n\n        let referencedInputs = this.getReferencedInputs();\n\n        if (referencedInputs) {\n            for (const key of Object.keys(referencedInputs)) {\n                const input = referencedInputs[key];\n\n                if (input.isDirty()) {\n                    this._areReferencedInputsDirty = true;\n\n                    break;\n                }\n            }\n        }\n\n        this.updateCssClasses();\n\n        if (this._renderedElement) {\n            this.setupElementForAccessibility(this._renderedElement);\n        }\n    }\n\n    isEffectivelyEnabled(): boolean {\n        let result = super.isEffectivelyEnabled();\n\n        return this.disabledUnlessAssociatedInputsChange\n            ? result && this._areReferencedInputsDirty\n            : result;\n    }\n\n    get data(): object | undefined {\n        return this._isPrepared ? this._processedData : this._originalData;\n    }\n\n    set data(value: object | undefined) {\n        this._originalData = value;\n        this._isPrepared = false;\n    }\n}\n\nexport class SubmitAction extends SubmitActionBase {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Submit\" = \"Action.Submit\";\n\n    getJsonTypeName(): string {\n        return SubmitAction.JsonTypeName;\n    }\n}\n\nexport class ExecuteAction extends SubmitActionBase {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Execute\" = \"Action.Execute\";\n\n    //#region Schema\n\n    static readonly verbProperty = new StringProperty(Versions.v1_4, \"verb\");\n\n    @property(ExecuteAction.verbProperty)\n    verb: string;\n\n    //#endregion\n\n    getJsonTypeName(): string {\n        return ExecuteAction.JsonTypeName;\n    }\n}\n\nexport class OpenUrlAction extends Action {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n\n    @property(OpenUrlAction.urlProperty)\n    url?: string;\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.OpenUrl\" = \"Action.OpenUrl\";\n\n    getJsonTypeName(): string {\n        return OpenUrlAction.JsonTypeName;\n    }\n\n    getAriaRole(): string {\n        return \"link\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.url) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"url\")\n            );\n        }\n    }\n\n    getHref(): string | undefined {\n        return this.url;\n    }\n}\n\nexport class ToggleVisibilityAction extends Action {\n    //#region Schema\n\n    static readonly targetElementsProperty = new CustomProperty<PropertyBag>(\n        Versions.v1_2,\n        \"targetElements\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const result: PropertyBag = {};\n\n            if (Array.isArray(source[prop.name])) {\n                for (const item of source[prop.name]) {\n                    if (typeof item === \"string\") {\n                        result[item] = undefined;\n                    } else if (typeof item === \"object\") {\n                        const elementId = item[\"elementId\"];\n\n                        if (typeof elementId === \"string\") {\n                            result[elementId] = Utils.parseBool(item[\"isVisible\"]);\n                        }\n                    }\n                }\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            const targetElements: any[] = [];\n\n            for (const id of Object.keys(value)) {\n                if (typeof value[id] === \"boolean\") {\n                    targetElements.push({\n                        elementId: id,\n                        isVisible: value[id]\n                    });\n                } else {\n                    targetElements.push(id);\n                }\n            }\n\n            context.serializeArray(target, prop.name, targetElements);\n        },\n        {},\n        (sender: SerializableObject) => {\n            return {};\n        }\n    );\n\n    @property(ToggleVisibilityAction.targetElementsProperty)\n    targetElements: { [key: string]: any } = {};\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.ToggleVisibility\" = \"Action.ToggleVisibility\";\n\n    private updateAriaControlsAttribute() {\n        // apply aria labels to make it clear which elements this action will toggle\n        if (this.targetElements) {\n            const elementIds = Object.keys(this.targetElements);\n\n            if (this._renderedElement) {\n                if (elementIds.length > 0) {\n                    this._renderedElement.setAttribute(\"aria-controls\", elementIds.join(\" \"));\n                } else {\n                    this._renderedElement.removeAttribute(\"aria-controls\");\n                }\n            }\n        }\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.targetElements) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"targetElements\")\n            );\n        }\n    }\n\n    getJsonTypeName(): string {\n        return ToggleVisibilityAction.JsonTypeName;\n    }\n\n    render() {\n        super.render();\n\n        this.updateAriaControlsAttribute();\n    }\n\n    execute() {\n        super.execute();\n        if (this.parent) {\n            for (const elementId of Object.keys(this.targetElements)) {\n                const targetElement = this.parent.getRootElement().getElementById(elementId);\n\n                if (targetElement) {\n                    if (typeof this.targetElements[elementId] === \"boolean\") {\n                        targetElement.isVisible = this.targetElements[elementId];\n                    } else {\n                        targetElement.isVisible = !targetElement.isVisible;\n                    }\n                }\n            }\n        }\n    }\n\n    addTargetElement(elementId: string, isVisible: boolean | undefined = undefined) {\n        this.targetElements[elementId] = isVisible;\n        this.updateAriaControlsAttribute();\n    }\n\n    removeTargetElement(elementId: string) {\n        delete this.targetElements[elementId];\n        this.updateAriaControlsAttribute();\n    }\n}\n\nclass StringWithSubstitutionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): StringWithSubstitutions {\n        const result = new StringWithSubstitutions();\n        result.set(Utils.parseString(source[this.name]));\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: StringWithSubstitutions,\n        context: BaseSerializationContext\n    ): void {\n        context.serializeValue(target, this.name, value.getOriginal());\n    }\n\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(targetVersion, name, undefined, () => {\n            return new StringWithSubstitutions();\n        });\n    }\n}\n\nexport class HttpHeader extends SerializableObject {\n    //#region Schema\n\n    static readonly nameProperty = new StringProperty(Versions.v1_0, \"name\");\n    static readonly valueProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"value\");\n\n    protected getSchemaKey(): string {\n        return \"HttpHeader\";\n    }\n\n    @property(HttpHeader.nameProperty)\n    name: string;\n\n    @property(HttpHeader.valueProperty)\n    private _value: StringWithSubstitutions;\n\n    //#endregion\n\n    constructor(name: string = \"\", value: string = \"\") {\n        super();\n\n        this.name = name;\n        this.value = value;\n    }\n\n    getReferencedInputs(inputs: Input[], referencedInputs: Dictionary<Input>) {\n        this._value.getReferencedInputs(inputs, referencedInputs);\n    }\n\n    prepareForExecution(inputs: Dictionary<Input>) {\n        this._value.substituteInputValues(inputs, ContentTypes.applicationXWwwFormUrlencoded);\n    }\n\n    get value(): string | undefined {\n        return this._value.get();\n    }\n\n    set value(newValue: string | undefined) {\n        this._value.set(newValue);\n    }\n}\n\nexport class HttpAction extends Action {\n    //#region Schema\n\n    static readonly urlProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"url\");\n    static readonly bodyProperty = new StringWithSubstitutionProperty(Versions.v1_0, \"body\");\n    static readonly methodProperty = new StringProperty(Versions.v1_0, \"method\");\n    static readonly headersProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_0,\n        \"headers\",\n        HttpHeader\n    );\n    static readonly ignoreInputValidationProperty = new BoolProperty(\n        Versions.v1_3,\n        \"ignoreInputValidation\",\n        false\n    );\n\n    @property(HttpAction.urlProperty)\n    private _url: StringWithSubstitutions;\n\n    @property(HttpAction.bodyProperty)\n    private _body: StringWithSubstitutions;\n\n    @property(HttpAction.methodProperty)\n    method?: string;\n\n    @property(HttpAction.headersProperty)\n    headers: HttpHeader[];\n\n    @property(HttpAction.ignoreInputValidationProperty)\n    private _ignoreInputValidation: boolean = false;\n\n    //#endregion\n\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.Http\" = \"Action.Http\";\n\n    protected internalGetReferencedInputs(): Dictionary<Input> {\n        const allInputs = this.parent ? this.parent.getRootElement().getAllInputs() : [];\n        const result: Dictionary<Input> = {};\n\n        this._url.getReferencedInputs(allInputs, result);\n\n        for (const header of this.headers) {\n            header.getReferencedInputs(allInputs, result);\n        }\n\n        this._body.getReferencedInputs(allInputs, result);\n\n        return result;\n    }\n\n    protected internalPrepareForExecution(inputs: Dictionary<Input> | undefined) {\n        if (inputs) {\n            this._url.substituteInputValues(inputs, ContentTypes.applicationXWwwFormUrlencoded);\n\n            let contentType = ContentTypes.applicationJson;\n\n            for (const header of this.headers) {\n                header.prepareForExecution(inputs);\n\n                if (header.name && header.name.toLowerCase() === \"content-type\") {\n                    contentType = header.value!;\n                }\n            }\n\n            this._body.substituteInputValues(inputs, contentType);\n        }\n    }\n\n    getJsonTypeName(): string {\n        return HttpAction.JsonTypeName;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (!this.url) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"url\")\n            );\n        }\n\n        if (this.headers.length > 0) {\n            for (const header of this.headers) {\n                if (!header.name) {\n                    context.addFailure(\n                        this,\n                        Enums.ValidationEvent.PropertyCantBeNull,\n                        Strings.errors.actionHttpHeadersMustHaveNameAndValue()\n                    );\n                }\n            }\n        }\n    }\n\n    get ignoreInputValidation(): boolean {\n        return this._ignoreInputValidation;\n    }\n\n    set ignoreInputValidation(value: boolean) {\n        this._ignoreInputValidation = value;\n    }\n\n    get url(): string | undefined {\n        return this._url.get();\n    }\n\n    set url(value: string | undefined) {\n        this._url.set(value);\n    }\n\n    get body(): string | undefined {\n        return this._body.get();\n    }\n\n    set body(value: string | undefined) {\n        this._body.set(value);\n    }\n}\n\nexport class ShowCardAction extends Action {\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    static readonly JsonTypeName: \"Action.ShowCard\" = \"Action.ShowCard\";\n\n    protected updateCssClasses() {\n        super.updateCssClasses();\n\n        if (this.renderedElement) {\n            const effectiveHostConfig = this.parent ? this.parent.hostConfig : defaultHostConfig;\n\n            this.renderedElement.classList.add(effectiveHostConfig.makeCssClassName(\"expandable\"));\n            this.renderedElement.setAttribute(\n                \"aria-expanded\",\n                (this.state === ActionButtonState.Expanded).toString()\n            );\n        }\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        const jsonCard = source[\"card\"];\n\n        if (jsonCard) {\n            this.card.parse(jsonCard, context);\n        } else {\n            context.logParseEvent(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.showCardMustHaveCard()\n            );\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        if (this.card) {\n            context.serializeValue(target, \"card\", this.card.toJSON(context));\n        }\n    }\n\n    protected raiseExecuteActionEvent() {\n        if (this.hostConfig.actions.showCard.actionMode === Enums.ShowCardActionMode.Popup) {\n            // Only raise the event in Popup mode.\n            super.raiseExecuteActionEvent();\n        }\n    }\n\n    readonly card: AdaptiveCard = new InlineAdaptiveCard();\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this.card.releaseDOMResources();\n    }\n\n    getJsonTypeName(): string {\n        return ShowCardAction.JsonTypeName;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        this.card.internalValidateProperties(context);\n    }\n\n    setParent(value: CardElement) {\n        super.setParent(value);\n\n        this.card.setParent(value);\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return this.card.getAllInputs(processActions);\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        result.push(...this.card.getAllActions());\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result = super.getResourceInformation();\n\n        result.push(...this.card.getResourceInformation());\n\n        return result;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result = super.getActionById(id);\n\n        if (!result) {\n            result = this.card.getActionById(id);\n        }\n\n        return result;\n    }\n}\n\nclass OverflowAction extends Action {\n    static readonly JsonTypeName: \"Action.Overflow\" = \"Action.Overflow\";\n    private _actions: Action[];\n\n    constructor(actions: Action[]) {\n        super();\n        this._actions = actions;\n\n        this.title = Strings.defaults.overflowButtonText();\n        this.tooltip = Strings.defaults.overflowButtonTooltip();\n    }\n\n    getActions(): readonly Action[] {\n        return this._actions;\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        result.push(...this._actions);\n\n        return result;\n    }\n\n    getJsonTypeName(): string {\n        return ShowCardAction.JsonTypeName;\n    }\n\n    execute() {\n        const shouldDisplayPopupMenu = !raiseDisplayOverflowActionMenuEvent(\n            this,\n            this.renderedElement\n        );\n\n        if (shouldDisplayPopupMenu && this.renderedElement) {\n            const contextMenu = new PopupMenu();\n            contextMenu.hostConfig = this.hostConfig;\n\n            for (let i = 0; i < this._actions.length; i++) {\n                const menuItem = new MenuItem(i.toString(), this._actions[i].title ?? \"\");\n                menuItem.isEnabled = this._actions[i].isEnabled;\n                menuItem.onClick = () => {\n                    const actionToExecute = this._actions[i];\n\n                    contextMenu.closePopup(false);\n\n                    if (actionToExecute.isEnabled) {\n                        actionToExecute.execute();\n                    }\n                };\n\n                contextMenu.items.add(menuItem);\n            }\n\n            contextMenu.onClose = () => {\n                this.renderedElement?.setAttribute(\"aria-expanded\", \"false\");\n            }\n\n            this.renderedElement.setAttribute(\"aria-expanded\", \"true\");\n            contextMenu.popup(this.renderedElement);\n        }\n    }\n    \n    setupElementForAccessibility(element: HTMLElement, promoteTooltipToLabel: boolean = false) {\n        super.setupElementForAccessibility(element, promoteTooltipToLabel);\n\n        element.setAttribute(\"aria-label\", Strings.defaults.overflowButtonTooltip());\n        element.setAttribute(\"aria-expanded\", \"false\");\n    }\n}\n\nclass ActionCollection {\n    private _owner: CardElement;\n    private _actionCardContainer: HTMLDivElement;\n    private _expandedAction?: ShowCardAction;\n    private _actionCard?: HTMLElement;\n\n    private isActionAllowed(action: Action): boolean {\n        const forbiddenTypes = this._owner.getForbiddenActionTypes();\n\n        if (forbiddenTypes) {\n            for (const forbiddenType of forbiddenTypes) {\n                if (action.constructor === forbiddenType) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    private refreshContainer() {\n        clearElement(this._actionCardContainer);\n\n        if (!this._actionCard) {\n            this._actionCardContainer.style.marginTop = \"0px\";\n\n            return;\n        }\n\n        this._actionCardContainer.style.marginTop =\n            this.renderedActionCount > 0\n                ? this._owner.hostConfig.actions.showCard.inlineTopMargin + \"px\"\n                : \"0px\";\n\n        const padding = this._owner.getEffectivePadding();\n\n        this._owner.getImmediateSurroundingPadding(padding);\n\n        const physicalPadding =\n            this._owner.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n        if (this._actionCard) {\n            this._actionCard.style.paddingLeft = physicalPadding.left + \"px\";\n            this._actionCard.style.paddingRight = physicalPadding.right + \"px\";\n\n            this._actionCard.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n            this._actionCard.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n\n            if (physicalPadding.bottom !== 0 && !this._owner.isDesignMode()) {\n                this._actionCard.style.paddingBottom = physicalPadding.bottom + \"px\";\n                this._actionCard.style.marginBottom = \"-\" + physicalPadding.bottom + \"px\";\n            }\n\n            Utils.appendChild(this._actionCardContainer, this._actionCard);\n        }\n    }\n\n    private layoutChanged() {\n        this._owner.getRootElement().updateLayout();\n    }\n\n    private showActionCard(\n        action: ShowCardAction,\n        suppressStyle: boolean = false,\n        raiseEvent: boolean = true\n    ) {\n        (<InlineAdaptiveCard>action.card).suppressStyle = suppressStyle;\n\n        // Always re-render a ShowCard action in design mode; reuse already rendered ShowCard (if available) otherwise\n        const renderedCard =\n            action.card.renderedElement && !this._owner.isDesignMode()\n                ? action.card.renderedElement\n                : action.card.render();\n\n        this._actionCard = renderedCard;\n        this._expandedAction = action;\n\n        this.refreshContainer();\n\n        if (raiseEvent) {\n            this.layoutChanged();\n\n            raiseInlineCardExpandedEvent(action, true);\n        }\n    }\n\n    private collapseExpandedAction() {\n        for (const action of this._renderedActions) {\n            action.state = ActionButtonState.Normal;\n        }\n\n        const previouslyExpandedAction = this._expandedAction;\n\n        this._expandedAction = undefined;\n        this._actionCard = undefined;\n\n        this.refreshContainer();\n\n        if (previouslyExpandedAction) {\n            this.layoutChanged();\n\n            raiseInlineCardExpandedEvent(previouslyExpandedAction, false);\n        }\n    }\n\n    private expandShowCardAction(action: ShowCardAction, raiseEvent: boolean) {\n        let afterSelectedAction = false;\n\n        for (const renderedAction of this._renderedActions) {\n            // Remove actions after selected action from tabOrder if the actions are oriented horizontally, to skip focus directly to expanded card\n            if (\n                this._owner.hostConfig.actions.actionsOrientation == Enums.Orientation.Horizontal &&\n                afterSelectedAction\n            ) {\n                renderedAction.isFocusable = false;\n            }\n\n            if (renderedAction !== action) {\n                renderedAction.state = ActionButtonState.Subdued;\n            } else {\n                renderedAction.state = ActionButtonState.Expanded;\n\n                afterSelectedAction = true;\n\n                if (renderedAction.renderedElement) {\n                    renderedAction.renderedElement.onblur = (_e) => {\n                        for (const ra of this._renderedActions) {\n                            ra.isFocusable = true;\n                        }\n                    };\n                }\n            }\n        }\n\n        this.showActionCard(\n            action,\n            !(this._owner.isAtTheVeryLeft() && this._owner.isAtTheVeryRight()),\n            raiseEvent\n        );\n    }\n\n    private _items: Action[] = [];\n    private _overflowAction?: OverflowAction;\n    private _renderedActions: Action[] = [];\n\n    constructor(owner: CardElement) {\n        this._owner = owner;\n    }\n\n    releaseDOMResources() {\n        for (let action of this._renderedActions) {\n            action.releaseDOMResources();\n        }\n    }\n\n    actionExecuted(action: Action) {\n        if (!(action instanceof ShowCardAction)) {\n            this.collapseExpandedAction();\n        } else {\n            if (action === this._expandedAction) {\n                this.collapseExpandedAction();\n            } else if (\n                this._owner.hostConfig.actions.showCard.actionMode ===\n                Enums.ShowCardActionMode.Inline\n            ) {\n                this.expandShowCardAction(action, true);\n            }\n        }\n    }\n\n    parse(source: any, context: SerializationContext) {\n        this.clear();\n\n        if (Array.isArray(source)) {\n            for (const jsonAction of source) {\n                let forbiddenActions: string[] = [];\n\n                // If the action owner is a ContainerWithActions, we should check for forbidden actions\n                if (this._owner instanceof ContainerWithActions) {\n                    forbiddenActions = this._owner.getForbiddenActionNames();\n                }\n\n                const action = context.parseAction(\n                    this._owner,\n                    jsonAction,\n                    forbiddenActions,\n                    !this._owner.isDesignMode()\n                );\n\n                if (action) {\n                    this.addAction(action);\n                }\n            }\n        }\n    }\n\n    toJSON(target: PropertyBag, propertyName: string, context: SerializationContext): any {\n        context.serializeArray(target, propertyName, this._items);\n    }\n\n    getActionAt(id: number): Action | undefined {\n        return this._items[id];\n    }\n\n    getActionCount(): number {\n        return this._items.length;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = undefined;\n\n        for (const item of this._items) {\n            result = item.getActionById(id);\n\n            if (result) {\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    validateProperties(context: ValidationResults) {\n        if (\n            this._owner.hostConfig.actions.maxActions &&\n            this._items.length > this._owner.hostConfig.actions.maxActions\n        ) {\n            context.addFailure(\n                this._owner,\n                Enums.ValidationEvent.TooManyActions,\n                Strings.errors.tooManyActions(this._owner.hostConfig.actions.maxActions)\n            );\n        }\n\n        if (this._items.length > 0 && !this._owner.hostConfig.supportsInteractivity) {\n            context.addFailure(\n                this._owner,\n                Enums.ValidationEvent.InteractivityNotAllowed,\n                Strings.errors.interactivityNotAllowed()\n            );\n        }\n\n        for (const item of this._items) {\n            if (!this.isActionAllowed(item)) {\n                context.addFailure(\n                    this._owner,\n                    Enums.ValidationEvent.ActionTypeNotAllowed,\n                    Strings.errors.actionTypeNotAllowed(item.getJsonTypeName())\n                );\n            }\n\n            item.internalValidateProperties(context);\n        }\n    }\n\n    render(orientation: Enums.Orientation): HTMLElement | undefined {\n        // Cache hostConfig for better perf\n        const hostConfig = this._owner.hostConfig;\n\n        if (!hostConfig.supportsInteractivity) {\n            return undefined;\n        }\n\n        const element = document.createElement(\"div\");\n        const maxActions = hostConfig.actions.maxActions\n            ? Math.min(hostConfig.actions.maxActions, this._items.length)\n            : this._items.length;\n\n        this._actionCardContainer = document.createElement(\"div\");\n        this._renderedActions = [];\n\n        if (\n            hostConfig.actions.preExpandSingleShowCardAction &&\n            maxActions === 1 &&\n            this._items[0] instanceof ShowCardAction &&\n            this.isActionAllowed(this._items[0])\n        ) {\n            this.showActionCard(this._items[0], true);\n            this._renderedActions.push(this._items[0]);\n        } else {\n            const buttonStrip = document.createElement(\"div\");\n            buttonStrip.className = hostConfig.makeCssClassName(\"ac-actionSet\");\n            buttonStrip.style.display = \"flex\";\n\n            if (orientation === Enums.Orientation.Horizontal) {\n                buttonStrip.style.flexDirection = \"row\";\n\n                if (\n                    this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch\n                ) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                } else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                }\n            } else {\n                buttonStrip.style.flexDirection = \"column\";\n\n                if (\n                    this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch\n                ) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                } else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        case Enums.ActionAlignment.Stretch:\n                            buttonStrip.style.alignItems = \"stretch\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                }\n            }\n\n            const allowedActions = this._items.filter(this.isActionAllowed.bind(this));\n\n            let primaryActions: Action[] = [];\n            const secondaryActions: Action[] = [];\n\n            if (!this._owner.isDesignMode()) {\n                allowedActions.forEach((action) =>\n                    action.mode === Enums.ActionMode.Secondary\n                        ? secondaryActions.push(action)\n                        : primaryActions.push(action)\n                );\n\n                // If primaryActions.length > maxActions, extra actions are moved to overflow\n                const overflowPrimaryActions = primaryActions.splice(hostConfig.actions.maxActions);\n\n                if (GlobalSettings.allowMoreThanMaxActionsInOverflowMenu) {\n                    secondaryActions.push(...overflowPrimaryActions);\n                }\n\n                let shouldRenderOverflowActionButton = true;\n\n                if (secondaryActions.length > 0) {\n                    if (!this._overflowAction) {\n                        this._overflowAction = new OverflowAction(secondaryActions);\n                        this._overflowAction.setParent(this._owner);\n                        this._overflowAction[\"_actionCollection\"] = this;\n                    }\n\n                    const isRootAction = this._owner instanceof AdaptiveCard && !this._owner.parent;\n                    shouldRenderOverflowActionButton = !raiseRenderOverflowActionsEvent(\n                        this._overflowAction,\n                        isRootAction\n                    );\n                }\n\n                if (this._overflowAction && shouldRenderOverflowActionButton) {\n                    primaryActions.push(this._overflowAction);\n                }\n            } else {\n                primaryActions = allowedActions;\n            }\n\n            for (let i = 0; i < primaryActions.length; i++) {\n                const action = primaryActions[i];\n                action.render();\n\n                if (action.renderedElement) {\n                    if (\n                        hostConfig.actions.actionsOrientation === Enums.Orientation.Horizontal &&\n                        hostConfig.actions.actionAlignment === Enums.ActionAlignment.Stretch\n                    ) {\n                        action.renderedElement.style.flex = \"0 1 100%\";\n                    } else {\n                        action.renderedElement.style.flex = \"0 1 auto\";\n                    }\n\n                    buttonStrip.appendChild(action.renderedElement);\n\n                    this._renderedActions.push(action);\n\n                    if (i < primaryActions.length - 1 && hostConfig.actions.buttonSpacing > 0) {\n                        const spacer = document.createElement(\"div\");\n\n                        if (orientation === Enums.Orientation.Horizontal) {\n                            spacer.style.flex = \"0 0 auto\";\n                            spacer.style.width = hostConfig.actions.buttonSpacing + \"px\";\n                        } else {\n                            spacer.style.height = hostConfig.actions.buttonSpacing + \"px\";\n                        }\n\n                        Utils.appendChild(buttonStrip, spacer);\n                    }\n                }\n            }\n\n            const buttonStripContainer = document.createElement(\"div\");\n            buttonStripContainer.style.overflow = \"hidden\";\n            buttonStripContainer.appendChild(buttonStrip);\n\n            Utils.appendChild(element, buttonStripContainer);\n        }\n\n        Utils.appendChild(element, this._actionCardContainer);\n\n        for (const renderedAction of this._renderedActions) {\n            if (renderedAction.state === ActionButtonState.Expanded) {\n                this.expandShowCardAction(<ShowCardAction>renderedAction, false);\n\n                break;\n            }\n        }\n\n        return this._renderedActions.length > 0 ? element : undefined;\n    }\n\n    addAction(action: Action) {\n        if (!action) {\n            throw new Error(\"The action parameter cannot be null.\");\n        }\n\n        if ((!action.parent || action.parent === this._owner) && this._items.indexOf(action) < 0) {\n            this._items.push(action);\n\n            if (!action.parent) {\n                action.setParent(this._owner);\n            }\n\n            action[\"_actionCollection\"] = this;\n        } else {\n            throw new Error(Strings.errors.actionAlreadyParented());\n        }\n    }\n\n    removeAction(action: Action): boolean {\n        if (this.expandedAction && this._expandedAction === action) {\n            this.collapseExpandedAction();\n        }\n\n        const actionIndex = this._items.indexOf(action);\n\n        if (actionIndex >= 0) {\n            this._items.splice(actionIndex, 1);\n\n            action.setParent(undefined);\n\n            action[\"_actionCollection\"] = undefined;\n\n            for (let i = 0; i < this._renderedActions.length; i++) {\n                if (this._renderedActions[i] === action) {\n                    this._renderedActions.splice(i, 1);\n\n                    break;\n                }\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    clear() {\n        this._items = [];\n        this._renderedActions = [];\n        this._expandedAction = undefined;\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result: Input[] = [];\n\n        if (processActions) {\n            for (const action of this._items) {\n                result.push(...action.getAllInputs());\n            }\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result: IResourceInformation[] = [];\n\n        for (const action of this._items) {\n            result.push(...action.getResourceInformation());\n        }\n\n        return result;\n    }\n\n    get renderedActionCount(): number {\n        return this._renderedActions.length;\n    }\n\n    get expandedAction(): ShowCardAction | undefined {\n        return this._expandedAction;\n    }\n}\n\nexport class ActionSet extends CardElement {\n    //#region Schema\n\n    static readonly orientationProperty = new EnumProperty(\n        Versions.v1_1,\n        \"orientation\",\n        Enums.Orientation\n    );\n\n    @property(ActionSet.orientationProperty)\n    orientation?: Enums.Orientation;\n\n    //#endregion\n\n    private _actionCollection: ActionCollection;\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._actionCollection.parse(source[\"actions\"], context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        this._actionCollection.toJSON(target, \"actions\", context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        return this._actionCollection.render(\n            this.orientation !== undefined\n                ? this.orientation\n                : this.hostConfig.actions.actionsOrientation\n        );\n    }\n\n    constructor() {\n        super();\n\n        this._actionCollection = new ActionCollection(this);\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this._actionCollection.releaseDOMResources();\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return super.isBleedingAtBottom();\n        } else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (\n                    this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction\n                );\n            } else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"ActionSet\";\n    }\n\n    getActionCount(): number {\n        return this._actionCollection.getActionCount();\n    }\n\n    getActionAt(index: number): Action | undefined {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        } else {\n            return super.getActionAt(index);\n        }\n    }\n\n    getActionById(id: string): Action | undefined {\n        const result: Action | undefined = this._actionCollection.getActionById(id);\n\n        return result ? result : super.getActionById(id);\n    }\n\n    getAllActions(): Action[] {\n        const result = super.getAllActions();\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            let action = this.getActionAt(i);\n\n            if (action) {\n                result.push(action);\n            }\n        }\n\n        return result;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        this._actionCollection.validateProperties(context);\n    }\n\n    addAction(action: Action) {\n        this._actionCollection.addAction(action);\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        return processActions ? this._actionCollection.getAllInputs() : [];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        return this._actionCollection.getResourceInformation();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        let target: CardObject | undefined = undefined;\n\n        for (let i = 0; i < this.getActionCount(); i++) {\n            const action = this.getActionAt(i);\n\n            if (action) {\n                // recur through each Action\n                target = action.findDOMNodeOwner(node);\n\n                if (target) {\n                    return target;\n                }\n            }\n        }\n\n        // if not found in any Action, defer to parent implementation\n        return super.findDOMNodeOwner(node);\n    }\n\n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n\n        return result;\n    }\n\n    get isInteractive(): boolean {\n        return true;\n    }\n}\n\nexport class ContainerStyleProperty extends ValueSetProperty {\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(\n            targetVersion,\n            name,\n            [\n                { value: Enums.ContainerStyle.Default },\n                { value: Enums.ContainerStyle.Emphasis },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Accent },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Good },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Attention },\n                { targetVersion: Versions.v1_2, value: Enums.ContainerStyle.Warning }\n            ],\n            defaultValue,\n            onGetInitialValue\n        );\n    }\n}\n\nexport abstract class StylableCardElementContainer extends CardElementContainer {\n    //#region Schema\n\n    static readonly styleProperty = new ContainerStyleProperty(Versions.v1_0, \"style\");\n\n    @property(StylableCardElementContainer.styleProperty)\n    get style(): string | undefined {\n        if (this.allowCustomStyle) {\n            const style = this.getValue(StylableCardElementContainer.styleProperty);\n\n            if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n                return style;\n            }\n        }\n\n        return undefined;\n    }\n\n    set style(value: string | undefined) {\n        this.setValue(StylableCardElementContainer.styleProperty, value);\n    }\n\n    //#endregion\n\n    protected get allowCustomStyle(): boolean {\n        return true;\n    }\n\n    protected get hasExplicitStyle(): boolean {\n        return this.getValue(StylableCardElementContainer.styleProperty) !== undefined;\n    }\n\n    protected applyBorder() {\n        // No border in base implementation\n    }\n\n    protected applyBackground() {\n        if (this.renderedElement) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.style,\n                this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n            );\n\n            if (styleDefinition.backgroundColor) {\n                const bgColor = Utils.stringToCssColor(styleDefinition.backgroundColor);\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    }\n\n    protected applyPadding() {\n        super.applyPadding();\n\n        if (!this.renderedElement) {\n            return;\n        }\n\n        let physicalPadding = new SpacingDefinition();\n\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(\n                this.getEffectivePadding()\n            );\n        }\n\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n\n        if (this.isBleeding()) {\n            // Bleed into the first parent that does have padding\n            const padding = new PaddingDefinition();\n\n            this.getImmediateSurroundingPadding(padding);\n\n            const surroundingPadding =\n                this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n\n            this.renderedElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            this.renderedElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n\n            if (!this.isDesignMode()) {\n                this.renderedElement.style.marginTop = \"-\" + surroundingPadding.top + \"px\";\n                this.renderedElement.style.marginBottom = \"-\" + surroundingPadding.bottom + \"px\";\n            }\n\n            if (\n                this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal\n            ) {\n                this.separatorElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            }\n        } else {\n            this.renderedElement.style.marginRight = \"0\";\n            this.renderedElement.style.marginLeft = \"0\";\n            this.renderedElement.style.marginTop = \"0\";\n            this.renderedElement.style.marginBottom = \"0\";\n\n            if (\n                this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal\n            ) {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        let currentElement: CardElement | undefined = this.parent;\n\n        while (currentElement) {\n            let currentElementHasBackgroundImage: boolean = false;\n\n            if (ignoreBackgroundImages) {\n                currentElementHasBackgroundImage = false;\n            } else {\n                currentElementHasBackgroundImage =\n                    currentElement instanceof Container\n                        ? currentElement.backgroundImage.isValid()\n                        : false;\n            }\n\n            if (currentElement instanceof StylableCardElementContainer) {\n                if (\n                    this.hasExplicitStyle &&\n                    (currentElement.getEffectiveStyle() !== this.getEffectiveStyle() ||\n                        currentElementHasBackgroundImage)\n                ) {\n                    return true;\n                }\n            }\n\n            currentElement = currentElement.parent;\n        }\n\n        return false;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new PaddingDefinition(\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding,\n                  Enums.Spacing.Padding\n              )\n            : super.getDefaultPadding();\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        const explicitStyle = this.getValue(StylableCardElementContainer.styleProperty);\n\n        if (explicitStyle !== undefined) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(explicitStyle);\n\n            if (!styleDefinition) {\n                context.addFailure(\n                    this,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(explicitStyle, \"style\")\n                );\n            }\n        }\n    }\n\n    render(): HTMLElement | undefined {\n        const renderedElement = super.render();\n\n        if (renderedElement && this.getHasBackground()) {\n            this.applyBackground();\n        }\n\n        this.applyBorder();\n\n        return renderedElement;\n    }\n\n    getEffectiveStyle(): string {\n        const effectiveStyle = this.style;\n\n        return effectiveStyle ? effectiveStyle : super.getEffectiveStyle();\n    }\n}\n\nexport abstract class ContainerBase extends StylableCardElementContainer {\n    //#region Schema\n\n    static readonly bleedProperty = new BoolProperty(Versions.v1_2, \"bleed\", false);\n    static readonly minHeightProperty = new PixelSizeProperty(Versions.v1_2, \"minHeight\");\n\n    @property(ContainerBase.bleedProperty)\n    private _bleed: boolean = false;\n\n    @property(ContainerBase.minHeightProperty)\n    minPixelHeight?: number;\n\n    //#endregion\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        super.adjustRenderedElementSize(renderedElement);\n\n        if (this.minPixelHeight) {\n            renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n        }\n    }\n\n    protected getHasExpandedAction(): boolean {\n        return false;\n    }\n\n    protected getBleed(): boolean {\n        return this._bleed;\n    }\n\n    protected setBleed(value: boolean) {\n        this._bleed = value;\n    }\n\n    protected get renderedActionCount(): number {\n        return 0;\n    }\n\n    isBleeding(): boolean {\n        return (this.getHasBackground() || this.hostConfig.alwaysAllowBleed) && this.getBleed();\n    }\n}\n\nexport class BackgroundImage extends SerializableObject {\n    //#region Schema\n\n    static readonly urlProperty = new StringProperty(Versions.v1_0, \"url\");\n    static readonly fillModeProperty = new EnumProperty(\n        Versions.v1_2,\n        \"fillMode\",\n        Enums.FillMode,\n        Enums.FillMode.Cover\n    );\n    static readonly horizontalAlignmentProperty = new EnumProperty(\n        Versions.v1_2,\n        \"horizontalAlignment\",\n        Enums.HorizontalAlignment,\n        Enums.HorizontalAlignment.Left\n    );\n    static readonly verticalAlignmentProperty = new EnumProperty(\n        Versions.v1_2,\n        \"verticalAlignment\",\n        Enums.VerticalAlignment,\n        Enums.VerticalAlignment.Top\n    );\n\n    @property(BackgroundImage.urlProperty)\n    url?: string;\n\n    @property(BackgroundImage.fillModeProperty)\n    fillMode: Enums.FillMode;\n\n    @property(BackgroundImage.horizontalAlignmentProperty)\n    horizontalAlignment: Enums.HorizontalAlignment;\n\n    @property(BackgroundImage.verticalAlignmentProperty)\n    verticalAlignment: Enums.VerticalAlignment;\n\n    //#endregion\n\n    protected getSchemaKey(): string {\n        return \"BackgroundImage\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        if (typeof source === \"string\") {\n            this.resetDefaultValues();\n            this.url = source;\n        } else {\n            return super.internalParse(source, context);\n        }\n    }\n\n    apply(element: CardElement) {\n        if (this.url && element.renderedElement) {\n            element.renderedElement.style.backgroundImage =\n                \"url('\" +\n                element.preProcessPropertyValue(BackgroundImage.urlProperty, this.url) +\n                \"')\";\n\n            switch (this.fillMode) {\n                case Enums.FillMode.Repeat:\n                    element.renderedElement.style.backgroundRepeat = \"repeat\";\n                    break;\n                case Enums.FillMode.RepeatHorizontally:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-x\";\n                    break;\n                case Enums.FillMode.RepeatVertically:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-y\";\n                    break;\n                case Enums.FillMode.Cover:\n                default:\n                    element.renderedElement.style.backgroundRepeat = \"no-repeat\";\n                    element.renderedElement.style.backgroundSize = \"cover\";\n                    break;\n            }\n\n            switch (this.horizontalAlignment) {\n                case Enums.HorizontalAlignment.Left:\n                    break;\n                case Enums.HorizontalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionX = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.renderedElement.style.backgroundPositionX = \"right\";\n                    break;\n            }\n\n            switch (this.verticalAlignment) {\n                case Enums.VerticalAlignment.Top:\n                    break;\n                case Enums.VerticalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionY = \"center\";\n                    break;\n                case Enums.VerticalAlignment.Bottom:\n                    element.renderedElement.style.backgroundPositionY = \"bottom\";\n                    break;\n            }\n        }\n    }\n\n    isValid(): boolean {\n        return this.url ? true : false;\n    }\n}\n\nexport class Container extends ContainerBase {\n    //#region Schema\n    static readonly backgroundImageProperty = new SerializableObjectProperty(\n        Versions.v1_0,\n        \"backgroundImage\",\n        BackgroundImage\n    );\n    static readonly verticalContentAlignmentProperty = new EnumProperty(\n        Versions.v1_1,\n        \"verticalContentAlignment\",\n        Enums.VerticalAlignment\n    );\n    static readonly rtlProperty = new BoolProperty(Versions.v1_0, \"rtl\");\n\n    @property(Container.backgroundImageProperty)\n    get backgroundImage(): BackgroundImage {\n        return this.getValue(Container.backgroundImageProperty);\n    }\n\n    @property(Container.verticalContentAlignmentProperty)\n    verticalContentAlignment?: Enums.VerticalAlignment;\n\n    @property(Container.rtlProperty)\n    rtl?: boolean;\n\n    //#endregion\n\n    private _items: CardElement[] = [];\n    private _renderedItems: CardElement[] = [];\n\n    protected insertItemAt(item: CardElement, index: number, forceInsert: boolean) {\n        if (!item.parent || forceInsert) {\n            if (item.isStandalone) {\n                if (index < 0 || index >= this._items.length) {\n                    this._items.push(item);\n                } else {\n                    this._items.splice(index, 0, item);\n                }\n\n                item.setParent(this);\n            } else {\n                throw new Error(Strings.errors.elementTypeNotStandalone(item.getJsonTypeName()));\n            }\n        } else {\n            throw new Error(Strings.errors.elementAlreadyParented());\n        }\n    }\n\n    protected getItemsCollectionPropertyName(): string {\n        return \"items\";\n    }\n\n    protected applyBackground() {\n        if (this.backgroundImage.isValid() && this.renderedElement) {\n            this.backgroundImage.apply(this);\n        }\n\n        super.applyBackground();\n    }\n\n    protected applyRTL(element: HTMLElement) {\n        if (this.rtl !== undefined) {\n            element.dir = this.rtl ? \"rtl\" : \"ltr\";\n        }\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedItems = [];\n\n        // Cache hostConfig to avoid walking the parent hierarchy several times\n        const hostConfig = this.hostConfig;\n\n        const element = document.createElement(\"div\");\n\n        this.applyRTL(element);\n\n        element.classList.add(hostConfig.makeCssClassName(\"ac-container\"));\n        element.style.display = \"flex\";\n        element.style.flexDirection = \"column\";\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            element.style.minHeight = \"-webkit-min-content\";\n        }\n\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Center:\n                element.style.justifyContent = \"center\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                element.style.justifyContent = \"flex-end\";\n                break;\n            default:\n                element.style.justifyContent = \"flex-start\";\n                break;\n        }\n\n        if (this._items.length > 0) {\n            for (const item of this._items) {\n                const renderedItem = this.isElementAllowed(item) ? item.render() : undefined;\n\n                if (renderedItem) {\n                    if (this._renderedItems.length > 0 && item.separatorElement) {\n                        item.separatorElement.style.flex = \"0 0 auto\";\n\n                        Utils.appendChild(element, item.separatorElement);\n                    }\n\n                    Utils.appendChild(element, renderedItem);\n\n                    this._renderedItems.push(item);\n                }\n            }\n        } else {\n            if (this.isDesignMode()) {\n                const placeholderElement = this.createPlaceholderElement();\n                placeholderElement.style.width = \"100%\";\n                placeholderElement.style.height = \"100%\";\n\n                element.appendChild(placeholderElement);\n            }\n        }\n\n        return element;\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        if (this.renderedElement) {\n            // Add 1 to account for rounding differences between browsers\n            const boundary = this.renderedElement.offsetTop + maxHeight + 1;\n\n            const handleElement = (cardElement: CardElement) => {\n                const elt = cardElement.renderedElement;\n\n                if (elt) {\n                    switch (Utils.getFitStatus(elt, boundary)) {\n                        case Enums.ContainerFitStatus.FullyInContainer:\n                            const sizeChanged = cardElement[\"resetOverflow\"]();\n                            // If the element's size changed after resetting content,\n                            // we have to check if it still fits fully in the card\n                            if (sizeChanged) {\n                                handleElement(cardElement);\n                            }\n                            break;\n                        case Enums.ContainerFitStatus.Overflowing:\n                            const containerMaxHeight = boundary - elt.offsetTop;\n                            cardElement[\"handleOverflow\"](containerMaxHeight);\n                            break;\n                        case Enums.ContainerFitStatus.FullyOutOfContainer:\n                            cardElement[\"handleOverflow\"](0);\n                            break;\n                    }\n                }\n            };\n\n            for (const item of this._items) {\n                handleElement(item);\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    protected undoOverflowTruncation() {\n        for (const item of this._items) {\n            item[\"resetOverflow\"]();\n        }\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        let result = ignoreBackgroundImages ? false : this.backgroundImage.isValid();\n\n        return result || super.getHasBackground(ignoreBackgroundImages);\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.clear();\n        this.setShouldFallback(false);\n\n        let jsonItems = source[this.getItemsCollectionPropertyName()];\n\n        if (Array.isArray(jsonItems)) {\n            for (const item of jsonItems) {\n                const element = context.parseElement(\n                    this,\n                    item,\n                    this.forbiddenChildElements(),\n                    !this.isDesignMode()\n                );\n\n                if (element) {\n                    this.insertItemAt(element, -1, true);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        const collectionPropertyName = this.getItemsCollectionPropertyName();\n\n        context.serializeArray(target, collectionPropertyName, this._items);\n    }\n\n    protected get isSelectable(): boolean {\n        return true;\n    }\n\n    getEffectivePadding(): PaddingDefinition {\n        if (\n            GlobalSettings.removePaddingFromContainersWithBackgroundImage &&\n            !this.getHasBackground(true)\n        ) {\n            return new PaddingDefinition();\n        }\n\n        return super.getEffectivePadding();\n    }\n\n    getEffectiveVerticalContentAlignment(): Enums.VerticalAlignment {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n\n        const parentContainer = this.getParentContainer();\n\n        return parentContainer\n            ? parentContainer.getEffectiveVerticalContentAlignment()\n            : Enums.VerticalAlignment.Top;\n    }\n\n    getItemCount(): number {\n        return this._items.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._items[index];\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (const item of this._renderedItems) {\n                if (item.isVisible) {\n                    return item;\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (let i = this._renderedItems.length - 1; i >= 0; i--) {\n                if (this._renderedItems[i].isVisible) {\n                    return this._renderedItems[i];\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    getJsonTypeName(): string {\n        return \"Container\";\n    }\n\n    isFirstElement(element: CardElement): boolean {\n        const designMode = this.isDesignMode();\n\n        for (const item of this._items) {\n            if (item.isVisible || designMode) {\n                return item === element;\n            }\n        }\n\n        return false;\n    }\n\n    isLastElement(element: CardElement): boolean {\n        const designMode = this.isDesignMode();\n\n        for (let i = this._items.length - 1; i >= 0; i--) {\n            if (this._items[i].isVisible || designMode) {\n                return this._items[i] === element;\n            }\n        }\n\n        return false;\n    }\n\n    isRtl(): boolean {\n        if (this.rtl !== undefined) {\n            return this.rtl;\n        } else {\n            const parentContainer = this.getParentContainer();\n\n            return parentContainer ? parentContainer.isRtl() : false;\n        }\n    }\n\n    isBleedingAtTop(): boolean {\n        const firstRenderedItem = this.getFirstVisibleRenderedItem();\n\n        return (\n            this.isBleeding() || (firstRenderedItem ? firstRenderedItem.isBleedingAtTop() : false)\n        );\n    }\n\n    isBleedingAtBottom(): boolean {\n        const lastRenderedItem = this.getLastVisibleRenderedItem();\n\n        return (\n            this.isBleeding() ||\n            (lastRenderedItem\n                ? lastRenderedItem.isBleedingAtBottom() &&\n                  lastRenderedItem.getEffectiveStyle() === this.getEffectiveStyle()\n                : false)\n        );\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return this._items.indexOf(cardElement);\n    }\n\n    addItem(item: CardElement) {\n        this.insertItemAt(item, -1, false);\n    }\n\n    insertItemBefore(item: CardElement, insertBefore: CardElement) {\n        this.insertItemAt(item, this._items.indexOf(insertBefore), false);\n    }\n\n    insertItemAfter(item: CardElement, insertAfter: CardElement) {\n        this.insertItemAt(item, this._items.indexOf(insertAfter) + 1, false);\n    }\n\n    removeItem(item: CardElement): boolean {\n        const itemIndex = this._items.indexOf(item);\n\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n\n            item.setParent(undefined);\n\n            this.updateLayout();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    clear() {\n        this._items = [];\n        this._renderedItems = [];\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        const result = super.getResourceInformation();\n\n        if (this.backgroundImage.isValid()) {\n            result.push({\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion -- validated by `isValid()`\n                url: this.backgroundImage.url!,\n                mimeType: \"image\"\n            });\n        }\n\n        return result;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = super.getActionById(id);\n\n        if (!result) {\n            if (this.selectAction) {\n                result = this.selectAction.getActionById(id);\n            }\n\n            if (!result) {\n                for (const item of this._items) {\n                    result = item.getActionById(id);\n\n                    if (result) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    get padding(): PaddingDefinition | undefined {\n        return this.getPadding();\n    }\n\n    set padding(value: PaddingDefinition | undefined) {\n        this.setPadding(value);\n    }\n\n    get selectAction(): Action | undefined {\n        return this._selectAction;\n    }\n\n    set selectAction(value: Action | undefined) {\n        this._selectAction = value;\n    }\n\n    get bleed(): boolean {\n        return this.getBleed();\n    }\n\n    set bleed(value: boolean) {\n        this.setBleed(value);\n    }\n}\n\nexport type ColumnWidth = SizeAndUnit | \"auto\" | \"stretch\";\n\nexport class Column extends Container {\n    //#region Schema\n\n    static readonly widthProperty = new CustomProperty<ColumnWidth>(\n        Versions.v1_0,\n        \"width\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: ColumnWidth = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidWidth = false;\n\n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, Enums.SizeUnit.Weight);\n            } else if (value === \"auto\" || value === \"stretch\") {\n                result = value;\n            } else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n\n                    if (\n                        result.unit === Enums.SizeUnit.Pixel &&\n                        prop.targetVersion.compareTo(context.targetVersion) > 0\n                    ) {\n                        invalidWidth = true;\n                    }\n                } catch (e) {\n                    invalidWidth = true;\n                }\n            } else {\n                invalidWidth = true;\n            }\n\n            if (invalidWidth) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidColumnWidth(value)\n                );\n\n                result = \"auto\";\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: ColumnWidth,\n            context: BaseSerializationContext\n        ) => {\n            if (value instanceof SizeAndUnit) {\n                if (value.unit === Enums.SizeUnit.Pixel) {\n                    context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n                } else {\n                    context.serializeNumber(target, \"width\", value.physicalSize);\n                }\n            } else {\n                context.serializeValue(target, \"width\", value);\n            }\n        },\n        \"stretch\"\n    );\n\n    @property(Column.widthProperty)\n    width: ColumnWidth = \"stretch\";\n\n    //#endregion\n\n    private _computedWeight: number = 0;\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        const minDesignTimeColumnHeight = 20;\n\n        if (this.isDesignMode()) {\n            renderedElement.style.minWidth = \"20px\";\n            renderedElement.style.minHeight =\n                (!this.minPixelHeight\n                    ? minDesignTimeColumnHeight\n                    : Math.max(this.minPixelHeight, minDesignTimeColumnHeight)) + \"px\";\n        } else {\n            renderedElement.style.minWidth = \"0\";\n\n            if (this.minPixelHeight) {\n                renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n            }\n        }\n\n        if (this.width === \"auto\") {\n            renderedElement.style.flex = \"0 1 auto\";\n        } else if (this.width === \"stretch\") {\n            renderedElement.style.flex = \"1 1 50px\";\n        } else if (this.width instanceof SizeAndUnit) {\n            if (this.width.unit === Enums.SizeUnit.Pixel) {\n                renderedElement.style.flex = \"0 0 auto\";\n                renderedElement.style.width = this.width.physicalSize + \"px\";\n            } else {\n                renderedElement.style.flex =\n                    \"1 1 \" +\n                    (this._computedWeight > 0 ? this._computedWeight : this.width.physicalSize) +\n                    \"%\";\n            }\n        }\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    protected get separatorOrientation(): Enums.Orientation {\n        return Enums.Orientation.Vertical;\n    }\n\n    constructor(width: ColumnWidth = \"stretch\") {\n        super();\n\n        this.width = width;\n    }\n\n    getJsonTypeName(): string {\n        return \"Column\";\n    }\n\n    get hasVisibleSeparator(): boolean {\n        if (this.parent && this.parent instanceof ColumnSet) {\n            return this.separatorElement !== undefined && !this.parent.isLeftMostElement(this);\n        } else {\n            return false;\n        }\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class ColumnSet extends ContainerBase {\n    private _columns: Column[] = [];\n    private _renderedColumns: Column[];\n\n    private createColumnInstance(source: any, context: SerializationContext): Column | undefined {\n        return context.parseCardObject<Column>(\n            this,\n            source,\n            [],\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return !typeName || typeName === \"Column\" ? new Column() : undefined;\n            },\n            (typeName: string, _errorType: Enums.TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    Enums.ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedColumns = [];\n\n        if (this._columns.length > 0) {\n            // Cache hostConfig to avoid walking the parent hierarchy several times\n            const hostConfig = this.hostConfig;\n\n            const element = document.createElement(\"div\");\n            element.className = hostConfig.makeCssClassName(\"ac-columnSet\");\n            element.style.display = \"flex\";\n\n            if (GlobalSettings.useAdvancedCardBottomTruncation) {\n                // See comment in Container.internalRender()\n                element.style.minHeight = \"-webkit-min-content\";\n            }\n\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n\n            let totalWeight: number = 0;\n\n            for (const column of this._columns) {\n                if (\n                    column.width instanceof SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight\n                ) {\n                    totalWeight += column.width.physicalSize;\n                }\n            }\n\n            for (const column of this._columns) {\n                if (\n                    column.width instanceof SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight &&\n                    totalWeight > 0\n                ) {\n                    const computedWeight = (100 / totalWeight) * column.width.physicalSize;\n\n                    // Best way to emulate \"internal\" access I know of\n                    column[\"_computedWeight\"] = computedWeight;\n                }\n\n                const renderedColumn = column.render();\n\n                if (renderedColumn) {\n                    if (this._renderedColumns.length > 0 && column.separatorElement) {\n                        column.separatorElement.style.flex = \"0 0 auto\";\n\n                        Utils.appendChild(element, column.separatorElement);\n                    }\n\n                    Utils.appendChild(element, renderedColumn);\n\n                    this._renderedColumns.push(column);\n                }\n            }\n\n            return this._renderedColumns.length > 0 ? element : undefined;\n        } else {\n            return undefined;\n        }\n    }\n\n    protected truncateOverflow(maxHeight: number): boolean {\n        for (const column of this._columns) {\n            column[\"handleOverflow\"](maxHeight);\n        }\n\n        return true;\n    }\n\n    protected undoOverflowTruncation() {\n        for (const column of this._columns) {\n            column[\"resetOverflow\"]();\n        }\n    }\n\n    protected get isSelectable(): boolean {\n        return true;\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._columns = [];\n        this._renderedColumns = [];\n\n        const jsonColumns = source[\"columns\"];\n\n        if (Array.isArray(jsonColumns)) {\n            for (const item of jsonColumns) {\n                const column = this.createColumnInstance(item, context);\n\n                if (column) {\n                    this._columns.push(column);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, \"columns\", this._columns);\n    }\n\n    isFirstElement(element: CardElement): boolean {\n        for (const column of this._columns) {\n            if (column.isVisible) {\n                return column === element;\n            }\n        }\n\n        return false;\n    }\n\n    isBleedingAtTop(): boolean {\n        if (this.isBleeding()) {\n            return true;\n        }\n\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (const column of this._columns) {\n                if (column.isBleedingAtTop()) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this.isBleeding()) {\n            return true;\n        }\n\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (const column of this._columns) {\n                if (column.isBleedingAtBottom()) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    getItemCount(): number {\n        return this._columns.length;\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[0];\n        } else {\n            return undefined;\n        }\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[this._renderedColumns.length - 1];\n        } else {\n            return undefined;\n        }\n    }\n\n    getColumnAt(index: number): Column {\n        return this._columns[index];\n    }\n\n    getItemAt(index: number): CardElement {\n        return this.getColumnAt(index);\n    }\n\n    getJsonTypeName(): string {\n        return \"ColumnSet\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        let weightedColumns: number = 0;\n        let stretchedColumns: number = 0;\n\n        for (const column of this._columns) {\n            if (typeof column.width === \"number\") {\n                weightedColumns++;\n            } else if (column.width === \"stretch\") {\n                stretchedColumns++;\n            }\n        }\n\n        if (weightedColumns > 0 && stretchedColumns > 0) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.Hint,\n                Strings.hints.dontUseWeightedAndStrecthedColumnsInSameSet()\n            );\n        }\n    }\n\n    addColumn(column: Column) {\n        if (!column.parent) {\n            this._columns.push(column);\n\n            column.setParent(this);\n        } else {\n            throw new Error(Strings.errors.columnAlreadyBelongsToAnotherSet());\n        }\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof Column) {\n            const itemIndex = this._columns.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._columns.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof Column ? this._columns.indexOf(cardElement) : -1;\n    }\n\n    isLeftMostElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) === 0;\n    }\n\n    isRightMostElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) === this._columns.length - 1;\n    }\n\n    isTopElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) >= 0;\n    }\n\n    isBottomElement(element: CardElement): boolean {\n        return this._columns.indexOf(<Column>element) >= 0;\n    }\n\n    getActionById(id: string): Action | undefined {\n        let result: Action | undefined = undefined;\n\n        for (const column of this._columns) {\n            result = column.getActionById(id);\n\n            if (result) {\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    get bleed(): boolean {\n        return this.getBleed();\n    }\n\n    set bleed(value: boolean) {\n        this.setBleed(value);\n    }\n\n    get padding(): PaddingDefinition | undefined {\n        return this.getPadding();\n    }\n\n    set padding(value: PaddingDefinition | undefined) {\n        this.setPadding(value);\n    }\n\n    get selectAction(): Action | undefined {\n        return this._selectAction;\n    }\n\n    set selectAction(value: Action | undefined) {\n        this._selectAction = value;\n    }\n}\n\nfunction raiseImageLoadedEvent(image: Image) {\n    const card = image.getRootElement() as AdaptiveCard;\n    const onImageLoadedHandler =\n        card && card.onImageLoaded ? card.onImageLoaded : AdaptiveCard.onImageLoaded;\n\n    if (onImageLoadedHandler) {\n        onImageLoadedHandler(image);\n    }\n}\n\nfunction raiseAnchorClickedEvent(\n    element: CardElement,\n    anchor: HTMLAnchorElement,\n    ev?: MouseEvent\n): boolean {\n    const card = element.getRootElement() as AdaptiveCard;\n    const onAnchorClickedHandler =\n        card && card.onAnchorClicked ? card.onAnchorClicked : AdaptiveCard.onAnchorClicked;\n\n    return onAnchorClickedHandler !== undefined\n        ? onAnchorClickedHandler(element, anchor, ev)\n        : false;\n}\n\nfunction raiseExecuteActionEvent(action: Action) {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onExecuteActionHandler =\n        card && card.onExecuteAction ? card.onExecuteAction : AdaptiveCard.onExecuteAction;\n\n    if (action.prepareForExecution() && onExecuteActionHandler) {\n        onExecuteActionHandler(action);\n    }\n}\n\nfunction raiseInlineCardExpandedEvent(action: ShowCardAction, isExpanded: boolean) {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onInlineCardExpandedHandler =\n        card && card.onInlineCardExpanded\n            ? card.onInlineCardExpanded\n            : AdaptiveCard.onInlineCardExpanded;\n\n    if (onInlineCardExpandedHandler) {\n        onInlineCardExpandedHandler(action, isExpanded);\n    }\n}\n\nfunction raiseInputValueChangedEvent(input: Input) {\n    const card = input.getRootElement() as AdaptiveCard;\n    const onInputValueChangedHandler =\n        card && card.onInputValueChanged\n            ? card.onInputValueChanged\n            : AdaptiveCard.onInputValueChanged;\n\n    if (onInputValueChangedHandler) {\n        onInputValueChangedHandler(input);\n    }\n}\n\nfunction raiseElementVisibilityChangedEvent(\n    element: CardElement,\n    shouldUpdateLayout: boolean = true\n) {\n    const rootElement = element.getRootElement();\n\n    if (shouldUpdateLayout) {\n        rootElement.updateLayout();\n    }\n\n    const card = rootElement as AdaptiveCard;\n    const onElementVisibilityChangedHandler =\n        card && card.onElementVisibilityChanged\n            ? card.onElementVisibilityChanged\n            : AdaptiveCard.onElementVisibilityChanged;\n\n    if (onElementVisibilityChangedHandler !== undefined) {\n        onElementVisibilityChangedHandler(element);\n    }\n}\n\nfunction updateInputAdornersVisibility(input: HTMLInputElement, hide: boolean) {\n    if (!!hide) {\n        // hides the time/date picker icon\n        input.readOnly = true;\n        // hides the cross button icon\n        input.required = true;\n    } else {\n         // shows the time/date picker icon\n         input.readOnly = false;\n         // shows the cross button icon\n         input.required = false;\n    }\n    \n}\n\nfunction shouldHideInputAdornersForRevealOnHover(input: HTMLElement, eventType: InputEventType) {\n    // show/hide input adorners (date picker, time picker, select dropdown picker) with inputStyle RevealOnHover\n    // 1. intial render of card: hide input adorners\n    // 2. mouse hover on the card: show input adorners\n    // 3. mouse hover outside the card: hide input adorners unless input is still in focus state\n    // 4. input loses focus: hide the input adorners unless mouse is still hovering on the card\n\n    // check if input still has the focus\n    const isInputInFocus = input === document.activeElement;\n\n    // check if mouse is still on the card\n    const isMouseOverCard = input.classList.contains(\"ac-inputStyle-revealOnHover-onhover\");\n\n    const hideInputAdorners = (eventType === InputEventType.InitialRender) ||\n                              (eventType === InputEventType.FocusLeave && !isMouseOverCard) ||\n                              (eventType === InputEventType.MouseLeaveOnCard && !isInputInFocus);\n    return hideInputAdorners;\n}\n\n/**\n * @returns return false to continue with default context menu; return true to skip SDK default context menu\n */\nfunction raiseDisplayOverflowActionMenuEvent(\n    action: OverflowAction,\n    target?: HTMLElement\n): boolean {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onDisplayOverflowActionMenuHandler =\n        card && card.onDisplayOverflowActionMenu\n            ? card.onDisplayOverflowActionMenu\n            : AdaptiveCard.onDisplayOverflowActionMenu;\n\n    return onDisplayOverflowActionMenuHandler !== undefined\n        ? onDisplayOverflowActionMenuHandler(action.getActions(), target)\n        : false;\n}\n\n/**\n * @returns return false to continue with default action button; return true to skip SDK default action button\n */\nfunction raiseRenderOverflowActionsEvent(\n    action: OverflowAction,\n    isAtRootLevelActions: boolean\n): boolean {\n    const card = action.parent ? (action.parent.getRootElement() as AdaptiveCard) : undefined;\n    const onRenderOverflowActionsHandler =\n        card && card.onRenderOverflowActions\n            ? card.onRenderOverflowActions\n            : AdaptiveCard.onRenderOverflowActions;\n\n    return onRenderOverflowActionsHandler !== undefined\n        ? onRenderOverflowActionsHandler(action.getActions(), isAtRootLevelActions)\n        : false;\n}\n\nexport abstract class ContainerWithActions extends Container {\n    private _actionCollection: ActionCollection;\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.parseActions(source, context);\n    }\n\n    protected parseActions(source: any, context: SerializationContext) {\n        this._actionCollection.parse(source[\"actions\"], context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        this._actionCollection.toJSON(target, \"actions\", context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const element = super.internalRender();\n\n        if (element) {\n            const renderedActions = this._actionCollection.render(\n                this.hostConfig.actions.actionsOrientation\n            );\n\n            if (renderedActions) {\n                Utils.appendChild(\n                    element,\n                    renderSeparation(\n                        this.hostConfig,\n                        {\n                            spacing: this.hostConfig.getEffectiveSpacing(\n                                this.hostConfig.actions.spacing\n                            )\n                        },\n                        Enums.Orientation.Horizontal\n                    )\n                );\n                Utils.appendChild(element, renderedActions);\n            }\n\n            if (this.renderIfEmpty) {\n                return element;\n            } else {\n                return element.children.length > 0 ? element : undefined;\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    protected getHasExpandedAction(): boolean {\n        if (this.renderedActionCount === 0) {\n            return false;\n        } else if (this.renderedActionCount === 1) {\n            return (\n                this._actionCollection.expandedAction !== undefined &&\n                !this.hostConfig.actions.preExpandSingleShowCardAction\n            );\n        } else {\n            return this._actionCollection.expandedAction !== undefined;\n        }\n    }\n\n    protected get renderedActionCount(): number {\n        return this._actionCollection.renderedActionCount;\n    }\n\n    protected get renderIfEmpty(): boolean {\n        return false;\n    }\n\n    constructor() {\n        super();\n\n        this._actionCollection = new ActionCollection(this);\n    }\n\n    releaseDOMResources() {\n        super.releaseDOMResources();\n\n        this._actionCollection.releaseDOMResources();\n    }\n\n    getActionCount(): number {\n        return this._actionCollection.getActionCount();\n    }\n\n    getActionAt(index: number): Action | undefined {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        } else {\n            return super.getActionAt(index);\n        }\n    }\n\n    getActionById(id: string): Action | undefined {\n        const result: Action | undefined = this._actionCollection.getActionById(id);\n\n        return result ? result : super.getActionById(id);\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this._actionCollection) {\n            this._actionCollection.validateProperties(context);\n        }\n    }\n\n    isLastElement(element: CardElement): boolean {\n        return super.isLastElement(element) && this._actionCollection.getActionCount() === 0;\n    }\n\n    addAction(action: Action) {\n        this._actionCollection.addAction(action);\n    }\n\n    clear() {\n        super.clear();\n\n        this._actionCollection.clear();\n    }\n\n    getAllInputs(processActions: boolean = true): Input[] {\n        let result = super.getAllInputs(processActions);\n\n        if (processActions) {\n            result.push(...this._actionCollection.getAllInputs(processActions));\n        }\n\n        return result;\n    }\n\n    getResourceInformation(): IResourceInformation[] {\n        let result = super.getResourceInformation();\n\n        result.push(...this._actionCollection.getResourceInformation());\n\n        return result;\n    }\n\n    isBleedingAtBottom(): boolean {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return super.isBleedingAtBottom();\n        } else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (\n                    this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction\n                );\n            } else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    }\n\n    getForbiddenActionNames(): string[] {\n        return [];\n    }\n    \n    getElementById(id: string): CardElement | undefined {\n        let result = super.getElementById(id);\n\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n\n        return result;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport interface IMarkdownProcessingResult {\n    didProcess: boolean;\n    outputHtml?: any;\n}\n\nexport class RefreshActionProperty extends PropertyDefinition {\n    parse(\n        sender: RefreshDefinition,\n        source: PropertyBag,\n        context: SerializationContext\n    ): ExecuteAction | undefined {\n        const action = context.parseAction(sender.parent, source[this.name], [], false);\n\n        if (action !== undefined) {\n            if (action instanceof ExecuteAction) {\n                return action;\n            }\n\n            context.logParseEvent(\n                sender,\n                Enums.ValidationEvent.ActionTypeNotAllowed,\n                Strings.errors.actionTypeNotAllowed(action.getJsonTypeName())\n            );\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.PropertyCantBeNull,\n            Strings.errors.propertyMustBeSet(\"action\")\n        );\n\n        return undefined;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: ExecuteAction | undefined,\n        context: SerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            value ? value.toJSON(context) : undefined,\n            undefined,\n            true\n        );\n    }\n\n    constructor(readonly targetVersion: Version, readonly name: string) {\n        super(targetVersion, name, undefined);\n    }\n}\n\nexport class RefreshDefinition extends SerializableObject {\n    //#region Schema\n\n    static readonly actionProperty = new RefreshActionProperty(Versions.v1_4, \"action\");\n    static readonly userIdsProperty = new StringArrayProperty(Versions.v1_4, \"userIds\");\n\n    @property(RefreshDefinition.actionProperty)\n    get action(): ExecuteAction {\n        return this.getValue(RefreshDefinition.actionProperty);\n    }\n\n    set action(value: ExecuteAction) {\n        this.setValue(RefreshDefinition.actionProperty, value);\n\n        if (value) {\n            value.setParent(this.parent);\n        }\n    }\n\n    @property(RefreshDefinition.userIdsProperty)\n    userIds?: string[];\n\n    protected getSchemaKey(): string {\n        return \"RefreshDefinition\";\n    }\n\n    //#endregion\n\n    parent: CardElement;\n}\n\nexport class AuthCardButton extends SerializableObject {\n    //#region Schema\n\n    static readonly typeProperty = new StringProperty(Versions.v1_4, \"type\");\n    static readonly titleProperty = new StringProperty(Versions.v1_4, \"title\");\n    static readonly imageProperty = new StringProperty(Versions.v1_4, \"image\");\n    static readonly valueProperty = new StringProperty(Versions.v1_4, \"value\");\n\n    protected getSchemaKey(): string {\n        return \"AuthCardButton\";\n    }\n\n    //#endregion\n\n    @property(AuthCardButton.typeProperty)\n    type: string;\n\n    @property(AuthCardButton.titleProperty)\n    title?: string;\n\n    @property(AuthCardButton.imageProperty)\n    image?: string;\n\n    @property(AuthCardButton.valueProperty)\n    value: string;\n}\n\nexport class TokenExchangeResource extends SerializableObject {\n    //#region Schema\n\n    static readonly idProperty = new StringProperty(Versions.v1_4, \"id\");\n    static readonly uriProperty = new StringProperty(Versions.v1_4, \"uri\");\n    static readonly providerIdProperty = new StringProperty(Versions.v1_4, \"providerId\");\n\n    protected getSchemaKey(): string {\n        return \"TokenExchangeResource\";\n    }\n\n    //#endregion\n\n    @property(TokenExchangeResource.idProperty)\n    id?: string;\n\n    @property(TokenExchangeResource.uriProperty)\n    uri?: string;\n\n    @property(TokenExchangeResource.providerIdProperty)\n    providerId?: string;\n}\n\nexport class Authentication extends SerializableObject {\n    //#region Schema\n\n    static readonly textProperty = new StringProperty(Versions.v1_4, \"text\");\n    static readonly connectionNameProperty = new StringProperty(Versions.v1_4, \"connectionName\");\n    static readonly buttonsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_4,\n        \"buttons\",\n        AuthCardButton\n    );\n    static readonly tokenExchangeResourceProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"tokenExchangeResource\",\n        TokenExchangeResource,\n        true\n    );\n\n    protected getSchemaKey(): string {\n        return \"Authentication\";\n    }\n\n    //#endregion\n\n    @property(Authentication.textProperty)\n    text?: string;\n\n    @property(Authentication.connectionNameProperty)\n    connectionName?: string;\n\n    @property(Authentication.buttonsProperty)\n    buttons: AuthCardButton[];\n\n    @property(Authentication.tokenExchangeResourceProperty)\n    tokenExchangeResource?: TokenExchangeResource;\n}\n\n// @dynamic\nexport class AdaptiveCard extends ContainerWithActions {\n    static readonly schemaUrl = \"http://adaptivecards.io/schemas/adaptive-card.json\";\n\n    //#region Schema\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    protected static readonly $schemaProperty = new CustomProperty<string>(\n        Versions.v1_0,\n        \"$schema\",\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            return AdaptiveCard.schemaUrl;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: Versions | undefined,\n            context: BaseSerializationContext\n        ) => {\n            context.serializeValue(target, prop.name, AdaptiveCard.schemaUrl);\n        }\n    );\n\n    static readonly versionProperty = new CustomProperty<Version | undefined>(\n        Versions.v1_0,\n        \"version\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let version = Version.parse(source[prop.name], context);\n\n            if (version === undefined) {\n                version = Versions.latest;\n\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidCardVersion(version.toString())\n                );\n            }\n\n            return version;\n        },\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            target: PropertyBag,\n            value: Version | undefined,\n            context: BaseSerializationContext\n        ) => {\n            if (value !== undefined) {\n                context.serializeValue(target, prop.name, value.toString());\n            }\n        },\n        Versions.v1_0\n    );\n\n    static readonly fallbackTextProperty = new StringProperty(Versions.v1_0, \"fallbackText\");\n    static readonly speakProperty = new StringProperty(Versions.v1_0, \"speak\");\n    static readonly refreshProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"refresh\",\n        RefreshDefinition,\n        true\n    );\n    static readonly authenticationProperty = new SerializableObjectProperty(\n        Versions.v1_4,\n        \"authentication\",\n        Authentication,\n        true\n    );\n\n    @property(AdaptiveCard.versionProperty)\n    version: Version;\n\n    @property(AdaptiveCard.fallbackTextProperty)\n    fallbackText?: string;\n\n    @property(AdaptiveCard.speakProperty)\n    speak?: string;\n\n    @property(AdaptiveCard.refreshProperty)\n    get refresh(): RefreshDefinition | undefined {\n        return this.getValue(AdaptiveCard.refreshProperty);\n    }\n\n    set refresh(value: RefreshDefinition | undefined) {\n        this.setValue(AdaptiveCard.refreshProperty, value);\n\n        if (value) {\n            value.parent = this;\n        }\n    }\n\n    @property(AdaptiveCard.authenticationProperty)\n    authentication?: Authentication;\n\n    //#endregion\n\n    private static _haveWarnedAboutNoMarkdownProcessing = false;\n\n    static onAnchorClicked?: (\n        element: CardElement,\n        anchor: HTMLAnchorElement,\n        ev?: MouseEvent\n    ) => boolean;\n    static onExecuteAction?: (action: Action) => void;\n    static onElementVisibilityChanged?: (element: CardElement) => void;\n    static onImageLoaded?: (image: Image) => void;\n    static onInlineCardExpanded?: (action: ShowCardAction, isExpanded: boolean) => void;\n    static onInputValueChanged?: (input: Input) => void;\n    static onCarouselEvent?: (carouselEvent: CarouselEvent) => void;\n    static onProcessMarkdown?: (text: string, result: IMarkdownProcessingResult) => void;\n    static onDisplayOverflowActionMenu?: (\n        actions: readonly Action[],\n        target?: HTMLElement\n    ) => boolean;\n    static onRenderOverflowActions?: (\n        actions: readonly Action[],\n        isRootLevelActions: boolean\n    ) => boolean;\n\n    static get processMarkdown(): (text: string) => string {\n        throw new Error(Strings.errors.processMarkdownEventRemoved());\n    }\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    static set processMarkdown(_value: (text: string) => string) {\n        throw new Error(Strings.errors.processMarkdownEventRemoved());\n    }\n\n    static applyMarkdown(text: string): IMarkdownProcessingResult {\n        const result: IMarkdownProcessingResult = {\n            didProcess: false\n        };\n\n        if (AdaptiveCard.onProcessMarkdown) {\n            AdaptiveCard.onProcessMarkdown(text, result);\n        } else if ((<any>window).markdownit) {\n            // Check for markdownit\n            const markdownIt: any = (<any>window).markdownit;\n            result.outputHtml = markdownIt().render(text);\n            result.didProcess = true;\n        } else if (!AdaptiveCard._haveWarnedAboutNoMarkdownProcessing) {\n            // eslint-disable-next-line no-console\n            console.warn(Strings.errors.markdownProcessingNotEnabled);\n            AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = true;\n        }\n\n        return result;\n    }\n\n    private _fallbackCard?: AdaptiveCard;\n\n    private isVersionSupported(): boolean {\n        if (this.bypassVersionCheck) {\n            return true;\n        } else {\n            const unsupportedVersion: boolean =\n                !this.version ||\n                !this.version.isValid ||\n                this.maxVersion.major < this.version.major ||\n                (this.maxVersion.major === this.version.major &&\n                    this.maxVersion.minor < this.version.minor);\n\n            return !unsupportedVersion;\n        }\n    }\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SerializationContext(this.version);\n    }\n\n    protected getItemsCollectionPropertyName(): string {\n        return \"body\";\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        this._fallbackCard = undefined;\n\n        const fallbackElement = context.parseElement(\n            undefined,\n            source[\"fallback\"],\n            this.forbiddenChildElements(),\n            !this.isDesignMode()\n        );\n\n        if (fallbackElement) {\n            this._fallbackCard = new AdaptiveCard();\n            this._fallbackCard.addItem(fallbackElement);\n        }\n\n        super.internalParse(source, context);\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        this.setValue(AdaptiveCard.versionProperty, context.targetVersion);\n\n        super.internalToJSON(target, context);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const renderedElement = super.internalRender();\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation && renderedElement) {\n            // Unlike containers, the root card element should be allowed to\n            // be shorter than its content (otherwise the overflow truncation\n            // logic would never get triggered)\n            renderedElement.style.removeProperty(\"minHeight\");\n        }\n\n        return renderedElement;\n    }\n\n    protected getHasBackground(ignoreBackgroundImages: boolean = false): boolean {\n        return true;\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            Enums.Spacing.Padding\n        );\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    protected get renderIfEmpty(): boolean {\n        return true;\n    }\n\n    protected get bypassVersionCheck(): boolean {\n        return false;\n    }\n\n    protected get allowCustomStyle() {\n        return this.hostConfig.adaptiveCard && this.hostConfig.adaptiveCard.allowCustomStyle;\n    }\n\n    protected get hasBackground(): boolean {\n        return true;\n    }\n\n    onAnchorClicked?: (element: CardElement, anchor: HTMLAnchorElement, ev?: MouseEvent) => boolean;\n    onExecuteAction?: (action: Action) => void;\n    onElementVisibilityChanged?: (element: CardElement) => void;\n    onImageLoaded?: (image: Image) => void;\n    onInlineCardExpanded?: (action: ShowCardAction, isExpanded: boolean) => void;\n    onInputValueChanged?: (input: Input) => void;\n    onCarouselEvent?: (carouselEvent: CarouselEvent) => void;\n    onDisplayOverflowActionMenu?: (actions: readonly Action[], target?: HTMLElement) => boolean;\n    onRenderOverflowActions?: (actions: readonly Action[], isRootLevelActions: boolean) => boolean;\n\n    designMode: boolean = false;\n\n    getJsonTypeName(): string {\n        return \"AdaptiveCard\";\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        super.internalValidateProperties(context);\n\n        if (this.getValue(CardElement.typeNameProperty) !== \"AdaptiveCard\") {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.MissingCardType,\n                Strings.errors.invalidCardType()\n            );\n        }\n\n        if (!this.bypassVersionCheck && !this.version) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.PropertyCantBeNull,\n                Strings.errors.propertyMustBeSet(\"version\")\n            );\n        } else if (!this.isVersionSupported()) {\n            context.addFailure(\n                this,\n                Enums.ValidationEvent.UnsupportedCardVersion,\n                Strings.errors.unsupportedCardVersion(\n                    this.version.toString(),\n                    this.maxVersion.toString()\n                )\n            );\n        }\n    }\n\n    render(target?: HTMLElement): HTMLElement | undefined {\n        let renderedCard: HTMLElement | undefined;\n\n        if (this.shouldFallback() && this._fallbackCard) {\n            this._fallbackCard.hostConfig = this.hostConfig;\n\n            renderedCard = this._fallbackCard.render();\n        } else {\n            renderedCard = super.render();\n\n            if (renderedCard) {\n                renderedCard.classList.add(this.hostConfig.makeCssClassName(\"ac-adaptiveCard\"));\n\n                // Having a tabIndex on the root container for a card can mess up accessibility in some scenarios.\n                // However, we've shipped this behavior before, and so can't just turn it off in a point release. For\n                // now, to unblock accessibility scenarios for our customers, we've got an option to turn it off. In a\n                // future release, we should strongly consider flipping the default such that we *don't* emit a tabIndex\n                // by default.\n                if (GlobalSettings.setTabIndexAtCardRoot) {\n                    renderedCard.tabIndex = 0;\n                }\n\n                if (this.speak) {\n                    renderedCard.setAttribute(\"aria-label\", this.speak);\n                }\n\n                renderedCard.onmouseenter = (ev: MouseEvent) => {\n                    this.updateInputsVisualState(true /* hover */);\n                };\n\n                renderedCard.onmouseleave = (ev: MouseEvent) => {\n                    this.updateInputsVisualState(false /* hover */);\n                };\n\n                this.getRootElement().updateActionsEnabledState();\n            }\n        }\n\n        if (target) {\n            Utils.appendChild(target, renderedCard);\n\n            this.updateLayout();\n        }\n\n        return renderedCard;\n    }\n\n    updateLayout(processChildren: boolean = true) {\n        super.updateLayout(processChildren);\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation && this.isDisplayed()) {\n            const padding = this.hostConfig.getEffectiveSpacing(Enums.Spacing.Default);\n\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this[\"handleOverflow\"](this.renderedElement!.offsetHeight - padding);\n        }\n    }\n\n    shouldFallback(): boolean {\n        return super.shouldFallback() || !this.isVersionSupported();\n    }\n\n    get hasVisibleSeparator(): boolean {\n        return false;\n    }\n}\n\nclass InlineAdaptiveCard extends AdaptiveCard {\n    //#region Schema\n\n    protected getSchemaKey(): string {\n        return \"InlineAdaptiveCard\";\n    }\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        schema.remove(AdaptiveCard.$schemaProperty, AdaptiveCard.versionProperty);\n    }\n\n    //#endregion\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(\n            this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding,\n            Enums.Spacing.Padding,\n            this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding,\n            Enums.Spacing.Padding\n        );\n    }\n\n    protected get bypassVersionCheck(): boolean {\n        return true;\n    }\n\n    protected get defaultStyle(): string {\n        if (this.suppressStyle) {\n            return Enums.ContainerStyle.Default;\n        } else {\n            return this.hostConfig.actions.showCard.style\n                ? this.hostConfig.actions.showCard.style\n                : Enums.ContainerStyle.Emphasis;\n        }\n    }\n\n    suppressStyle: boolean = false;\n\n    render(target?: HTMLElement): HTMLElement | undefined {\n        const renderedCard = super.render(target);\n\n        if (renderedCard) {\n            renderedCard.setAttribute(\"aria-live\", \"polite\");\n            renderedCard.removeAttribute(\"tabindex\");\n        }\n\n        return renderedCard;\n    }\n}\n\nexport class SerializationContext extends BaseSerializationContext {\n    private _elementRegistry?: CardObjectRegistry<CardElement>;\n    private _actionRegistry?: CardObjectRegistry<Action>;\n\n    private _forbiddenTypes: Set<string> = new Set<string>();\n    private internalParseCardObject<T extends CardObject>(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypes: Set<string>,\n        allowFallback: boolean,\n        createInstanceCallback: (typeName: string | undefined) => T | undefined,\n        logParseEvent: (typeName: string | undefined, errorType: Enums.TypeErrorType) => void\n    ): T | undefined {\n        let result: T | undefined = undefined;\n\n        if (source && typeof source === \"object\") {\n            const oldForbiddenTypes = new Set<string>();\n            this._forbiddenTypes.forEach((type) => {\n                oldForbiddenTypes.add(type);\n            });\n            forbiddenTypes.forEach((type) => {\n                this._forbiddenTypes.add(type);\n            });\n\n            const typeName = Utils.parseString(source[\"type\"]);\n\n            if (typeName && this._forbiddenTypes.has(typeName)) {\n                logParseEvent(typeName, Enums.TypeErrorType.ForbiddenType);\n            } else {\n                let tryToFallback = false;\n\n                result = createInstanceCallback(typeName);\n\n                if (!result) {\n                    tryToFallback = GlobalSettings.enableFallback && allowFallback;\n\n                    logParseEvent(typeName, Enums.TypeErrorType.UnknownType);\n                } else {\n                    result.setParent(parent);\n                    result.parse(source, this);\n\n                    tryToFallback =\n                        GlobalSettings.enableFallback && allowFallback && result.shouldFallback();\n                }\n\n                if (tryToFallback) {\n                    const fallback = source[\"fallback\"];\n\n                    if (!fallback && parent) {\n                        parent.setShouldFallback(true);\n                    }\n                    if (typeof fallback === \"string\" && fallback.toLowerCase() === \"drop\") {\n                        result = undefined;\n                    } else if (typeof fallback === \"object\") {\n                        result = this.internalParseCardObject<T>(\n                            parent,\n                            fallback,\n                            forbiddenTypes,\n                            true,\n                            createInstanceCallback,\n                            logParseEvent\n                        );\n                    }\n                }\n            }\n\n            this._forbiddenTypes = oldForbiddenTypes;\n        }\n\n        return result;\n    }\n\n    protected cardObjectParsed(o: SerializableObject, source: any) {\n        if (o instanceof Action && this.onParseAction) {\n            this.onParseAction(o, source, this);\n        } else if (o instanceof CardElement && this.onParseElement) {\n            this.onParseElement(o, source, this);\n        }\n    }\n\n    onParseAction?: (action: Action, source: any, context: SerializationContext) => void;\n    onParseElement?: (element: CardElement, source: any, context: SerializationContext) => void;\n\n    shouldSerialize(o: SerializableObject): boolean {\n        if (o instanceof Action) {\n            return this.actionRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        } else if (o instanceof CardElement) {\n            return this.elementRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        } else {\n            return true;\n        }\n    }\n\n    parseCardObject<T extends CardObject>(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypeNames: string[],\n        allowFallback: boolean,\n        createInstanceCallback: (typeName: string) => T | undefined,\n        logParseEvent: (typeName: string, errorType: Enums.TypeErrorType) => void\n    ): T | undefined {\n        const forbiddenTypes = new Set<string>(forbiddenTypeNames);\n        const result = this.internalParseCardObject(\n            parent,\n            source,\n            forbiddenTypes,\n            allowFallback,\n            createInstanceCallback,\n            logParseEvent\n        );\n\n        if (result !== undefined) {\n            this.cardObjectParsed(result, source);\n        }\n\n        return result;\n    }\n\n    parseElement(\n        parent: CardElement | undefined,\n        source: any,\n        forbiddenTypes: string[],\n        allowFallback: boolean\n    ): CardElement | undefined {\n        return this.parseCardObject<CardElement>(\n            parent,\n            source,\n            forbiddenTypes,\n            allowFallback,\n            (typeName: string) => {\n                return this.elementRegistry.createInstance(typeName, this.targetVersion);\n            },\n            (typeName: string, errorType: Enums.TypeErrorType) => {\n                if (errorType === Enums.TypeErrorType.UnknownType) {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.UnknownElementType,\n                        Strings.errors.unknownElementType(typeName)\n                    );\n                } else {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.ElementTypeNotAllowed,\n                        Strings.errors.elementTypeNotAllowed(typeName)\n                    );\n                }\n            }\n        );\n    }\n\n    parseAction(\n        parent: CardElement,\n        source: any,\n        forbiddenActionTypes: string[],\n        allowFallback: boolean\n    ): Action | undefined {\n        return this.parseCardObject<Action>(\n            parent,\n            source,\n            forbiddenActionTypes,\n            allowFallback,\n            (typeName: string) => {\n                return this.actionRegistry.createInstance(typeName, this.targetVersion);\n            },\n            (typeName: string, errorType: Enums.TypeErrorType) => {\n                if (errorType === Enums.TypeErrorType.UnknownType) {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.UnknownActionType,\n                        Strings.errors.unknownActionType(typeName)\n                    );\n                } else {\n                    this.logParseEvent(\n                        undefined,\n                        Enums.ValidationEvent.ActionTypeNotAllowed,\n                        Strings.errors.actionTypeNotAllowed(typeName)\n                    );\n                }\n            }\n        );\n    }\n\n    get elementRegistry(): CardObjectRegistry<CardElement> {\n        return this._elementRegistry ?? GlobalRegistry.elements;\n    }\n\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    setElementRegistry(value: CardObjectRegistry<CardElement> | undefined) {\n        this._elementRegistry = value;\n    }\n\n    get actionRegistry(): CardObjectRegistry<Action> {\n        return this._actionRegistry ?? GlobalRegistry.actions;\n    }\n\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    setActionRegistry(value: CardObjectRegistry<Action> | undefined) {\n        this._actionRegistry = value;\n    }\n}\n\nGlobalRegistry.defaultElements.register(\"Container\", Container);\nGlobalRegistry.defaultElements.register(\"TextBlock\", TextBlock);\nGlobalRegistry.defaultElements.register(\"RichTextBlock\", RichTextBlock, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"TextRun\", TextRun, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"Image\", Image);\nGlobalRegistry.defaultElements.register(\"ImageSet\", ImageSet);\nGlobalRegistry.defaultElements.register(\"Media\", Media, Versions.v1_1);\nGlobalRegistry.defaultElements.register(\"FactSet\", FactSet);\nGlobalRegistry.defaultElements.register(\"ColumnSet\", ColumnSet);\nGlobalRegistry.defaultElements.register(\"ActionSet\", ActionSet, Versions.v1_2);\nGlobalRegistry.defaultElements.register(\"Input.Text\", TextInput);\nGlobalRegistry.defaultElements.register(\"Input.Date\", DateInput);\nGlobalRegistry.defaultElements.register(\"Input.Time\", TimeInput);\nGlobalRegistry.defaultElements.register(\"Input.Number\", NumberInput);\nGlobalRegistry.defaultElements.register(\"Input.ChoiceSet\", ChoiceSetInput);\nGlobalRegistry.defaultElements.register(\"Input.Toggle\", ToggleInput);\n\nGlobalRegistry.defaultActions.register(OpenUrlAction.JsonTypeName, OpenUrlAction);\nGlobalRegistry.defaultActions.register(SubmitAction.JsonTypeName, SubmitAction);\nGlobalRegistry.defaultActions.register(ShowCardAction.JsonTypeName, ShowCardAction);\nGlobalRegistry.defaultActions.register(\n    ToggleVisibilityAction.JsonTypeName,\n    ToggleVisibilityAction,\n    Versions.v1_2\n);\nGlobalRegistry.defaultActions.register(ExecuteAction.JsonTypeName, ExecuteAction, Versions.v1_4);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport { Strings } from \"./strings\";\nimport { Dictionary, GlobalSettings } from \"./shared\";\nimport { HostConfig } from \"./host-config\";\nimport { HostCapabilities } from \"./host-capabilities\";\nimport {\n    Versions,\n    property,\n    SerializableObject,\n    StringProperty,\n    SerializableObjectProperty,\n    IValidationEvent,\n    PropertyDefinition\n} from \"./serialization\";\n\nexport class ValidationResults {\n    readonly allIds: Dictionary<number> = {};\n    readonly validationEvents: IValidationEvent[] = [];\n\n    addFailure(cardObject: CardObject, event: Enums.ValidationEvent, message: string) {\n        this.validationEvents.push({\n            phase: Enums.ValidationPhase.Validation,\n            source: cardObject,\n            event: event,\n            message: message\n        });\n    }\n}\n\nexport type CardObjectType = { new (): CardObject };\n\nexport abstract class CardObject extends SerializableObject {\n    //#region Schema\n\n    static readonly typeNameProperty = new StringProperty(\n        Versions.v1_0,\n        \"type\",\n        undefined,\n        undefined,\n        undefined,\n        (sender: object) => {\n            return (<CardObject>sender).getJsonTypeName();\n        }\n    );\n    static readonly idProperty = new StringProperty(Versions.v1_0, \"id\");\n    static readonly requiresProperty = new SerializableObjectProperty(\n        Versions.v1_2,\n        \"requires\",\n        HostCapabilities,\n        false,\n        new HostCapabilities()\n    );\n\n    protected getSchemaKey(): string {\n        return this.getJsonTypeName();\n    }\n\n    @property(CardObject.idProperty)\n    id?: string;\n\n    @property(CardObject.requiresProperty)\n    get requires(): HostCapabilities {\n        return this.getValue(CardObject.requiresProperty);\n    }\n\n    //#endregion\n\n    private _shouldFallback: boolean = false;\n\n    protected _parent?: CardObject;\n    protected _renderedElement?: HTMLElement;\n\n    /**\n     * Checks if this CardObject contains the given DOM Node.\n     * @param node The DOM Node to look for.\n     * @returns `true` if the DOM Node was found, `false` otherwise.\n     */\n    protected contains(node: Node): boolean {\n        if (this._renderedElement) {\n            return this._renderedElement.contains(node);\n        }\n\n        return false;\n    }\n\n    onPreProcessPropertyValue?: (\n        sender: CardObject,\n        property: PropertyDefinition,\n        value: any\n    ) => any;\n\n    abstract getJsonTypeName(): string;\n\n    abstract get hostConfig(): HostConfig;\n\n    preProcessPropertyValue(prop: PropertyDefinition, propertyValue?: any): any {\n        const value = propertyValue === undefined ? this.getValue(prop) : propertyValue;\n\n        if (GlobalSettings.allowPreProcessingPropertyValues) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            let currentObject: CardObject | undefined = this;\n\n            while (currentObject && !currentObject.onPreProcessPropertyValue) {\n                currentObject = currentObject.parent;\n            }\n\n            if (currentObject && currentObject.onPreProcessPropertyValue) {\n                return currentObject.onPreProcessPropertyValue(this, prop, value);\n            }\n        }\n\n        return value;\n    }\n\n    setParent(value: CardObject | undefined) {\n        this._parent = value;\n    }\n\n    setShouldFallback(value: boolean) {\n        this._shouldFallback = value;\n    }\n\n    shouldFallback(): boolean {\n        return this._shouldFallback || !this.requires.areAllMet(this.hostConfig.hostCapabilities);\n    }\n\n    getRootObject(): CardObject {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let currentObject: CardObject = this;\n\n        while (currentObject.parent) {\n            currentObject = currentObject.parent;\n        }\n\n        return currentObject;\n    }\n\n    internalValidateProperties(context: ValidationResults) {\n        if (this.id) {\n            if (context.allIds.hasOwnProperty(this.id)) {\n                if (context.allIds[this.id] === 1) {\n                    context.addFailure(\n                        this,\n                        Enums.ValidationEvent.DuplicateId,\n                        Strings.errors.duplicateId(this.id)\n                    );\n                }\n\n                context.allIds[this.id] += 1;\n            } else {\n                context.allIds[this.id] = 1;\n            }\n        }\n    }\n\n    validateProperties(): ValidationResults {\n        const result = new ValidationResults();\n\n        this.internalValidateProperties(result);\n\n        return result;\n    }\n\n    /**\n     * Recursively searches this CardObject and any children to find the\n     * innermost CardObject that owns the given DOM Node.\n     *\n     * @param node The DOM Node to look for.\n     *\n     * @returns The owner of the given DOM Node, or `undefined` if no owner was found.\n     */\n    findDOMNodeOwner(node: Node): CardObject | undefined {\n        // default implementation for CardObjects with no associated children\n        return this.contains(node) ? this : undefined;\n    }\n\n    releaseDOMResources() {\n        // Do nothing in base implementation\n    }\n\n    get parent(): CardObject | undefined {\n        return this._parent;\n    }\n\n    get renderedElement(): HTMLElement | undefined {\n        return this._renderedElement;\n    }\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    AdaptiveCard,\n    ActionType,\n    CardElement,\n    Container,\n    SerializationContext,\n    ShowCardAction,\n    ToggleVisibilityAction\n} from \"./card-elements\";\nimport * as Enums from \"./enums\";\nimport {\n    BoolProperty,\n    NumProperty,\n    EnumProperty,\n    property,\n    PropertyBag,\n    SerializableObjectSchema,\n    Versions,\n    PixelSizeProperty\n} from \"./serialization\";\nimport { GlobalRegistry } from \"./registry\";\nimport { TypeErrorType, ValidationEvent } from \"./enums\";\nimport { Strings } from \"./strings\";\nimport {\n    Swiper,\n    A11y,\n    Autoplay,\n    History,\n    Keyboard,\n    Navigation,\n    Pagination,\n    Scrollbar,\n    SwiperOptions\n} from \"swiper\";\nimport * as Utils from \"./utils\";\nimport { GlobalSettings } from \"./shared\";\n\n// Note: to function correctly, consumers need to have CSS from swiper/css, swiper/css/pagination, and\n// swiper/css/navigation\n\nexport class CarouselPage extends Container {\n    //#region Schema\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // `style`, `bleed`, `isVisible` are not supported in CarouselPage\n        schema.remove(Container.styleProperty);\n        schema.remove(Container.bleedProperty);\n        schema.remove(Container.isVisibleProperty);\n    }\n    //#endregion\n\n    protected internalRender(): HTMLElement | undefined {\n        const carouselSlide: HTMLElement = document.createElement(\"div\");\n        carouselSlide.className = this.hostConfig.makeCssClassName(\"swiper-slide\");\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        const renderedElement = super.internalRender();\n        Utils.appendChild(carouselSlide, renderedElement);\n        return carouselSlide;\n    }\n\n    getForbiddenActionTypes(): ActionType[] {\n        return [ShowCardAction, ToggleVisibilityAction];\n    }\n\n    getForbiddenChildElements(): string[] {\n        return this.forbiddenChildElements();\n    }\n\n    protected forbiddenChildElements(): string[] {\n        return [\n            ToggleVisibilityAction.JsonTypeName,\n            ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            \"Carousel\",\n            ...super.forbiddenChildElements()\n        ];\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.setShouldFallback(false);\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    getJsonTypeName(): string {\n        return \"CarouselPage\";\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n\n    get hasVisibleSeparator(): boolean {\n        return false;\n    }\n}\n\nexport class Carousel extends Container {\n    //#region Schema\n    protected populateSchema(schema: SerializableObjectSchema) {\n        super.populateSchema(schema);\n\n        // `style`, `bleed`, `isVisible` are not supported in Carousel\n        schema.remove(Container.styleProperty);\n        schema.remove(Container.bleedProperty);\n        schema.remove(Container.isVisibleProperty);\n    }\n\n    static readonly timerProperty = new NumProperty(Versions.v1_6, \"timer\", undefined);\n    @property(Carousel.timerProperty)\n    get timer(): number | undefined {\n        let timer = this.getValue(Carousel.timerProperty);\n\n        if (timer && timer < this.hostConfig.carousel.minAutoplayDelay) {\n            console.warn(Strings.errors.tooLittleTimeDelay);\n            timer = this.hostConfig.carousel.minAutoplayDelay;\n        }\n\n        return timer;\n    }\n\n    set timer(value: number | undefined) {\n        if (value && value < this.hostConfig.carousel.minAutoplayDelay) {\n            console.warn(Strings.errors.tooLittleTimeDelay);\n            this.setValue(Carousel.timerProperty, this.hostConfig.carousel.minAutoplayDelay);\n        } else {\n            this.setValue(Carousel.timerProperty, value);\n        }\n    }\n\n    static readonly initialPageProperty = new NumProperty(Versions.v1_6, \"initialPage\", 0);\n    @property(Carousel.initialPageProperty)\n    get initialPageIndex(): number {\n        return this.getValue(Carousel.initialPageProperty); \n    }\n\n    set initialPageIndex(value: number) { \n        if (this.isValidParsedPageIndex(value)) { \n            this.setValue(Carousel.initialPageProperty, value);\n        } else { \n            console.warn(Strings.errors.invalidInitialPageIndex(value));\n            this.setValue(Carousel.initialPageProperty, 0); \n        }\n    }\n\n    static readonly loopProperty = new BoolProperty(Versions.v1_6, \"loop\", true);\n    @property(Carousel.loopProperty)\n    carouselLoop: boolean = true;\n    \n    static readonly orientationProperty = new EnumProperty(\n        Versions.v1_6,\n        \"orientation\",\n        Enums.Orientation,\n        Enums.Orientation.Horizontal\n    );\n    @property(Carousel.orientationProperty)\n    carouselOrientation: Enums.Orientation = Enums.Orientation.Horizontal; \n\n    static readonly carouselHeightProperty = new PixelSizeProperty(\n        Versions.v1_6,\n        \"heightInPixels\"\n    );\n    @property(Carousel.carouselHeightProperty)\n    carouselHeight?: number;\n    \n    private isValidParsedPageIndex(index: number) : boolean {\n        return this._pages ? this.isValidPageIndex(index, this._pages.length) : false;\n    }\n\n    private isValidRenderedPageIndex(index: number) : boolean {\n        return this._renderedPages ? this.isValidPageIndex(index, this._renderedPages.length) : false;\n    }\n\n    private isValidPageIndex(index: number, collectionSize: number) {\n        return (collectionSize > 0 && 0 <= index && index < collectionSize);\n    }\n\n    //#endregion\n\n    get previousEventType(): Enums.CarouselInteractionEvent {\n        return this._previousEventType;\n    }\n\n    set previousEventType(eventType: Enums.CarouselInteractionEvent) {\n        this._previousEventType = eventType;\n    }\n\n    private _pages: CarouselPage[] = [];\n    private _renderedPages: CarouselPage[];\n    private _carouselPageContainer: HTMLElement;\n    private _containerForAdorners: HTMLElement;\n    private _currentIndex: number = 0;\n    private _previousEventType: Enums.CarouselInteractionEvent = Enums.CarouselInteractionEvent.Pagination;\n    private _observer: ResizeObserver | null;\n    private _carousel: Swiper | null;\n\n    // Question: Why do we place this on the Carousel instead of the CarouselPage?\n    protected forbiddenChildElements(): string[] {\n        return [\n            ToggleVisibilityAction.JsonTypeName,\n            ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            ...super.forbiddenChildElements()\n        ];\n    }\n\n    protected adjustRenderedElementSize(renderedElement: HTMLElement) {\n        super.adjustRenderedElementSize(renderedElement);\n        if (this.height == \"stretch\" && this._containerForAdorners !== undefined) { \n            this._containerForAdorners.style.height = \"100%\";\n        }\n\n        // Assign the explicit height to carouselPageContainer if given\n        if (this.carouselHeight) {\n            this._carouselPageContainer.style.height = this.carouselHeight + \"px\";\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"Carousel\";\n    }\n\n    getItemCount(): number {\n        return this._pages.length;\n    }\n\n    getItemAt(index: number): CardElement {\n        return this._pages[index];\n    }\n\n    addPage(page: CarouselPage) {\n        this._pages.push(page);\n        page.setParent(this);\n    }\n\n    removeItem(item: CardElement): boolean {\n        if (item instanceof CarouselPage) {\n            const itemIndex = this._pages.indexOf(item);\n\n            if (itemIndex >= 0) {\n                this._pages.splice(itemIndex, 1);\n\n                item.setParent(undefined);\n\n                this.updateLayout();\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    getFirstVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedPages?.length > 0) {\n            return this._renderedPages[0];\n        } else {\n            return undefined;\n        }\n    }\n\n    getLastVisibleRenderedItem(): CardElement | undefined {\n        if (this.renderedElement && this._renderedPages?.length > 0) {\n            return this._renderedPages[this._renderedPages.length - 1];\n        } else {\n            return undefined;\n        }\n    }\n\n    get currentPageId(): string | undefined {\n        if (this._carousel?.slides?.length) {\n            const activeSlide = this._carousel.slides[this._carousel.activeIndex] as HTMLElement;\n            return activeSlide.id;\n        }\n        return undefined;\n    }\n\n    get currentPageIndex(): number | undefined {\n        return this._carousel?.realIndex;\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._pages = [];\n\n        const jsonPages = source[\"pages\"];\n        if (Array.isArray(jsonPages)) {\n            for (const item of jsonPages) {\n                const page = this.createCarouselPageInstance(item, context);\n                if (page) {\n                    this._pages.push(page);\n                }\n            }\n        }\n\n        // everything is parsed do validate on initial page index\n        this.validateParsing(context);\n    }\n\n    private validateParsing(context: SerializationContext) {\n        if (!this.isValidParsedPageIndex(this.initialPageIndex)) {\n            context.logParseEvent(\n                this,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidInitialPageIndex(this.initialPageIndex)\n            );\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, \"pages\", this._pages);\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        this._renderedPages = [];\n\n        if (this._pages.length <= 0) {\n            return undefined;\n        }\n\n        this.validateOrientationProperties();\n\n        const cardLevelContainer: HTMLElement = document.createElement(\"div\");\n        cardLevelContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-card-level-container\");\n\n        const carouselContainer: HTMLElement = document.createElement(\"div\");\n        carouselContainer.className = this.hostConfig.makeCssClassName(\"swiper\", \"ac-carousel\");\n        this._carouselPageContainer = carouselContainer;\n\n        const containerForAdorners: HTMLElement = document.createElement(\"div\");\n        containerForAdorners.className = this.hostConfig.makeCssClassName(\"ac-carousel-container\");\n        this._containerForAdorners = containerForAdorners;\n\n        cardLevelContainer.appendChild(containerForAdorners);\n        \n        const navigationContainer: HTMLElement = document.createElement(\"div\");\n        navigationContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-navigation\");\n        containerForAdorners.appendChild(navigationContainer);\n\n        const carouselWrapper: HTMLElement = document.createElement(\"div\");\n        carouselWrapper.className = this.hostConfig.makeCssClassName(\n            \"swiper-wrapper\",\n            \"ac-carousel-card-container\"\n        );\n        carouselWrapper.style.display = \"flex\";\n\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Top:\n                carouselWrapper.style.alignItems = \"flex-start\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                carouselWrapper.style.alignItems = \"flex-end\";\n                break;\n            default:\n                carouselWrapper.style.alignItems = \"center\";\n                break;\n        }\n\n        if (GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            carouselWrapper.style.minHeight = \"-webkit-min-content\";\n        }\n\n        const prevElementDiv: HTMLElement = document.createElement(\"div\");\n        prevElementDiv.className = this.hostConfig.makeCssClassName(\n            \"swiper-button-prev\"\n        );\n\n        const nextElementDiv: HTMLElement = document.createElement(\"div\");\n        nextElementDiv.className = this.hostConfig.makeCssClassName(\n            \"swiper-button-next\"\n        );\n\n        if (this.carouselOrientation === Enums.Orientation.Horizontal) {\n            this.updateCssForHorizontalCarousel(prevElementDiv, nextElementDiv);\n        } else {\n            this.updateCssForVerticalCarousel(navigationContainer, prevElementDiv, nextElementDiv);\n        }\n\n        const pagination: HTMLElement = document.createElement(\"div\");\n        pagination.className = this.hostConfig.makeCssClassName(\n            \"swiper-pagination\",\n            \"ac-carousel-pagination\"\n        );\n\n        navigationContainer.appendChild(prevElementDiv);\n        Utils.addCancelSelectActionEventHandler(prevElementDiv);\n\n        navigationContainer.appendChild(pagination);\n        Utils.addCancelSelectActionEventHandler(pagination);\n\n        navigationContainer.appendChild(nextElementDiv);\n        Utils.addCancelSelectActionEventHandler(nextElementDiv);\n\n        if (this.isDesignMode()) {\n            // If we are in design mode, we need to ensure these elements are in front of the peers\n            prevElementDiv.style.zIndex = \"20\";\n            nextElementDiv.style.zIndex = \"20\";\n            pagination.style.zIndex = \"20\";\n        }\n\n        const requestedNumberOfPages: number = Math.min(\n            this._pages.length,\n            this.hostConfig.carousel.maxCarouselPages\n        );\n        if (this._pages.length > this.hostConfig.carousel.maxCarouselPages) {\n            console.warn(Strings.errors.tooManyCarouselPages);\n        }\n\n        if (this._pages.length > 0) {\n            for (let i = 0; i < requestedNumberOfPages; i++) {\n                const page = this._pages[i];\n                const renderedItem = this.isElementAllowed(page) ? page.render() : undefined;\n                renderedItem?.classList.add(\"ac-carousel-page\");\n                renderedItem?.children[0]?.classList.add(\"ac-carousel-page-container\");\n\n                if (renderedItem) {\n                    Utils.appendChild(carouselWrapper, renderedItem);\n                    this._renderedPages.push(page);\n                }\n            }\n        }\n\n        carouselContainer.appendChild(carouselWrapper);\n\n        carouselContainer.tabIndex = this.isDesignMode() ? -1 : 0;\n\n        containerForAdorners.appendChild(carouselContainer);\n\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        this.applyRTL(pagination);\n\n        if (!this.isDesignMode()) {\n            if (this.isValidRenderedPageIndex(this.initialPageIndex)) {\n                this._currentIndex = this.initialPageIndex;\n            } else {\n                console.warn(Strings.errors.invalidInitialPageIndex(this.initialPageIndex));\n                this._currentIndex = 0\n            }\n        }\n\n        this.initializeCarouselControl(\n            carouselContainer,\n            nextElementDiv,\n            prevElementDiv,\n            pagination,\n            this.rtl\n        );\n\n        return this._renderedPages.length > 0 ? cardLevelContainer : undefined;\n    }\n\n    applyRTL(pagination: HTMLElement) {\n        super.applyRTL(this._carouselPageContainer);\n        if (this.rtl) {\n            pagination.classList.add(this.hostConfig.makeCssClassName(\n                \"ac-carousel-pagination-rtl\"\n            ));\n        }\n    }\n\n    validateOrientationProperties() {\n        if (!this.carouselHeight) {\n            this.carouselOrientation = Enums.Orientation.Horizontal;\n        }\n    }\n\n    updateCssForHorizontalCarousel(\n        prevElementDiv: HTMLElement,\n        nextElementDiv: HTMLElement\n    ) {\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-left\"\n        ));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-right\"\n        ));\n    }\n\n    updateCssForVerticalCarousel(\n        navigationContainer: HTMLElement,\n        prevElementDiv: HTMLElement,\n        nextElementDiv: HTMLElement\n    ) {\n        this._containerForAdorners.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-container-vertical\"\n        ));\n        navigationContainer.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-navigation-vertical\"\n        ))\n\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-up\"\n        ));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\n            \"ac-carousel-down\"\n        ));\n    }\n\n    private initializeCarouselControl(\n        carouselContainer: HTMLElement,\n        nextElement: HTMLElement,\n        prevElement: HTMLElement,\n        paginationElement: HTMLElement,\n        rtl: boolean | undefined\n    ): void {\n\n        const nextElementAdjustedForRtl = (rtl === undefined || !rtl ? nextElement : prevElement);\n        const prevElementAdjustedForRtl = (rtl === undefined || !rtl ? prevElement : nextElement);\n\n        const prevElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? prevElementAdjustedForRtl : prevElement;\n        const nextElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? nextElementAdjustedForRtl : nextElement;\n\n        const swiperOptions: SwiperOptions = {\n            loop: !this.isDesignMode() && this.carouselLoop,\n            modules: [Navigation, Pagination, Scrollbar, A11y, History, Keyboard],\n            pagination: {\n                el: paginationElement,\n                clickable: true\n            },\n            navigation: {\n                prevEl: prevElementAdjustedForOrientation,\n                nextEl: nextElementAdjustedForOrientation\n            },\n            a11y: {\n                enabled: true\n            },\n            keyboard: {\n                enabled: false,\n                onlyInViewport: true\n            },\n            direction: this.carouselOrientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\",\n            resizeObserver: false,\n            initialSlide: this._currentIndex\n        };\n\n        if (this.timer && !this.isDesignMode()) {\n            swiperOptions.modules?.push(Autoplay);\n            swiperOptions.autoplay = { delay: this.timer, pauseOnMouseEnter: true };\n        }\n\n        const carousel: Swiper = new Swiper(carouselContainer, swiperOptions);\n\n        // While the 'pauseOnMouseEnter' option should resume autoplay on\n        // mouse exit it doesn't do it, so adding custom events to handle it\n\n        carouselContainer.addEventListener(\"mouseenter\", function (_event) {\n            carousel.autoplay?.stop();\n        });\n\n        carouselContainer.addEventListener(\"mouseleave\", function (_event) {\n            carousel.autoplay?.start();\n        });\n\n        carousel.on('navigationNext',  (swiper: Swiper) => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationNext);\n        });\n\n        carousel.on('navigationPrev',  (swiper: Swiper) => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationPrevious);\n        });\n\n        carousel.on('slideChangeTransitionEnd',  (swiper: Swiper) => {\n            this.currentIndex = swiper.realIndex;\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Pagination); \n        });\n\n        carousel.on('autoplay',  () => {\n            this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Autoplay);\n        });\n\n        carousel.on('paginationRender', (swiper, paginationEl) => {\n            swiper.pagination.bullets.forEach((bullet, index) => {\n                bullet.addEventListener(\"keypress\", function(event : KeyboardEvent) {\n                    if (event.key == \"Enter\") {\n                        event.preventDefault();\n                        swiper.slideTo(index + 1);\n                    }\n                });\n            });\n        });\n\n        carousel.on('destroy', () => {\n            this.destroyResizeObserver();\n        });\n\n        prevElement.title = prevElement.ariaLabel ?? Strings.defaults.carouselNavigationPreviousTooltip();\n\n        nextElement.title = nextElement.ariaLabel ?? Strings.defaults.carouselNavigationNextTooltip();\n\n        this._carousel = carousel;\n\n        this.createResizeObserver();\n    }\n\n    private createCarouselPageInstance(\n        source: any,\n        context: SerializationContext\n    ): CarouselPage | undefined {\n        return context.parseCardObject<CarouselPage>(\n            this,\n            source,\n            this.forbiddenChildElements(),\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return !typeName || typeName === \"CarouselPage\" ? new CarouselPage() : undefined;\n            },\n            (typeName: string, _errorType: TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    slideTo(index: number) {\n        this._carousel?.slideTo(index);\n    }\n\n    get carouselPageContainer() {\n        return this._carouselPageContainer;\n    }\n\n    get currentIndex(): number {\n        return this._currentIndex;\n    }\n\n    set currentIndex(currentIndex: number) {\n        this._currentIndex = currentIndex;\n    }\n\n    private createCarouselEvent (type : Enums.CarouselInteractionEvent): CarouselEvent\n    {\n        let currentPageId : string | undefined;\n        if (this.currentPageIndex != undefined) {\n            currentPageId = this.getItemAt(this.currentPageIndex).id;\n        }\n        return new CarouselEvent(type, this.id, currentPageId, this.currentPageIndex);   \n    }\n\n    private raiseCarouselEvent(eventType : Enums.CarouselInteractionEvent) {\n        const card = this.parent ? (this.parent.getRootElement() as AdaptiveCard) : undefined;\n        const onCarouselEventHandler = \n            card && card.onCarouselEvent\n                ? card.onCarouselEvent\n                : AdaptiveCard.onCarouselEvent;\n        // pagination event is triggered on slide transition end event \n        if (onCarouselEventHandler && eventType == Enums.CarouselInteractionEvent.Pagination) {\n        // returns the event type that causes slide transition\n            onCarouselEventHandler(this.createCarouselEvent(this.previousEventType));\n        }\n        this.previousEventType = eventType;\n    }\n\n    /// Swiper version 8 added requestAnimationFrame() call in its resize observer code\n    /// The new call causes flickering issue,\n    /// We've copied resize observer code from Swiper version 7 with some modifications\n    private createResizeObserver() : void {\n\n        if (!this.checkIfCarouselInValidStateForResizeEvent()) {\n            return;\n        }\n\n        this._observer = new ResizeObserver((entries) => {\n            const width = this._carousel?.width;\n            const height = this._carousel?.height;\n            let newWidth = width;\n            let newHeight = height;\n            entries.forEach(({ contentBoxSize, contentRect, target }) => {\n            if (target && target !== this._carousel?.el) {\n                return;\n            }\n\n            newWidth = contentRect\n                ? contentRect.width\n                : (contentBoxSize[0] || contentBoxSize).inlineSize;\n\n            newHeight = contentRect\n                ? contentRect.height\n                : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n                if (this.checkIfCarouselInValidStateForResizeEvent()) {\n                    this._carousel?.emit('beforeResize');\n                    this._carousel?.emit('resize');\n                }\n            }\n\n        });\n\n        this._observer.observe(this._carousel?.el!);\n    }\n\n    private destroyResizeObserver(): void {\n        if (this._observer && this._observer.unobserve && this._carousel?.el) {\n            this._observer.unobserve(this._carousel.el);\n            this._observer = null;\n        }\n    };\n\n    private checkIfCarouselInValidStateForResizeEvent()\n    {\n        return this._carousel && !this._carousel.destroyed;\n    }\n}\n\nexport class CarouselEvent {\n    constructor(public type : Enums.CarouselInteractionEvent,\n        public carouselId : string | undefined,\n        public activeCarouselPageId : string | undefined,\n        public activeCarouselPageIndex : number | undefined) {}\n}\n\nGlobalRegistry.defaultElements.register(\n    \"Carousel\",\n    Carousel,\n    Versions.v1_6\n);\n\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { ActivityResponse, IActivityRequest } from \"./activity-request\";\n\nexport abstract class ChannelAdapter {\n    abstract sendRequestAsync(request: IActivityRequest): Promise<ActivityResponse>;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport class Collection<TItem> {\n    private _items: Array<TItem> = [];\n\n    onItemAdded: (item: TItem) => void;\n    onItemRemoved: (item: TItem) => void;\n\n    get(index: number): TItem {\n        return this._items[index];\n    }\n\n    add(item: TItem) {\n        this._items.push(item);\n\n        if (this.onItemAdded) {\n            this.onItemAdded(item);\n        }\n    }\n\n    remove(item: TItem) {\n        const i = this._items.indexOf(item);\n\n        if (i >= 0) {\n            this._items = this._items.splice(i, 1);\n\n            if (this.onItemRemoved) {\n                this.onItemRemoved(item);\n            }\n        }\n    }\n\n    indexOf(item: TItem): number {\n        return this._items.indexOf(item);\n    }\n\n    get length(): number {\n        return this._items.length;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Constants {\n    static readonly keys = {\n        tab: \"Tab\",\n        enter: \"Enter\",\n        escape: \"Escape\",\n        space: \" \",\n        up: \"ArrowUp\",\n        down: \"ArrowDown\",\n        delete: \"Delete\"\n    } as const;\n}\n","// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nexport * from \"./menu-item\";\nexport * from \"./popup-menu\";\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\nimport { Constants } from \"./constants\";\n\nexport class MenuItem {\n    private _hostConfig?: HostConfig;\n    private _element: HTMLElement;\n    private _value: string;\n    private _isEnabled: boolean = true;\n\n    private click() {\n        if (this.isEnabled && this.onClick) {\n            this.onClick(this);\n        }\n    }\n\n    private updateCssClasses() {\n        if (this._element) {\n            const effectiveHostConfig = this._hostConfig ? this._hostConfig : defaultHostConfig;\n\n            this._element.className = effectiveHostConfig.makeCssClassName(\"ac-ctrl\");\n            this._element.classList.add(\n                effectiveHostConfig.makeCssClassName(\n                    this.isEnabled ? \"ac-ctrl-dropdown-item\" : \"ac-ctrl-dropdown-item-disabled\"\n                )\n            );\n\n            if (!this.isEnabled) {\n                this._element.classList.add(effectiveHostConfig.makeCssClassName(\"ac-disabled\"));\n            }\n        }\n    }\n\n    readonly key: string;\n\n    onClick?: (item: MenuItem) => void;\n\n    constructor(key: string, value: string) {\n        this.key = key;\n        this._value = value;\n    }\n\n    toString(): string {\n        return this.value;\n    }\n\n    render(hostConfig?: HostConfig): HTMLElement {\n        this._hostConfig = hostConfig;\n\n        if (!this._element) {\n            this._element = document.createElement(\"span\");\n            this._element.innerText = this.value;\n            this._element.setAttribute(\"role\", \"menuitem\");\n\n            if (!this.isEnabled) {\n                this._element.setAttribute(\"aria-disabled\", \"true\");\n            }\n\n            this._element.setAttribute(\"aria-current\", \"false\");\n            this._element.onmouseup = (_e) => {\n                this.click();\n            };\n            this._element.onkeydown = (e) => {\n                if (e.key === Constants.keys.enter) {\n                    e.cancelBubble = true;\n\n                    this.click();\n                }\n            };\n\n            this.updateCssClasses();\n        }\n\n        return this._element;\n    }\n\n    get value(): string {\n        return this._value;\n    }\n\n    set value(newValue: string) {\n        this._value = newValue;\n\n        if (this._element) {\n            this._element.innerText = newValue;\n        }\n    }\n\n    get isEnabled(): boolean {\n        return this._isEnabled;\n    }\n\n    set isEnabled(value: boolean) {\n        if (this._isEnabled !== value) {\n            this._isEnabled = value;\n\n            this.updateCssClasses();\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport * as Utils from \"../utils\";\nimport { defaultHostConfig, HostConfig } from \"../host-config\";\n\nexport abstract class PopupControl {\n    private _isOpen: boolean = false;\n    private _overlayElement: HTMLElement;\n    private _popupElement: HTMLElement;\n    private _hostConfig?: HostConfig;\n\n    protected abstract renderContent(): HTMLElement;\n\n    onClose: (popupControl: PopupControl, wasCancelled: boolean) => void;\n\n    keyDown(e: KeyboardEvent) {\n        switch (e.key) {\n            case Constants.keys.escape:\n                this.closePopup(true);\n\n                break;\n        }\n    }\n\n    render(_rootElementBounds: ClientRect): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = (e) => {\n            this.keyDown(e);\n\n            return !e.cancelBubble;\n        };\n\n        element.appendChild(this.renderContent());\n\n        return element;\n    }\n\n    focus() {\n        if (this._popupElement) {\n            (<HTMLElement>this._popupElement.firstElementChild).focus();\n        }\n    }\n\n    popup(rootElement: HTMLElement) {\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = (_e) => {\n                this.closePopup(true);\n            };\n\n            document.body.appendChild(this._overlayElement);\n\n            const rootElementBounds = rootElement.getBoundingClientRect();\n\n            this._popupElement = this.render(rootElementBounds);\n            this._popupElement.classList.remove(\n                ...this.hostConfig.makeCssClassNames(\n                    \"ac-ctrl-slide\",\n                    \"ac-ctrl-slideLeftToRight\",\n                    \"ac-ctrl-slideRightToLeft\",\n                    \"ac-ctrl-slideTopToBottom\",\n                    \"ac-ctrl-slideRightToLeft\"\n                )\n            );\n\n            window.addEventListener(\"resize\", (_e) => {\n                this.closePopup(true);\n            });\n\n            const rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n\n            this._overlayElement.appendChild(this._popupElement);\n\n            const popupElementBounds = this._popupElement.getBoundingClientRect();\n\n            const availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            const availableSpaceAbove = rootElementBounds.top;\n            const availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            const availableSpaceLeft = rootElementBounds.left;\n\n            let left = rootElementBounds.left + Utils.getScrollX();\n            let top;\n\n            if (\n                availableSpaceAbove < popupElementBounds.height &&\n                availableSpaceBelow < popupElementBounds.height\n            ) {\n                // Not enough space above or below root element\n                const actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top = Utils.getScrollY();\n                } else {\n                    top =\n                        Utils.getScrollY() +\n                        rootElementBounds.top +\n                        (rootElementBounds.height - actualPopupHeight) / 2;\n                }\n\n                if (\n                    availableSpaceLeft < popupElementBounds.width &&\n                    availableSpaceRight < popupElementBounds.width\n                ) {\n                    // Not enough space left or right of root element\n                    const actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    } else {\n                        left =\n                            Utils.getScrollX() +\n                            rootElementBounds.left +\n                            (rootElementBounds.width - actualPopupWidth) / 2;\n                    }\n                } else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideLeftToRight\"\n                            )\n                        );\n                    } else {\n                        left =\n                            Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n\n                        this._popupElement.classList.add(\n                            ...this.hostConfig.makeCssClassNames(\n                                \"ac-ctrl-slide\",\n                                \"ac-ctrl-slideRightToLeft\"\n                            )\n                        );\n                    }\n                }\n            } else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top = Utils.getScrollY() + rootElementBounds.bottom;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideTopToBottom\"\n                        )\n                    );\n                } else {\n                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n\n                    this._popupElement.classList.add(\n                        ...this.hostConfig.makeCssClassNames(\n                            \"ac-ctrl-slide\",\n                            \"ac-ctrl-slideBottomToTop\"\n                        )\n                    );\n                }\n\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top + \"px\";\n\n            this._popupElement.focus();\n\n            this._isOpen = true;\n        }\n    }\n\n    closePopup(wasCancelled: boolean) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n\n            this._isOpen = false;\n\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    }\n\n    get hostConfig(): HostConfig {\n        return this._hostConfig ? this._hostConfig : defaultHostConfig;\n    }\n\n    set hostConfig(value: HostConfig) {\n        this._hostConfig = value;\n    }\n\n    get isOpen(): boolean {\n        return this._isOpen;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { Constants } from \"./constants\";\nimport { Collection } from \"./collection\";\nimport { PopupControl } from \"./popup-control\";\nimport { MenuItem } from \"./menu-item\";\n\nexport class PopupMenu extends PopupControl {\n    private _items: Collection<MenuItem> = new Collection<MenuItem>();\n    private _renderedItems: Array<HTMLElement> = [];\n    private _selectedIndex: number = -1;\n\n    protected renderContent(): HTMLElement {\n        const element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl ac-popup\");\n        element.setAttribute(\"role\", \"listbox\");\n\n        for (let i = 0; i < this._items.length; i++) {\n            const renderedItem = this._items.get(i).render(this.hostConfig);\n            renderedItem.tabIndex = 0;\n\n            element.appendChild(renderedItem);\n\n            if (i === this.selectedIndex) {\n                renderedItem.focus();\n            }\n\n            this._renderedItems.push(renderedItem);\n        }\n\n        return element;\n    }\n\n    keyDown(e: KeyboardEvent) {\n        super.keyDown(e);\n\n        let selectedItemIndex = this._selectedIndex;\n\n        switch (e.key) {\n            case Constants.keys.tab:\n                this.closePopup(true);\n\n                break;\n            /*\n            case Constants.keys.enter:\n                if (this.selectedIndex >= 0) {\n                    this.selectedIndex = this.selectedIndex;\n\n                    this.close();\n                }\n\n                break;\n            */\n            case Constants.keys.up:\n                if (selectedItemIndex <= 0) {\n                    selectedItemIndex = this._renderedItems.length - 1;\n                } else {\n                    selectedItemIndex--;\n\n                    if (selectedItemIndex < 0) {\n                        selectedItemIndex = this._renderedItems.length - 1;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n            case Constants.keys.down:\n                if (selectedItemIndex < 0) {\n                    selectedItemIndex = 0;\n                } else {\n                    selectedItemIndex++;\n\n                    if (selectedItemIndex >= this._renderedItems.length) {\n                        selectedItemIndex = 0;\n                    }\n                }\n\n                this.selectedIndex = selectedItemIndex;\n\n                e.cancelBubble = true;\n\n                break;\n        }\n    }\n\n    get items(): Collection<MenuItem> {\n        return this._items;\n    }\n\n    get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    set selectedIndex(index: number) {\n        if (index >= 0 && index < this._renderedItems.length) {\n            this._renderedItems[index].focus();\n\n            this._selectedIndex = index;\n        }\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n/*\n    This should really be a string enum, e.g.\n\n        export enum ContainerStyle {\n            Default = \"default\",\n            Emphasis = \"emphasis\"\n        }\n\n    However, some hosts do not use a version of TypeScript\n    recent enough to understand string enums. This is\n    a compatible construct that does not require using\n    a more recent version of TypeScript.\n\n    Also note the \"weird\" way these readonly fields are declared is to work around\n    a breaking change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    and adopt this syntax for all other static readonly fields.\n*/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\nexport class ContainerStyle {\n    static readonly Default: \"default\" = \"default\";\n    static readonly Emphasis: \"emphasis\" = \"emphasis\";\n    static readonly Accent: \"accent\" = \"accent\";\n    static readonly Good: \"good\" = \"good\";\n    static readonly Attention: \"attention\" = \"attention\";\n    static readonly Warning: \"warning\" = \"warning\";\n}\n\nexport class ActionStyle {\n    static readonly Default: \"default\" = \"default\";\n    static readonly Positive: \"positive\" = \"positive\";\n    static readonly Destructive: \"destructive\" = \"destructive\";\n}\n\nexport class ActionMode {\n    static readonly Primary: \"primary\" = \"primary\";\n    static readonly Secondary: \"secondary\" = \"secondary\";\n}\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\n\nexport enum Size {\n    Auto,\n    Stretch,\n    Small,\n    Medium,\n    Large\n}\n\nexport enum ImageSize {\n    Small,\n    Medium,\n    Large\n}\n\nexport enum ImageSetPresentationStyle {\n    Default,\n    Stacked\n}\n\nexport enum SizeUnit {\n    Weight,\n    Pixel\n}\n\nexport enum TextSize {\n    Small,\n    Default,\n    Medium,\n    Large,\n    ExtraLarge\n}\n\nexport enum InputStyle {\n    RevealOnHover,\n    Default\n}\n\nexport enum TextWeight {\n    Lighter,\n    Default,\n    Bolder\n}\n\nexport enum FontType {\n    Default,\n    Monospace\n}\n\nexport enum Spacing {\n    None,\n    Small,\n    Default,\n    Medium,\n    Large,\n    ExtraLarge,\n    Padding\n}\n\nexport enum TextColor {\n    Default,\n    Dark,\n    Light,\n    Accent,\n    Good,\n    Warning,\n    Attention\n}\n\nexport enum HorizontalAlignment {\n    Left,\n    Center,\n    Right\n}\n\nexport enum VerticalAlignment {\n    Top,\n    Center,\n    Bottom\n}\n\nexport enum ActionAlignment {\n    Left,\n    Center,\n    Right,\n    Stretch\n}\n\nexport enum ImageStyle {\n    Default,\n    Person\n}\n\nexport enum ShowCardActionMode {\n    Inline,\n    Popup\n}\n\nexport enum Orientation {\n    Horizontal,\n    Vertical\n}\n\nexport enum FillMode {\n    Cover,\n    RepeatHorizontally,\n    RepeatVertically,\n    Repeat\n}\n\nexport enum ActionIconPlacement {\n    LeftOfTitle,\n    AboveTitle\n}\n\nexport enum InputTextStyle {\n    Text,\n    Tel,\n    Url,\n    Email,\n    Password\n}\n\nexport enum InputLabelPosition {\n    Inline,\n    Above\n}\n\nexport enum ValidationPhase {\n    Parse,\n    ToJSON,\n    Validation\n}\n\nexport enum ValidationEvent {\n    Hint,\n    ActionTypeNotAllowed,\n    CollectionCantBeEmpty,\n    Deprecated,\n    ElementTypeNotAllowed,\n    InteractivityNotAllowed,\n    InvalidPropertyValue,\n    MissingCardType,\n    PropertyCantBeNull,\n    TooManyActions,\n    UnknownActionType,\n    UnknownElementType,\n    UnsupportedCardVersion,\n    DuplicateId,\n    UnsupportedProperty,\n    RequiredInputsShouldHaveLabel,\n    RequiredInputsShouldHaveErrorMessage,\n    Other\n}\n\nexport enum ContainerFitStatus {\n    FullyInContainer,\n    Overflowing,\n    FullyOutOfContainer\n}\n\nexport enum TypeErrorType {\n    UnknownType,\n    ForbiddenType\n}\n\nexport enum RefreshMode {\n    Disabled,\n    Manual,\n    Automatic\n}\n\nexport enum LogLevel {\n    Info,\n    Warning,\n    Error\n}\n\nexport enum CarouselInteractionEvent {\n    NavigationNext,\n    NavigationPrevious,\n    Pagination,\n    Autoplay\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    TargetVersion,\n    Version,\n    SerializableObject,\n    BaseSerializationContext,\n    PropertyBag\n} from \"./serialization\";\n\nexport class HostCapabilities extends SerializableObject {\n    private _capabilities: { [key: string]: TargetVersion } = {};\n\n    protected getSchemaKey(): string {\n        return \"HostCapabilities\";\n    }\n\n    protected internalParse(source: any, context: BaseSerializationContext) {\n        super.internalParse(source, context);\n\n        if (source) {\n            // eslint-disable-next-line guard-for-in\n            for (const name in source) {\n                const jsonVersion = source[name];\n\n                if (typeof jsonVersion === \"string\") {\n                    if (jsonVersion === \"*\") {\n                        this.addCapability(name, \"*\");\n                    } else {\n                        const version = Version.parse(jsonVersion, context);\n\n                        if (version?.isValid) {\n                            this.addCapability(name, version);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        super.internalToJSON(target, context);\n\n        // eslint-disable-next-line guard-for-in\n        for (const key in this._capabilities) {\n            target[key] = this._capabilities[key];\n        }\n    }\n\n    addCapability(name: string, version: TargetVersion) {\n        this._capabilities[name] = version;\n    }\n\n    removeCapability(name: string) {\n        delete this._capabilities[name];\n    }\n\n    clear() {\n        this._capabilities = {};\n    }\n\n    hasCapability(name: string, version: TargetVersion): boolean {\n        if (this._capabilities.hasOwnProperty(name)) {\n            if (version === \"*\" || this._capabilities[name] === \"*\") {\n                return true;\n            }\n\n            return version.compareTo(<Version>this._capabilities[name]) <= 0;\n        }\n\n        return false;\n    }\n\n    areAllMet(hostCapabilities: HostCapabilities): boolean {\n        for (const capabilityName in this._capabilities) {\n            if (\n                !hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])\n            ) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Utils from \"./utils\";\nimport * as Shared from \"./shared\";\nimport { HostCapabilities } from \"./host-capabilities\";\n\nfunction parseHostConfigEnum(\n    targetEnum: { [s: number]: string },\n    value: string | number,\n    defaultValue: number\n): number {\n    if (typeof value === \"string\") {\n        const parsedValue = Utils.parseEnum(targetEnum, value, defaultValue);\n\n        return parsedValue !== undefined ? parsedValue : defaultValue;\n    } else if (typeof value === \"number\") {\n        return value;\n    } else {\n        return defaultValue;\n    }\n}\n\nexport class ColorDefinition {\n    default: string = \"#000000\";\n    subtle: string = \"#666666\";\n\n    constructor(defaultColor?: string, subtleColor?: string) {\n        if (defaultColor) {\n            this.default = defaultColor;\n        }\n\n        if (subtleColor) {\n            this.subtle = subtleColor;\n        }\n    }\n\n    parse(obj?: any) {\n        if (obj) {\n            this.default = obj[\"default\"] || this.default;\n            this.subtle = obj[\"subtle\"] || this.subtle;\n        }\n    }\n}\n\nexport class TextColorDefinition extends ColorDefinition {\n    readonly highlightColors = new ColorDefinition(\"#22000000\", \"#11000000\");\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.highlightColors.parse(obj[\"highlightColors\"]);\n        }\n    }\n}\n\nexport class AdaptiveCardConfig {\n    allowCustomStyle: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.allowCustomStyle = obj[\"allowCustomStyle\"] || this.allowCustomStyle;\n        }\n    }\n}\n\nexport class ImageSetConfig {\n    imageSize: Enums.Size = Enums.Size.Medium;\n    maxImageHeight: number = 100;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.imageSize = obj[\"imageSize\"] != null ? obj[\"imageSize\"] : this.imageSize;\n            this.maxImageHeight = Utils.parseNumber(obj[\"maxImageHeight\"], 100)!;\n        }\n    }\n\n    toJSON() {\n        return {\n            imageSize: Enums.Size[this.imageSize],\n            maxImageHeight: this.maxImageHeight\n        };\n    }\n}\n\nexport class MediaConfig {\n    defaultPoster?: string;\n    allowInlinePlayback: boolean = true;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.defaultPoster = obj[\"defaultPoster\"];\n            this.allowInlinePlayback = obj[\"allowInlinePlayback\"] || this.allowInlinePlayback;\n        }\n    }\n\n    toJSON() {\n        return {\n            defaultPoster: this.defaultPoster,\n            allowInlinePlayback: this.allowInlinePlayback\n        };\n    }\n}\n\nexport class TableConfig {\n    cellSpacing: number = 8;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.cellSpacing =\n                obj.cellSpacing && typeof obj.cellSpacing === \"number\"\n                    ? obj.cellSpacing\n                    : this.cellSpacing;\n        }\n    }\n\n    toJSON() {\n        return {\n            cellSpacing: this.cellSpacing\n        };\n    }\n}\n\nexport class BaseTextDefinition {\n    size: Enums.TextSize = Enums.TextSize.Default;\n    color: Enums.TextColor = Enums.TextColor.Default;\n    isSubtle: boolean = false;\n    weight: Enums.TextWeight = Enums.TextWeight.Default;\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    parse(obj: any) {\n        if (obj) {\n            this.size = parseHostConfigEnum(Enums.TextSize, obj[\"size\"], this.size);\n            this.color = parseHostConfigEnum(Enums.TextColor, obj[\"color\"], this.color);\n            this.isSubtle =\n                obj.isSubtle !== undefined && typeof obj.isSubtle === \"boolean\"\n                    ? obj.isSubtle\n                    : this.isSubtle;\n            this.weight = parseHostConfigEnum(\n                Enums.TextWeight,\n                obj[\"weight\"],\n                this.getDefaultWeight()\n            );\n        }\n    }\n\n    getDefaultWeight(): Enums.TextWeight {\n        return Enums.TextWeight.Default;\n    }\n\n    toJSON(): any {\n        return {\n            size: Enums.TextSize[this.size],\n            color: Enums.TextColor[this.color],\n            isSubtle: this.isSubtle,\n            weight: Enums.TextWeight[this.weight]\n        };\n    }\n}\n\nexport class TextStyleDefinition extends BaseTextDefinition {\n    fontType: Enums.FontType = Enums.FontType.Default;\n\n    parse(obj: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.fontType = parseHostConfigEnum(Enums.FontType, obj.fontType, this.fontType);\n        }\n    }\n}\n\nexport class TextStyleSet {\n    readonly default: TextStyleDefinition = new TextStyleDefinition();\n    readonly heading: TextStyleDefinition = new TextStyleDefinition({\n        size: \"Large\",\n        weight: \"Bolder\"\n    });\n    readonly columnHeader: TextStyleDefinition = new TextStyleDefinition({\n        weight: \"Bolder\"\n    });\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.heading.parse(obj.heading);\n            this.columnHeader.parse(obj.columnHeader);\n        }\n    }\n\n    getStyleByName(name: string): TextStyleDefinition {\n        switch (name.toLowerCase()) {\n            case \"heading\":\n                return this.heading;\n            case \"columnHeader\":\n                return this.columnHeader;\n            default:\n                return this.default;\n        }\n    }\n}\n\nexport class TextBlockConfig {\n    headingLevel?: number;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.headingLevel = Utils.parseNumber(obj.headingLevel);\n        }\n    }\n}\n\nexport class RequiredInputLabelTextDefinition extends BaseTextDefinition {\n    suffix?: string = \" *\";\n    suffixColor: Enums.TextColor = Enums.TextColor.Attention;\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.suffix = obj[\"suffix\"] || this.suffix;\n            this.suffixColor = parseHostConfigEnum(\n                Enums.TextColor,\n                obj[\"suffixColor\"],\n                this.suffixColor\n            );\n        }\n    }\n\n    toJSON(): any {\n        const result = super.toJSON();\n        result[\"suffix\"] = this.suffix;\n        result[\"suffixColor\"] = Enums.TextColor[this.suffixColor];\n\n        return result;\n    }\n}\n\nexport class InputLabelConfig {\n    inputSpacing: Enums.Spacing = Enums.Spacing.Small;\n    width: number = 30;\n    readonly requiredInputs: RequiredInputLabelTextDefinition =\n        new RequiredInputLabelTextDefinition();\n    readonly optionalInputs: BaseTextDefinition = new BaseTextDefinition();\n    \n    constructor(obj?: any) {\n        if (obj) {\n            this.inputSpacing = parseHostConfigEnum(\n                Enums.Spacing,\n                obj[\"inputSpacing\"],\n                this.inputSpacing\n            );\n            this.requiredInputs = new RequiredInputLabelTextDefinition(obj[\"requiredInputs\"]);\n            this.optionalInputs = new BaseTextDefinition(obj[\"optionalInputs\"]);\n            this.width =\n                obj[\"width\"] != null ? obj[\"width\"] : this.width;\n        }\n    }\n}\n\nexport class InputConfig {\n    readonly label: InputLabelConfig = new InputLabelConfig();\n    readonly errorMessage: BaseTextDefinition = new BaseTextDefinition({\n        color: Enums.TextColor.Attention\n    });\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.label = new InputLabelConfig(obj[\"label\"]);\n            this.errorMessage = new BaseTextDefinition(obj[\"errorMessage\"]);\n        }\n    }\n}\n\nexport class FactTextDefinition extends BaseTextDefinition {\n    wrap: boolean = true;\n\n    parse(obj?: any) {\n        super.parse(obj);\n\n        if (obj) {\n            this.wrap = obj[\"wrap\"] != null ? obj[\"wrap\"] : this.wrap;\n        }\n    }\n\n    toJSON(): any {\n        const result = super.toJSON();\n        result[\"wrap\"] = this.wrap;\n\n        return result;\n    }\n}\n\nexport class FactTitleDefinition extends FactTextDefinition {\n    maxWidth?: number = 150;\n    weight: Enums.TextWeight = Enums.TextWeight.Bolder;\n\n    constructor(obj?: any) {\n        super(obj);\n\n        if (obj) {\n            this.maxWidth = obj[\"maxWidth\"] != null ? obj[\"maxWidth\"] : this.maxWidth;\n            this.weight = parseHostConfigEnum(\n                Enums.TextWeight,\n                obj[\"weight\"],\n                Enums.TextWeight.Bolder\n            );\n        }\n    }\n\n    getDefaultWeight() {\n        return Enums.TextWeight.Bolder;\n    }\n}\n\nexport class FactSetConfig {\n    readonly title: FactTitleDefinition = new FactTitleDefinition();\n    readonly value: FactTextDefinition = new FactTextDefinition();\n    spacing: number = 10;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.title = new FactTitleDefinition(obj[\"title\"]);\n            this.value = new FactTextDefinition(obj[\"value\"]);\n            this.spacing =\n                obj.spacing && obj.spacing != null ? obj.spacing && obj.spacing : this.spacing;\n        }\n    }\n}\n\nexport class ShowCardActionConfig {\n    actionMode: Enums.ShowCardActionMode = Enums.ShowCardActionMode.Inline;\n    inlineTopMargin: number = 16;\n    style?: string = Enums.ContainerStyle.Emphasis;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.actionMode = parseHostConfigEnum(\n                Enums.ShowCardActionMode,\n                obj[\"actionMode\"],\n                Enums.ShowCardActionMode.Inline\n            );\n            this.inlineTopMargin =\n                obj[\"inlineTopMargin\"] != null ? obj[\"inlineTopMargin\"] : this.inlineTopMargin;\n            this.style =\n                obj[\"style\"] && typeof obj[\"style\"] === \"string\"\n                    ? obj[\"style\"]\n                    : Enums.ContainerStyle.Emphasis;\n        }\n    }\n\n    toJSON() {\n        return {\n            actionMode: Enums.ShowCardActionMode[this.actionMode],\n            inlineTopMargin: this.inlineTopMargin,\n            style: this.style\n        };\n    }\n}\n\nexport class ActionsConfig {\n    maxActions: number = 5;\n    spacing: Enums.Spacing = Enums.Spacing.Default;\n    buttonSpacing: number = 20;\n    readonly showCard: ShowCardActionConfig = new ShowCardActionConfig();\n    preExpandSingleShowCardAction?: boolean = false;\n    actionsOrientation: Enums.Orientation = Enums.Orientation.Horizontal;\n    actionAlignment: Enums.ActionAlignment = Enums.ActionAlignment.Left;\n    iconPlacement: Enums.ActionIconPlacement = Enums.ActionIconPlacement.LeftOfTitle;\n    allowTitleToWrap: boolean = false;\n    iconSize: number = 16;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.maxActions = obj[\"maxActions\"] != null ? obj[\"maxActions\"] : this.maxActions;\n            this.spacing = parseHostConfigEnum(\n                Enums.Spacing,\n                obj.spacing && obj.spacing,\n                Enums.Spacing.Default\n            );\n            this.buttonSpacing =\n                obj[\"buttonSpacing\"] != null ? obj[\"buttonSpacing\"] : this.buttonSpacing;\n            this.showCard = new ShowCardActionConfig(obj[\"showCard\"]);\n            this.preExpandSingleShowCardAction = Utils.parseBool(\n                obj[\"preExpandSingleShowCardAction\"],\n                false\n            );\n            this.actionsOrientation = parseHostConfigEnum(\n                Enums.Orientation,\n                obj[\"actionsOrientation\"],\n                Enums.Orientation.Horizontal\n            );\n            this.actionAlignment = parseHostConfigEnum(\n                Enums.ActionAlignment,\n                obj[\"actionAlignment\"],\n                Enums.ActionAlignment.Left\n            );\n            this.iconPlacement = parseHostConfigEnum(\n                Enums.ActionIconPlacement,\n                obj[\"iconPlacement\"],\n                Enums.ActionIconPlacement.LeftOfTitle\n            );\n            this.allowTitleToWrap =\n                obj[\"allowTitleToWrap\"] != null ? obj[\"allowTitleToWrap\"] : this.allowTitleToWrap;\n\n            try {\n                const sizeAndUnit = Shared.SizeAndUnit.parse(obj[\"iconSize\"]);\n\n                if (sizeAndUnit.unit === Enums.SizeUnit.Pixel) {\n                    this.iconSize = sizeAndUnit.physicalSize;\n                }\n            } catch (e) {\n                // Swallow this, keep default icon size\n            }\n        }\n    }\n\n    toJSON() {\n        return {\n            maxActions: this.maxActions,\n            spacing: Enums.Spacing[this.spacing],\n            buttonSpacing: this.buttonSpacing,\n            showCard: this.showCard,\n            preExpandSingleShowCardAction: this.preExpandSingleShowCardAction,\n            actionsOrientation: Enums.Orientation[this.actionsOrientation],\n            actionAlignment: Enums.ActionAlignment[this.actionAlignment]\n        };\n    }\n}\n\nexport class ColorSetDefinition {\n    private parseSingleColor(obj: any, propertyName: string) {\n        if (obj) {\n            ((<any>this)[propertyName] as TextColorDefinition).parse(obj[propertyName]);\n        }\n    }\n\n    default: TextColorDefinition = new TextColorDefinition();\n    dark: TextColorDefinition = new TextColorDefinition();\n    light: TextColorDefinition = new TextColorDefinition();\n    accent: TextColorDefinition = new TextColorDefinition();\n    good: TextColorDefinition = new TextColorDefinition();\n    warning: TextColorDefinition = new TextColorDefinition();\n    attention: TextColorDefinition = new TextColorDefinition();\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    parse(obj: any) {\n        if (obj) {\n            this.parseSingleColor(obj, \"default\");\n            this.parseSingleColor(obj, \"dark\");\n            this.parseSingleColor(obj, \"light\");\n            this.parseSingleColor(obj, \"accent\");\n            this.parseSingleColor(obj, \"good\");\n            this.parseSingleColor(obj, \"warning\");\n            this.parseSingleColor(obj, \"attention\");\n        }\n    }\n}\n\nexport class ContainerStyleDefinition {\n    backgroundColor?: string;\n\n    readonly foregroundColors: ColorSetDefinition = new ColorSetDefinition({\n        \"default\": { default: \"#333333\", subtle: \"#EE333333\" },\n        \"dark\": { default: \"#000000\", subtle: \"#66000000\" },\n        \"light\": { default: \"#FFFFFF\", subtle: \"#33000000\" },\n        \"accent\": { default: \"#2E89FC\", subtle: \"#882E89FC\" },\n        \"good\": { default: \"#028A02\", subtle: \"#DD027502\" },\n        \"warning\": { default: \"#E69500\", subtle: \"#DDE69500\" },\n        \"attention\": { default: \"#CC3300\", subtle: \"#DDCC3300\" }\n    });\n\n    highlightBackgroundColor?: string;\n    highlightForegroundColor?: string;\n    borderColor?: string;\n\n    parse(obj: any) {\n        if (obj) {\n            this.backgroundColor = obj[\"backgroundColor\"];\n\n            this.foregroundColors.parse(obj[\"foregroundColors\"]);\n\n            this.highlightBackgroundColor = obj[\"highlightBackgroundColor\"];\n            this.highlightForegroundColor = obj[\"highlightForegroundColor\"];\n\n            this.borderColor = obj[\"borderColor\"];\n        }\n    }\n\n    constructor(obj?: any) {\n        this.parse(obj);\n    }\n\n    get isBuiltIn(): boolean {\n        return false;\n    }\n}\n\nclass BuiltInContainerStyleDefinition extends ContainerStyleDefinition {\n    get isBuiltIn(): boolean {\n        return true;\n    }\n}\n\nexport interface ILineHeightDefinitions {\n    small: number;\n    medium: number;\n    default: number;\n    large: number;\n    extraLarge: number;\n}\n\nexport class ContainerStyleSet {\n    private _allStyles: { [key: string]: ContainerStyleDefinition } = {};\n\n    constructor(obj?: any) {\n        this._allStyles[Enums.ContainerStyle.Default] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Emphasis] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Accent] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Good] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Attention] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Warning] = new BuiltInContainerStyleDefinition();\n\n        if (obj) {\n            this._allStyles[Enums.ContainerStyle.Default].parse(obj[Enums.ContainerStyle.Default]);\n            this._allStyles[Enums.ContainerStyle.Emphasis].parse(\n                obj[Enums.ContainerStyle.Emphasis]\n            );\n            this._allStyles[Enums.ContainerStyle.Accent].parse(obj[Enums.ContainerStyle.Accent]);\n            this._allStyles[Enums.ContainerStyle.Good].parse(obj[Enums.ContainerStyle.Good]);\n            this._allStyles[Enums.ContainerStyle.Attention].parse(\n                obj[Enums.ContainerStyle.Attention]\n            );\n            this._allStyles[Enums.ContainerStyle.Warning].parse(obj[Enums.ContainerStyle.Warning]);\n\n            const customStyleArray = obj[\"customStyles\"];\n\n            if (customStyleArray && Array.isArray(customStyleArray)) {\n                for (const customStyle of customStyleArray) {\n                    if (customStyle) {\n                        const styleName = customStyle[\"name\"];\n\n                        if (styleName && typeof styleName === \"string\") {\n                            if (this._allStyles.hasOwnProperty(styleName)) {\n                                this._allStyles[styleName].parse(customStyle[\"style\"]);\n                            } else {\n                                this._allStyles[styleName] = new ContainerStyleDefinition(\n                                    customStyle[\"style\"]\n                                );\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    toJSON() {\n        const customStyleArray: any[] = [];\n\n        Object.keys(this._allStyles).forEach((key) => {\n            if (!this._allStyles[key].isBuiltIn) {\n                customStyleArray.push({\n                    name: key,\n                    style: this._allStyles[key]\n                });\n            }\n        });\n\n        const result: any = {\n            default: this.default,\n            emphasis: this.emphasis\n        };\n\n        if (customStyleArray.length > 0) {\n            result.customStyles = customStyleArray;\n        }\n\n        return result;\n    }\n\n    getStyleByName(\n        name: string | undefined,\n        defaultValue?: ContainerStyleDefinition\n    ): ContainerStyleDefinition {\n        if (name && this._allStyles.hasOwnProperty(name)) {\n            return this._allStyles[name];\n        } else {\n            return defaultValue ? defaultValue : this._allStyles[Enums.ContainerStyle.Default];\n        }\n    }\n\n    get default(): ContainerStyleDefinition {\n        return this._allStyles[Enums.ContainerStyle.Default];\n    }\n\n    get emphasis(): ContainerStyleDefinition {\n        return this._allStyles[Enums.ContainerStyle.Emphasis];\n    }\n}\n\nexport interface IFontSizeDefinitions {\n    small: number;\n    default: number;\n    medium: number;\n    large: number;\n    extraLarge: number;\n}\n\nexport interface IFontWeightDefinitions {\n    lighter: number;\n    default: number;\n    bolder: number;\n}\n\nexport class FontTypeDefinition {\n    static readonly monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n\n    fontFamily?: string = \"Segoe UI,Segoe,Segoe WP,Helvetica Neue,Helvetica,sans-serif\";\n\n    fontSizes: IFontSizeDefinitions = {\n        small: 12,\n        default: 14,\n        medium: 17,\n        large: 21,\n        extraLarge: 26\n    };\n\n    fontWeights: IFontWeightDefinitions = {\n        lighter: 200,\n        default: 400,\n        bolder: 600\n    };\n\n    constructor(fontFamily?: string) {\n        if (fontFamily) {\n            this.fontFamily = fontFamily;\n        }\n    }\n\n    parse(obj?: any) {\n        this.fontFamily = obj[\"fontFamily\"] || this.fontFamily;\n        this.fontSizes = {\n            small: (obj.fontSizes && obj.fontSizes[\"small\"]) || this.fontSizes.small,\n            default: (obj.fontSizes && obj.fontSizes[\"default\"]) || this.fontSizes.default,\n            medium: (obj.fontSizes && obj.fontSizes[\"medium\"]) || this.fontSizes.medium,\n            large: (obj.fontSizes && obj.fontSizes[\"large\"]) || this.fontSizes.large,\n            extraLarge: (obj.fontSizes && obj.fontSizes[\"extraLarge\"]) || this.fontSizes.extraLarge\n        };\n        this.fontWeights = {\n            lighter: (obj.fontWeights && obj.fontWeights[\"lighter\"]) || this.fontWeights.lighter,\n            default: (obj.fontWeights && obj.fontWeights[\"default\"]) || this.fontWeights.default,\n            bolder: (obj.fontWeights && obj.fontWeights[\"bolder\"]) || this.fontWeights.bolder\n        };\n    }\n}\n\nexport class FontTypeSet {\n    default: FontTypeDefinition;\n    monospace: FontTypeDefinition;\n\n    constructor(obj?: any) {\n        this.default = new FontTypeDefinition();\n        this.monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n\n        if (obj) {\n            this.default.parse(obj[\"default\"]);\n            this.monospace.parse(obj[\"monospace\"]);\n        }\n    }\n\n    getStyleDefinition(style: Enums.FontType | undefined): FontTypeDefinition {\n        switch (style) {\n            case Enums.FontType.Monospace:\n                return this.monospace;\n            case Enums.FontType.Default:\n            default:\n                return this.default;\n        }\n    }\n}\n\nexport class CarouselConfig {\n    maxCarouselPages: number = 10;\n    minAutoplayDelay: number = 5000.0;\n\n    constructor(obj?: any) {\n        if (obj) {\n            this.maxCarouselPages =\n                obj[\"maxCarouselPages\"] != null ? obj[\"maxCarouselPages\"] : this.maxCarouselPages;\n            this.minAutoplayDelay =\n                obj[\"minAutoplayDelay\"] != null ? obj[\"minAutoplayDelay\"] : this.minAutoplayDelay;\n        }\n    }\n\n    toJSON() {\n        return {\n            maxCarouselPages: this.maxCarouselPages,\n            minAutoplayDelay: this.minAutoplayDelay\n        };\n    }\n}\n\nexport class HostConfig {\n    readonly hostCapabilities = new HostCapabilities();\n\n    private _legacyFontType: FontTypeDefinition;\n\n    choiceSetInputValueSeparator: string = \",\";\n    supportsInteractivity: boolean = true;\n    lineHeights?: ILineHeightDefinitions;\n    fontTypes?: FontTypeSet;\n\n    readonly spacing = {\n        small: 3,\n        default: 8,\n        medium: 20,\n        large: 30,\n        extraLarge: 40,\n        padding: 15\n    };\n\n    readonly separator = {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    };\n\n    readonly imageSizes = {\n        small: 40,\n        medium: 80,\n        large: 160\n    };\n\n    readonly containerStyles: ContainerStyleSet = new ContainerStyleSet();\n    readonly inputs: InputConfig = new InputConfig();\n    readonly actions: ActionsConfig = new ActionsConfig();\n    readonly adaptiveCard: AdaptiveCardConfig = new AdaptiveCardConfig();\n    readonly imageSet: ImageSetConfig = new ImageSetConfig();\n    readonly media: MediaConfig = new MediaConfig();\n    readonly factSet: FactSetConfig = new FactSetConfig();\n    readonly table: TableConfig = new TableConfig();\n    readonly textStyles: TextStyleSet = new TextStyleSet();\n    readonly textBlock: TextBlockConfig = new TextBlockConfig();\n    readonly carousel: CarouselConfig = new CarouselConfig();\n\n    cssClassNamePrefix?: string;\n    alwaysAllowBleed: boolean = false;\n\n    constructor(obj?: any) {\n        if (obj) {\n            if (typeof obj === \"string\" || obj instanceof String) {\n                obj = JSON.parse(obj as string);\n            }\n\n            this.choiceSetInputValueSeparator =\n                obj && typeof obj[\"choiceSetInputValueSeparator\"] === \"string\"\n                    ? obj[\"choiceSetInputValueSeparator\"]\n                    : this.choiceSetInputValueSeparator;\n            this.supportsInteractivity =\n                obj && typeof obj[\"supportsInteractivity\"] === \"boolean\"\n                    ? obj[\"supportsInteractivity\"]\n                    : this.supportsInteractivity;\n\n            this._legacyFontType = new FontTypeDefinition();\n            this._legacyFontType.parse(obj);\n\n            if (obj.fontTypes) {\n                this.fontTypes = new FontTypeSet(obj.fontTypes);\n            }\n\n            if (obj.lineHeights) {\n                this.lineHeights = {\n                    small: obj.lineHeights[\"small\"],\n                    default: obj.lineHeights[\"default\"],\n                    medium: obj.lineHeights[\"medium\"],\n                    large: obj.lineHeights[\"large\"],\n                    extraLarge: obj.lineHeights[\"extraLarge\"]\n                };\n            }\n\n            this.imageSizes = {\n                small: (obj.imageSizes && obj.imageSizes[\"small\"]) || this.imageSizes.small,\n                medium: (obj.imageSizes && obj.imageSizes[\"medium\"]) || this.imageSizes.medium,\n                large: (obj.imageSizes && obj.imageSizes[\"large\"]) || this.imageSizes.large\n            };\n\n            this.containerStyles = new ContainerStyleSet(obj[\"containerStyles\"]);\n            this.spacing = {\n                small: (obj.spacing && obj.spacing[\"small\"]) || this.spacing.small,\n                default: (obj.spacing && obj.spacing[\"default\"]) || this.spacing.default,\n                medium: (obj.spacing && obj.spacing[\"medium\"]) || this.spacing.medium,\n                large: (obj.spacing && obj.spacing[\"large\"]) || this.spacing.large,\n                extraLarge: (obj.spacing && obj.spacing[\"extraLarge\"]) || this.spacing.extraLarge,\n                padding: (obj.spacing && obj.spacing[\"padding\"]) || this.spacing.padding\n            };\n\n            this.separator = {\n                lineThickness:\n                    (obj.separator && obj.separator[\"lineThickness\"]) ||\n                    this.separator.lineThickness,\n                lineColor: (obj.separator && obj.separator[\"lineColor\"]) || this.separator.lineColor\n            };\n\n            this.inputs = new InputConfig(obj.inputs || this.inputs);\n            this.actions = new ActionsConfig(obj.actions || this.actions);\n            this.adaptiveCard = new AdaptiveCardConfig(obj.adaptiveCard || this.adaptiveCard);\n            this.imageSet = new ImageSetConfig(obj[\"imageSet\"]);\n            this.factSet = new FactSetConfig(obj[\"factSet\"]);\n            this.textStyles = new TextStyleSet(obj[\"textStyles\"]);\n            this.textBlock = new TextBlockConfig(obj[\"textBlock\"]);\n            this.carousel = new CarouselConfig(obj[\"carousel\"]);\n        }\n    }\n\n    getFontTypeDefinition(style?: Enums.FontType): FontTypeDefinition {\n        if (this.fontTypes) {\n            return this.fontTypes.getStyleDefinition(style);\n        } else {\n            return style === Enums.FontType.Monospace\n                ? FontTypeDefinition.monospace\n                : this._legacyFontType;\n        }\n    }\n\n    getEffectiveSpacing(spacing: Enums.Spacing): number {\n        switch (spacing) {\n            case Enums.Spacing.Small:\n                return this.spacing.small;\n            case Enums.Spacing.Default:\n                return this.spacing.default;\n            case Enums.Spacing.Medium:\n                return this.spacing.medium;\n            case Enums.Spacing.Large:\n                return this.spacing.large;\n            case Enums.Spacing.ExtraLarge:\n                return this.spacing.extraLarge;\n            case Enums.Spacing.Padding:\n                return this.spacing.padding;\n            default:\n                return 0;\n        }\n    }\n\n    paddingDefinitionToSpacingDefinition(\n        paddingDefinition: Shared.PaddingDefinition\n    ): Shared.SpacingDefinition {\n        return new Shared.SpacingDefinition(\n            this.getEffectiveSpacing(paddingDefinition.top),\n            this.getEffectiveSpacing(paddingDefinition.right),\n            this.getEffectiveSpacing(paddingDefinition.bottom),\n            this.getEffectiveSpacing(paddingDefinition.left)\n        );\n    }\n\n    makeCssClassNames(...classNames: string[]): string[] {\n        const result: string[] = [];\n\n        for (const className of classNames) {\n            result.push((this.cssClassNamePrefix ? this.cssClassNamePrefix + \"-\" : \"\") + className);\n        }\n\n        return result;\n    }\n\n    makeCssClassName(...classNames: string[]): string {\n        const result = this.makeCssClassNames(...classNames).join(\" \");\n\n        return result ? result : \"\";\n    }\n\n    get fontFamily(): string | undefined {\n        return this._legacyFontType.fontFamily;\n    }\n\n    set fontFamily(value: string | undefined) {\n        this._legacyFontType.fontFamily = value;\n    }\n\n    get fontSizes(): IFontSizeDefinitions {\n        return this._legacyFontType.fontSizes;\n    }\n\n    get fontWeights(): IFontWeightDefinitions {\n        return this._legacyFontType.fontWeights;\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const defaultHostConfig: HostConfig = new HostConfig({\n    supportsInteractivity: true,\n    spacing: {\n        small: 10,\n        default: 20,\n        medium: 30,\n        large: 40,\n        extraLarge: 50,\n        padding: 20\n    },\n    separator: {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    },\n    fontTypes: {\n        default: {\n            fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        },\n        monospace: {\n            fontFamily: \"'Courier New', Courier, monospace\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        }\n    },\n    imageSizes: {\n        small: 40,\n        medium: 80,\n        large: 160\n    },\n    containerStyles: {\n        default: {\n            backgroundColor: \"#FFFFFF\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        emphasis: {\n            backgroundColor: \"#08000000\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        accent: {\n            backgroundColor: \"#C7DEF9\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        good: {\n            backgroundColor: \"#CCFFCC\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        attention: {\n            backgroundColor: \"#FFC5B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        warning: {\n            backgroundColor: \"#FFE2B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        }\n    },\n    inputs: {\n        label: {\n            requiredInputs: {\n                weight: Enums.TextWeight.Bolder,\n                suffix: \" *\",\n                suffixColor: Enums.TextColor.Attention\n            },\n            optionalInputs: {\n                weight: Enums.TextWeight.Bolder\n            }\n        },\n        errorMessage: {\n            color: Enums.TextColor.Attention,\n            weight: Enums.TextWeight.Bolder\n        }\n    },\n    actions: {\n        maxActions: 5,\n        spacing: Enums.Spacing.Default,\n        buttonSpacing: 10,\n        showCard: {\n            actionMode: Enums.ShowCardActionMode.Inline,\n            inlineTopMargin: 16\n        },\n        actionsOrientation: Enums.Orientation.Horizontal,\n        actionAlignment: Enums.ActionAlignment.Left\n    },\n    adaptiveCard: {\n        allowCustomStyle: false\n    },\n    imageSet: {\n        imageSize: Enums.Size.Medium,\n        maxImageHeight: 100\n    },\n    factSet: {\n        title: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Bolder,\n            wrap: true,\n            maxWidth: 150\n        },\n        value: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Default,\n            wrap: true\n        },\n        spacing: 10\n    },\n    carousel: {\n        maxCarouselPages: 10,\n        minAutoplayDuration: 5000\n    }\n});\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { CardElement, Action } from \"./card-elements\";\nimport { SerializableObject, Version, Versions } from \"./serialization\";\n\nexport interface ITypeRegistration<T extends SerializableObject> {\n    typeName: string;\n    objectType: { new (): T };\n    schemaVersion: Version;\n}\n\nexport class CardObjectRegistry<T extends SerializableObject> {\n    private _items: { [typeName: string]: ITypeRegistration<T> } = {};\n\n    findByName(typeName: string): ITypeRegistration<T> | undefined {\n        return this._items.hasOwnProperty(typeName) ? this._items[typeName] : undefined;\n    }\n\n    clear() {\n        this._items = {};\n    }\n\n    copyTo(target: CardObjectRegistry<T>) {\n        const keys = Object.keys(this._items);\n\n        for (const key of keys) {\n            const typeRegistration = this._items[key];\n\n            target.register(\n                typeRegistration.typeName,\n                typeRegistration.objectType,\n                typeRegistration.schemaVersion\n            );\n        }\n    }\n\n    register(\n        typeName: string,\n        objectType: { new (): T },\n        schemaVersion: Version = Versions.v1_0\n    ) {\n        let registrationInfo = this.findByName(typeName);\n\n        if (registrationInfo !== undefined) {\n            registrationInfo.objectType = objectType;\n        } else {\n            registrationInfo = {\n                typeName: typeName,\n                objectType: objectType,\n                schemaVersion: schemaVersion\n            };\n        }\n\n        this._items[typeName] = registrationInfo;\n    }\n\n    unregister(typeName: string) {\n        delete this._items[typeName];\n    }\n\n    createInstance(typeName: string, targetVersion: Version): T | undefined {\n        const registrationInfo = this.findByName(typeName);\n\n        return registrationInfo && registrationInfo.schemaVersion.compareTo(targetVersion) <= 0\n            ? new registrationInfo.objectType()\n            : undefined;\n    }\n\n    getItemCount(): number {\n        return Object.keys(this._items).length;\n    }\n\n    getItemAt(index: number): ITypeRegistration<T> {\n        return Object.keys(this._items).map((e) => this._items[e])[index];\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class GlobalRegistry {\n    private static _elements?: CardObjectRegistry<CardElement>;\n    private static _actions?: CardObjectRegistry<Action>;\n\n    static populateWithDefaultElements(registry: CardObjectRegistry<CardElement>) {\n        registry.clear();\n\n        GlobalRegistry.defaultElements.copyTo(registry);\n    }\n\n    static populateWithDefaultActions(registry: CardObjectRegistry<Action>) {\n        registry.clear();\n\n        GlobalRegistry.defaultActions.copyTo(registry);\n    }\n\n    static readonly defaultElements = new CardObjectRegistry<CardElement>();\n    static readonly defaultActions = new CardObjectRegistry<Action>();\n    static get elements(): CardObjectRegistry<CardElement> {\n        if (!GlobalRegistry._elements) {\n            GlobalRegistry._elements = new CardObjectRegistry<CardElement>();\n            GlobalRegistry.populateWithDefaultElements(GlobalRegistry._elements);\n        }\n\n        return GlobalRegistry._elements;\n    }\n\n    static get actions(): CardObjectRegistry<Action> {\n        if (!GlobalRegistry._actions) {\n            GlobalRegistry._actions = new CardObjectRegistry<Action>();\n            GlobalRegistry.populateWithDefaultActions(GlobalRegistry._actions);\n        }\n\n        return GlobalRegistry._actions;\n    }\n\n    static reset() {\n        GlobalRegistry._elements = undefined;\n        GlobalRegistry._actions = undefined;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { GlobalSettings, SizeAndUnit } from \"./shared\";\nimport * as Utils from \"./utils\";\nimport * as Enums from \"./enums\";\nimport { Strings } from \"./strings\";\n\nexport interface IValidationEvent {\n    source?: SerializableObject;\n    phase: Enums.ValidationPhase;\n    event: Enums.ValidationEvent;\n    message: string;\n}\n\nexport class Version {\n    private _versionString: string;\n    private _major: number;\n    private _minor: number;\n    private _isValid: boolean = true;\n    private _label?: string;\n\n    constructor(major: number = 1, minor: number = 1, label?: string) {\n        this._major = major;\n        this._minor = minor;\n        this._label = label;\n    }\n\n    static parse(versionString: string, context: BaseSerializationContext): Version | undefined {\n        if (!versionString) {\n            return undefined;\n        }\n\n        const result = new Version();\n        result._versionString = versionString;\n\n        const regEx = /(\\d+).(\\d+)/gi;\n        const matches = regEx.exec(versionString);\n\n        if (matches != null && matches.length === 3) {\n            result._major = parseInt(matches[1]);\n            result._minor = parseInt(matches[2]);\n        } else {\n            result._isValid = false;\n        }\n\n        if (!result._isValid) {\n            context.logParseEvent(\n                undefined,\n                Enums.ValidationEvent.InvalidPropertyValue,\n                Strings.errors.invalidVersionString(result._versionString)\n            );\n        }\n\n        return result;\n    }\n\n    toString(): string {\n        return !this._isValid ? this._versionString : this._major + \".\" + this._minor;\n    }\n\n    toJSON(): any {\n        return this.toString();\n    }\n\n    compareTo(otherVersion: Version): number {\n        if (!this.isValid || !otherVersion.isValid) {\n            throw new Error(\"Cannot compare invalid version.\");\n        }\n\n        if (this.major > otherVersion.major) {\n            return 1;\n        } else if (this.major < otherVersion.major) {\n            return -1;\n        } else if (this.minor > otherVersion.minor) {\n            return 1;\n        } else if (this.minor < otherVersion.minor) {\n            return -1;\n        }\n\n        return 0;\n    }\n\n    get label(): string {\n        return this._label ? this._label : this.toString();\n    }\n\n    get major(): number {\n        return this._major;\n    }\n\n    get minor(): number {\n        return this._minor;\n    }\n\n    get isValid(): boolean {\n        return this._isValid;\n    }\n}\n\nexport type TargetVersion = Version | \"*\";\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Versions {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    static readonly v1_0 = new Version(1, 0);\n    static readonly v1_1 = new Version(1, 1);\n    static readonly v1_2 = new Version(1, 2);\n    static readonly v1_3 = new Version(1, 3);\n    static readonly v1_4 = new Version(1, 4);\n    static readonly v1_5 = new Version(1, 5);\n    // If preview tag is added/removed from any version,\n    // don't forget to update .ac-schema-version-1-?::after too in adaptivecards-site\\themes\\adaptivecards\\source\\css\\style.css\n    static readonly v1_6 = new Version(1, 6, \"1.6 Preview\");\n    static readonly latest = Versions.v1_5;\n    /* eslint-enable @typescript-eslint/naming-convention */\n\n    static getAllDeclaredVersions(): Version[] {\n        const ctor = <any>Versions;\n        const properties: Version[] = [];\n\n        for (const propertyName in ctor) {\n            if (propertyName.match(/^v[0-9_]*$/)) {\n                // filter latest\n                try {\n                    const propertyValue = ctor[propertyName];\n\n                    if (propertyValue instanceof Version) {\n                        properties.push(propertyValue);\n                    }\n                } catch {\n                    // If a property happens to have a getter function and\n                    // it throws an exception, we need to catch it here\n                }\n            }\n        }\n        return properties.sort((v1: Version, v2: Version) => v1.compareTo(v2));\n    }\n}\n\nexport function isVersionLessOrEqual(\n    version: TargetVersion,\n    targetVersion: TargetVersion\n): boolean {\n    if (version instanceof Version) {\n        if (targetVersion instanceof Version) {\n            return targetVersion.compareTo(version) >= 0;\n        } else {\n            // Target version is *\n            return true;\n        }\n    } else {\n        // Version is *\n        return true;\n    }\n}\n\nexport abstract class BaseSerializationContext {\n    private _validationEvents: IValidationEvent[] = [];\n\n    toJSONOriginalParam: any;\n    targetVersion: Version;\n\n    constructor(targetVersion: Version = Versions.latest) {\n        this.targetVersion = targetVersion;\n    }\n    \n    private isTemplateString(value: any) {\n        if (typeof value === \"string\") {\n            return value.startsWith(\"${\");\n        } else {\n            return false;\n        }\n    }\n\n    private tryDeleteValue(target: { [key: string]: any }, propertyName: string) {\n        if (!GlobalSettings.enableFullJsonRoundTrip) {\n            delete target[propertyName];\n        }\n    }\n\n    private tryDeleteDefaultValue(target: { [key: string]: any }, propertyName: string) {\n        if (!GlobalSettings.enableFullJsonRoundTrip || !this.isTemplateString(target[propertyName])) {\n            delete target[propertyName];\n        }\n    }\n\n    serializeValue(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: any,\n        defaultValue: any = undefined,\n        forceDeleteIfNullOrDefault: boolean = false\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            if (!GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault) {\n                delete target[propertyName];\n            }\n        } else if (propertyValue === defaultValue) {\n            if (!GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault || !this.isTemplateString(target[propertyName])) {\n                delete target[propertyName];\n            }\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeString(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: string,\n        defaultValue?: string\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeBool(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: boolean,\n        defaultValue?: boolean\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeNumber(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue?: number,\n        defaultValue?: number\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined ||\n            isNaN(propertyValue)\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = propertyValue;\n        }\n    }\n\n    serializeEnum(\n        enumType: { [s: number]: string },\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: number | undefined,\n        defaultValue: number | undefined = undefined\n    ) {\n        if (\n            propertyValue === null ||\n            propertyValue === undefined\n        ) {\n            this.tryDeleteValue(target, propertyName);\n        } else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        } else {\n            target[propertyName] = enumType[propertyValue];\n        }\n    }\n\n    serializeArray(\n        target: { [key: string]: any },\n        propertyName: string,\n        propertyValue: any[] | undefined\n    ) {\n        const items = [];\n\n        if (propertyValue) {\n            for (const item of propertyValue) {\n                let serializedItem: any = undefined;\n\n                if (item instanceof SerializableObject) {\n                    serializedItem = item.toJSON(this);\n                } else if (item.toJSON) {\n                    serializedItem = item.toJSON();\n                } else {\n                    serializedItem = item;\n                }\n\n                if (serializedItem !== undefined) {\n                    items.push(serializedItem);\n                }\n            }\n        }\n\n        if (items.length === 0) {\n            if (target.hasOwnProperty(propertyName) && Array.isArray(target[propertyName])) {\n                delete target[propertyName];\n            }\n        } else {\n            this.serializeValue(target, propertyName, items);\n        }\n    }\n\n    clearEvents() {\n        this._validationEvents = [];\n    }\n\n    logEvent(\n        source: SerializableObject | undefined,\n        phase: Enums.ValidationPhase,\n        event: Enums.ValidationEvent,\n        message: string\n    ) {\n        this._validationEvents.push({\n            source: source,\n            phase: phase,\n            event: event,\n            message: message\n        });\n    }\n\n    logParseEvent(\n        source: SerializableObject | undefined,\n        event: Enums.ValidationEvent,\n        message: string\n    ) {\n        this.logEvent(source, Enums.ValidationPhase.Parse, event, message);\n    }\n\n    getEventAt(index: number): IValidationEvent {\n        return this._validationEvents[index];\n    }\n\n    get eventCount(): number {\n        return this._validationEvents.length;\n    }\n}\n\nclass SimpleSerializationContext extends BaseSerializationContext {}\n\nexport class PropertyDefinition {\n    private static _sequentialNumber: number = 0;\n\n    getInternalName(): string {\n        return this.name;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): any {\n        return source[this.name];\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: any,\n        context: BaseSerializationContext\n    ): void {\n        context.serializeValue(target, this.name, value, this.defaultValue);\n    }\n\n    readonly sequentialNumber: number;\n\n    isSerializationEnabled: boolean = true;\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: any,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        this.sequentialNumber = PropertyDefinition._sequentialNumber;\n\n        PropertyDefinition._sequentialNumber++;\n    }\n}\n\nexport class StringProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string | undefined {\n        const parsedValue = Utils.parseString(source[this.name], this.defaultValue);\n        const isUndefined =\n            parsedValue === undefined || (parsedValue === \"\" && this.treatEmptyAsUndefined);\n\n        if (!isUndefined && this.regEx !== undefined) {\n            const matches = this.regEx.exec(parsedValue);\n\n            if (!matches) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(parsedValue, this.name)\n                );\n\n                return undefined;\n            }\n        }\n\n        return parsedValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeString(\n            target,\n            this.name,\n            value === \"\" && this.treatEmptyAsUndefined ? undefined : value,\n            this.defaultValue\n        );\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly treatEmptyAsUndefined: boolean = true,\n        readonly regEx?: RegExp,\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class BoolProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): boolean | undefined {\n        return Utils.parseBool(source[this.name], this.defaultValue);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: object,\n        value: boolean | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeBool(target, this.name, value, this.defaultValue);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: boolean,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class NumProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        return Utils.parseNumber(source[this.name], this.defaultValue);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeNumber(target, this.name, value, this.defaultValue);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: number,\n        readonly onGetInitialValue?: (sender: SerializableObject) => any\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class PixelSizeProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        let result: number | undefined = undefined;\n        const value = source[this.name];\n\n        if (typeof value === \"string\") {\n            let isValid = false;\n\n            try {\n                const size = SizeAndUnit.parse(value, true);\n\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n\n                    isValid = true;\n                }\n            } catch {\n                // Do nothing. A parse error is emitted below\n            }\n\n            if (!isValid) {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidPropertyValue(source[this.name], this.name)\n                );\n            }\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeValue(\n            target,\n            this.name,\n            typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined\n        );\n    }\n}\n\nexport interface IVersionedValue<TValue> {\n    value: TValue;\n    targetVersion?: Version;\n}\n\nexport class StringArrayProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string[] | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined || !Array.isArray(sourceValue)) {\n            return this.defaultValue;\n        }\n\n        const result: string[] = [];\n\n        for (const value of sourceValue) {\n            if (typeof value === \"string\") {\n                result.push(value);\n            } else {\n                context.logParseEvent(\n                    sender,\n                    Enums.ValidationEvent.InvalidPropertyValue,\n                    `Invalid array value \"${JSON.stringify(\n                        value\n                    )}\" of type \"${typeof value}\" ignored for \"${this.name}\".`\n                );\n            }\n        }\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string[] | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeArray(target, this.name, value);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly defaultValue?: string[],\n        readonly onGetInitialValue?: (sender: SerializableObject) => string[] | undefined\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class ValueSetProperty extends PropertyDefinition {\n    isValidValue(value: string, context: BaseSerializationContext): boolean {\n        for (const versionedValue of this.values) {\n            if (value.toLowerCase() === versionedValue.value.toLowerCase()) {\n                const targetVersion = versionedValue.targetVersion\n                    ? versionedValue.targetVersion\n                    : this.targetVersion;\n\n                return targetVersion.compareTo(context.targetVersion) <= 0;\n            }\n        }\n\n        return false;\n    }\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): string | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n\n        if (typeof sourceValue === \"string\") {\n            for (const versionedValue of this.values) {\n                if (sourceValue.toLowerCase() === versionedValue.value.toLowerCase()) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return versionedValue.value;\n                    } else {\n                        context.logParseEvent(\n                            sender,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                sourceValue,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.InvalidPropertyValue,\n            Strings.errors.invalidPropertyValue(sourceValue, this.name)\n        );\n\n        return this.defaultValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: string | undefined,\n        context: BaseSerializationContext\n    ) {\n        let invalidValue = false;\n\n        if (value !== undefined) {\n            invalidValue = true;\n\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === value) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n\n                        break;\n                    } else {\n                        context.logEvent(\n                            sender,\n                            Enums.ValidationPhase.ToJSON,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                value,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n                    }\n                }\n            }\n        }\n\n        if (!invalidValue) {\n            context.serializeValue(target, this.name, value, this.defaultValue, true);\n        }\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly values: IVersionedValue<string>[],\n        readonly defaultValue?: string,\n        readonly onGetInitialValue?: (sender: SerializableObject) => string\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n    }\n}\n\nexport class EnumProperty<TEnum extends { [s: number]: string }> extends PropertyDefinition {\n    private _values: IVersionedValue<number>[] = [];\n\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): number | undefined {\n        const sourceValue = source[this.name];\n\n        if (typeof sourceValue !== \"string\") {\n            return this.defaultValue;\n        }\n\n        const enumValue = Utils.getEnumValueByName(this.enumType, sourceValue);\n\n        if (enumValue !== undefined) {\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === enumValue) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return enumValue;\n                    } else {\n                        context.logParseEvent(\n                            sender,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.propertyValueNotSupported(\n                                sourceValue,\n                                this.name,\n                                targetVersion.toString(),\n                                context.targetVersion.toString()\n                            )\n                        );\n\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n\n        context.logParseEvent(\n            sender,\n            Enums.ValidationEvent.InvalidPropertyValue,\n            Strings.errors.invalidPropertyValue(sourceValue, this.name)\n        );\n\n        return this.defaultValue;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: number | undefined,\n        context: BaseSerializationContext\n    ) {\n        let invalidValue = false;\n\n        if (value !== undefined) {\n            invalidValue = true;\n\n            for (const versionedValue of this.values) {\n                if (versionedValue.value === value) {\n                    const targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n\n                        break;\n                    } else {\n                        context.logEvent(\n                            sender,\n                            Enums.ValidationPhase.ToJSON,\n                            Enums.ValidationEvent.InvalidPropertyValue,\n                            Strings.errors.invalidPropertyValue(value, this.name)\n                        );\n                    }\n                }\n            }\n        }\n\n        if (!invalidValue) {\n            context.serializeEnum(this.enumType, target, this.name, value, this.defaultValue);\n        }\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly enumType: TEnum,\n        readonly defaultValue?: number,\n        values?: IVersionedValue<number>[],\n        readonly onGetInitialValue?: (sender: SerializableObject) => number\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n\n        if (!values) {\n            // eslint-disable-next-line guard-for-in\n            for (const key in enumType) {\n                const keyAsNumber = parseInt(key, 10);\n\n                if (keyAsNumber >= 0) {\n                    this._values.push({ value: keyAsNumber });\n                }\n            }\n        } else {\n            this._values = values;\n        }\n    }\n\n    get values(): IVersionedValue<number>[] {\n        return this._values;\n    }\n}\n\nexport type SerializableObjectType = { new (): SerializableObject };\n\nexport class SerializableObjectProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): SerializableObject | undefined {\n        const sourceValue = source[this.name];\n\n        if (sourceValue === undefined) {\n            return this.onGetInitialValue ? this.onGetInitialValue(sender) : this.defaultValue;\n        }\n\n        const result = new this.objectType();\n        result.parse(sourceValue, context);\n\n        return result;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: SerializableObject | undefined,\n        context: BaseSerializationContext\n    ) {\n        let serializedValue: object | undefined = undefined;\n\n        if (value !== undefined && !value.hasAllDefaultValues()) {\n            serializedValue = value.toJSON(context);\n        }\n\n        if (typeof serializedValue === \"object\" && Object.keys(serializedValue).length === 0) {\n            serializedValue = undefined;\n        }\n\n        context.serializeValue(target, this.name, serializedValue, this.defaultValue, true);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly objectType: SerializableObjectType,\n        readonly nullable: boolean = false,\n        defaultValue?: SerializableObject\n    ) {\n        super(targetVersion, name, defaultValue, (sender: SerializableObject) => {\n            return this.nullable ? undefined : new this.objectType();\n        });\n    }\n}\n\nexport class SerializableObjectCollectionProperty extends PropertyDefinition {\n    parse(\n        sender: SerializableObject,\n        source: PropertyBag,\n        context: BaseSerializationContext\n    ): SerializableObject[] | undefined {\n        const result: SerializableObject[] | undefined = [];\n\n        const sourceCollection = source[this.name];\n\n        if (Array.isArray(sourceCollection)) {\n            for (const sourceItem of sourceCollection) {\n                const item = new this.objectType();\n                item.parse(sourceItem, context);\n\n                result.push(item);\n\n                if (this.onItemAdded) {\n                    this.onItemAdded(sender, item);\n                }\n            }\n        }\n\n        return result.length > 0\n            ? result\n            : this.onGetInitialValue\n            ? this.onGetInitialValue(sender)\n            : undefined;\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: SerializableObject[] | undefined,\n        context: BaseSerializationContext\n    ) {\n        context.serializeArray(target, this.name, value);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly objectType: SerializableObjectType,\n        readonly onItemAdded?: (sender: SerializableObject, item: SerializableObject) => void\n    ) {\n        super(targetVersion, name, undefined, (sender: SerializableObject) => {\n            return [];\n        });\n    }\n}\n\nexport class CustomProperty<T> extends PropertyDefinition {\n    parse(sender: SerializableObject, source: PropertyBag, context: BaseSerializationContext): T {\n        return this.onParse(sender, this, source, context);\n    }\n\n    toJSON(\n        sender: SerializableObject,\n        target: PropertyBag,\n        value: T,\n        context: BaseSerializationContext\n    ) {\n        this.onToJSON(sender, this, target, value, context);\n    }\n\n    constructor(\n        readonly targetVersion: Version,\n        readonly name: string,\n        readonly onParse: (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => T,\n        readonly onToJSON: (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: T,\n            context: BaseSerializationContext\n        ) => void,\n        readonly defaultValue?: T,\n        readonly onGetInitialValue?: (sender: SerializableObject) => T\n    ) {\n        super(targetVersion, name, defaultValue, onGetInitialValue);\n\n        if (!this.onParse) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onParse handler.\");\n        }\n\n        if (!this.onToJSON) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onToJSON handler.\");\n        }\n    }\n}\n\nexport class SerializableObjectSchema {\n    private _properties: PropertyDefinition[] = [];\n\n    indexOf(prop: PropertyDefinition): number {\n        for (let i = 0; i < this._properties.length; i++) {\n            if (this._properties[i] === prop) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    add(...properties: PropertyDefinition[]) {\n        for (const prop of properties) {\n            if (this.indexOf(prop) === -1) {\n                this._properties.push(prop);\n            }\n        }\n    }\n\n    remove(...properties: PropertyDefinition[]) {\n        for (const prop of properties) {\n            while (true) {\n                const index = this.indexOf(prop);\n\n                if (index >= 0) {\n                    this._properties.splice(index, 1);\n                } else {\n                    break;\n                }\n            }\n        }\n    }\n\n    getItemAt(index: number): PropertyDefinition {\n        return this._properties[index];\n    }\n\n    getCount(): number {\n        return this._properties.length;\n    }\n}\n\n// This is a decorator function, used to map SerializableObject descendant class members to\n// schema properties\nexport function property(prop: PropertyDefinition) {\n    return function (target: any, propertyKey: string) {\n        const descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\n\n        if (!descriptor.get && !descriptor.set) {\n            descriptor.get = function (this: SerializableObject) {\n                return this.getValue(prop);\n            };\n            descriptor.set = function (this: SerializableObject, value: any) {\n                this.setValue(prop, value);\n            };\n\n            Object.defineProperty(target, propertyKey, descriptor);\n        }\n    };\n}\n\nexport type PropertyBag = { [propertyName: string]: any };\n\nexport abstract class SerializableObject {\n    static onRegisterCustomProperties?: (\n        sender: SerializableObject,\n        schema: SerializableObjectSchema\n    ) => void;\n    static defaultMaxVersion: Version = Versions.latest;\n\n    private static readonly _schemaCache: { [typeName: string]: SerializableObjectSchema } = {};\n\n    private _propertyBag: PropertyBag = {};\n    private _rawProperties: PropertyBag = {};\n\n    protected abstract getSchemaKey(): string;\n\n    protected getDefaultSerializationContext(): BaseSerializationContext {\n        return new SimpleSerializationContext();\n    }\n\n    protected populateSchema(schema: SerializableObjectSchema) {\n        const ctor = <any>this.constructor;\n        const properties: PropertyDefinition[] = [];\n\n        // eslint-disable-next-line guard-for-in\n        for (const propertyName in ctor) {\n            try {\n                const propertyValue = ctor[propertyName];\n\n                if (propertyValue instanceof PropertyDefinition) {\n                    properties.push(propertyValue);\n                }\n            } catch {\n                // If a property happens to have a getter function and\n                // it throws an exception, we need to catch it here\n            }\n        }\n\n        if (properties.length > 0) {\n            const sortedProperties = properties.sort(\n                (p1: PropertyDefinition, p2: PropertyDefinition) => {\n                    if (p1.sequentialNumber > p2.sequentialNumber) {\n                        return 1;\n                    } else if (p1.sequentialNumber < p2.sequentialNumber) {\n                        return -1;\n                    }\n\n                    return 0;\n                }\n            );\n\n            schema.add(...sortedProperties);\n        }\n\n        if (SerializableObject.onRegisterCustomProperties) {\n            SerializableObject.onRegisterCustomProperties(this, schema);\n        }\n    }\n\n    protected getValue(prop: PropertyDefinition): any {\n        return this._propertyBag.hasOwnProperty(prop.getInternalName())\n            ? this._propertyBag[prop.getInternalName()]\n            : prop.defaultValue;\n    }\n\n    protected setValue(prop: PropertyDefinition, value: any) {\n        if (value === undefined || value === null) {\n            delete this._propertyBag[prop.getInternalName()];\n        } else {\n            this._propertyBag[prop.getInternalName()] = value;\n        }\n    }\n\n    protected internalParse(source: PropertyBag, context: BaseSerializationContext) {\n        this._propertyBag = {};\n        this._rawProperties = GlobalSettings.enableFullJsonRoundTrip ? (source ? source : {}) : {};\n\n        if (source) {\n            const s = this.getSchema();\n\n            for (let i = 0; i < s.getCount(); i++) {\n                const prop = s.getItemAt(i);\n\n                if (prop.isSerializationEnabled) {\n                    let propertyValue = prop.onGetInitialValue\n                        ? prop.onGetInitialValue(this)\n                        : undefined;\n\n                    if (source.hasOwnProperty(prop.name)) {\n                        if (prop.targetVersion.compareTo(context.targetVersion) <= 0) {\n                            propertyValue = prop.parse(this, source, context);\n                        } else {\n                            context.logParseEvent(\n                                this,\n                                Enums.ValidationEvent.UnsupportedProperty,\n                                Strings.errors.propertyNotSupported(\n                                    prop.name,\n                                    prop.targetVersion.toString(),\n                                    context.targetVersion.toString()\n                                )\n                            );\n                        }\n                    }\n\n                    this.setValue(prop, propertyValue);\n                }\n            }\n        } else {\n            this.resetDefaultValues();\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: BaseSerializationContext) {\n        const s = this.getSchema();\n        const serializedProperties: string[] = [];\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            // Avoid serializing the same property multiple times. This is necessary\n            // because some property definitions map to the same underlying schema\n            // property\n            if (\n                prop.isSerializationEnabled &&\n                prop.targetVersion.compareTo(context.targetVersion) <= 0 &&\n                serializedProperties.indexOf(prop.name) === -1\n            ) {\n                prop.toJSON(this, target, this.getValue(prop), context);\n\n                serializedProperties.push(prop.name);\n            }\n        }\n    }\n\n    protected shouldSerialize(_context: BaseSerializationContext): boolean {\n        return true;\n    }\n\n    maxVersion: Version = SerializableObject.defaultMaxVersion;\n\n    constructor() {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            if (prop.onGetInitialValue) {\n                this.setValue(prop, prop.onGetInitialValue(this));\n            }\n        }\n    }\n\n    parse(source: PropertyBag, context?: BaseSerializationContext) {\n        this.internalParse(source, context ? context : new SimpleSerializationContext());\n    }\n\n    toJSON(context?: BaseSerializationContext): PropertyBag | undefined {\n        let effectiveContext: BaseSerializationContext;\n\n        if (context && context instanceof BaseSerializationContext) {\n            effectiveContext = context;\n        } else {\n            effectiveContext = this.getDefaultSerializationContext();\n            effectiveContext.toJSONOriginalParam = context;\n        }\n\n        if (this.shouldSerialize(effectiveContext)) {\n            let result: PropertyBag;\n\n            if (\n                GlobalSettings.enableFullJsonRoundTrip &&\n                this._rawProperties &&\n                typeof this._rawProperties === \"object\"\n            ) {\n                result = this._rawProperties;\n            } else {\n                result = {};\n            }\n\n            this.internalToJSON(result, effectiveContext);\n\n            return result;\n        } else {\n            return undefined;\n        }\n    }\n\n    hasDefaultValue(prop: PropertyDefinition): boolean {\n        return this.getValue(prop) === prop.defaultValue;\n    }\n\n    hasAllDefaultValues(): boolean {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            if (!this.hasDefaultValue(prop)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    resetDefaultValues() {\n        const s = this.getSchema();\n\n        for (let i = 0; i < s.getCount(); i++) {\n            const prop = s.getItemAt(i);\n\n            this.setValue(prop, prop.defaultValue);\n        }\n    }\n\n    setCustomProperty(name: string, value: any) {\n        const shouldDeleteProperty =\n            (typeof value === \"string\" && !value) || value === undefined || value === null;\n\n        if (shouldDeleteProperty) {\n            delete this._rawProperties[name];\n        } else {\n            this._rawProperties[name] = value;\n        }\n    }\n\n    getCustomProperty(name: string): any {\n        return this._rawProperties[name];\n    }\n\n    getSchema(): SerializableObjectSchema {\n        let schema: SerializableObjectSchema = SerializableObject._schemaCache[this.getSchemaKey()];\n\n        if (!schema) {\n            schema = new SerializableObjectSchema();\n\n            this.populateSchema(schema);\n\n            SerializableObject._schemaCache[this.getSchemaKey()] = schema;\n        }\n\n        return schema;\n    }\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\n\nexport type Refresh = {\n    mode: Enums.RefreshMode;\n    timeBetweenAutomaticRefreshes: number;\n    maximumConsecutiveAutomaticRefreshes: number;\n    allowManualRefreshesAfterAutomaticRefreshes: boolean;\n};\n\nexport type AppletsSettings = {\n    logEnabled: boolean;\n    logLevel: Enums.LogLevel;\n    maximumRetryAttempts: number;\n    defaultTimeBetweenRetryAttempts: number;\n    authPromptWidth: number;\n    authPromptHeight: number;\n    readonly refresh: Refresh;\n    onLogEvent?: (level: Enums.LogLevel, message?: any, ...optionalParams: any[]) => void;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class GlobalSettings {\n    static useAdvancedTextBlockTruncation: boolean = true;\n    static useAdvancedCardBottomTruncation: boolean = false;\n    static useMarkdownInRadioButtonAndCheckbox: boolean = true;\n    static allowMarkForTextHighlighting: boolean = false;\n    static alwaysBleedSeparators: boolean = false;\n    static enableFullJsonRoundTrip: boolean = false;\n    static displayInputValidationErrors: boolean = true;\n    static allowPreProcessingPropertyValues: boolean = false;\n    static setTabIndexAtCardRoot: boolean = true;\n    static enableFallback: boolean = true;\n    static useWebkitLineClamp: boolean = true;\n    static allowMoreThanMaxActionsInOverflowMenu: boolean = false;\n    static removePaddingFromContainersWithBackgroundImage: boolean = false;\n    static resetInputsDirtyStateAfterActionExecution: boolean = true;\n\n    static readonly applets: AppletsSettings = {\n        logEnabled: true,\n        logLevel: Enums.LogLevel.Error,\n        maximumRetryAttempts: 3,\n        defaultTimeBetweenRetryAttempts: 3000, // 3 seconds\n        authPromptWidth: 400,\n        authPromptHeight: 600,\n        refresh: {\n            mode: Enums.RefreshMode.Manual,\n            timeBetweenAutomaticRefreshes: 3000, // 3 seconds\n            maximumConsecutiveAutomaticRefreshes: 3,\n            allowManualRefreshesAfterAutomaticRefreshes: true\n        }\n    };\n}\n\nexport const ContentTypes = {\n    applicationJson: \"application/json\",\n    applicationXWwwFormUrlencoded: \"application/x-www-form-urlencoded\"\n};\n\nexport interface ISeparationDefinition {\n    spacing: number;\n    lineThickness?: number;\n    lineColor?: string;\n}\n\nexport interface IInput {\n    id?: string;\n    value?: string;\n    validateValue(): boolean;\n}\n\nexport type Dictionary<T> = { [key: string]: T };\n\nexport class StringWithSubstitutions {\n    private _isProcessed: boolean = false;\n    private _original?: string;\n    private _processed?: string;\n\n    getReferencedInputs(inputs: IInput[], referencedInputs: Dictionary<IInput>) {\n        if (!referencedInputs) {\n            throw new Error(\"The referencedInputs parameter cannot be null.\");\n        }\n\n        if (this._original) {\n            for (const input of inputs) {\n                const matches = new RegExp(\"\\\\{{2}(\" + input.id + \").value\\\\}{2}\", \"gi\").exec(\n                    this._original\n                );\n\n                if (matches != null && input.id) {\n                    referencedInputs[input.id] = input;\n                }\n            }\n        }\n    }\n\n    substituteInputValues(inputs: Dictionary<IInput>, contentType: string) {\n        this._processed = this._original;\n\n        if (this._original) {\n            const regEx = /\\{{2}([a-z0-9_$@]+).value\\}{2}/gi;\n            let matches;\n\n            while ((matches = regEx.exec(this._original)) !== null && this._processed) {\n                for (const key of Object.keys(inputs)) {\n                    if (key.toLowerCase() === matches[1].toLowerCase()) {\n                        const matchedInput = inputs[key];\n\n                        let valueForReplace = \"\";\n\n                        if (matchedInput.value) {\n                            valueForReplace = matchedInput.value;\n                        }\n\n                        if (contentType === ContentTypes.applicationJson) {\n                            valueForReplace = JSON.stringify(valueForReplace);\n                            valueForReplace = valueForReplace.slice(1, -1);\n                        } else if (contentType === ContentTypes.applicationXWwwFormUrlencoded) {\n                            valueForReplace = encodeURIComponent(valueForReplace);\n                        }\n\n                        this._processed = this._processed.replace(matches[0], valueForReplace);\n\n                        break;\n                    }\n                }\n            }\n        }\n\n        this._isProcessed = true;\n    }\n\n    getOriginal(): string | undefined {\n        return this._original;\n    }\n\n    get(): string | undefined {\n        if (!this._isProcessed) {\n            return this._original;\n        } else {\n            return this._processed;\n        }\n    }\n\n    set(value: string | undefined) {\n        this._original = value;\n        this._isProcessed = false;\n    }\n}\n\nexport class SpacingDefinition {\n    left: number = 0;\n    top: number = 0;\n    right: number = 0;\n    bottom: number = 0;\n\n    constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n}\n\nexport class PaddingDefinition {\n    top: Enums.Spacing = Enums.Spacing.None;\n    right: Enums.Spacing = Enums.Spacing.None;\n    bottom: Enums.Spacing = Enums.Spacing.None;\n    left: Enums.Spacing = Enums.Spacing.None;\n\n    constructor(\n        top: Enums.Spacing = Enums.Spacing.None,\n        right: Enums.Spacing = Enums.Spacing.None,\n        bottom: Enums.Spacing = Enums.Spacing.None,\n        left: Enums.Spacing = Enums.Spacing.None\n    ) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n}\n\nexport class SizeAndUnit {\n    physicalSize: number;\n    unit: Enums.SizeUnit;\n\n    static parse(input: string, requireUnitSpecifier: boolean = false): SizeAndUnit {\n        const result = new SizeAndUnit(0, Enums.SizeUnit.Weight);\n\n        if (typeof input === \"number\") {\n            result.physicalSize = input;\n\n            return result;\n        } else if (typeof input === \"string\") {\n            const regExp = /^([0-9]+)(px|\\*)?$/g;\n            const matches = regExp.exec(input);\n            const expectedMatchCount = requireUnitSpecifier ? 3 : 2;\n\n            if (matches && matches.length >= expectedMatchCount) {\n                result.physicalSize = parseInt(matches[1]);\n\n                if (matches.length === 3) {\n                    if (matches[2] === \"px\") {\n                        result.unit = Enums.SizeUnit.Pixel;\n                    }\n                }\n\n                return result;\n            }\n        }\n\n        throw new Error(\"Invalid size: \" + input);\n    }\n\n    constructor(physicalSize: number, unit: Enums.SizeUnit) {\n        this.physicalSize = physicalSize;\n        this.unit = unit;\n    }\n}\n\nexport interface IResourceInformation {\n    url: string;\n    mimeType: string;\n}\n\n/**\n * Fast UUID generator, RFC4122 version 4 compliant.\n * @author Jeff Ward (jcward.com).\n * @license MIT license\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n **/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\nexport class UUID {\n    private static lut: string[] = [];\n\n    static generate(): string {\n        const d0 = (Math.random() * 0xffffffff) | 0;\n        const d1 = (Math.random() * 0xffffffff) | 0;\n        const d2 = (Math.random() * 0xffffffff) | 0;\n        const d3 = (Math.random() * 0xffffffff) | 0;\n\n        return (\n            UUID.lut[d0 & 0xff] +\n            UUID.lut[(d0 >> 8) & 0xff] +\n            UUID.lut[(d0 >> 16) & 0xff] +\n            UUID.lut[(d0 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[d1 & 0xff] +\n            UUID.lut[(d1 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[((d1 >> 16) & 0x0f) | 0x40] +\n            UUID.lut[(d1 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 & 0x3f) | 0x80] +\n            UUID.lut[(d2 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 >> 16) & 0xff] +\n            UUID.lut[(d2 >> 24) & 0xff] +\n            UUID.lut[d3 & 0xff] +\n            UUID.lut[(d3 >> 8) & 0xff] +\n            UUID.lut[(d3 >> 16) & 0xff] +\n            UUID.lut[(d3 >> 24) & 0xff]\n        );\n    }\n\n    static initialize() {\n        for (let i = 0; i < 256; i++) {\n            UUID.lut[i] = (i < 16 ? \"0\" : \"\") + i.toString(16);\n        }\n    }\n}\n\nUUID.initialize();\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class Strings {\n    static readonly errors = {\n        unknownElementType: (typeName: string) =>\n            `Unknown element type \"${typeName}\". Fallback will be used if present.`,\n        unknownActionType: (typeName: string) =>\n            `Unknown action type \"${typeName}\". Fallback will be used if present.`,\n        elementTypeNotAllowed: (typeName: string) =>\n            `Element type \"${typeName}\" is not allowed in this context.`,\n        actionTypeNotAllowed: (typeName: string) =>\n            `Action type \"${typeName}\" is not allowed in this context.`,\n        invalidPropertyValue: (value: any, propertyName: string) =>\n            `Invalid value \"${value}\" for property \"${propertyName}\".`,\n        showCardMustHaveCard: () =>\n            `\"An Action.ShowCard must have its \"card\" property set to a valid AdaptiveCard object.`,\n        invalidColumnWidth: (invalidWidth: string) =>\n            `Invalid column width \"${invalidWidth}\" - defaulting to \"auto\".`,\n        invalidCardVersion: (defaultingToVersion: string) =>\n            `Invalid card version. Defaulting to \"${defaultingToVersion}\".`,\n        invalidVersionString: (versionString: string) =>\n            `Invalid version string \"${versionString}\".`,\n        propertyValueNotSupported: (\n            value: any,\n            propertyName: string,\n            supportedInVersion: string,\n            versionUsed: string\n        ) =>\n            `Value \"${value}\" for property \"${propertyName}\" is supported in version ${supportedInVersion}, but you are using version ${versionUsed}.`,\n        propertyNotSupported: (\n            propertyName: string,\n            supportedInVersion: string,\n            versionUsed: string\n        ) =>\n            `Property \"${propertyName}\" is supported in version ${supportedInVersion}, but you are using version ${versionUsed}.`,\n        indexOutOfRange: (index: number) => `Index out of range (${index}).`,\n        elementCannotBeUsedAsInline: () =>\n            \"RichTextBlock.addInline: the specified card element cannot be used as a RichTextBlock inline.\",\n        inlineAlreadyParented: () =>\n            \"RichTextBlock.addInline: the specified inline already belongs to another RichTextBlock.\",\n        interactivityNotAllowed: () => \"Interactivity is not allowed.\",\n        inputsMustHaveUniqueId: () => \"All inputs must have a unique Id.\",\n        choiceSetMustHaveAtLeastOneChoice: () =>\n            \"An Input.ChoiceSet must have at least one choice defined.\",\n        choiceSetChoicesMustHaveTitleAndValue: () =>\n            \"All choices in an Input.ChoiceSet must have their title and value properties set.\",\n        propertyMustBeSet: (propertyName: string) => `Property \"${propertyName}\" must be set.`,\n        actionHttpHeadersMustHaveNameAndValue: () =>\n            \"All headers of an Action.Http must have their name and value properties set.\",\n        tooManyActions: (maximumActions: number) =>\n            `Maximum number of actions exceeded (${maximumActions}).`,\n        tooLittleTimeDelay: (minAutoplayDelay: number) =>\n            `Autoplay Delay is too short (${minAutoplayDelay}).`,\n        tooManyCarouselPages: (maxCarouselPages: number) =>\n            `Maximum number of Carousel pages exceeded (${maxCarouselPages}).`,\n        invalidInitialPageIndex: (initialPageIndex: number) =>\n            `InitialPage for carousel is invalid (${initialPageIndex}).`,\n        columnAlreadyBelongsToAnotherSet: () => \"This column already belongs to another ColumnSet.\",\n        invalidCardType: () =>\n            `Invalid or missing card type. Make sure the card's type property is set to \"AdaptiveCard\".`,\n        unsupportedCardVersion: (version: string, maxSupportedVersion: string) =>\n            `The specified card version (${version}) is not supported or still in preview. The latest released card version is ${maxSupportedVersion}.`,\n        duplicateId: (id: string) => `Duplicate Id \"${id}\".`,\n        markdownProcessingNotEnabled: () =>\n            \"Markdown processing isn't enabled. Please see https://www.npmjs.com/package/adaptivecards#supporting-markdown\",\n        processMarkdownEventRemoved: () =>\n            \"The processMarkdown event has been removed. Please update your code and set onProcessMarkdown instead.\",\n        elementAlreadyParented: () => \"The element already belongs to another container.\",\n        actionAlreadyParented: () => \"The action already belongs to another element.\",\n        elementTypeNotStandalone: (typeName: string) =>\n            `Elements of type ${typeName} cannot be used as standalone elements.`,\n        invalidInputLabelWidth: () =>\n            `Invalid input label width. Defaulting to label width from host config.`,\n    };\n    static readonly magicCodeInputCard = {\n        tryAgain: () => \"That didn't work... let's try again.\",\n        pleaseLogin: () =>\n            'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n        enterMagicCode: () => \"Enter magic code\",\n        pleaseEnterMagicCodeYouReceived: () => \"Please enter the magic code you received.\",\n        submit: () => \"Submit\",\n        cancel: () => \"Cancel\",\n        somethingWentWrong: () => \"Something went wrong. This action can't be handled.\",\n        authenticationFailed: () => \"Authentication failed.\"\n    };\n    static readonly runtime = {\n        automaticRefreshPaused: () => \"Automatic refresh paused.\",\n        clckToRestartAutomaticRefresh: () => \"Click to restart.\",\n        refreshThisCard: () => \"Refresh this card\"\n    };\n    static readonly hints = {\n        dontUseWeightedAndStrecthedColumnsInSameSet: () =>\n            \"It is not recommended to use weighted and stretched columns in the same ColumnSet, because in such a situation stretched columns will always get the minimum amount of space.\"\n    };\n    static readonly defaults = {\n        inlineActionTitle: () => \"Inline Action\",\n        overflowButtonText: () => \"...\",\n        overflowButtonTooltip: () => \"More options\",\n        mediaPlayerAriaLabel: () => \"Media content\",\n        mediaPlayerPlayMedia: () => \"Play media\",\n        youTubeVideoPlayer: () => \"YouTube video player\",\n        vimeoVideoPlayer: () => \"Vimeo video player\",\n        dailymotionVideoPlayer: () => \"Dailymotion video player\",\n        carouselNavigationPreviousTooltip: () => \"Previous carousel page\",\n        carouselNavigationNextTooltip: () => \"Next carousel page\"\n    };\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport {\n    CardElement,\n    StylableCardElementContainer,\n    SerializationContext,\n    Container,\n    ContainerStyleProperty\n} from \"./card-elements\";\nimport {\n    HorizontalAlignment,\n    VerticalAlignment,\n    SizeUnit,\n    ValidationEvent,\n    TypeErrorType,\n    Spacing\n} from \"./enums\";\nimport { TextStyleDefinition } from \"./host-config\";\nimport { GlobalRegistry } from \"./registry\";\nimport {\n    BaseSerializationContext,\n    BoolProperty,\n    CustomProperty,\n    EnumProperty,\n    property,\n    PropertyBag,\n    PropertyDefinition,\n    SerializableObject,\n    SerializableObjectCollectionProperty,\n    Versions\n} from \"./serialization\";\nimport { SizeAndUnit, PaddingDefinition } from \"./shared\";\nimport { Strings } from \"./strings\";\nimport { stringToCssColor } from \"./utils\";\n\nexport class TableColumnDefinition extends SerializableObject {\n    //#region Schema\n\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    static readonly widthProperty = new CustomProperty<SizeAndUnit>(\n        Versions.v1_5,\n        \"width\",\n        (\n            sender: SerializableObject,\n            prop: PropertyDefinition,\n            source: PropertyBag,\n            context: BaseSerializationContext\n        ) => {\n            let result: SizeAndUnit = prop.defaultValue;\n            const value = source[prop.name];\n            let invalidWidth = false;\n\n            if (typeof value === \"number\" && !isNaN(value)) {\n                result = new SizeAndUnit(value, SizeUnit.Weight);\n            } else if (typeof value === \"string\") {\n                try {\n                    result = SizeAndUnit.parse(value);\n                } catch (e) {\n                    invalidWidth = true;\n                }\n            } else {\n                invalidWidth = true;\n            }\n\n            if (invalidWidth) {\n                context.logParseEvent(\n                    sender,\n                    ValidationEvent.InvalidPropertyValue,\n                    Strings.errors.invalidColumnWidth(value)\n                );\n            }\n\n            return result;\n        },\n        (\n            sender: SerializableObject,\n            property: PropertyDefinition,\n            target: PropertyBag,\n            value: SizeAndUnit,\n            context: BaseSerializationContext\n        ) => {\n            if (value.unit === SizeUnit.Pixel) {\n                context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n            } else {\n                context.serializeNumber(target, \"width\", value.physicalSize);\n            }\n        },\n        new SizeAndUnit(1, SizeUnit.Weight)\n    );\n\n    @property(TableColumnDefinition.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(TableColumnDefinition.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    @property(TableColumnDefinition.widthProperty)\n    width: SizeAndUnit = new SizeAndUnit(1, SizeUnit.Weight);\n\n    getSchemaKey(): string {\n        return \"ColumnDefinition\";\n    }\n\n    //#endregion\n\n    computedWidth: SizeAndUnit;\n}\n\nexport abstract class StylableContainer<\n    T extends CardElement\n> extends StylableCardElementContainer {\n    private _items: T[] = [];\n\n    private parseItem(source: any, context: SerializationContext): T | undefined {\n        return context.parseCardObject<T>(\n            this,\n            source,\n            [], // Forbidden types not supported for elements for now\n            !this.isDesignMode(),\n            (typeName: string) => {\n                return this.createItemInstance(typeName);\n            },\n            (typeName: string, _errorType: TypeErrorType) => {\n                context.logParseEvent(\n                    undefined,\n                    ValidationEvent.ElementTypeNotAllowed,\n                    Strings.errors.elementTypeNotAllowed(typeName)\n                );\n            }\n        );\n    }\n\n    protected abstract getCollectionPropertyName(): string;\n    protected abstract createItemInstance(typeName: string): T | undefined;\n\n    protected internalAddItem(item: T) {\n        if (!item.parent) {\n            this._items.push(item);\n\n            item.setParent(this);\n        } else {\n            throw new Error(Strings.errors.elementAlreadyParented());\n        }\n    }\n\n    protected internalRemoveItem(item: T): boolean {\n        const itemIndex = this._items.indexOf(item);\n\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n\n            item.setParent(undefined);\n\n            this.updateLayout();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    protected internalIndexOf(item: T): number {\n        return this._items.indexOf(item);\n    }\n\n    protected internalParse(source: any, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this._items = [];\n\n        const items = source[this.getCollectionPropertyName()];\n\n        if (Array.isArray(items)) {\n            for (const item of items) {\n                const instance = this.parseItem(item, context);\n\n                if (instance) {\n                    this._items.push(instance);\n                }\n            }\n        }\n    }\n\n    protected internalToJSON(target: PropertyBag, context: SerializationContext) {\n        super.internalToJSON(target, context);\n\n        context.serializeArray(target, this.getCollectionPropertyName(), this._items);\n    }\n\n    removeItem(item: T): boolean {\n        return this.internalRemoveItem(item);\n    }\n\n    getItemCount(): number {\n        return this._items.length;\n    }\n\n    getItemAt(index: number): T {\n        return this._items[index];\n    }\n\n    getFirstVisibleRenderedItem(): T | undefined {\n        return this.getItemCount() > 0 ? this.getItemAt(0) : undefined;\n    }\n\n    getLastVisibleRenderedItem(): T | undefined {\n        return this.getItemCount() > 0 ? this.getItemAt(this.getItemCount() - 1) : undefined;\n    }\n}\n\nexport type CellType = \"data\" | \"header\";\n\nexport class TableCell extends Container {\n    private _columnIndex: number = -1;\n    private _cellType: CellType = \"data\";\n\n    protected getHasBorder(): boolean {\n        return this.parentRow.parentTable.showGridLines;\n    }\n\n    protected applyBorder() {\n        if (this.renderedElement && this.getHasBorder()) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.parentRow.parentTable.gridStyle\n            );\n\n            if (styleDefinition.borderColor) {\n                const borderColor = stringToCssColor(styleDefinition.borderColor);\n\n                if (borderColor) {\n                    this.renderedElement.style.borderRight = \"1px solid \" + borderColor;\n                    this.renderedElement.style.borderBottom = \"1px solid \" + borderColor;\n                }\n            }\n        }\n    }\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new PaddingDefinition(Spacing.Small, Spacing.Small, Spacing.Small, Spacing.Small)\n            : super.getDefaultPadding();\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const cellElement = super.internalRender();\n\n        if (cellElement) {\n            cellElement.setAttribute(\"role\", this.cellType === \"data\" ? \"cell\" : \"columnheader\");\n            cellElement.style.minWidth = \"0\";\n\n            if (this.cellType === \"header\") {\n                cellElement.setAttribute(\"scope\", \"col\");\n            }\n        }\n\n        return cellElement;\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    getJsonTypeName(): string {\n        return \"TableCell\";\n    }\n\n    getEffectiveTextStyleDefinition(): TextStyleDefinition {\n        if (this.cellType === \"header\") {\n            return this.hostConfig.textStyles.columnHeader;\n        }\n\n        return super.getEffectiveTextStyleDefinition();\n    }\n\n    getEffectiveHorizontalAlignment(): HorizontalAlignment {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n\n        if (this.parentRow.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.horizontalCellContentAlignment;\n        }\n\n        if (this.columnIndex >= 0) {\n            const horizontalAlignment = this.parentRow.parentTable.getColumnAt(\n                this.columnIndex\n            ).horizontalCellContentAlignment;\n\n            if (horizontalAlignment !== undefined) {\n                return horizontalAlignment;\n            }\n        }\n\n        if (this.parentRow.parentTable.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.horizontalCellContentAlignment;\n        }\n\n        return super.getEffectiveHorizontalAlignment();\n    }\n\n    getEffectiveVerticalContentAlignment(): VerticalAlignment {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n\n        if (this.parentRow.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.verticalCellContentAlignment;\n        }\n\n        if (this.columnIndex >= 0) {\n            const verticalAlignment = this.parentRow.parentTable.getColumnAt(\n                this.columnIndex\n            ).verticalCellContentAlignment;\n\n            if (verticalAlignment !== undefined) {\n                return verticalAlignment;\n            }\n        }\n\n        if (this.parentRow.parentTable.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.verticalCellContentAlignment;\n        }\n\n        return super.getEffectiveVerticalContentAlignment();\n    }\n\n    get columnIndex(): number {\n        return this._columnIndex;\n    }\n\n    get cellType(): CellType {\n        return this._cellType;\n    }\n\n    get parentRow(): TableRow {\n        return this.parent as TableRow;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class TableRow extends StylableContainer<TableCell> {\n    //#region Schema\n\n    static readonly styleProperty = new ContainerStyleProperty(Versions.v1_5, \"style\");\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    @property(TableRow.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(TableRow.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    //#endregion\n\n    protected getDefaultPadding(): PaddingDefinition {\n        return new PaddingDefinition(Spacing.None, Spacing.None, Spacing.None, Spacing.None);\n    }\n\n    protected applyBackground() {\n        if (this.renderedElement) {\n            const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                this.style,\n                this.hostConfig.containerStyles.getStyleByName(this.defaultStyle)\n            );\n\n            if (styleDefinition.backgroundColor) {\n                const bgColor = stringToCssColor(styleDefinition.backgroundColor);\n\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    }\n\n    protected getCollectionPropertyName(): string {\n        return \"cells\";\n    }\n\n    protected createItemInstance(typeName: string): TableCell | undefined {\n        return !typeName || typeName === \"TableCell\" ? new TableCell() : undefined;\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        const isFirstRow = this.getIsFirstRow();\n        const cellSpacing = this.hostConfig.table.cellSpacing;\n\n        const rowElement = document.createElement(\"div\");\n        rowElement.setAttribute(\"role\", \"row\");\n        rowElement.style.display = \"flex\";\n        rowElement.style.flexDirection = \"row\";\n\n        for (let i = 0; i < Math.min(this.getItemCount(), this.parentTable.getColumnCount()); i++) {\n            const cell = this.getItemAt(i);\n\n            // Cheating a bit in order to keep cellType read-only\n            cell[\"_columnIndex\"] = i;\n            cell[\"_cellType\"] =\n                this.parentTable.firstRowAsHeaders && isFirstRow ? \"header\" : \"data\";\n\n            const renderedCell = cell.render();\n\n            if (renderedCell) {\n                const column = this.parentTable.getColumnAt(i);\n\n                if (column.computedWidth.unit === SizeUnit.Pixel) {\n                    renderedCell.style.flex = \"0 0 \" + column.computedWidth.physicalSize + \"px\";\n                } else {\n                    renderedCell.style.flex = \"1 1 \" + column.computedWidth.physicalSize + \"%\";\n                }\n\n                if (i > 0 && !this.parentTable.showGridLines && cellSpacing > 0) {\n                    renderedCell.style.marginLeft = cellSpacing + \"px\";\n                }\n\n                rowElement.appendChild(renderedCell);\n            }\n        }\n\n        return rowElement.children.length > 0 ? rowElement : undefined;\n    }\n\n    protected shouldSerialize(_context: SerializationContext): boolean {\n        return true;\n    }\n\n    addCell(cell: TableCell) {\n        this.internalAddItem(cell);\n    }\n\n    removeCellAt(columnIndex: number): boolean {\n        if (columnIndex >= 0 && columnIndex < this.getItemCount()) {\n            return this.removeItem(this.getItemAt(columnIndex));\n        }\n\n        return false;\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof TableCell ? this.internalIndexOf(cardElement) : -1;\n    }\n\n    ensureHasEnoughCells(cellCount: number) {\n        while (this.getItemCount() < cellCount) {\n            this.addCell(new TableCell());\n        }\n    }\n\n    getJsonTypeName(): string {\n        return \"TableRow\";\n    }\n\n    getIsFirstRow(): boolean {\n        return this.parentTable.getItemAt(0) === this;\n    }\n\n    get parentTable(): Table {\n        return this.parent as Table;\n    }\n\n    get isStandalone(): boolean {\n        return false;\n    }\n}\n\nexport class Table extends StylableContainer<TableRow> {\n    //#region Schema\n\n    private static readonly _columnsProperty = new SerializableObjectCollectionProperty(\n        Versions.v1_5,\n        \"columns\",\n        TableColumnDefinition\n    );\n\n    static readonly firstRowAsHeadersProperty = new BoolProperty(\n        Versions.v1_5,\n        \"firstRowAsHeaders\",\n        true\n    );\n    static readonly showGridLinesProperty = new BoolProperty(Versions.v1_5, \"showGridLines\", true);\n    static readonly gridStyleProperty = new ContainerStyleProperty(Versions.v1_5, \"gridStyle\");\n    static readonly horizontalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"horizontalCellContentAlignment\",\n        HorizontalAlignment\n    );\n    static readonly verticalCellContentAlignmentProperty = new EnumProperty(\n        Versions.v1_5,\n        \"verticalCellContentAlignment\",\n        VerticalAlignment\n    );\n\n    @property(Table._columnsProperty)\n    private _columns: TableColumnDefinition[] = [];\n\n    @property(Table.firstRowAsHeadersProperty)\n    firstRowAsHeaders: boolean = true;\n\n    @property(Table.showGridLinesProperty)\n    showGridLines: boolean = true;\n\n    @property(Table.gridStyleProperty)\n    get gridStyle(): string | undefined {\n        const style = this.getValue(Table.gridStyleProperty);\n\n        if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n            return style;\n        }\n\n        return undefined;\n    }\n\n    set gridStyle(value: string | undefined) {\n        this.setValue(Table.gridStyleProperty, value);\n    }\n\n    @property(Table.horizontalCellContentAlignmentProperty)\n    horizontalCellContentAlignment?: HorizontalAlignment;\n\n    @property(Table.verticalCellContentAlignmentProperty)\n    verticalCellContentAlignment?: VerticalAlignment;\n\n    //#endregion\n\n    private ensureRowsHaveEnoughCells() {\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).ensureHasEnoughCells(this.getColumnCount());\n        }\n    }\n\n    private removeCellsFromColumn(columnIndex: number) {\n        for (let i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).removeCellAt(columnIndex);\n        }\n    }\n\n    protected getCollectionPropertyName(): string {\n        return \"rows\";\n    }\n\n    protected createItemInstance(typeName: string): TableRow | undefined {\n        return !typeName || typeName === \"TableRow\" ? new TableRow() : undefined;\n    }\n\n    protected internalParse(source: PropertyBag, context: SerializationContext) {\n        super.internalParse(source, context);\n\n        this.ensureRowsHaveEnoughCells();\n    }\n\n    protected internalRender(): HTMLElement | undefined {\n        if (this.getItemCount() > 0) {\n            let totalWeights: number = 0;\n\n            for (const column of this._columns) {\n                if (column.width.unit === SizeUnit.Weight) {\n                    totalWeights += column.width.physicalSize;\n                }\n            }\n\n            for (const column of this._columns) {\n                if (column.width.unit === SizeUnit.Pixel) {\n                    column.computedWidth = new SizeAndUnit(\n                        column.width.physicalSize,\n                        SizeUnit.Pixel\n                    );\n                } else {\n                    column.computedWidth = new SizeAndUnit(\n                        (100 / totalWeights) * column.width.physicalSize,\n                        SizeUnit.Weight\n                    );\n                }\n            }\n\n            const tableElement = document.createElement(\"div\");\n            tableElement.setAttribute(\"role\", \"table\");\n            tableElement.style.display = \"flex\";\n            tableElement.style.flexDirection = \"column\";\n\n            if (this.showGridLines) {\n                const styleDefinition = this.hostConfig.containerStyles.getStyleByName(\n                    this.gridStyle\n                );\n\n                if (styleDefinition.borderColor) {\n                    const borderColor = stringToCssColor(styleDefinition.borderColor);\n\n                    if (borderColor) {\n                        tableElement.style.borderTop = \"1px solid \" + borderColor;\n                        tableElement.style.borderLeft = \"1px solid \" + borderColor;\n                    }\n                }\n            }\n\n            const cellSpacing = this.hostConfig.table.cellSpacing;\n\n            for (let i = 0; i < this.getItemCount(); i++) {\n                const renderedRow = this.getItemAt(i).render();\n\n                if (renderedRow) {\n                    if (i > 0 && !this.showGridLines && cellSpacing > 0) {\n                        const separatorRow = document.createElement(\"div\");\n                        separatorRow.setAttribute(\"aria-hidden\", \"true\");\n                        separatorRow.style.height = cellSpacing + \"px\";\n\n                        tableElement.appendChild(separatorRow);\n                    }\n\n                    tableElement.appendChild(renderedRow);\n                }\n            }\n\n            return tableElement;\n        }\n\n        return undefined;\n    }\n\n    addColumn(column: TableColumnDefinition) {\n        this._columns.push(column);\n\n        this.ensureRowsHaveEnoughCells();\n    }\n\n    removeColumn(column: TableColumnDefinition) {\n        const index = this._columns.indexOf(column);\n\n        if (index >= 0) {\n            this.removeCellsFromColumn(index);\n\n            this._columns.splice(index, 1);\n        }\n    }\n\n    getColumnCount(): number {\n        return this._columns.length;\n    }\n\n    getColumnAt(index: number): TableColumnDefinition {\n        return this._columns[index];\n    }\n\n    addRow(row: TableRow) {\n        this.internalAddItem(row);\n\n        row.ensureHasEnoughCells(this.getColumnCount());\n    }\n\n    indexOf(cardElement: CardElement): number {\n        return cardElement instanceof TableRow ? this.internalIndexOf(cardElement) : -1;\n    }\n\n    getJsonTypeName(): string {\n        return \"Table\";\n    }\n}\n\nGlobalRegistry.defaultElements.register(\"Table\", Table, Versions.v1_5);\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nabstract class AbstractTextFormatter {\n    private _regularExpression: RegExp;\n\n    protected abstract internalFormat(lang: string | undefined, matches: RegExpExecArray): string;\n\n    constructor(regularExpression: RegExp) {\n        this._regularExpression = regularExpression;\n    }\n\n    format(lang: string | undefined, input: string | undefined): string | undefined {\n        let matches;\n\n        if (input) {\n            let result = input;\n\n            while ((matches = this._regularExpression.exec(input)) != null) {\n                result = result.replace(matches[0], this.internalFormat(lang, matches));\n            }\n\n            return result;\n        } else {\n            return input;\n        }\n    }\n}\n\nclass DateFormatter extends AbstractTextFormatter {\n    protected internalFormat(lang: string | undefined, matches: RegExpExecArray): string {\n        const date = new Date(Date.parse(matches[1]));\n        const format = matches[2] !== undefined ? matches[2].toLowerCase() : \"compact\";\n\n        if (format !== \"compact\") {\n            return date.toLocaleDateString(lang, {\n                day: \"numeric\",\n                weekday: format,\n                month: format,\n                year: \"numeric\"\n            } as Intl.DateTimeFormatOptions);\n        } else {\n            return date.toLocaleDateString();\n        }\n    }\n}\n\nclass TimeFormatter extends AbstractTextFormatter {\n    protected internalFormat(lang: string | undefined, matches: RegExpExecArray): string {\n        const date = new Date(Date.parse(matches[1]));\n\n        return date.toLocaleTimeString(lang, { hour: \"numeric\", minute: \"2-digit\" });\n    }\n}\n\nexport function formatText(lang: string | undefined, text: string | undefined): string | undefined {\n    const formatters: AbstractTextFormatter[] = [\n        new DateFormatter(\n            /\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g\n        ),\n        new TimeFormatter(\n            /\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g\n        )\n    ];\n\n    let result = text;\n\n    for (const formatter of formatters) {\n        result = formatter.format(lang, result);\n    }\n\n    return result;\n}\n","// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport * as Enums from \"./enums\";\nimport * as Shared from \"./shared\";\n\n// To work around TypeScript complaining about documentMode not being declared\n// on type Document\ndeclare global {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    interface Document {\n        documentMode?: any;\n    }\n}\n\nexport function isInternetExplorer(): boolean {\n    // The documentMode property only exists in IE\n    return window.document.documentMode !== undefined;\n}\n\nexport function isMobileOS(): boolean {\n    const userAgent = window.navigator.userAgent;\n\n    return (\n        !!userAgent.match(/Android/i) || !!userAgent.match(/iPad/i) || !!userAgent.match(/iPhone/i)\n    );\n}\n\n/**\n * Generate a UUID prepended with \"__ac-\"\n */\nexport function generateUniqueId(): string {\n    return \"__ac-\" + Shared.UUID.generate();\n}\n\nexport function appendChild(node: Node, child: Node | undefined) {\n    if (child) {\n        node.appendChild(child);\n    }\n}\n\nexport function parseString(obj: any, defaultValue?: string): string | undefined {\n    return typeof obj === \"string\" ? obj : defaultValue;\n}\n\nexport function parseNumber(obj: any, defaultValue?: number): number | undefined {\n    return typeof obj === \"number\" ? obj : defaultValue;\n}\n\nexport function parseBool(value: any, defaultValue?: boolean): boolean | undefined {\n    if (typeof value === \"boolean\") {\n        return value;\n    } else if (typeof value === \"string\") {\n        switch (value.toLowerCase()) {\n            case \"true\":\n                return true;\n            case \"false\":\n                return false;\n            default:\n                return defaultValue;\n        }\n    }\n\n    return defaultValue;\n}\n\nexport function getEnumValueByName(\n    enumType: { [s: number]: string },\n    name: string\n): number | undefined {\n    // eslint-disable-next-line guard-for-in\n    for (const key in enumType) {\n        const keyAsNumber = parseInt(key, 10);\n\n        if (keyAsNumber >= 0) {\n            const value = enumType[key];\n\n            if (value && typeof value === \"string\" && value.toLowerCase() === name.toLowerCase()) {\n                return keyAsNumber;\n            }\n        }\n    }\n\n    return undefined;\n}\n\nexport function parseEnum(\n    enumType: { [s: number]: string },\n    name: string,\n    defaultValue?: number\n): number | undefined {\n    if (!name) {\n        return defaultValue;\n    }\n\n    const enumValue = getEnumValueByName(enumType, name);\n\n    return enumValue !== undefined ? enumValue : defaultValue;\n}\n\nexport function stringToCssColor(color: string | undefined): string | undefined {\n    if (color) {\n        const regEx = /#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?/gi;\n        const matches = regEx.exec(color);\n\n        if (matches && matches[4]) {\n            const a = parseInt(matches[1], 16) / 255;\n            const r = parseInt(matches[2], 16);\n            const g = parseInt(matches[3], 16);\n            const b = parseInt(matches[4], 16);\n\n            return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n        }\n    }\n\n    return color;\n}\n\nfunction truncateWorker(\n    element: HTMLElement,\n    maxHeight: number,\n    fullText: string,\n    truncateAt: (text: string, idx: number) => void,\n    lineHeight?: number\n) {\n    const fits = () => {\n        // Allow a one pixel overflow to account for rounding differences\n        // between browsers\n        return maxHeight - element.scrollHeight >= -1.0;\n    };\n\n    if (fits()) {\n        return;\n    }\n\n    const breakableIndices = findBreakableIndices(fullText);\n    let lo = 0;\n    let hi = breakableIndices.length;\n    let bestBreakIdx = 0;\n\n    // Do a binary search for the longest string that fits\n    while (lo < hi) {\n        const mid = Math.floor((lo + hi) / 2);\n        truncateAt(fullText, breakableIndices[mid]);\n\n        if (fits()) {\n            bestBreakIdx = breakableIndices[mid];\n            lo = mid + 1;\n        } else {\n            hi = mid;\n        }\n    }\n\n    truncateAt(fullText, bestBreakIdx);\n\n    // If we have extra room, try to expand the string letter by letter\n    // (covers the case where we have to break in the middle of a long word)\n    if (lineHeight && maxHeight - element.scrollHeight >= lineHeight - 1.0) {\n        let idx = findNextCharacter(fullText, bestBreakIdx);\n\n        while (idx < fullText.length) {\n            truncateAt(fullText, idx);\n\n            if (fits()) {\n                bestBreakIdx = idx;\n                idx = findNextCharacter(fullText, idx);\n            } else {\n                break;\n            }\n        }\n\n        truncateAt(fullText, bestBreakIdx);\n    }\n}\n\nexport function truncateText(element: HTMLElement, maxHeight: number, lineHeight?: number) {\n    truncateWorker(\n        element,\n        maxHeight,\n        element.innerText,\n        (text: string, idx: number) => {\n            element.innerText = text.substring(0, idx) + \"...\";\n        },\n        lineHeight\n    );\n}\n\n/**\n * {@link truncate} has been deprecated and is no longer in use internally. This policy passes\n * content through as it always has, which is _supposed_ to be dealing with text only (see {@link\n * TextBlock.truncateIfSupported}), but had a bug where it might actually pass through an element\n * for which innerHTML yielded actual HTML (since fixed).\n */\nconst ttDeprecatedPolicy = (typeof window === 'undefined') ? undefined : window.trustedTypes?.createPolicy(\"adaptivecards#deprecatedExportedFunctionPolicy\", {\n    createHTML: (value) => value\n});\n\n/** @deprecated Use {@link truncateText} instead. */\nexport function truncate(element: HTMLElement, maxHeight: number, lineHeight?: number) {\n    truncateWorker(\n        element,\n        maxHeight,\n        element.innerHTML,\n        (text: string, idx: number) => {\n            const truncatedString = text.substring(0, idx) + \"...\";\n            const truncatedHTML =\n                ttDeprecatedPolicy?.createHTML(truncatedString) ?? truncatedString;\n            element.innerHTML = truncatedHTML as string;\n        },\n        lineHeight\n    );\n}\n\nfunction findBreakableIndices(html: string): number[] {\n    const results: number[] = [];\n    let idx = findNextCharacter(html, -1);\n\n    while (idx < html.length) {\n        if (html[idx] === \" \") {\n            results.push(idx);\n        }\n\n        idx = findNextCharacter(html, idx);\n    }\n\n    return results;\n}\n\nfunction findNextCharacter(html: string, currIdx: number): number {\n    currIdx += 1;\n\n    // If we found the start of an HTML tag, keep advancing until we get\n    // past it, so we don't end up truncating in the middle of the tag\n    while (currIdx < html.length && html[currIdx] === \"<\") {\n        while (currIdx < html.length && html[currIdx++] !== \">\") {\n            continue;\n        }\n    }\n\n    return currIdx;\n}\n\nexport function getFitStatus(element: HTMLElement, containerEnd: number): Enums.ContainerFitStatus {\n    const start = element.offsetTop;\n    const end = start + element.clientHeight;\n\n    if (end <= containerEnd) {\n        return Enums.ContainerFitStatus.FullyInContainer;\n    } else if (start < containerEnd) {\n        return Enums.ContainerFitStatus.Overflowing;\n    } else {\n        return Enums.ContainerFitStatus.FullyOutOfContainer;\n    }\n}\n\nexport function getScrollX(): number {\n    return window.pageXOffset;\n}\n\nexport function getScrollY(): number {\n    return window.pageYOffset;\n}\n\nexport function clearElementChildren(element: HTMLElement) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n}\n\nexport function addCancelSelectActionEventHandler(element: HTMLElement) {\n    element.onclick = (e) => {\n        e.preventDefault();\n        e.cancelBubble = true;\n    };\n}\n","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.4\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2022, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: January 11, 2022\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  const to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < arguments.length; i += 1) {\n    const nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll(_ref) {\n  let {\n    swiper,\n    targetPosition,\n    side\n  } = _ref;\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit() {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","export default function transitionEmit(_ref) {\n  let {\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  } = _ref;\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor() {\n    let el;\n    let params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view, exact) {\n    if (view === void 0) {\n      view = 'current';\n    }\n\n    if (exact === void 0) {\n      exact = false;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import { getWindow } from 'ssr-window';\nexport default function Resize(_ref) {\n  let {\n    swiper,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(_ref2 => {\n          let {\n            contentBoxSize,\n            contentRect,\n            target\n          } = _ref2;\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const observers = [];\n  const window = getWindow();\n\n  const attach = function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","export default function classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nexport default function Parallax(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = function (duration) {\n    if (duration === void 0) {\n      duration = swiper.params.speed;\n    }\n\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate) {\n    if (loadInDuplicate === void 0) {\n      loadInDuplicate = true;\n    }\n\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}","/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}","import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size) {\n    if (size === void 0) {\n      size = 16;\n    }\n\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handleFocus = e => {\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function History(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    emit,\n    on\n  } = _ref;\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}","import { now } from '../../shared/utils.js';\nexport default function freeMode(_ref) {\n  let {\n    swiper,\n    extendParams,\n    emit,\n    once\n  } = _ref;\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd(_ref2) {\n    let {\n      currentPos\n    } = _ref2;\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}","export default function Grid(_ref) {\n  let {\n    swiper,\n    extendParams\n  } = _ref;\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}","export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation(_ref) {\n  let {\n    swiper\n  } = _ref;\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}","export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","export default function effectVirtualTransitionEnd(_ref) {\n  let {\n    swiper,\n    duration,\n    transformEl,\n    allSlides\n  } = _ref;\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}","import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -2 * progress;\n      let tXAdd = 8 - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(402);\n"],"names":["root","factory","exports","module","define","amd","this","ActivityRequestTrigger","ActivityRequestError","code","message","request","ActivityResponse","rawContent","SuccessResponse","error","ErrorResponse","auth","_auth","buttons","button","type","undefined","value","URL","signinButton","e","tokenExchangeResource","LoginRequestResponse","logEvent","level","GlobalSettings","applets","logEnabled","onLogEvent","optionalParams","Enums","LogLevel","Warning","console","warn","Error","log","action","trigger","consecutiveRefreshes","attemptNumber","retryAsync","onSend","_allowAutomaticCardUpdate","renderedElement","document","createElement","className","style","position","display","flexDirection","_cardHostElement","_refreshButtonHostElement","appendChild","displayCard","card","Utils","clearElementChildren","showManualRefreshButton","refreshAction","onShowManualRefreshButton","renderedRefreshButton","onRenderManualRefreshButton","Strings","runtime","refreshThisCard","refresh","mode","RefreshMode","Automatic","autoRefreshPausedMessage","automaticRefreshPaused","length","clckToRestartAutomaticRefresh","cardPayload","version","body","horizontalAlignment","inlines","text","selectAction","id","AdaptiveCard","parse","SerializationContext","Versions","v1_2","onExecuteAction","internalExecuteAction","render","removeProperty","createActivityRequest","ActivityRequest","sender","internalSendActivityRequestAsync","onPrepareActivityRequest","createMagicCodeInputCard","payload","color","wrap","placeholder","actions","AdaptiveApplet","_submitMagicCodeActionId","title","_cancelMagicCodeAuthActionId","cancelAutomaticRefresh","createSerializationContext","onCreateSerializationContext","internalSetCard","_cardPayload","hostConfig","serializationContext","onCardChanging","_card","authentication","onPrefetchSSOToken","Manual","onInputValueChanged","_input","onCardChanged","maximumConsecutiveAutomaticRefreshes","timeBetweenAutomaticRefreshes","Info","window","setTimeout","Disabled","allowManualRefreshesAfterAutomaticRefreshes","ExecuteAction","channelAdapter","onAction","createProgressOverlay","_progressOverlay","onCreateProgressOverlay","spinner","width","height","removeProgressOverlay","onRemoveProgressOverlay","removeChild","activityRequestSucceeded","response","parsedContent","onActivityRequestSucceeded","activityRequestFailed","onActivityRequestFailed","defaultTimeBetweenRetryAttempts","showAuthCodeInputDialog","onShowAuthCodeInputDialog","authCodeInputCard","submitMagicCodeAction","SubmitAction","authCode","data","alert","magicCodeInputCard","somethingWentWrong","overlay","done","sendRequestAsync","JSON","maximumRetryAttempts","Promise","resolve","_reject","attemptOAuth","onSSOTokenNeeded","onShowSigninPrompt","left","screenX","outerWidth","authPromptWidth","screenY","outerHeight","authPromptHeight","open","authenticationFailed","stringify","refreshCard","setCard","clearElement","element","trustedHtml","trustedTypes","emptyHTML","innerHTML","renderSeparation","separationDefinition","orientation","spacing","lineThickness","separator","makeCssClassName","Orientation","Horizontal","setAttribute","lineColor","stringToCssColor","paddingTop","marginBottom","borderBottom","paddingLeft","marginRight","borderRight","overflow","flex","_truncatedDueToOverflow","getValue","CardElement","langProperty","parent","lang","setValue","isVisibleProperty","useAdvancedCardBottomTruncation","undoOverflowTruncation","isVisible","updateRenderedElementVisibility","_renderedElement","raiseElementVisibilityChangedEvent","toString","internalRenderSeparator","renderedSeparator","getEffectiveSpacing","separatorOrientation","alwaysBleedSeparators","parentContainer","getParentContainer","getEffectivePadding","parentPhysicalPadding","paddingDefinitionToSpacingDefinition","marginLeft","right","displayMode","isDesignMode","_defaultRenderedElementDisplayMode","_separatorElement","isFirstElement","hideElementDueToOverflow","visibility","showElementHiddenDueToOverflow","handleOverflow","maxHeight","isHiddenDueToOverflow","handled","truncateOverflow","resetOverflow","sizeChanged","getDefaultSerializationContext","createPlaceholderElement","styleDefinition","getEffectiveStyleDefinition","foregroundCssColor","foregroundColors","default","subtle","border","padding","minHeight","fontSize","innerText","getJsonTypeName","adjustRenderedElementSize","updateInputsVisualState","hover","allInputs","getAllInputs","inputEventType","InputEventType","MouseEnterOnCard","MouseLeaveOnCard","forEach","input","updateVisualState","isDisplayed","offsetHeight","overrideInternalRender","internalRender","applyPadding","separatorElement","isBleeding","PaddingDefinition","getImmediateSurroundingPadding","physicalPadding","_maxHeight","getDefaultPadding","getHasBackground","ignoreBackgroundImages","getHasBorder","getPadding","_padding","setPadding","shouldSerialize","context","elementRegistry","findByName","ContainerStyle","Default","source","asString","getEffectiveStyle","defaultStyle","containerStyles","getStyleByName","getEffectiveTextStyleDefinition","textStyles","getForbiddenActionTypes","result","processTop","processRight","processBottom","processLeft","doProcessTop","isTopElement","doProcessRight","isRightMostElement","doProcessBottom","isBottomElement","doProcessLeft","isLeftMostElement","effectivePadding","top","Spacing","None","bottom","getActionCount","getActionAt","index","errors","indexOutOfRange","indexOfAction","i","remove","CardElementContainer","removeItem","customCssSelector","classList","add","boxSizing","updateLayout","_processChildren","updateActionsEnabledState","getRootElement","getAllActions","updateEnabledState","indexOf","_cardElement","rootElement","designMode","_element","isLastElement","isAtTheVeryLeft","isAtTheVeryRight","isAtTheVeryTop","isAtTheVeryBottom","isBleedingAtTop","isBleedingAtBottom","getRootObject","currentElement","Container","processActions","push","getResourceInformation","getElementById","getActionById","_id","getElementByIdFromAction","ShowCardAction","getEffectiveHorizontalAlignment","HorizontalAlignment","Left","_hostConfig","defaultHostConfig","_parent","StringProperty","v1_1","BoolProperty","separatorProperty","v1_0","heightProperty","ValueSetProperty","horizontalAlignmentProperty","EnumProperty","spacingProperty","property","CardObject","targetVersion","name","forbiddenActionTypes","parseAction","toJSON","target","serializeValue","PropertyDefinition","ActionProperty","ariaHidden","populateSchema","schema","BaseTextBlock","selectActionProperty","textProperty","setText","getFontSize","fontType","effectiveSize","TextSize","Small","fontSizes","small","Medium","medium","Large","large","ExtraLarge","extraLarge","getColorDefinition","colorSet","TextColor","Accent","accent","Dark","dark","Light","light","Good","good","warning","Attention","attention","init","textDefinition","size","weight","isSubtle","applyStylesTo","targetElement","getFontTypeDefinition","effectiveFontType","fontFamily","fontWeight","colorDefinition","effectiveColor","targetColor","effectiveIsSubtle","effectiveWeight","TextWeight","Lighter","fontWeights","lighter","Bolder","bolder","sizeProperty","weightProperty","colorProperty","isSubtleProperty","fontTypeProperty","FontType","_treatAsPlainText","useMarkdown","restoreOriginalContent","maxLines","_computedLineHeight","originalHtml","TextBlock","_ttRoundtripPolicy","createHTML","_originalInnerHtml","truncateIfSupported","children","isTextOnly","tagName","toLowerCase","truncateText","_processedText","preProcessedText","preProcessPropertyValue","forElementId","labelElement","htmlFor","headingLevel","textBlock","supportsInteractivity","onclick","isEffectivelyEnabled","preventDefault","cancelBubble","execute","setupElementForAccessibility","formattedText","TextFormatters","formatText","allowMarkForTextHighlighting","replace","markdownProcessingResult","applyMarkdown","didProcess","outputHtml","markStyle","effectiveStyle","highlightBackgroundColor","highlightForegroundColor","processedHtml","_ttMarkdownPolicy","firstElementChild","HTMLElement","marginTop","textOverflow","lastElementChild","anchors","getElementsByTagName","anchor","raiseAnchorClickedEvent","oncontextmenu","Array","from","wordWrap","isInternetExplorer","useWebkitLineClamp","webkitBoxOrient","webkitLineClamp","whiteSpace","useAdvancedTextBlockTruncation","Center","textAlign","Right","lineHeights","lineHeight","processChildren","wrapProperty","maxLinesProperty","NumProperty","styleProperty","v1_5","createPolicy","italic","strikethrough","highlight","underline","href","getHref","fontStyle","textDecoration","backgroundColor","highlightColors","italicProperty","strikethroughProperty","highlightProperty","underlineProperty","v1_3","TextRun","_inlines","internalAddInline","inline","forceAdd","isInline","elementCannotBeUsedAsInline","inlineAlreadyParented","setParent","internalParse","isArray","jsonInline","textRun","parseElement","internalToJSON","jsonInlines","renderedInlines","renderedInline","getInlineCount","getInlineAt","addInline","removeInline","splice","RichTextBlock","getSchemaKey","titleProperty","valueProperty","Fact","SerializableObject","facts","borderWidth","borderSpacing","borderStyle","borderCollapse","trElement","factSet","tdElement","maxWidth","verticalAlign","factsProperty","SerializableObjectCollectionProperty","FactSet","internalName","fallbackProperty","getInternalName","sourceValue","defaultValue","isValid","SizeAndUnit","unit","SizeUnit","Pixel","physicalSize","isValidValue","logParseEvent","ValidationEvent","InvalidPropertyValue","invalidPropertyValue","isNaN","Size","Auto","ImageStyle","applySize","pixelWidth","pixelHeight","imageSizes","Stretch","url","alignItems","justifyContent","imageElement","renderedImageElement","onload","_e","raiseImageLoadedEvent","onerror","errorElement","minWidth","onkeypress","Person","borderRadius","backgroundPosition","backgroundRepeat","setImageSource","altTextProperty","Image","alt","mimeType","imageForceLoader","ImageForceLoader","forceLoad","configureImage","src","urlProperty","resetImage","backgroundColorProperty","pixelWidthProperty","ImageDimensionProperty","pixelHeightProperty","shouldForceLoadProperty","v1_6","doForceLoad","uniqueHash","Date","now","urlWithForceLoadOption","image","allowVerticalOverflow","isSelectable","isElementAllowed","isInteractive","SpacingDefinition","paddingRight","paddingBottom","forbiddenChildElements","releaseDOMResources","getItemCount","getItemAt","internalValidateProperties","item","addFailure","InteractivityNotAllowed","interactivityNotAllowed","elementTypeNotAllowed","_selectAction","overflowX","overflowY","findDOMNodeOwner","node","_images","imageSize","ImageSize","presentationStyle","ImageSetPresentationStyle","pixelOffset","flexWrap","imageSet","maxImageHeight","renderedImage","margin","Stacked","applyStackedPresentationStyle","dimension","StackedImageConfigurator","parseNumericPixelDimension","bgColor","getEffectiveBackgroundColor","configureImagesArrayAsStackedLayout","getFirstVisibleRenderedItem","getLastVisibleRenderedItem","itemIndex","addImage","cardElement","imagesProperty","imageSizeProperty","imagePresentationStyle","ImageSet","offset","sign45","maxImageCounts","normalizationConstant","Math","max","moveImageRight","moveImageUp","moveImageDown","makeImageRound","applyBorder","configureImageForBottomLeft","zIndex","configureImageForTopRight","elements","substring","parseInt","mimeTypeProperty","ContentSource","label","kind","labelProperty","CaptionSource","MediaSource","play","_posterUrl","MediaPlayer","owner","_selectedSources","_captionSources","processSources","_selectedMediaType","sources","mimeComponents","split","HTML5MediaPlayer","supportedMediaTypes","captionSources","canPlay","fetchVideoDetails","_mediaElement","altText","defaults","mediaPlayerAriaLabel","autoplay","controls","isMobileOS","muted","preload","renderedSource","captionSource","renderedCaptionSource","matches","CustomMediaPlayer","iFrameTitle","_videoId","container","iFrame","getEmbedVideoUrl","frameBorder","allow","allowFullscreen","IFrameMediaMediaPlayer","oEmbedUrl","fetch","ok","json","posterUrl","videoId","VimeoPlayer","apiUrl","DailymotionPlayer","_startTimeIndex","YouTubePlayer","createMediaPlayer","Media","customMediaPlayers","provider","urlPatterns","exec","handlePlayButtonInvoke","event","media","allowInlinePlayback","mediaPlayerElement","_mediaPlayer","focus","onPlay","displayPoster","poster","defaultPoster","parentNode","playButtonOuterElement","tabIndex","mediaPlayerPlayMedia","playButtonInnerElement","playButtonArrowWidth","playButtonArrowHeight","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopColor","borderRightColor","borderBottomColor","transform","playButtonContainer","then","mediaSource","selectedMediaType","youTubeVideoPlayer","vimeoVideoPlayer","dailymotionVideoPlayer","sourcesProperty","captionSourcesProperty","posterProperty","inputStyle","InputStyle","getAllLabelIds","labelIds","labelledBy","_renderedLabelElement","_renderedErrorMessageElement","updateInputControlAriaLabelledBy","_renderedInputControlElement","join","removeAttribute","_inputControlContainerElement","_outerContainerElement","labelPosition","InputLabelPosition","Inline","renderedInputControlId","generateUniqueId","labelRichTextBlock","labelInline","isRequired","inputs","requiredInputs","isRequiredCueInline","suffix","suffixColor","optionalInputs","alignSelf","inputSpacing","isNullable","labelWidth","Weight","labelWidthInPercent","labelWidthInPixel","defaultLabelWidth","InitialRender","onblur","ev","FocusLeave","resetDirtyState","valueChanged","onInputValueChangedHandler","resetValidationFailureCue","onValueChanged","renderedInputControlElement","showValidationErrorMessage","errorMessage","displayInputValidationErrors","errorMessageTextBlock","eventType","RevealOnHover","isDirty","_oldValue","PropertyCantBeNull","inputsMustHaveUniqueId","RequiredInputsShouldHaveLabel","RequiredInputsShouldHaveErrorMessage","validateValue","isSet","isRequiredProperty","errorMessageProperty","inputStyleProperty","labelWidthProperty","CustomProperty","prop","invalidLabelWidth","invalidInputLabelWidth","serializeNumber","labelPositionProperty","Above","Input","isMultiline","InputTextStyle","Text","setupInput","maxLength","oninput","ctrlKey","inlineAction","Password","renderedInputControl","iconUrl","textContent","inlineActionTitle","inputControlContainerElement","regex","RegExp","test","maxLengthProperty","isMultilineProperty","placeholderProperty","Tel","Url","Email","inlineActionProperty","regexProperty","TextInput","valueOn","valueOff","_checkboxInputElement","joinedLabelIds","_checkboxInputLabelElement","checked","_oldCheckboxValue","onchange","useMarkdownInRadioButtonAndCheckbox","spacerElement","valueOnProperty","valueOffProperty","ToggleInput","Choice","isMultiSelect","choices","getUniqueCategoryName","uniqueCategoryName","ChoiceSetInput","_uniqueCategoryCounter","createPlaceholderOptionWhenValueDoesNotExist","placeholderOption","selected","disabled","hidden","internalApplyAriaCurrent","_selectElement","options","option","renderCompoundInput","cssClassName","defaultValues","_toggleInputs","_labels","choice","_uniqueCategoryName","compoundInput","choiceSetInputValueSeparator","inputContainer","_textInput","dataList","append","isCompact","shouldHideInputAdornersForRevealOnHover","appearance","CollectionCantBeEmpty","choiceSetMustHaveAtLeastOneChoice","choiceSetChoicesMustHaveTitleAndValue","toggleInput","selectedIndex","choicesProperty","isMultiSelectProperty","_numberInputElement","min","valueAsNumber","minProperty","maxProperty","NumberInput","_dateInputElement","hideDatePicker","updateInputAdornersVisibility","valueAsDate","minDate","maxDate","DateInput","TimeProperty","convertTimeStringToDate","timeString","_timeInputElement","hideTimePicker","TimeInput","ActionStyle","ActionMode","Primary","_state","_isFocusable","renderButtonContent","titleElement","iconPlacement","ActionIconPlacement","AboveTitle","allowTitleToWrap","iconElement","iconSize","updateCssClasses","parentContainerStyle","isFocusable","Positive","makeCssClassNames","internalGetReferencedInputs","internalPrepareForExecution","_inputs","internalValidateInputs","referencedInputs","Object","keys","actionRegistry","raiseExecuteActionEvent","onExecuteActionHandler","onExecute","prepareForExecution","internalAfterExecute","rootObject","getAriaRole","promoteTooltipToLabel","HTMLButtonElement","tooltip","buttonElement","_actionCollection","actionExecuted","getReferencedInputs","invalidInputs","removeAction","validateInputs","isEnabled","iconUrlProperty","Destructive","modeProperty","Secondary","tooltipProperty","isEnabledProperty","Action","disabledUnlessAssociatedInputsChange","_isPrepared","_areReferencedInputsDirty","associatedInputs","current","_originalData","_processedData","resetInputsDirtyStateAfterActionExecution","resetReferencedInputsDirtyState","dataProperty","associatedInputsProperty","disabledUnlessAssociatedInputsChangeProperty","SubmitActionBase","JsonTypeName","verbProperty","v1_4","OpenUrlAction","propertyMustBeSet","targetElements","updateAriaControlsAttribute","elementIds","ToggleVisibilityAction","elementId","addTargetElement","removeTargetElement","targetElementsProperty","parseBool","serializeArray","StringWithSubstitutions","set","parseString","getOriginal","_value","substituteInputValues","ContentTypes","applicationXWwwFormUrlencoded","get","newValue","nameProperty","StringWithSubstitutionProperty","HttpHeader","_ignoreInputValidation","_url","headers","_body","contentType","applicationJson","header","HttpAction","actionHttpHeadersMustHaveNameAndValue","bodyProperty","methodProperty","headersProperty","ignoreInputValidationProperty","InlineAdaptiveCard","effectiveHostConfig","state","jsonCard","showCardMustHaveCard","showCard","actionMode","ShowCardActionMode","Popup","_actions","overflowButtonText","overflowButtonTooltip","getActions","onDisplayOverflowActionMenuHandler","onDisplayOverflowActionMenu","PopupMenu","menuItem","MenuItem","onClick","actionToExecute","closePopup","items","onClose","popup","_items","_renderedActions","_owner","isActionAllowed","forbiddenTypes","forbiddenType","constructor","refreshContainer","_actionCardContainer","_actionCard","renderedActionCount","inlineTopMargin","layoutChanged","showActionCard","suppressStyle","raiseEvent","renderedCard","_expandedAction","raiseInlineCardExpandedEvent","collapseExpandedAction","previouslyExpandedAction","expandShowCardAction","afterSelectedAction","renderedAction","actionsOrientation","clear","jsonAction","forbiddenActions","ContainerWithActions","getForbiddenActionNames","addAction","propertyName","validateProperties","maxActions","TooManyActions","tooManyActions","ActionTypeNotAllowed","actionTypeNotAllowed","preExpandSingleShowCardAction","buttonStrip","actionAlignment","ActionAlignment","allowedActions","filter","bind","overflowPrimaryActions","allowMoreThanMaxActionsInOverflowMenu","shouldRenderOverflowActionButton","_overflowAction","OverflowAction","isRootAction","isAtRootLevelActions","onRenderOverflowActionsHandler","onRenderOverflowActions","raiseRenderOverflowActionsEvent","buttonSpacing","spacer","buttonStripContainer","actionAlreadyParented","expandedAction","actionIndex","ActionCollection","orientationProperty","ActionSet","onGetInitialValue","Emphasis","ContainerStyleProperty","allowCustomStyle","StylableCardElementContainer","applyBackground","surroundingPadding","currentElementHasBackgroundImage","backgroundImage","hasExplicitStyle","Padding","explicitStyle","_bleed","minPixelHeight","getHasExpandedAction","getBleed","setBleed","alwaysAllowBleed","bleedProperty","minHeightProperty","PixelSizeProperty","ContainerBase","resetDefaultValues","apply","BackgroundImage","fillMode","FillMode","Repeat","RepeatHorizontally","RepeatVertically","Cover","backgroundSize","backgroundPositionX","verticalAlignment","VerticalAlignment","Top","backgroundPositionY","Bottom","fillModeProperty","verticalAlignmentProperty","_renderedItems","backgroundImageProperty","insertItemAt","forceInsert","elementAlreadyParented","isStandalone","elementTypeNotStandalone","getItemsCollectionPropertyName","applyRTL","rtl","dir","getEffectiveVerticalContentAlignment","renderedItem","placeholderElement","offsetTop","elt","getFitStatus","ContainerFitStatus","FullyInContainer","Overflowing","containerMaxHeight","FullyOutOfContainer","setShouldFallback","jsonItems","collectionPropertyName","removePaddingFromContainersWithBackgroundImage","verticalContentAlignment","isRtl","firstRenderedItem","lastRenderedItem","addItem","insertItemBefore","insertBefore","insertItemAfter","insertAfter","SerializableObjectProperty","verticalContentAlignmentProperty","rtlProperty","_computedWeight","_context","Vertical","ColumnSet","widthProperty","invalidWidth","compareTo","invalidColumnWidth","Column","_columns","createColumnInstance","parseCardObject","typeName","_errorType","ElementTypeNotAllowed","_renderedColumns","totalWeight","column","computedWeight","renderedColumn","jsonColumns","getColumnAt","weightedColumns","stretchedColumns","Hint","hints","dontUseWeightedAndStrecthedColumnsInSameSet","addColumn","columnAlreadyBelongsToAnotherSet","onImageLoadedHandler","onImageLoaded","onAnchorClickedHandler","onAnchorClicked","isExpanded","onInlineCardExpandedHandler","onInlineCardExpanded","shouldUpdateLayout","onElementVisibilityChangedHandler","onElementVisibilityChanged","hide","readOnly","required","isInputInFocus","activeElement","isMouseOverCard","contains","parseActions","renderedActions","renderIfEmpty","RefreshActionProperty","RefreshDefinition","actionProperty","userIdsProperty","StringArrayProperty","typeProperty","imageProperty","AuthCardButton","idProperty","uriProperty","providerIdProperty","TokenExchangeResource","connectionNameProperty","buttonsProperty","tokenExchangeResourceProperty","Authentication","refreshProperty","processMarkdownEventRemoved","onProcessMarkdown","markdownit","markdownIt","_haveWarnedAboutNoMarkdownProcessing","markdownProcessingNotEnabled","isVersionSupported","bypassVersionCheck","maxVersion","major","minor","_fallbackCard","fallbackElement","versionProperty","adaptiveCard","typeNameProperty","MissingCardType","invalidCardType","UnsupportedCardVersion","unsupportedCardVersion","shouldFallback","setTabIndexAtCardRoot","speak","onmouseenter","onmouseleave","schemaUrl","$schemaProperty","Version","latest","invalidCardVersion","fallbackTextProperty","speakProperty","authenticationProperty","_forbiddenTypes","Set","internalParseCardObject","allowFallback","createInstanceCallback","has","TypeErrorType","ForbiddenType","tryToFallback","enableFallback","UnknownType","fallback","cardObjectParsed","o","onParseAction","onParseElement","forbiddenTypeNames","createInstance","errorType","UnknownElementType","unknownElementType","UnknownActionType","unknownActionType","_elementRegistry","GlobalRegistry","setElementRegistry","_actionRegistry","setActionRegistry","BaseSerializationContext","defaultElements","register","defaultActions","allIds","validationEvents","cardObject","phase","ValidationPhase","Validation","ValidationResults","_shouldFallback","requiresProperty","propertyValue","allowPreProcessingPropertyValues","currentObject","onPreProcessPropertyValue","requires","areAllMet","hostCapabilities","hasOwnProperty","DuplicateId","duplicateId","HostCapabilities","carouselSlide","getForbiddenChildElements","CarouselPage","carouselLoop","carouselOrientation","_pages","_currentIndex","_previousEventType","CarouselInteractionEvent","Pagination","timer","Carousel","timerProperty","carousel","minAutoplayDelay","tooLittleTimeDelay","initialPageProperty","isValidParsedPageIndex","invalidInitialPageIndex","isValidPageIndex","isValidRenderedPageIndex","_renderedPages","collectionSize","_containerForAdorners","carouselHeight","_carouselPageContainer","addPage","page","_carousel","slides","activeIndex","realIndex","jsonPages","createCarouselPageInstance","validateParsing","initialPageIndex","validateOrientationProperties","cardLevelContainer","carouselContainer","containerForAdorners","navigationContainer","carouselWrapper","prevElementDiv","nextElementDiv","updateCssForHorizontalCarousel","updateCssForVerticalCarousel","pagination","addCancelSelectActionEventHandler","requestedNumberOfPages","maxCarouselPages","tooManyCarouselPages","initializeCarouselControl","nextElement","prevElement","paginationElement","nextElementAdjustedForRtl","prevElementAdjustedForRtl","prevElementAdjustedForOrientation","nextElementAdjustedForOrientation","swiperOptions","loop","modules","Navigation","Scrollbar","A11y","History","Keyboard","el","clickable","navigation","prevEl","nextEl","a11y","enabled","keyboard","onlyInViewport","direction","resizeObserver","initialSlide","Autoplay","delay","pauseOnMouseEnter","Swiper","addEventListener","_event","stop","start","on","swiper","raiseCarouselEvent","NavigationNext","NavigationPrevious","currentIndex","paginationEl","bullets","bullet","key","slideTo","destroyResizeObserver","ariaLabel","carouselNavigationPreviousTooltip","carouselNavigationNextTooltip","createResizeObserver","createCarouselEvent","currentPageId","currentPageIndex","CarouselEvent","onCarouselEventHandler","onCarouselEvent","previousEventType","checkIfCarouselInValidStateForResizeEvent","_observer","ResizeObserver","entries","newWidth","newHeight","contentBoxSize","contentRect","inlineSize","blockSize","emit","observe","unobserve","destroyed","loopProperty","carouselHeightProperty","carouselId","activeCarouselPageId","activeCarouselPageIndex","ChannelAdapter","onItemAdded","onItemRemoved","Collection","tab","enter","escape","space","up","down","delete","Constants","_isEnabled","click","onmouseup","onkeydown","_isOpen","keyDown","_rootElementBounds","renderContent","_popupElement","_overlayElement","documentElement","scrollWidth","scrollHeight","onfocus","rootElementBounds","getBoundingClientRect","rootElementLabel","getAttribute","popupElementBounds","availableSpaceBelow","innerHeight","availableSpaceAbove","availableSpaceRight","innerWidth","availableSpaceLeft","getScrollX","actualPopupHeight","getScrollY","actualPopupWidth","wasCancelled","PopupControl","_selectedIndex","selectedItemIndex","_capabilities","jsonVersion","addCapability","removeCapability","hasCapability","capabilityName","parseHostConfigEnum","targetEnum","parsedValue","parseEnum","defaultColor","subtleColor","obj","ColorDefinition","TextColorDefinition","AdaptiveCardConfig","parseNumber","ImageSetConfig","MediaConfig","cellSpacing","TableConfig","getDefaultWeight","BaseTextDefinition","TextStyleDefinition","heading","columnHeader","TextStyleSet","TextBlockConfig","RequiredInputLabelTextDefinition","InputLabelConfig","InputConfig","FactTextDefinition","FactTitleDefinition","FactSetConfig","ShowCardActionConfig","LeftOfTitle","sizeAndUnit","Shared","ActionsConfig","parseSingleColor","ColorSetDefinition","borderColor","ContainerStyleDefinition","_allStyles","BuiltInContainerStyleDefinition","customStyleArray","customStyle","styleName","isBuiltIn","emphasis","customStyles","ContainerStyleSet","monospace","FontTypeDefinition","getStyleDefinition","Monospace","FontTypeSet","CarouselConfig","table","String","_legacyFontType","fontTypes","paddingDefinition","classNames","cssClassNamePrefix","HostConfig","minAutoplayDuration","copyTo","typeRegistration","objectType","schemaVersion","registrationInfo","unregister","map","CardObjectRegistry","populateWithDefaultElements","registry","populateWithDefaultActions","_elements","reset","_isValid","_major","_minor","_label","versionString","_versionString","invalidVersionString","otherVersion","getAllDeclaredVersions","ctor","properties","match","sort","v1","v2","_validationEvents","isTemplateString","startsWith","tryDeleteValue","enableFullJsonRoundTrip","tryDeleteDefaultValue","forceDeleteIfNullOrDefault","serializeString","serializeBool","serializeEnum","enumType","serializedItem","clearEvents","Parse","getEventAt","isSerializationEnabled","sequentialNumber","_sequentialNumber","treatEmptyAsUndefined","regEx","values","versionedValue","propertyValueNotSupported","invalidValue","ToJSON","_values","keyAsNumber","enumValue","getEnumValueByName","nullable","serializedValue","hasAllDefaultValues","sourceCollection","sourceItem","onParse","onToJSON","_properties","getCount","SerializableObjectSchema","propertyKey","descriptor","getOwnPropertyDescriptor","defineProperty","_propertyBag","_rawProperties","defaultMaxVersion","s","getSchema","SimpleSerializationContext","sortedProperties","p1","p2","onRegisterCustomProperties","UnsupportedProperty","propertyNotSupported","serializedProperties","effectiveContext","toJSONOriginalParam","hasDefaultValue","setCustomProperty","getCustomProperty","_schemaCache","logLevel","_isProcessed","_original","_processed","matchedInput","valueForReplace","slice","encodeURIComponent","requireUnitSpecifier","expectedMatchCount","generate","d0","random","d1","d2","d3","UUID","lut","initialize","defaultingToVersion","supportedInVersion","versionUsed","maximumActions","maxSupportedVersion","tryAgain","pleaseLogin","enterMagicCode","pleaseEnterMagicCodeYouReceived","submit","cancel","horizontalCellContentAlignmentProperty","verticalCellContentAlignmentProperty","TableColumnDefinition","parseItem","createItemInstance","internalAddItem","internalRemoveItem","internalIndexOf","getCollectionPropertyName","instance","StylableContainer","_columnIndex","_cellType","parentRow","parentTable","showGridLines","gridStyle","cellElement","cellType","horizontalCellContentAlignment","columnIndex","verticalCellContentAlignment","TableCell","isFirstRow","getIsFirstRow","rowElement","getColumnCount","cell","firstRowAsHeaders","renderedCell","computedWidth","addCell","removeCellAt","ensureHasEnoughCells","cellCount","TableRow","Table","gridStyleProperty","ensureRowsHaveEnoughCells","removeCellsFromColumn","totalWeights","tableElement","borderTop","borderLeft","renderedRow","separatorRow","removeColumn","addRow","row","_columnsProperty","firstRowAsHeadersProperty","showGridLinesProperty","regularExpression","_regularExpression","format","internalFormat","date","toLocaleDateString","day","weekday","month","year","AbstractTextFormatter","toLocaleTimeString","hour","minute","DateFormatter","TimeFormatter","truncateWorker","fullText","truncateAt","fits","breakableIndices","html","results","idx","findNextCharacter","findBreakableIndices","lo","hi","bestBreakIdx","mid","floor","documentMode","userAgent","navigator","child","a","ttDeprecatedPolicy","currIdx","truncatedString","truncatedHTML","containerEnd","clientHeight","pageXOffset","pageYOffset","firstChild","isObject","extend","ssrDocument","removeEventListener","blur","nodeName","querySelector","querySelectorAll","createEvent","initEvent","childNodes","createElementNS","importNode","location","hash","host","hostname","origin","pathname","protocol","search","getDocument","doc","ssrWindow","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","screen","clearTimeout","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","win","Dom7","super","proto","__proto__","makeReactive","arrayFlat","arr","res","arrayFilter","prototype","call","$","selector","trim","toCreate","tempParent","qsa","nodeType","uniqueArray","arrayUnique","fn","noTrigger","shortcut","args","Methods","addClass","classes","c","removeClass","hasClass","toggleClass","toggle","attr","attrs","arguments","attrName","removeAttr","transition","duration","transitionDuration","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","parents","k","handleEvent","events","j","dom7LiveListeners","proxyListener","dom7Listeners","off","handlers","handler","dom7proxy","evt","detail","bubbles","cancelable","dataIndex","dispatchEvent","transitionEnd","dom","fireCallBack","includeMargins","styles","offsetWidth","parseFloat","box","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","css","props","each","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","els","newChild","tempDiv","prepend","next","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","closest","find","foundElements","found","methodName","writable","nextTick","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","currentStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","isNode","to","noExtend","nextSource","keysArray","nextIndex","len","nextKey","desc","enumerable","__swiper__","setCSSProperty","varName","varValue","setProperty","animateCSSModeScroll","_ref","targetPosition","side","startPosition","translate","time","startTime","params","speed","wrapperEl","scrollSnapType","cssModeFrameID","isOutOfBound","animate","getTime","progress","easeProgress","cos","PI","currentPosition","scrollTo","support","deviceCached","browser","getSupport","smoothScroll","touch","DocumentTouch","passiveListener","supportsPassive","opts","gestures","calcSupport","priority","self","eventsListeners","method","once","onceHandler","__emitterProxy","_len","_key","onAny","eventsAnyListeners","offAny","eventHandler","_len2","_key2","updateSize","$el","clientWidth","isHorizontal","isVertical","Number","assign","updateSlides","getDirectionLabel","getDirectionPropertyValue","$wrapperEl","swiperSize","rtlTranslate","wrongRTL","isVirtual","virtual","previousSlidesLength","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","centeredSlides","cssMode","gridEnabled","grid","rows","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","swiperSlideSize","abs","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","_","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","v","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","backFaceHiddenClass","containerModifierClass","hasClassBackfaceClassAdded","maxBackfaceHiddenSlides","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","ceil","swiperSlideOffset","offsetLeft","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","initialized","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","transitionEmit","runCallbacks","step","internal","initial","indexAsNumber","isFinite","animating","preventInteractionOnTransition","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","setTranslate","transitionStart","isH","t","_immediateVirtual","_swiperImmediateVirtual","behavior","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalize","val","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","lastIndex","slideReset","slideToClosest","threshold","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","cloneNode","diff","loopDestroy","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","touchEventsTarget","isTouchEvent","which","isTouched","isMoved","noSwipingClass","shadowRoot","path","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","getRootNode","closestElement","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","freeMode","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","grabCursor","setGrabCursor","touchRatio","currentTranslate","disableParentSwiper","resistanceRatio","resistance","followFinger","onTouchEnd","touchEndTime","timeDiff","pathTree","composedPath","lastClickTime","currentPos","stopIndex","groupSize","rewindFirstIndex","rewindLastIndex","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","onResize","setBreakpoint","running","paused","run","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","newProgress","previousTranslate","dummyEventAttached","dummyEventListener","touchEvents","device","domMethod","swiperMethod","passiveListeners","passive","move","end","updateOnWindowResize","ios","android","attachEvents","detachEvents","isGridEnabled","addClasses","suffixes","prefix","resultClasses","prepareClasses","fill","emitContainerClasses","removeClasses","createElements","virtualTranslate","breakpointsBase","simulateTouch","uniqueNavElements","preloadImages","updateOnImagesReady","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","eventsEmitter","update","byController","x","y","translateTo","translateBounds","newTranslate","onTranslateToWrapperTransitionEnd","moving","isLocked","cursor","unsetGrabCursor","breakpoint","getBreakpoint","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","wasModuleEnabled","isModuleEnabled","disable","enable","directionChanged","needsReLoop","changeDirection","containerEl","currentHeight","points","point","minRatio","substr","b","wasLocked","lastSlideIndex","lastSlideRightEdge","images","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","complete","imagesLoaded","imagesToLoad","currentSrc","extendedDefaults","swipers","newParams","overrides","_temp","platform","ua","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","os","calcDevice","isSafari","isWebView","calcBrowser","__modules__","mod","extendParams","swiperParams","passedParams","eventName","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","view","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","changeLanguageDirection","mount","mounted","getWrapperSelector","getWrapper","wrapper","destroy","deleteInstance","cleanStyles","object","deleteProps","static","newDefaults","m","installModule","prototypeGroup","protoMethod","use","observer","animationFrame","resizeHandler","orientationChangeHandler","_ref2","observers","attach","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","attributes","childList","characterData","observeParents","observeSlideChildren","containerParents","disconnect","Virtual","cssModeTimeout","renderSlide","cache","$slideEl","force","addSlidesBefore","addSlidesAfter","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","load","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","handle","kc","keyCode","charCode","pageUpDown","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","metaKey","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","timeout","mousewheel","releaseOnEdges","invert","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastEventBeforeSnap","lastScrollTime","recentWheelEvents","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","delta","raw","rtlFactor","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","positions","sign","ignoreWheelEvents","sticky","shift","prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","releaseScroll","createElementIfNotDefined","checkProps","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","navigationDisabledClass","_s","targetEl","isHidden","classesToSelector","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","midIndex","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scale","scaleX","scaleY","paginationHTML","numberOfBullets","dragStartPos","dragSize","trackSize","divider","dragTimeout","scrollbar","$dragEl","newSize","newPos","opacity","getPointerPosition","clientX","clientY","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","snapOnRelease","activeListener","eventMethod","$swiperEl","dragClass","dragEl","draggable","scrollbarDisabledClass","Parallax","parallax","setTransform","p","currentOpacity","currentScale","_swiper","parallaxEl","$parallaxEl","parallaxDuration","Zoom","zoom","maxRatio","containerClass","zoomedSlideClass","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","isScaling","gesture","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","onTransitionEnd","zoomIn","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","touchAction","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","slideExist","amount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","removeSpline","controller","control","spline","inverse","by","_t","controlled","controlledTranslate","setControlledTranslate","getInterpolateFunction","setControlledTransition","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","liveRegion","notify","notification","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElLabel","disableEl","enableEl","onEnterOrSpaceKey","hasPagination","hasClickablePagination","initNavEl","wrapperId","addElControls","handleFocus","includes","isActive","$containerEl","repeat","round","live","addElLive","updateNavigation","bulletEl","updatePagination","keepQuery","paths","slugify","getPathValues","urlOverride","pathArray","part","setHistory","currentState","scrollToSlide","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","setHash","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","pause","waitForTransition","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","minimumVelocity","lastMoveEvent","pop","velocityEvent","distance","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","groupIndex","slideIndexInGroup","columnsInGroup","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","Manipulation","effectInit","overwriteParams","perspective","recreateShadows","getEffectParams","requireUpdateOnVirtual","overwriteParamsResult","slideShadows","effectTarget","effectParams","transformEl","effectVirtualTransitionEnd","allSlides","$transitionEndTarget","eventTriggered","triggerEvents","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","EffectCube","cubeEffect","shadow","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","$cubeShadowEl","wrapperRotate","slideAngle","tz","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","EffectFlip","flipEffect","limitRotation","rotateY","rotateX","EffectCoverflow","coverflowEffect","rotate","stretch","depth","modifier","center","centerOffset","offsetMultiplier","translateZ","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","r","custom","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","Symbol","toStringTag"],"sourceRoot":""}