"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ViewRegistry = void 0;
var StringHelper_1 = require("../../utilities/StringHelper");
/**
 * @internal
 */
var ViewRegistry = /** @class */ (function () {
    function ViewRegistry() {
        this._registeredCallbacks = new Map();
    }
    ViewRegistry.prototype.register = function (id, initializer) {
        if (!this._registeredCallbacks.has(id)) {
            this._registeredCallbacks.set(id, initializer);
        }
    };
    ViewRegistry.prototype.consume = function (id) {
        var callback = this._registeredCallbacks.get(id);
        if (!callback) {
            throw new Error((0, StringHelper_1.format)('View with id {0} must be registered before being used', id));
        }
        this._registeredCallbacks.delete(id);
        return callback;
    };
    Object.defineProperty(ViewRegistry.prototype, "size", {
        get: function () {
            return this._registeredCallbacks.size;
        },
        enumerable: false,
        configurable: true
    });
    return ViewRegistry;
}());
exports.ViewRegistry = ViewRegistry;
//# sourceMappingURL=ViewRegistry.js.map