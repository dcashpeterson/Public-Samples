"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var office_ui_fabric_react_bundle_1 = require("@ms/office-ui-fabric-react-bundle");
var React = tslib_1.__importStar(require("react"));
var Strings_resx_1 = tslib_1.__importDefault(require("../loc/Strings.resx"));
var SecondaryGroupConnector_1 = tslib_1.__importDefault(require("./secondaryGroupConnector/SecondaryGroupConnector"));
var PropertyPaneConditionalGroup_module_scss_1 = tslib_1.__importDefault(require("./PropertyPaneConditionalGroup.module.scss"));
var PropertyPaneGroup_1 = tslib_1.__importDefault(require("../propertyPaneGroup/PropertyPaneGroup"));
var PropertyPaneConditionalGroup = /** @class */ (function (_super) {
    tslib_1.__extends(PropertyPaneConditionalGroup, _super);
    function PropertyPaneConditionalGroup(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            showSecondaryGroup: _this.props.showSecondaryGroup
        };
        return _this;
    }
    PropertyPaneConditionalGroup.prototype.render = function () {
        var showSecondaryGroup = this.state.showSecondaryGroup;
        return (React.createElement("div", null,
            !showSecondaryGroup && (React.createElement(SecondaryGroupConnector_1.default, { onConnectToSourceClick: this._onShowSecondaryClick })),
            React.createElement("div", { className: PropertyPaneConditionalGroup_module_scss_1.default.clear }),
            this._renderGroup(),
            showSecondaryGroup && (React.createElement("div", { className: PropertyPaneConditionalGroup_module_scss_1.default.removeConnectionButton },
                React.createElement(office_ui_fabric_react_bundle_1.Link, { onClick: this._onShowPrimaryClick }, Strings_resx_1.default.DynamicDataRemoveConnectionText)))));
    };
    PropertyPaneConditionalGroup.prototype._renderGroup = function () {
        var showSecondaryGroup = this.state.showSecondaryGroup;
        var group = showSecondaryGroup
            ? this.props.secondaryGroup
            : this.props.primaryGroup;
        return (React.createElement(PropertyPaneGroup_1.default, tslib_1.__assign({}, this.props, { key: group.groupName || this.props.index, pageNumber: this.props.pageNumber, groupName: group.groupName, groupFields: group.groupFields, onChange: this.props.onChange, properties: this.props.properties, setEntryState: this.props.setEntryState, isCollapsed: group.isCollapsed, displayGroupsAsAccordion: this.props.displayGroupsAsAccordion, propertyPaneGroupStateChanged: this.props.propertyPaneGroupStateChanged, propertyPanePagesStateMap: this.props.propertyPanePagesStateMap, dynamicConfiguration: this.props.dynamicConfiguration })));
    };
    /**
     * Prepares the component to show the secondary group of fields.
     */
    PropertyPaneConditionalGroup.prototype._onShowSecondaryClick = function () {
        if (this.props.onShowSecondaryGroup) {
            this.props.onShowSecondaryGroup();
        }
        this.setState({
            showSecondaryGroup: true
        });
    };
    /**
     * Prepares the component to show the primary group fields.
     */
    PropertyPaneConditionalGroup.prototype._onShowPrimaryClick = function () {
        if (this.props.onShowPrimaryGroup) {
            this.props.onShowPrimaryGroup();
        }
        this.setState({
            showSecondaryGroup: false
        });
    };
    tslib_1.__decorate([
        office_ui_fabric_react_bundle_1.autobind
    ], PropertyPaneConditionalGroup.prototype, "_onShowSecondaryClick", null);
    tslib_1.__decorate([
        office_ui_fabric_react_bundle_1.autobind
    ], PropertyPaneConditionalGroup.prototype, "_onShowPrimaryClick", null);
    return PropertyPaneConditionalGroup;
}(React.Component));
exports.default = PropertyPaneConditionalGroup;
//# sourceMappingURL=PropertyPaneConditionalGroup.js.map