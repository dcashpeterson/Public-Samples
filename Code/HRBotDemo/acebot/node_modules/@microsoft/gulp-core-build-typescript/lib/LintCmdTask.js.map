{"version":3,"file":"LintCmdTask.js","sourceRoot":"","sources":["../src/LintCmdTask.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAE3D,6BAA6B;AAC7B,oEAAoE;AAGpE,uCAAoD;AAYpD;;GAEG;AACH,MAAa,WAAY,SAAQ,iBAA2B;IAC1D;QACE,KAAK,CAAC,MAAM,EAAE;YACZ,cAAc,EAAE,KAAK;SACtB,CAAC,CAAC;IACL,CAAC;IAEM,UAAU;QACf,OAAO,4BAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE,sBAAsB,CAAC,CAAC,CAAC;IACnF,CAAC;IAEM,WAAW;QAChB,IAAI,CAAC,2BAA2B,EAAE,CAAC;QAEnC,MAAM,iBAAiB,GAA8B,IAAI,CAAC,kBAA+C,CAAC;QAC1G,MAAM,UAAU,GAAkC,IAAI,iBAAiB,CAAC,UAAU,CAChF;YACE,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC,cAAc;YAE9C,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;YACpC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;SACzC,EACD,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,iBAAiB,CACvB,CAAC;QAEF,OAAO,UAAU,CAAC,MAAM,EAAE,CAAC;IAC7B,CAAC;CACF;AA5BD,kCA4BC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport * as path from 'path';\r\nimport { JsonFile, JsonObject } from '@rushstack/node-core-library';\r\nimport type * as TRushStackCompiler from '@microsoft/rush-stack-compiler-4.7';\r\n\r\nimport { RSCTask, IRSCTaskConfig } from './RSCTask';\r\n\r\n/**\r\n * @public\r\n */\r\nexport interface ILintCmdTaskConfig extends IRSCTaskConfig {\r\n  /**\r\n   * If true, displays warnings as errors. Defaults to false.\r\n   */\r\n  displayAsError?: boolean;\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport class LintCmdTask extends RSCTask<ILintCmdTaskConfig> {\r\n  public constructor() {\r\n    super('lint', {\r\n      displayAsError: false\r\n    });\r\n  }\r\n\r\n  public loadSchema(): JsonObject {\r\n    return JsonFile.load(path.resolve(__dirname, 'schemas', 'lint-cmd.schema.json'));\r\n  }\r\n\r\n  public executeTask(): Promise<void> {\r\n    this.initializeRushStackCompiler();\r\n\r\n    const rushStackCompiler: typeof TRushStackCompiler = this._rushStackCompiler as typeof TRushStackCompiler;\r\n    const lintRunner: TRushStackCompiler.LintRunner = new rushStackCompiler.LintRunner(\r\n      {\r\n        displayAsError: this.taskConfig.displayAsError,\r\n\r\n        fileError: this.fileError.bind(this),\r\n        fileWarning: this.fileWarning.bind(this)\r\n      },\r\n      this.buildFolder,\r\n      this._terminalProvider\r\n    );\r\n\r\n    return lintRunner.invoke();\r\n  }\r\n}\r\n"]}