{"version":3,"file":"GCBTerminalProvider.js","sourceRoot":"","sources":["../../src/utilities/GCBTerminalProvider.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAE3D,oEAAiG;AAIjG;;GAEG;AACH,MAAa,mBAAgC,SAAQ,2CAAuB;IAG1E,YAAmB,OAAwB;QACzC,KAAK,CAAC,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;QAEhC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC1B,CAAC;IAEM,KAAK,CAAC,IAAY,EAAE,QAAkC;QAC3D,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC,yEAAyE;QAE5G,QAAQ,QAAQ,EAAE;YAChB,KAAK,4CAAwB,CAAC,OAAO,CAAC,CAAC;gBACrC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC/B,MAAM;aACP;YAED,KAAK,4CAAwB,CAAC,KAAK,CAAC,CAAC;gBACnC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC7B,MAAM;aACP;YAED,KAAK,4CAAwB,CAAC,OAAO,CAAC,CAAC;gBACrC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC/B,MAAM;aACP;YAED,KAAK,4CAAwB,CAAC,GAAG,CAAC;YAClC,OAAO,CAAC,CAAC;gBACP,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACxB,MAAM;aACP;SACF;IACH,CAAC;CACF;AAnCD,kDAmCC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport { TerminalProviderSeverity, ConsoleTerminalProvider } from '@rushstack/node-core-library';\r\n\r\nimport { GulpTask } from '../tasks/GulpTask';\r\n\r\n/**\r\n * @public\r\n */\r\nexport class GCBTerminalProvider<TTask = {}> extends ConsoleTerminalProvider {\r\n  private _gcbTask: GulpTask<TTask>;\r\n\r\n  public constructor(gcbTask: GulpTask<TTask>) {\r\n    super({ verboseEnabled: true });\r\n\r\n    this._gcbTask = gcbTask;\r\n  }\r\n\r\n  public write(data: string, severity: TerminalProviderSeverity): void {\r\n    data = data.replace(/\\r?\\n$/, ''); // Trim trailing newlines because the GCB log functions include a newline\r\n\r\n    switch (severity) {\r\n      case TerminalProviderSeverity.warning: {\r\n        this._gcbTask.logWarning(data);\r\n        break;\r\n      }\r\n\r\n      case TerminalProviderSeverity.error: {\r\n        this._gcbTask.logError(data);\r\n        break;\r\n      }\r\n\r\n      case TerminalProviderSeverity.verbose: {\r\n        this._gcbTask.logVerbose(data);\r\n        break;\r\n      }\r\n\r\n      case TerminalProviderSeverity.log:\r\n      default: {\r\n        this._gcbTask.log(data);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}