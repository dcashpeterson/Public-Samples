"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProgressBar = void 0;
const node_core_library_1 = require("@rushstack/node-core-library");
class ProgressBar {
    constructor(size) {
        this._total = size;
        this._current = 0;
        this._barLength = 120;
        this._temp = 0;
        this._terminalProvider = new node_core_library_1.ConsoleTerminalProvider();
        this._terminal = new node_core_library_1.Terminal(this._terminalProvider);
    }
    update(current) {
        this._current = current;
        this.draw(this._current);
    }
    draw(currentProgress) {
        // eslint-disable-next-line no-bitwise
        const progress = ((currentProgress * this._barLength) / this._total) | 0;
        if (progress !== this._temp) {
            this._terminal.write('.');
        }
        if (currentProgress === this._total) {
            this._terminal.write('Done\n');
        }
        this._temp = progress;
    }
}
exports.ProgressBar = ProgressBar;
//# sourceMappingURL=ProgressBar.js.map